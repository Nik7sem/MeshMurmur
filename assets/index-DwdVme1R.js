var YK=Object.defineProperty;var XK=(t,e,n)=>e in t?YK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zt=(t,e,n)=>XK(t,typeof e!="symbol"?e+"":e,n);function qK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VM={exports:{}},N0={},GM={exports:{}},jn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function KK(){if(EN)return jn;EN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function f(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(F,U,q){this.props=F,this.context=U,this.refs=w,this.updater=q||m}x.prototype.isReactComponent={},x.prototype.setState=function(F,U){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,U,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(F,U,q){this.props=F,this.context=U,this.refs=w,this.updater=q||m}var S=b.prototype=new y;S.constructor=b,v(S,x.prototype),S.isPureReactComponent=!0;var T=Array.isArray,C=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(F,U,q){var te,re={},le=null,fe=null;if(U!=null)for(te in U.ref!==void 0&&(fe=U.ref),U.key!==void 0&&(le=""+U.key),U)C.call(U,te)&&!I.hasOwnProperty(te)&&(re[te]=U[te]);var ye=arguments.length-2;if(ye===1)re.children=q;else if(1<ye){for(var se=Array(ye),ve=0;ve<ye;ve++)se[ve]=arguments[ve+2];re.children=se}if(F&&F.defaultProps)for(te in ye=F.defaultProps,ye)re[te]===void 0&&(re[te]=ye[te]);return{$$typeof:t,type:F,key:le,ref:fe,props:re,_owner:M.current}}function R(F,U){return{$$typeof:t,type:F.type,key:U,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function j(F){var U={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(q){return U[q]})}var $=/\/+/g;function B(F,U){return typeof F=="object"&&F!==null&&F.key!=null?j(""+F.key):U.toString(36)}function Q(F,U,q,te,re){var le=typeof F;(le==="undefined"||le==="boolean")&&(F=null);var fe=!1;if(F===null)fe=!0;else switch(le){case"string":case"number":fe=!0;break;case"object":switch(F.$$typeof){case t:case e:fe=!0}}if(fe)return fe=F,re=re(fe),F=te===""?"."+B(fe,0):te,T(re)?(q="",F!=null&&(q=F.replace($,"$&/")+"/"),Q(re,U,q,"",function(ve){return ve})):re!=null&&(D(re)&&(re=R(re,q+(!re.key||fe&&fe.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+F)),U.push(re)),1;if(fe=0,te=te===""?".":te+":",T(F))for(var ye=0;ye<F.length;ye++){le=F[ye];var se=te+B(le,ye);fe+=Q(le,U,q,se,re)}else if(se=f(F),typeof se=="function")for(F=se.call(F),ye=0;!(le=F.next()).done;)le=le.value,se=te+B(le,ye++),fe+=Q(le,U,q,se,re);else if(le==="object")throw U=String(F),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return fe}function ne(F,U,q){if(F==null)return F;var te=[],re=0;return Q(F,te,"","",function(le){return U.call(q,le,re++)}),te}function K(F){if(F._status===-1){var U=F._result;U=U(),U.then(function(q){(F._status===0||F._status===-1)&&(F._status=1,F._result=q)},function(q){(F._status===0||F._status===-1)&&(F._status=2,F._result=q)}),F._status===-1&&(F._status=0,F._result=U)}if(F._status===1)return F._result.default;throw F._result}var V={current:null},G={transition:null},W={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};return jn.Children={map:ne,forEach:function(F,U,q){ne(F,function(){U.apply(this,arguments)},q)},count:function(F){var U=0;return ne(F,function(){U++}),U},toArray:function(F){return ne(F,function(U){return U})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},jn.Component=x,jn.Fragment=n,jn.Profiler=i,jn.PureComponent=b,jn.StrictMode=r,jn.Suspense=l,jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,jn.cloneElement=function(F,U,q){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=v({},F.props),re=F.key,le=F.ref,fe=F._owner;if(U!=null){if(U.ref!==void 0&&(le=U.ref,fe=M.current),U.key!==void 0&&(re=""+U.key),F.type&&F.type.defaultProps)var ye=F.type.defaultProps;for(se in U)C.call(U,se)&&!I.hasOwnProperty(se)&&(te[se]=U[se]===void 0&&ye!==void 0?ye[se]:U[se])}var se=arguments.length-2;if(se===1)te.children=q;else if(1<se){ye=Array(se);for(var ve=0;ve<se;ve++)ye[ve]=arguments[ve+2];te.children=ye}return{$$typeof:t,type:F.type,key:re,ref:le,props:te,_owner:fe}},jn.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},jn.createElement=O,jn.createFactory=function(F){var U=O.bind(null,F);return U.type=F,U},jn.createRef=function(){return{current:null}},jn.forwardRef=function(F){return{$$typeof:a,render:F}},jn.isValidElement=D,jn.lazy=function(F){return{$$typeof:u,_payload:{_status:-1,_result:F},_init:K}},jn.memo=function(F,U){return{$$typeof:c,type:F,compare:U===void 0?null:U}},jn.startTransition=function(F){var U=G.transition;G.transition={};try{F()}finally{G.transition=U}},jn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},jn.useCallback=function(F,U){return V.current.useCallback(F,U)},jn.useContext=function(F){return V.current.useContext(F)},jn.useDebugValue=function(){},jn.useDeferredValue=function(F){return V.current.useDeferredValue(F)},jn.useEffect=function(F,U){return V.current.useEffect(F,U)},jn.useId=function(){return V.current.useId()},jn.useImperativeHandle=function(F,U,q){return V.current.useImperativeHandle(F,U,q)},jn.useInsertionEffect=function(F,U){return V.current.useInsertionEffect(F,U)},jn.useLayoutEffect=function(F,U){return V.current.useLayoutEffect(F,U)},jn.useMemo=function(F,U){return V.current.useMemo(F,U)},jn.useReducer=function(F,U,q){return V.current.useReducer(F,U,q)},jn.useRef=function(F){return V.current.useRef(F)},jn.useState=function(F){return V.current.useState(F)},jn.useSyncExternalStore=function(F,U,q){return V.current.useSyncExternalStore(F,U,q)},jn.useTransition=function(){return V.current.useTransition()},jn.version="18.2.0",jn}var TN;function Oy(){return TN||(TN=1,GM.exports=KK()),GM.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function ZK(){if(CN)return N0;CN=1;var t=Oy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,d={},f=null,m=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(d[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:a,key:f,ref:m,props:d,_owner:i.current}}return N0.Fragment=n,N0.jsx=o,N0.jsxs=o,N0}var MN;function QK(){return MN||(MN=1,VM.exports=ZK()),VM.exports}var Y=QK(),e1={},HM={exports:{}},ia={},WM={exports:{}},jM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function JK(){return AN||(AN=1,function(t){function e(G,W){var F=G.length;G.push(W);e:for(;0<F;){var U=F-1>>>1,q=G[U];if(0<i(q,W))G[U]=W,G[F]=q,F=U;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],F=G.pop();if(F!==W){G[0]=F;e:for(var U=0,q=G.length,te=q>>>1;U<te;){var re=2*(U+1)-1,le=G[re],fe=re+1,ye=G[fe];if(0>i(le,F))fe<q&&0>i(ye,le)?(G[U]=ye,G[fe]=F,U=fe):(G[U]=le,G[re]=F,U=re);else if(fe<q&&0>i(ye,F))G[U]=ye,G[fe]=F,U=fe;else break e}}return W}function i(G,W){var F=G.sortIndex-W.sortIndex;return F!==0?F:G.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=G)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function T(G){if(w=!1,S(G),!v)if(n(l)!==null)v=!0,K(C);else{var W=n(c);W!==null&&V(T,W.startTime-G)}}function C(G,W){v=!1,w&&(w=!1,y(O),O=-1),m=!0;var F=f;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||G&&!j());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var q=U(d.expirationTime<=W);W=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var re=n(c);re!==null&&V(T,re.startTime-W),te=!1}return te}finally{d=null,f=F,m=!1}}var M=!1,I=null,O=-1,R=5,D=-1;function j(){return!(t.unstable_now()-D<R)}function $(){if(I!==null){var G=t.unstable_now();D=G;var W=!0;try{W=I(!0,G)}finally{W?B():(M=!1,I=null)}}else M=!1}var B;if(typeof b=="function")B=function(){b($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=$,B=function(){ne.postMessage(null)}}else B=function(){x($,0)};function K(G){I=G,M||(M=!0,B())}function V(G,W){O=x(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,K(C))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return G()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=f;f=G;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(G,W,F){var U=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,G={id:u++,callback:W,priorityLevel:G,startTime:F,expirationTime:q,sortIndex:-1},F>U?(G.sortIndex=F,e(c,G),n(l)===null&&G===n(c)&&(w?(y(O),O=-1):w=!0,V(T,F-U))):(G.sortIndex=q,e(l,G),v||m||(v=!0,K(C))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var W=f;return function(){var F=f;f=W;try{return G.apply(this,arguments)}finally{f=F}}}}(jM)),jM}var PN;function eZ(){return PN||(PN=1,WM.exports=JK()),WM.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function tZ(){if(RN)return ia;RN=1;var t=Oy(),e=eZ();function n(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,p){o(h,p),o(h+"Capture",p)}function o(h,p){for(i[h]=p,h=0;h<p.length;h++)r.add(p[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function f(h){return l.call(d,h)?!0:l.call(u,h)?!1:c.test(h)?d[h]=!0:(u[h]=!0,!1)}function m(h,p,E,P){if(E!==null&&E.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return P?!1:E!==null?!E.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function v(h,p,E,P){if(p===null||typeof p>"u"||m(h,p,E,P))return!0;if(P)return!1;if(E!==null)switch(E.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function w(h,p,E,P,L,H,ee){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=P,this.attributeNamespace=L,this.mustUseProperty=E,this.propertyName=h,this.type=p,this.sanitizeURL=H,this.removeEmptyString=ee}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){x[h]=new w(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var p=h[0];x[p]=new w(p,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){x[h]=new w(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){x[h]=new w(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){x[h]=new w(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){x[h]=new w(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){x[h]=new w(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){x[h]=new w(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){x[h]=new w(h,5,!1,h.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var p=h.replace(y,b);x[p]=new w(p,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var p=h.replace(y,b);x[p]=new w(p,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var p=h.replace(y,b);x[p]=new w(p,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){x[h]=new w(h,1,!1,h.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){x[h]=new w(h,1,!1,h.toLowerCase(),null,!0,!0)});function S(h,p,E,P){var L=x.hasOwnProperty(p)?x[p]:null;(L!==null?L.type!==0:P||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(v(p,E,L,P)&&(E=null),P||L===null?f(p)&&(E===null?h.removeAttribute(p):h.setAttribute(p,""+E)):L.mustUseProperty?h[L.propertyName]=E===null?L.type===3?!1:"":E:(p=L.attributeName,P=L.attributeNamespace,E===null?h.removeAttribute(p):(L=L.type,E=L===3||L===4&&E===!0?"":""+E,P?h.setAttributeNS(P,p,E):h.setAttribute(p,E))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),M=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function W(h){return h===null||typeof h!="object"?null:(h=G&&h[G]||h["@@iterator"],typeof h=="function"?h:null)}var F=Object.assign,U;function q(h){if(U===void 0)try{throw Error()}catch(E){var p=E.stack.trim().match(/\n( *(at )?)/);U=p&&p[1]||""}return`
`+U+h}var te=!1;function re(h,p){if(!h||te)return"";te=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(We){var P=We}Reflect.construct(h,[],p)}else{try{p.call()}catch(We){P=We}h.call(p.prototype)}else{try{throw Error()}catch(We){P=We}h()}}catch(We){if(We&&P&&typeof We.stack=="string"){for(var L=We.stack.split(`
`),H=P.stack.split(`
`),ee=L.length-1,ge=H.length-1;1<=ee&&0<=ge&&L[ee]!==H[ge];)ge--;for(;1<=ee&&0<=ge;ee--,ge--)if(L[ee]!==H[ge]){if(ee!==1||ge!==1)do if(ee--,ge--,0>ge||L[ee]!==H[ge]){var be=`
`+L[ee].replace(" at new "," at ");return h.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",h.displayName)),be}while(1<=ee&&0<=ge);break}}}finally{te=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?q(h):""}function le(h){switch(h.tag){case 5:return q(h.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return h=re(h.type,!1),h;case 11:return h=re(h.type.render,!1),h;case 1:return h=re(h.type,!0),h;default:return""}}function fe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case I:return"Fragment";case M:return"Portal";case R:return"Profiler";case O:return"StrictMode";case B:return"Suspense";case Q:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case j:return(h.displayName||"Context")+".Consumer";case D:return(h._context.displayName||"Context")+".Provider";case $:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case ne:return p=h.displayName||null,p!==null?p:fe(h.type)||"Memo";case K:p=h._payload,h=h._init;try{return fe(h(p))}catch{}}return null}function ye(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function se(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ve(h){var p=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Se(h){var p=ve(h)?"checked":"value",E=Object.getOwnPropertyDescriptor(h.constructor.prototype,p),P=""+h[p];if(!h.hasOwnProperty(p)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var L=E.get,H=E.set;return Object.defineProperty(h,p,{configurable:!0,get:function(){return L.call(this)},set:function(ee){P=""+ee,H.call(this,ee)}}),Object.defineProperty(h,p,{enumerable:E.enumerable}),{getValue:function(){return P},setValue:function(ee){P=""+ee},stopTracking:function(){h._valueTracker=null,delete h[p]}}}}function pe(h){h._valueTracker||(h._valueTracker=Se(h))}function Z(h){if(!h)return!1;var p=h._valueTracker;if(!p)return!0;var E=p.getValue(),P="";return h&&(P=ve(h)?h.checked?"true":"false":h.value),h=P,h!==E?(p.setValue(h),!0):!1}function me(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ue(h,p){var E=p.checked;return F({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??h._wrapperState.initialChecked})}function _e(h,p){var E=p.defaultValue==null?"":p.defaultValue,P=p.checked!=null?p.checked:p.defaultChecked;E=se(p.value!=null?p.value:E),h._wrapperState={initialChecked:P,initialValue:E,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ce(h,p){p=p.checked,p!=null&&S(h,"checked",p,!1)}function Xe(h,p){ce(h,p);var E=se(p.value),P=p.type;if(E!=null)P==="number"?(E===0&&h.value===""||h.value!=E)&&(h.value=""+E):h.value!==""+E&&(h.value=""+E);else if(P==="submit"||P==="reset"){h.removeAttribute("value");return}p.hasOwnProperty("value")?Ge(h,p.type,E):p.hasOwnProperty("defaultValue")&&Ge(h,p.type,se(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(h.defaultChecked=!!p.defaultChecked)}function Ae(h,p,E){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var P=p.type;if(!(P!=="submit"&&P!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+h._wrapperState.initialValue,E||p===h.value||(h.value=p),h.defaultValue=p}E=h.name,E!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,E!==""&&(h.name=E)}function Ge(h,p,E){(p!=="number"||me(h.ownerDocument)!==h)&&(E==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+E&&(h.defaultValue=""+E))}var je=Array.isArray;function ke(h,p,E,P){if(h=h.options,p){p={};for(var L=0;L<E.length;L++)p["$"+E[L]]=!0;for(E=0;E<h.length;E++)L=p.hasOwnProperty("$"+h[E].value),h[E].selected!==L&&(h[E].selected=L),L&&P&&(h[E].defaultSelected=!0)}else{for(E=""+se(E),p=null,L=0;L<h.length;L++){if(h[L].value===E){h[L].selected=!0,P&&(h[L].defaultSelected=!0);return}p!==null||h[L].disabled||(p=h[L])}p!==null&&(p.selected=!0)}}function nt(h,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},p,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function ie(h,p){var E=p.value;if(E==null){if(E=p.children,p=p.defaultValue,E!=null){if(p!=null)throw Error(n(92));if(je(E)){if(1<E.length)throw Error(n(93));E=E[0]}p=E}p==null&&(p=""),E=p}h._wrapperState={initialValue:se(E)}}function J(h,p){var E=se(p.value),P=se(p.defaultValue);E!=null&&(E=""+E,E!==h.value&&(h.value=E),p.defaultValue==null&&h.defaultValue!==E&&(h.defaultValue=E)),P!=null&&(h.defaultValue=""+P)}function he(h){var p=h.textContent;p===h._wrapperState.initialValue&&p!==""&&p!==null&&(h.value=p)}function Ne(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(h,p){return h==null||h==="http://www.w3.org/1999/xhtml"?Ne(p):h==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var He,et=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,E,P,L){MSApp.execUnsafeLocalFunction(function(){return h(p,E,P,L)})}:h}(function(h,p){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=p;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=He.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;p.firstChild;)h.appendChild(p.firstChild)}});function Ze(h,p){if(p){var E=h.firstChild;if(E&&E===h.lastChild&&E.nodeType===3){E.nodeValue=p;return}}h.textContent=p}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(h){lt.forEach(function(p){p=p+h.charAt(0).toUpperCase()+h.substring(1),Oe[p]=Oe[h]})});function wt(h,p,E){return p==null||typeof p=="boolean"||p===""?"":E||typeof p!="number"||p===0||Oe.hasOwnProperty(h)&&Oe[h]?(""+p).trim():p+"px"}function dt(h,p){h=h.style;for(var E in p)if(p.hasOwnProperty(E)){var P=E.indexOf("--")===0,L=wt(E,p[E],P);E==="float"&&(E="cssFloat"),P?h.setProperty(E,L):h[E]=L}}var tt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(h,p){if(p){if(tt[h]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Rt(h,p){if(h.indexOf("-")===-1)return typeof p.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function xe(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var rt=null,De=null,st=null;function yt(h){if(h=Yl(h)){if(typeof rt!="function")throw Error(n(280));var p=h.stateNode;p&&(p=gg(p),rt(h.stateNode,h.type,p))}}function an(h){De?st?st.push(h):st=[h]:De=h}function pn(){if(De){var h=De,p=st;if(st=De=null,yt(h),p)for(h=0;h<p.length;h++)yt(p[h])}}function Un(h,p){return h(p)}function Rn(){}var we=!1;function Ee(h,p,E){if(we)return h(p,E);we=!0;try{return Un(h,p,E)}finally{we=!1,(De!==null||st!==null)&&(Rn(),pn())}}function Pe(h,p){var E=h.stateNode;if(E===null)return null;var P=gg(E);if(P===null)return null;E=P[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(h=h.type,P=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!P;break e;default:h=!1}if(h)return null;if(E&&typeof E!="function")throw Error(n(231,p,typeof E));return E}var Qe=!1;if(a)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Qe=!1}function gt(h,p,E,P,L,H,ee,ge,be){var We=Array.prototype.slice.call(arguments,3);try{p.apply(E,We)}catch(ot){this.onError(ot)}}var At=!1,xt=null,pt=!1,at=null,Wt={onError:function(h){At=!0,xt=h}};function rn(h,p,E,P,L,H,ee,ge,be){At=!1,xt=null,gt.apply(Wt,arguments)}function Tn(h,p,E,P,L,H,ee,ge,be){if(rn.apply(this,arguments),At){if(At){var We=xt;At=!1,xt=null}else throw Error(n(198));pt||(pt=!0,at=We)}}function ae(h){var p=h,E=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(E=p.return),h=p.return;while(h)}return p.tag===3?E:null}function Ie(h){if(h.tag===13){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function Fe(h){if(ae(h)!==h)throw Error(n(188))}function Ce(h){var p=h.alternate;if(!p){if(p=ae(h),p===null)throw Error(n(188));return p!==h?null:h}for(var E=h,P=p;;){var L=E.return;if(L===null)break;var H=L.alternate;if(H===null){if(P=L.return,P!==null){E=P;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===E)return Fe(L),h;if(H===P)return Fe(L),p;H=H.sibling}throw Error(n(188))}if(E.return!==P.return)E=L,P=H;else{for(var ee=!1,ge=L.child;ge;){if(ge===E){ee=!0,E=L,P=H;break}if(ge===P){ee=!0,P=L,E=H;break}ge=ge.sibling}if(!ee){for(ge=H.child;ge;){if(ge===E){ee=!0,E=H,P=L;break}if(ge===P){ee=!0,P=H,E=L;break}ge=ge.sibling}if(!ee)throw Error(n(189))}}if(E.alternate!==P)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?h:p}function Ye(h){return h=Ce(h),h!==null?It(h):null}function It(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=It(h);if(p!==null)return p;h=h.sibling}return null}var Bt=e.unstable_scheduleCallback,Gt=e.unstable_cancelCallback,tn=e.unstable_shouldYield,dn=e.unstable_requestPaint,qe=e.unstable_now,Qt=e.unstable_getCurrentPriorityLevel,Wn=e.unstable_ImmediatePriority,$t=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,qr=e.unstable_LowPriority,Ln=e.unstable_IdlePriority,Lt=null,ln=null;function sn(h){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Lt,h,void 0,(h.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:to,Wr=Math.log,Ar=Math.LN2;function to(h){return h>>>=0,h===0?32:31-(Wr(h)/Ar|0)|0}var Zn=64,or=4194304;function bi(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Dr(h,p){var E=h.pendingLanes;if(E===0)return 0;var P=0,L=h.suspendedLanes,H=h.pingedLanes,ee=E&268435455;if(ee!==0){var ge=ee&~L;ge!==0?P=bi(ge):(H&=ee,H!==0&&(P=bi(H)))}else ee=E&~L,ee!==0?P=bi(ee):H!==0&&(P=bi(H));if(P===0)return 0;if(p!==0&&p!==P&&(p&L)===0&&(L=P&-P,H=p&-p,L>=H||L===16&&(H&4194240)!==0))return p;if((P&4)!==0&&(P|=E&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=P;0<p;)E=31-Xn(p),L=1<<E,P|=h[E],p&=~L;return P}function el(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(h,p){for(var E=h.suspendedLanes,P=h.pingedLanes,L=h.expirationTimes,H=h.pendingLanes;0<H;){var ee=31-Xn(H),ge=1<<ee,be=L[ee];be===-1?((ge&E)===0||(ge&P)!==0)&&(L[ee]=el(ge,p)):be<=p&&(h.expiredLanes|=ge),H&=~ge}}function Oi(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function no(){var h=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),h}function Oc(h){for(var p=[],E=0;31>E;E++)p.push(h);return p}function Sa(h,p,E){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Xn(p),h[p]=E}function Wm(h,p){var E=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var P=h.eventTimes;for(h=h.expirationTimes;0<E;){var L=31-Xn(E),H=1<<L;p[L]=0,P[L]=-1,h[L]=-1,E&=~H}}function Ea(h,p){var E=h.entangledLanes|=p;for(h=h.entanglements;E;){var P=31-Xn(E),L=1<<P;L&p|h[P]&p&&(h[P]|=p),E&=~L}}var zn=0;function nl(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Lc,of,af,rl,Hu,Ho=!1,Ta=[],rs=null,mn=null,Wo=null,wo=new Map,il=new Map,jo=[],jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pr(h,p){switch(h){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":wo.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(p.pointerId)}}function Ca(h,p,E,P,L,H){return h===null||h.nativeEvent!==H?(h={blockedOn:p,domEventName:E,eventSystemFlags:P,nativeEvent:H,targetContainers:[L]},p!==null&&(p=Yl(p),p!==null&&of(p)),h):(h.eventSystemFlags|=P,p=h.targetContainers,L!==null&&p.indexOf(L)===-1&&p.push(L),h)}function $m(h,p,E,P,L){switch(p){case"focusin":return rs=Ca(rs,h,p,E,P,L),!0;case"dragenter":return mn=Ca(mn,h,p,E,P,L),!0;case"mouseover":return Wo=Ca(Wo,h,p,E,P,L),!0;case"pointerover":var H=L.pointerId;return wo.set(H,Ca(wo.get(H)||null,h,p,E,P,L)),!0;case"gotpointercapture":return H=L.pointerId,il.set(H,Ca(il.get(H)||null,h,p,E,P,L)),!0}return!1}function ps(h){var p=$c(h.target);if(p!==null){var E=ae(p);if(E!==null){if(p=E.tag,p===13){if(p=Ie(E),p!==null){h.blockedOn=p,Hu(h.priority,function(){af(E)});return}}else if(p===3&&E.stateNode.current.memoizedState.isDehydrated){h.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Dc(h){if(h.blockedOn!==null)return!1;for(var p=h.targetContainers;0<p.length;){var E=ms(h.domEventName,h.eventSystemFlags,p[0],h.nativeEvent);if(E===null){E=h.nativeEvent;var P=new E.constructor(E.type,E);en=P,E.target.dispatchEvent(P),en=null}else return p=Yl(E),p!==null&&of(p),h.blockedOn=E,!1;p.shift()}return!0}function Nc(h,p,E){Dc(h)&&E.delete(p)}function bo(){Ho=!1,rs!==null&&Dc(rs)&&(rs=null),mn!==null&&Dc(mn)&&(mn=null),Wo!==null&&Dc(Wo)&&(Wo=null),wo.forEach(Nc),il.forEach(Nc)}function Nl(h,p){h.blockedOn===p&&(h.blockedOn=null,Ho||(Ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bo)))}function Fc(h){function p(L){return Nl(L,h)}if(0<Ta.length){Nl(Ta[0],h);for(var E=1;E<Ta.length;E++){var P=Ta[E];P.blockedOn===h&&(P.blockedOn=null)}}for(rs!==null&&Nl(rs,h),mn!==null&&Nl(mn,h),Wo!==null&&Nl(Wo,h),wo.forEach(p),il.forEach(p),E=0;E<jo.length;E++)P=jo[E],P.blockedOn===h&&(P.blockedOn=null);for(;0<jo.length&&(E=jo[0],E.blockedOn===null);)ps(E),E.blockedOn===null&&jo.shift()}var Li=T.ReactCurrentBatchConfig,Di=!0;function sl(h,p,E,P){var L=zn,H=Li.transition;Li.transition=null;try{zn=1,Wu(h,p,E,P)}finally{zn=L,Li.transition=H}}function $o(h,p,E,P){var L=zn,H=Li.transition;Li.transition=null;try{zn=4,Wu(h,p,E,P)}finally{zn=L,Li.transition=H}}function Wu(h,p,E,P){if(Di){var L=ms(h,p,E,P);if(L===null)ug(h,p,P,Uc,E),Pr(h,P);else if($m(L,h,p,E,P))P.stopPropagation();else if(Pr(h,P),p&4&&-1<jm.indexOf(h)){for(;L!==null;){var H=Yl(L);if(H!==null&&Lc(H),H=ms(h,p,E,P),H===null&&ug(h,p,P,Uc,E),H===L)break;L=H}L!==null&&P.stopPropagation()}else ug(h,p,P,null,E)}}var Uc=null;function ms(h,p,E,P){if(Uc=null,h=xe(P),h=$c(h),h!==null)if(p=ae(h),p===null)h=null;else if(E=p.tag,E===13){if(h=Ie(p),h!==null)return h;h=null}else if(E===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;h=null}else p!==h&&(h=null);return Uc=h,null}function zc(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Wn:return 1;case $t:return 4;case On:case qr:return 16;case Ln:return 536870912;default:return 16}default:return 16}}var ro=null,Fl=null,Ni=null;function Si(){if(Ni)return Ni;var h,p=Fl,E=p.length,P,L="value"in ro?ro.value:ro.textContent,H=L.length;for(h=0;h<E&&p[h]===L[h];h++);var ee=E-h;for(P=1;P<=ee&&p[E-P]===L[H-P];P++);return Ni=L.slice(h,1<P?1-P:void 0)}function Ul(h){var p=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&p===13&&(h=13)):h=p,h===10&&(h=13),32<=h||h===13?h:0}function io(){return!0}function zl(){return!1}function Fi(h){function p(E,P,L,H,ee){this._reactName=E,this._targetInst=L,this.type=P,this.nativeEvent=H,this.target=ee,this.currentTarget=null;for(var ge in h)h.hasOwnProperty(ge)&&(E=h[ge],this[ge]=E?E(H):H[ge]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?io:zl,this.isPropagationStopped=zl,this}return F(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),p}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Fi(Bl),Ei=F({},Bl,{view:0,detail:0}),Kr=Fi(Ei),Nr,Ls,Yo,lf=F({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Yo&&(Yo&&h.type==="mousemove"?(Nr=h.screenX-Yo.screenX,Ls=h.screenY-Yo.screenY):Ls=Nr=0,Yo=h),Nr)},movementY:function(h){return"movementY"in h?h.movementY:Ls}}),Qy=Fi(lf),Vl=F({},lf,{dataTransfer:0}),Bc=Fi(Vl),Ym=F({},Ei,{relatedTarget:0}),Xm=Fi(Ym),qm=F({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),lb=Fi(qm),cb=F({},Bl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Jy=Fi(cb),Km=F({},Bl,{data:0}),e0=Fi(Km),ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cf(h){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(h):(h=t0[h])?!!p[h]:!1}function Vc(){return cf}var Zm=F({},Ei,{key:function(h){if(h.key){var p=ub[h.key]||h.key;if(p!=="Unidentified")return p}return h.type==="keypress"?(h=Ul(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?db[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(h){return h.type==="keypress"?Ul(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Ul(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Qm=Fi(Zm),Xo=F({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Fi(Xo),ju=F({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Gl=Fi(ju),Hl=F({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=Fi(Hl),fb=F({},lf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=Fi(fb),r0=[9,13,27,32],Ds=a&&"CompositionEvent"in window,is=null;a&&"documentMode"in document&&(is=document.documentMode);var Rr=a&&"TextEvent"in window&&!is,uf=a&&(!Ds||is&&8<is&&11>=is),qo=" ",i0=!1;function s0(h,p){switch(h){case"keyup":return r0.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Gc=!1;function hb(h,p){switch(h){case"compositionend":return Jm(p);case"keypress":return p.which!==32?null:(i0=!0,qo);case"textInput":return h=p.data,h===qo&&i0?null:h;default:return null}}function Vh(h,p){if(Gc)return h==="compositionend"||!Ds&&s0(h,p)?(h=Si(),Ni=Fl=ro=null,Gc=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return uf&&p.locale!=="ko"?null:p.data;default:return null}}var df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p==="input"?!!df[h.type]:p==="textarea"}function ff(h,p,E,P){an(P),p=dg(p,"onChange"),0<p.length&&(E=new di("onChange","change",null,E,P),h.push({event:E,listeners:p}))}var Hc=null,hf=null;function pb(h){vf(h,0)}function Wl(h){var p=Zr(h);if(Z(p))return h}function mb(h,p){if(h==="change")return p}var pf=!1;if(a){var so;if(a){var Yu="oninput"in document;if(!Yu){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Yu=typeof Xu.oninput=="function"}so=Yu}else so=!1;pf=so&&(!document.documentMode||9<document.documentMode)}function Ma(){Hc&&(Hc.detachEvent("onpropertychange",tg),hf=Hc=null)}function tg(h){if(h.propertyName==="value"&&Wl(hf)){var p=[];ff(p,hf,h,xe(h)),Ee(pb,p)}}function mf(h,p,E){h==="focusin"?(Ma(),Hc=p,hf=E,Hc.attachEvent("onpropertychange",tg)):h==="focusout"&&Ma()}function gb(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Wl(hf)}function o0(h,p){if(h==="click")return Wl(p)}function Fr(h,p){if(h==="input"||h==="change")return Wl(p)}function ng(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Eo=typeof Object.is=="function"?Object.is:ng;function qu(h,p){if(Eo(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var E=Object.keys(h),P=Object.keys(p);if(E.length!==P.length)return!1;for(P=0;P<E.length;P++){var L=E[P];if(!l.call(p,L)||!Eo(h[L],p[L]))return!1}return!0}function Gh(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function To(h,p){var E=Gh(h);h=0;for(var P;E;){if(E.nodeType===3){if(P=h+E.textContent.length,h<=p&&P>=p)return{node:E,offset:p-h};h=P}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=Gh(E)}}function Ku(h,p){return h&&p?h===p?!0:h&&h.nodeType===3?!1:p&&p.nodeType===3?Ku(h,p.parentNode):"contains"in h?h.contains(p):h.compareDocumentPosition?!!(h.compareDocumentPosition(p)&16):!1:!1}function Ur(){for(var h=window,p=me();p instanceof h.HTMLIFrameElement;){try{var E=typeof p.contentWindow.location.href=="string"}catch{E=!1}if(E)h=p.contentWindow;else break;p=me(h.document)}return p}function Ui(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p&&(p==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||p==="textarea"||h.contentEditable==="true")}function zi(h){var p=Ur(),E=h.focusedElem,P=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ku(E.ownerDocument.documentElement,E)){if(P!==null&&Ui(E)){if(p=P.start,h=P.end,h===void 0&&(h=p),"selectionStart"in E)E.selectionStart=p,E.selectionEnd=Math.min(h,E.value.length);else if(h=(p=E.ownerDocument||document)&&p.defaultView||window,h.getSelection){h=h.getSelection();var L=E.textContent.length,H=Math.min(P.start,L);P=P.end===void 0?H:Math.min(P.end,L),!h.extend&&H>P&&(L=P,P=H,H=L),L=To(E,H);var ee=To(E,P);L&&ee&&(h.rangeCount!==1||h.anchorNode!==L.node||h.anchorOffset!==L.offset||h.focusNode!==ee.node||h.focusOffset!==ee.offset)&&(p=p.createRange(),p.setStart(L.node,L.offset),h.removeAllRanges(),H>P?(h.addRange(p),h.extend(ee.node,ee.offset)):(p.setEnd(ee.node,ee.offset),h.addRange(p)))}}for(p=[],h=E;h=h.parentNode;)h.nodeType===1&&p.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<p.length;E++)h=p[E],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var rg=a&&"documentMode"in document&&11>=document.documentMode,ol=null,Zu=null,Hh=null,Bi=!1;function ig(h,p,E){var P=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Bi||ol==null||ol!==me(P)||(P=ol,"selectionStart"in P&&Ui(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),Hh&&qu(Hh,P)||(Hh=P,P=dg(Zu,"onSelect"),0<P.length&&(p=new di("onSelect","select",null,p,E),h.push({event:p,listeners:P}),p.target=ol)))}function gf(h,p){var E={};return E[h.toLowerCase()]=p.toLowerCase(),E["Webkit"+h]="webkit"+p,E["Moz"+h]="moz"+p,E}var Wc={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},Aa={},Pa={};a&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function al(h){if(Aa[h])return Aa[h];if(!Wc[h])return h;var p=Wc[h],E;for(E in p)if(p.hasOwnProperty(E)&&E in Pa)return Aa[h]=p[E];return h}var Wh=al("animationend"),jh=al("animationiteration"),a0=al("animationstart"),l0=al("transitionend"),c0=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(h,p){c0.set(h,p),s(p,[h])}for(var sg=0;sg<u0.length;sg++){var $h=u0[sg],Yh=$h.toLowerCase(),vb=$h[0].toUpperCase()+$h.slice(1);jl(Yh,"on"+vb)}jl(Wh,"onAnimationEnd"),jl(jh,"onAnimationIteration"),jl(a0,"onAnimationStart"),jl("dblclick","onDoubleClick"),jl("focusin","onFocus"),jl("focusout","onBlur"),jl(l0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function ag(h,p,E){var P=h.type||"unknown-event";h.currentTarget=E,Tn(P,p,void 0,h),h.currentTarget=null}function vf(h,p){p=(p&4)!==0;for(var E=0;E<h.length;E++){var P=h[E],L=P.event;P=P.listeners;e:{var H=void 0;if(p)for(var ee=P.length-1;0<=ee;ee--){var ge=P[ee],be=ge.instance,We=ge.currentTarget;if(ge=ge.listener,be!==H&&L.isPropagationStopped())break e;ag(L,ge,We),H=be}else for(ee=0;ee<P.length;ee++){if(ge=P[ee],be=ge.instance,We=ge.currentTarget,ge=ge.listener,be!==H&&L.isPropagationStopped())break e;ag(L,ge,We),H=be}}}if(pt)throw h=at,pt=!1,at=null,h}function yr(h,p){var E=p[ed];E===void 0&&(E=p[ed]=new Set);var P=h+"__bubble";E.has(P)||(cg(p,h,2,!1),E.add(P))}function lg(h,p,E){var P=0;p&&(P|=4),cg(E,h,P,p)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function yf(h){if(!h[Xh]){h[Xh]=!0,r.forEach(function(E){E!=="selectionchange"&&(og.has(E)||lg(E,!1,h),lg(E,!0,h))});var p=h.nodeType===9?h:h.ownerDocument;p===null||p[Xh]||(p[Xh]=!0,lg("selectionchange",!1,p))}}function cg(h,p,E,P){switch(zc(p)){case 1:var L=sl;break;case 4:L=$o;break;default:L=Wu}E=L.bind(null,p,E,h),L=void 0,!Qe||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(L=!0),P?L!==void 0?h.addEventListener(p,E,{capture:!0,passive:L}):h.addEventListener(p,E,!0):L!==void 0?h.addEventListener(p,E,{passive:L}):h.addEventListener(p,E,!1)}function ug(h,p,E,P,L){var H=P;if((p&1)===0&&(p&2)===0&&P!==null)e:for(;;){if(P===null)return;var ee=P.tag;if(ee===3||ee===4){var ge=P.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(ee===4)for(ee=P.return;ee!==null;){var be=ee.tag;if((be===3||be===4)&&(be=ee.stateNode.containerInfo,be===L||be.nodeType===8&&be.parentNode===L))return;ee=ee.return}for(;ge!==null;){if(ee=$c(ge),ee===null)return;if(be=ee.tag,be===5||be===6){P=H=ee;continue e}ge=ge.parentNode}}P=P.return}Ee(function(){var We=H,ot=xe(E),ut=[];e:{var it=c0.get(h);if(it!==void 0){var Ut=di,jt=h;switch(h){case"keypress":if(Ul(E)===0)break e;case"keydown":case"keyup":Ut=Qm;break;case"focusin":jt="focus",Ut=Xm;break;case"focusout":jt="blur",Ut=Xm;break;case"beforeblur":case"afterblur":Ut=Xm;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=Bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=Gl;break;case Wh:case jh:case a0:Ut=lb;break;case l0:Ut=$u;break;case"scroll":Ut=Kr;break;case"wheel":Ut=n0;break;case"copy":case"cut":case"paste":Ut=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=So}var Xt=(p&4)!==0,Mi=!Xt&&h==="scroll",Le=Xt?it!==null?it+"Capture":null:it;Xt=[];for(var Te=We,Ue;Te!==null;){Ue=Te;var vt=Ue.stateNode;if(Ue.tag===5&&vt!==null&&(Ue=vt,Le!==null&&(vt=Pe(Te,Le),vt!=null&&Xt.push(_f(Te,vt,Ue)))),Mi)break;Te=Te.return}0<Xt.length&&(it=new Ut(it,jt,null,E,ot),ut.push({event:it,listeners:Xt}))}}if((p&7)===0){e:{if(it=h==="mouseover"||h==="pointerover",Ut=h==="mouseout"||h==="pointerout",it&&E!==en&&(jt=E.relatedTarget||E.fromElement)&&($c(jt)||jt[Co]))break e;if((Ut||it)&&(it=ot.window===ot?ot:(it=ot.ownerDocument)?it.defaultView||it.parentWindow:window,Ut?(jt=E.relatedTarget||E.toElement,Ut=We,jt=jt?$c(jt):null,jt!==null&&(Mi=ae(jt),jt!==Mi||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(Ut=null,jt=We),Ut!==jt)){if(Xt=Qy,vt="onMouseLeave",Le="onMouseEnter",Te="mouse",(h==="pointerout"||h==="pointerover")&&(Xt=So,vt="onPointerLeave",Le="onPointerEnter",Te="pointer"),Mi=Ut==null?it:Zr(Ut),Ue=jt==null?it:Zr(jt),it=new Xt(vt,Te+"leave",Ut,E,ot),it.target=Mi,it.relatedTarget=Ue,vt=null,$c(ot)===We&&(Xt=new Xt(Le,Te+"enter",jt,E,ot),Xt.target=Ue,Xt.relatedTarget=Mi,vt=Xt),Mi=vt,Ut&&jt)t:{for(Xt=Ut,Le=jt,Te=0,Ue=Xt;Ue;Ue=Qu(Ue))Te++;for(Ue=0,vt=Le;vt;vt=Qu(vt))Ue++;for(;0<Te-Ue;)Xt=Qu(Xt),Te--;for(;0<Ue-Te;)Le=Qu(Le),Ue--;for(;Te--;){if(Xt===Le||Le!==null&&Xt===Le.alternate)break t;Xt=Qu(Xt),Le=Qu(Le)}Xt=null}else Xt=null;Ut!==null&&yb(ut,it,Ut,Xt,!1),jt!==null&&Mi!==null&&yb(ut,Mi,jt,Xt,!0)}}e:{if(it=We?Zr(We):window,Ut=it.nodeName&&it.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&it.type==="file")var Kt=mb;else if(eg(it))if(pf)Kt=Fr;else{Kt=gb;var cn=mf}else(Ut=it.nodeName)&&Ut.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(Kt=o0);if(Kt&&(Kt=Kt(h,We))){ff(ut,Kt,E,ot);break e}cn&&cn(h,it,We),h==="focusout"&&(cn=it._wrapperState)&&cn.controlled&&it.type==="number"&&Ge(it,"number",it.value)}switch(cn=We?Zr(We):window,h){case"focusin":(eg(cn)||cn.contentEditable==="true")&&(ol=cn,Zu=We,Hh=null);break;case"focusout":Hh=Zu=ol=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,ig(ut,E,ot);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":ig(ut,E,ot)}var un;if(Ds)e:{switch(h){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else Gc?s0(h,E)&&(vn="onCompositionEnd"):h==="keydown"&&E.keyCode===229&&(vn="onCompositionStart");vn&&(uf&&E.locale!=="ko"&&(Gc||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Gc&&(un=Si()):(ro=ot,Fl="value"in ro?ro.value:ro.textContent,Gc=!0)),cn=dg(We,vn),0<cn.length&&(vn=new e0(vn,h,null,E,ot),ut.push({event:vn,listeners:cn}),un?vn.data=un:(un=Jm(E),un!==null&&(vn.data=un)))),(un=Rr?hb(h,E):Vh(h,E))&&(We=dg(We,"onBeforeInput"),0<We.length&&(ot=new e0("onBeforeInput","beforeinput",null,E,ot),ut.push({event:ot,listeners:We}),ot.data=un))}vf(ut,p)})}function _f(h,p,E){return{instance:h,listener:p,currentTarget:E}}function dg(h,p){for(var E=p+"Capture",P=[];h!==null;){var L=h,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=Pe(h,E),H!=null&&P.unshift(_f(h,H,L)),H=Pe(h,p),H!=null&&P.push(_f(h,H,L))),h=h.return}return P}function Qu(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function yb(h,p,E,P,L){for(var H=p._reactName,ee=[];E!==null&&E!==P;){var ge=E,be=ge.alternate,We=ge.stateNode;if(be!==null&&be===P)break;ge.tag===5&&We!==null&&(ge=We,L?(be=Pe(E,H),be!=null&&ee.unshift(_f(E,be,ge))):L||(be=Pe(E,H),be!=null&&ee.push(_f(E,be,ge)))),E=E.return}ee.length!==0&&h.push({event:p,listeners:ee})}var pM=/\r\n?/g,_b=/\u0000|\uFFFD/g;function d0(h){return(typeof h=="string"?h:""+h).replace(pM,`
`).replace(_b,"")}function qh(h,p,E){if(p=d0(p),d0(h)!==p&&E)throw Error(n(425))}function Kh(){}var xf=null,f0=null;function h0(h,p){return h==="textarea"||h==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var p0=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(h){return fg.resolve(null).then(h).catch(xb)}:p0;function xb(h){setTimeout(function(){throw h})}function hg(h,p){var E=p,P=0;do{var L=E.nextSibling;if(h.removeChild(E),L&&L.nodeType===8)if(E=L.data,E==="/$"){if(P===0){h.removeChild(L),Fc(p);return}P--}else E!=="$"&&E!=="$?"&&E!=="$!"||P++;E=L}while(E);Fc(p)}function $l(h){for(;h!=null;h=h.nextSibling){var p=h.nodeType;if(p===1||p===3)break;if(p===8){if(p=h.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return h}function g0(h){h=h.previousSibling;for(var p=0;h;){if(h.nodeType===8){var E=h.data;if(E==="$"||E==="$!"||E==="$?"){if(p===0)return h;p--}else E==="/$"&&p++}h=h.previousSibling}return null}var Ju=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Ju,wf="__reactProps$"+Ju,Co="__reactContainer$"+Ju,ed="__reactEvents$"+Ju,pg="__reactListeners$"+Ju,mg="__reactHandles$"+Ju;function $c(h){var p=h[Ti];if(p)return p;for(var E=h.parentNode;E;){if(p=E[Co]||E[Ti]){if(E=p.alternate,p.child!==null||E!==null&&E.child!==null)for(h=g0(h);h!==null;){if(E=h[Ti])return E;h=g0(h)}return p}h=E,E=h.parentNode}return null}function Yl(h){return h=h[Ti]||h[Co],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Zr(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function gg(h){return h[wf]||null}var v0=[],Vi=-1;function jr(h){return{current:h}}function _r(h){0>Vi||(h.current=v0[Vi],v0[Vi]=null,Vi--)}function pr(h,p){Vi++,v0[Vi]=h.current,h.current=p}var Xl={},ss=jr(Xl),Ns=jr(!1),ql=Xl;function td(h,p){var E=h.type.contextTypes;if(!E)return Xl;var P=h.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===p)return P.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in E)L[H]=p[H];return P&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=L),L}function gs(h){return h=h.childContextTypes,h!=null}function Zh(){_r(Ns),_r(ss)}function y0(h,p,E){if(ss.current!==Xl)throw Error(n(168));pr(ss,p),pr(Ns,E)}function Qh(h,p,E){var P=h.stateNode;if(p=p.childContextTypes,typeof P.getChildContext!="function")return E;P=P.getChildContext();for(var L in P)if(!(L in p))throw Error(n(108,ye(h)||"Unknown",L));return F({},E,P)}function nd(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Xl,ql=ss.current,pr(ss,h),pr(Ns,Ns.current),!0}function _0(h,p,E){var P=h.stateNode;if(!P)throw Error(n(169));E?(h=Qh(h,p,ql),P.__reactInternalMemoizedMergedChildContext=h,_r(Ns),_r(ss),pr(ss,h)):_r(Ns),pr(Ns,E)}var Ra=null,Jh=!1,vg=!1;function ep(h){Ra===null?Ra=[h]:Ra.push(h)}function wb(h){Jh=!0,ep(h)}function ll(){if(!vg&&Ra!==null){vg=!0;var h=0,p=zn;try{var E=Ra;for(zn=1;h<E.length;h++){var P=E[h];do P=P(!0);while(P!==null)}Ra=null,Jh=!1}catch(L){throw Ra!==null&&(Ra=Ra.slice(h+1)),Bt(Wn,ll),L}finally{zn=p,vg=!1}}return null}var rd=[],oo=0,yg=null,_g=0,Fs=[],Gi=0,id=null,bt=1,Ko="";function Kl(h,p){rd[oo++]=_g,rd[oo++]=yg,yg=h,_g=p}function x0(h,p,E){Fs[Gi++]=bt,Fs[Gi++]=Ko,Fs[Gi++]=id,id=h;var P=bt;h=Ko;var L=32-Xn(P)-1;P&=~(1<<L),E+=1;var H=32-Xn(p)+L;if(30<H){var ee=L-L%5;H=(P&(1<<ee)-1).toString(32),P>>=ee,L-=ee,bt=1<<32-Xn(p)+L|E<<L|P,Ko=H+h}else bt=1<<H|E<<L|P,Ko=h}function w0(h){h.return!==null&&(Kl(h,1),x0(h,1,0))}function Zl(h){for(;h===yg;)yg=rd[--oo],rd[oo]=null,_g=rd[--oo],rd[oo]=null;for(;h===id;)id=Fs[--Gi],Fs[Gi]=null,Ko=Fs[--Gi],Fs[Gi]=null,bt=Fs[--Gi],Fs[Gi]=null}var os=null,Us=null,br=!1,Zo=null;function b0(h,p){var E=pl(5,null,null,0);E.elementType="DELETED",E.stateNode=p,E.return=h,p=h.deletions,p===null?(h.deletions=[E],h.flags|=16):p.push(E)}function S0(h,p){switch(h.tag){case 5:var E=h.type;return p=p.nodeType!==1||E.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(h.stateNode=p,os=h,Us=$l(p.firstChild),!0):!1;case 6:return p=h.pendingProps===""||p.nodeType!==3?null:p,p!==null?(h.stateNode=p,os=h,Us=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(E=id!==null?{id:bt,overflow:Ko}:null,h.memoizedState={dehydrated:p,treeContext:E,retryLane:1073741824},E=pl(18,null,null,0),E.stateNode=p,E.return=h,h.child=E,os=h,Us=null,!0):!1;default:return!1}}function xg(h){return(h.mode&1)!==0&&(h.flags&128)===0}function wg(h){if(br){var p=Us;if(p){var E=p;if(!S0(h,p)){if(xg(h))throw Error(n(418));p=$l(E.nextSibling);var P=os;p&&S0(h,p)?b0(P,E):(h.flags=h.flags&-4097|2,br=!1,os=h)}}else{if(xg(h))throw Error(n(418));h.flags=h.flags&-4097|2,br=!1,os=h}}}function bg(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;os=h}function bf(h){if(h!==os)return!1;if(!br)return bg(h),br=!0,!1;var p;if((p=h.tag!==3)&&!(p=h.tag!==5)&&(p=h.type,p=p!=="head"&&p!=="body"&&!h0(h.type,h.memoizedProps)),p&&(p=Us)){if(xg(h))throw E0(),Error(n(418));for(;p;)b0(h,p),p=$l(p.nextSibling)}if(bg(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,p=0;h;){if(h.nodeType===8){var E=h.data;if(E==="/$"){if(p===0){Us=$l(h.nextSibling);break e}p--}else E!=="$"&&E!=="$!"&&E!=="$?"||p++}h=h.nextSibling}Us=null}}else Us=os?$l(h.stateNode.nextSibling):null;return!0}function E0(){for(var h=Us;h;)h=$l(h.nextSibling)}function Yc(){Us=os=null,br=!1}function Sf(h){Zo===null?Zo=[h]:Zo.push(h)}var gM=T.ReactCurrentBatchConfig;function Ia(h,p){if(h&&h.defaultProps){p=F({},p),h=h.defaultProps;for(var E in h)p[E]===void 0&&(p[E]=h[E]);return p}return p}var tp=jr(null),np=null,sd=null,Sg=null;function Ef(){Sg=sd=np=null}function Tf(h){var p=tp.current;_r(tp),h._currentValue=p}function Cf(h,p,E){for(;h!==null;){var P=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,P!==null&&(P.childLanes|=p)):P!==null&&(P.childLanes&p)!==p&&(P.childLanes|=p),h===E)break;h=h.return}}function Ql(h,p){np=h,Sg=sd=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&p)!==0&&(Nt=!0),h.firstContext=null)}function zs(h){var p=h._currentValue;if(Sg!==h)if(h={context:h,memoizedValue:p,next:null},sd===null){if(np===null)throw Error(n(308));sd=h,np.dependencies={lanes:0,firstContext:h}}else sd=sd.next=h;return p}var ka=null;function rp(h){ka===null?ka=[h]:ka.push(h)}function Eg(h,p,E,P){var L=p.interleaved;return L===null?(E.next=E,rp(p)):(E.next=L.next,L.next=E),p.interleaved=E,Oa(h,P)}function Oa(h,p){h.lanes|=p;var E=h.alternate;for(E!==null&&(E.lanes|=p),E=h,h=h.return;h!==null;)h.childLanes|=p,E=h.alternate,E!==null&&(E.childLanes|=p),E=h,h=h.return;return E.tag===3?E.stateNode:null}var Jl=!1;function ip(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bb(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Qo(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function cl(h,p,E){var P=h.updateQueue;if(P===null)return null;if(P=P.shared,(Qn&2)!==0){var L=P.pending;return L===null?p.next=p:(p.next=L.next,L.next=p),P.pending=p,Oa(h,E)}return L=P.interleaved,L===null?(p.next=p,rp(P)):(p.next=L.next,L.next=p),P.interleaved=p,Oa(h,E)}function Ir(h,p,E){if(p=p.updateQueue,p!==null&&(p=p.shared,(E&4194240)!==0)){var P=p.lanes;P&=h.pendingLanes,E|=P,p.lanes=E,Ea(h,E)}}function Cn(h,p){var E=h.updateQueue,P=h.alternate;if(P!==null&&(P=P.updateQueue,E===P)){var L=null,H=null;if(E=E.firstBaseUpdate,E!==null){do{var ee={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};H===null?L=H=ee:H=H.next=ee,E=E.next}while(E!==null);H===null?L=H=p:H=H.next=p}else L=H=p;E={baseState:P.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:P.shared,effects:P.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=p:h.next=p,E.lastBaseUpdate=p}function zr(h,p,E,P){var L=h.updateQueue;Jl=!1;var H=L.firstBaseUpdate,ee=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var be=ge,We=be.next;be.next=null,ee===null?H=We:ee.next=We,ee=be;var ot=h.alternate;ot!==null&&(ot=ot.updateQueue,ge=ot.lastBaseUpdate,ge!==ee&&(ge===null?ot.firstBaseUpdate=We:ge.next=We,ot.lastBaseUpdate=be))}if(H!==null){var ut=L.baseState;ee=0,ot=We=be=null,ge=H;do{var it=ge.lane,Ut=ge.eventTime;if((P&it)===it){ot!==null&&(ot=ot.next={eventTime:Ut,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var jt=h,Xt=ge;switch(it=p,Ut=E,Xt.tag){case 1:if(jt=Xt.payload,typeof jt=="function"){ut=jt.call(Ut,ut,it);break e}ut=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Xt.payload,it=typeof jt=="function"?jt.call(Ut,ut,it):jt,it==null)break e;ut=F({},ut,it);break e;case 2:Jl=!0}}ge.callback!==null&&ge.lane!==0&&(h.flags|=64,it=L.effects,it===null?L.effects=[ge]:it.push(ge))}else Ut={eventTime:Ut,lane:it,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ot===null?(We=ot=Ut,be=ut):ot=ot.next=Ut,ee|=it;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;it=ge,ge=it.next,it.next=null,L.lastBaseUpdate=it,L.shared.pending=null}}while(!0);if(ot===null&&(be=ut),L.baseState=be,L.firstBaseUpdate=We,L.lastBaseUpdate=ot,p=L.shared.interleaved,p!==null){L=p;do ee|=L.lane,L=L.next;while(L!==p)}else H===null&&(L.shared.lanes=0);dp|=ee,h.lanes=ee,h.memoizedState=ut}}function Qr(h,p,E){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var P=h[p],L=P.callback;if(L!==null){if(P.callback=null,P=E,typeof L!="function")throw Error(n(191,L));L.call(P)}}}var Hi=new t.Component().refs;function Bs(h,p,E,P){p=h.memoizedState,E=E(P,p),E=E==null?p:F({},p,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var ec={isMounted:function(h){return(h=h._reactInternals)?ae(h)===h:!1},enqueueSetState:function(h,p,E){h=h._reactInternals;var P=Ro(),L=Ff(h),H=Qo(P,L);H.payload=p,E!=null&&(H.callback=E),p=cl(h,H,L),p!==null&&(ic(p,h,L,P),Ir(p,h,L))},enqueueReplaceState:function(h,p,E){h=h._reactInternals;var P=Ro(),L=Ff(h),H=Qo(P,L);H.tag=1,H.payload=p,E!=null&&(H.callback=E),p=cl(h,H,L),p!==null&&(ic(p,h,L,P),Ir(p,h,L))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var E=Ro(),P=Ff(h),L=Qo(E,P);L.tag=2,p!=null&&(L.callback=p),p=cl(h,L,P),p!==null&&(ic(p,h,P,E),Ir(p,h,P))}};function fi(h,p,E,P,L,H,ee){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(P,H,ee):p.prototype&&p.prototype.isPureReactComponent?!qu(E,P)||!qu(L,H):!0}function Mf(h,p,E){var P=!1,L=Xl,H=p.contextType;return typeof H=="object"&&H!==null?H=zs(H):(L=gs(p)?ql:ss.current,P=p.contextTypes,H=(P=P!=null)?td(h,L):Xl),p=new p(E,H),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ec,h.stateNode=p,p._reactInternals=h,P&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=L,h.__reactInternalMemoizedMaskedChildContext=H),p}function od(h,p,E,P){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(E,P),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(E,P),p.state!==h&&ec.enqueueReplaceState(p,p.state,null)}function Af(h,p,E,P){var L=h.stateNode;L.props=E,L.state=h.memoizedState,L.refs=Hi,ip(h);var H=p.contextType;typeof H=="object"&&H!==null?L.context=zs(H):(H=gs(p)?ql:ss.current,L.context=td(h,H)),L.state=h.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(Bs(h,p,H,E),L.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(p=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),p!==L.state&&ec.enqueueReplaceState(L,L.state,null),zr(h,E,L,P),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308)}function ad(h,p,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(n(309));var P=E.stateNode}if(!P)throw Error(n(147,h));var L=P,H=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===H?p.ref:(p=function(ee){var ge=L.refs;ge===Hi&&(ge=L.refs={}),ee===null?delete ge[H]:ge[H]=ee},p._stringRef=H,p)}if(typeof h!="string")throw Error(n(284));if(!E._owner)throw Error(n(290,h))}return h}function Xc(h,p){throw h=Object.prototype.toString.call(p),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Vs(h){var p=h._init;return p(h._payload)}function Tg(h){function p(Le,Te){if(h){var Ue=Le.deletions;Ue===null?(Le.deletions=[Te],Le.flags|=16):Ue.push(Te)}}function E(Le,Te){if(!h)return null;for(;Te!==null;)p(Le,Te),Te=Te.sibling;return null}function P(Le,Te){for(Le=new Map;Te!==null;)Te.key!==null?Le.set(Te.key,Te):Le.set(Te.index,Te),Te=Te.sibling;return Le}function L(Le,Te){return Le=zf(Le,Te),Le.index=0,Le.sibling=null,Le}function H(Le,Te,Ue){return Le.index=Ue,h?(Ue=Le.alternate,Ue!==null?(Ue=Ue.index,Ue<Te?(Le.flags|=2,Te):Ue):(Le.flags|=2,Te)):(Le.flags|=1048576,Te)}function ee(Le){return h&&Le.alternate===null&&(Le.flags|=2),Le}function ge(Le,Te,Ue,vt){return Te===null||Te.tag!==6?(Te=DM(Ue,Le.mode,vt),Te.return=Le,Te):(Te=L(Te,Ue),Te.return=Le,Te)}function be(Le,Te,Ue,vt){var Kt=Ue.type;return Kt===I?ot(Le,Te,Ue.props.children,vt,Ue.key):Te!==null&&(Te.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===K&&Vs(Kt)===Te.type)?(vt=L(Te,Ue.props),vt.ref=ad(Le,Te,Ue),vt.return=Le,vt):(vt=$b(Ue.type,Ue.key,Ue.props,null,Le.mode,vt),vt.ref=ad(Le,Te,Ue),vt.return=Le,vt)}function We(Le,Te,Ue,vt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Ue.containerInfo||Te.stateNode.implementation!==Ue.implementation?(Te=NM(Ue,Le.mode,vt),Te.return=Le,Te):(Te=L(Te,Ue.children||[]),Te.return=Le,Te)}function ot(Le,Te,Ue,vt,Kt){return Te===null||Te.tag!==7?(Te=mp(Ue,Le.mode,vt,Kt),Te.return=Le,Te):(Te=L(Te,Ue),Te.return=Le,Te)}function ut(Le,Te,Ue){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=DM(""+Te,Le.mode,Ue),Te.return=Le,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case C:return Ue=$b(Te.type,Te.key,Te.props,null,Le.mode,Ue),Ue.ref=ad(Le,null,Te),Ue.return=Le,Ue;case M:return Te=NM(Te,Le.mode,Ue),Te.return=Le,Te;case K:var vt=Te._init;return ut(Le,vt(Te._payload),Ue)}if(je(Te)||W(Te))return Te=mp(Te,Le.mode,Ue,null),Te.return=Le,Te;Xc(Le,Te)}return null}function it(Le,Te,Ue,vt){var Kt=Te!==null?Te.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Kt!==null?null:ge(Le,Te,""+Ue,vt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case C:return Ue.key===Kt?be(Le,Te,Ue,vt):null;case M:return Ue.key===Kt?We(Le,Te,Ue,vt):null;case K:return Kt=Ue._init,it(Le,Te,Kt(Ue._payload),vt)}if(je(Ue)||W(Ue))return Kt!==null?null:ot(Le,Te,Ue,vt,null);Xc(Le,Ue)}return null}function Ut(Le,Te,Ue,vt,Kt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Le=Le.get(Ue)||null,ge(Te,Le,""+vt,Kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case C:return Le=Le.get(vt.key===null?Ue:vt.key)||null,be(Te,Le,vt,Kt);case M:return Le=Le.get(vt.key===null?Ue:vt.key)||null,We(Te,Le,vt,Kt);case K:var cn=vt._init;return Ut(Le,Te,Ue,cn(vt._payload),Kt)}if(je(vt)||W(vt))return Le=Le.get(Ue)||null,ot(Te,Le,vt,Kt,null);Xc(Te,vt)}return null}function jt(Le,Te,Ue,vt){for(var Kt=null,cn=null,un=Te,vn=Te=0,_s=null;un!==null&&vn<Ue.length;vn++){un.index>vn?(_s=un,un=null):_s=un.sibling;var tr=it(Le,un,Ue[vn],vt);if(tr===null){un===null&&(un=_s);break}h&&un&&tr.alternate===null&&p(Le,un),Te=H(tr,Te,vn),cn===null?Kt=tr:cn.sibling=tr,cn=tr,un=_s}if(vn===Ue.length)return E(Le,un),br&&Kl(Le,vn),Kt;if(un===null){for(;vn<Ue.length;vn++)un=ut(Le,Ue[vn],vt),un!==null&&(Te=H(un,Te,vn),cn===null?Kt=un:cn.sibling=un,cn=un);return br&&Kl(Le,vn),Kt}for(un=P(Le,un);vn<Ue.length;vn++)_s=Ut(un,Le,vn,Ue[vn],vt),_s!==null&&(h&&_s.alternate!==null&&un.delete(_s.key===null?vn:_s.key),Te=H(_s,Te,vn),cn===null?Kt=_s:cn.sibling=_s,cn=_s);return h&&un.forEach(function(Bf){return p(Le,Bf)}),br&&Kl(Le,vn),Kt}function Xt(Le,Te,Ue,vt){var Kt=W(Ue);if(typeof Kt!="function")throw Error(n(150));if(Ue=Kt.call(Ue),Ue==null)throw Error(n(151));for(var cn=Kt=null,un=Te,vn=Te=0,_s=null,tr=Ue.next();un!==null&&!tr.done;vn++,tr=Ue.next()){un.index>vn?(_s=un,un=null):_s=un.sibling;var Bf=it(Le,un,tr.value,vt);if(Bf===null){un===null&&(un=_s);break}h&&un&&Bf.alternate===null&&p(Le,un),Te=H(Bf,Te,vn),cn===null?Kt=Bf:cn.sibling=Bf,cn=Bf,un=_s}if(tr.done)return E(Le,un),br&&Kl(Le,vn),Kt;if(un===null){for(;!tr.done;vn++,tr=Ue.next())tr=ut(Le,tr.value,vt),tr!==null&&(Te=H(tr,Te,vn),cn===null?Kt=tr:cn.sibling=tr,cn=tr);return br&&Kl(Le,vn),Kt}for(un=P(Le,un);!tr.done;vn++,tr=Ue.next())tr=Ut(un,Le,vn,tr.value,vt),tr!==null&&(h&&tr.alternate!==null&&un.delete(tr.key===null?vn:tr.key),Te=H(tr,Te,vn),cn===null?Kt=tr:cn.sibling=tr,cn=tr);return h&&un.forEach(function($K){return p(Le,$K)}),br&&Kl(Le,vn),Kt}function Mi(Le,Te,Ue,vt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===I&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case C:e:{for(var Kt=Ue.key,cn=Te;cn!==null;){if(cn.key===Kt){if(Kt=Ue.type,Kt===I){if(cn.tag===7){E(Le,cn.sibling),Te=L(cn,Ue.props.children),Te.return=Le,Le=Te;break e}}else if(cn.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===K&&Vs(Kt)===cn.type){E(Le,cn.sibling),Te=L(cn,Ue.props),Te.ref=ad(Le,cn,Ue),Te.return=Le,Le=Te;break e}E(Le,cn);break}else p(Le,cn);cn=cn.sibling}Ue.type===I?(Te=mp(Ue.props.children,Le.mode,vt,Ue.key),Te.return=Le,Le=Te):(vt=$b(Ue.type,Ue.key,Ue.props,null,Le.mode,vt),vt.ref=ad(Le,Te,Ue),vt.return=Le,Le=vt)}return ee(Le);case M:e:{for(cn=Ue.key;Te!==null;){if(Te.key===cn)if(Te.tag===4&&Te.stateNode.containerInfo===Ue.containerInfo&&Te.stateNode.implementation===Ue.implementation){E(Le,Te.sibling),Te=L(Te,Ue.children||[]),Te.return=Le,Le=Te;break e}else{E(Le,Te);break}else p(Le,Te);Te=Te.sibling}Te=NM(Ue,Le.mode,vt),Te.return=Le,Le=Te}return ee(Le);case K:return cn=Ue._init,Mi(Le,Te,cn(Ue._payload),vt)}if(je(Ue))return jt(Le,Te,Ue,vt);if(W(Ue))return Xt(Le,Te,Ue,vt);Xc(Le,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"?(Ue=""+Ue,Te!==null&&Te.tag===6?(E(Le,Te.sibling),Te=L(Te,Ue),Te.return=Le,Le=Te):(E(Le,Te),Te=DM(Ue,Le.mode,vt),Te.return=Le,Le=Te),ee(Le)):E(Le,Te)}return Mi}var qc=Tg(!0),ld=Tg(!1),Kc={},Jo=jr(Kc),ea=jr(Kc),Zc=jr(Kc);function ao(h){if(h===Kc)throw Error(n(174));return h}function Pf(h,p){switch(pr(Zc,p),pr(ea,h),pr(Jo,Kc),h=p.nodeType,h){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:ze(null,"");break;default:h=h===8?p.parentNode:p,p=h.namespaceURI||null,h=h.tagName,p=ze(p,h)}_r(Jo),pr(Jo,p)}function ul(){_r(Jo),_r(ea),_r(Zc)}function Cg(h){ao(Zc.current);var p=ao(Jo.current),E=ze(p,h.type);p!==E&&(pr(ea,h),pr(Jo,E))}function Rf(h){ea.current===h&&(_r(Jo),_r(ea))}var xr=jr(0);function Wi(h){for(var p=h;p!==null;){if(p.tag===13){var E=p.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var dl=[];function lo(){for(var h=0;h<dl.length;h++)dl[h]._workInProgressVersionPrimary=null;dl.length=0}var cd=T.ReactCurrentDispatcher,vs=T.ReactCurrentBatchConfig,Qc=0,Sr=null,Jr=null,ji=null,La=!1,If=!1,kf=0,T0=0;function $r(){throw Error(n(321))}function Mg(h,p){if(p===null)return!1;for(var E=0;E<p.length&&E<h.length;E++)if(!Eo(h[E],p[E]))return!1;return!0}function Ag(h,p,E,P,L,H){if(Qc=H,Sr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,cd.current=h===null||h.memoizedState===null?_:A,h=E(P,L),If){H=0;do{if(If=!1,kf=0,25<=H)throw Error(n(301));H+=1,ji=Jr=null,p.updateQueue=null,cd.current=k,h=E(P,L)}while(If)}if(cd.current=g,p=Jr!==null&&Jr.next!==null,Qc=0,ji=Jr=Sr=null,La=!1,p)throw Error(n(300));return h}function sp(){var h=kf!==0;return kf=0,h}function Mo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Sr.memoizedState=ji=h:ji=ji.next=h,ji}function ta(){if(Jr===null){var h=Sr.alternate;h=h!==null?h.memoizedState:null}else h=Jr.next;var p=ji===null?Sr.memoizedState:ji.next;if(p!==null)ji=p,Jr=h;else{if(h===null)throw Error(n(310));Jr=h,h={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},ji===null?Sr.memoizedState=ji=h:ji=ji.next=h}return ji}function op(h,p){return typeof p=="function"?p(h):p}function Pg(h){var p=ta(),E=p.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=h;var P=Jr,L=P.baseQueue,H=E.pending;if(H!==null){if(L!==null){var ee=L.next;L.next=H.next,H.next=ee}P.baseQueue=L=H,E.pending=null}if(L!==null){H=L.next,P=P.baseState;var ge=ee=null,be=null,We=H;do{var ot=We.lane;if((Qc&ot)===ot)be!==null&&(be=be.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),P=We.hasEagerState?We.eagerState:h(P,We.action);else{var ut={lane:ot,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};be===null?(ge=be=ut,ee=P):be=be.next=ut,Sr.lanes|=ot,dp|=ot}We=We.next}while(We!==null&&We!==H);be===null?ee=P:be.next=ge,Eo(P,p.memoizedState)||(Nt=!0),p.memoizedState=P,p.baseState=ee,p.baseQueue=be,E.lastRenderedState=P}if(h=E.interleaved,h!==null){L=h;do H=L.lane,Sr.lanes|=H,dp|=H,L=L.next;while(L!==h)}else L===null&&(E.lanes=0);return[p.memoizedState,E.dispatch]}function Rg(h){var p=ta(),E=p.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=h;var P=E.dispatch,L=E.pending,H=p.memoizedState;if(L!==null){E.pending=null;var ee=L=L.next;do H=h(H,ee.action),ee=ee.next;while(ee!==L);Eo(H,p.memoizedState)||(Nt=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),E.lastRenderedState=H}return[H,P]}function Jc(){}function Sb(h,p){var E=Sr,P=ta(),L=p(),H=!Eo(P.memoizedState,L);if(H&&(P.memoizedState=L,Nt=!0),P=P.queue,cp(Gs.bind(null,E,P,h),[h]),P.getSnapshot!==p||H||ji!==null&&ji.memoizedState.tag&1){if(E.flags|=2048,ap(9,C0.bind(null,E,P,L,p),void 0,null),ys===null)throw Error(n(349));(Qc&30)!==0||eu(E,p,L)}return L}function eu(h,p,E){h.flags|=16384,h={getSnapshot:p,value:E},p=Sr.updateQueue,p===null?(p={lastEffect:null,stores:null},Sr.updateQueue=p,p.stores=[h]):(E=p.stores,E===null?p.stores=[h]:E.push(h))}function C0(h,p,E,P){p.value=E,p.getSnapshot=P,Eb(p)&&M0(h)}function Gs(h,p,E){return E(function(){Eb(p)&&M0(h)})}function Eb(h){var p=h.getSnapshot;h=h.value;try{var E=p();return!Eo(h,E)}catch{return!0}}function M0(h){var p=Oa(h,1);p!==null&&ic(p,h,1,-1)}function Tb(h){var p=Mo();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:h},p.queue=h,h=h.dispatch=Rb.bind(null,Sr,h),[p.memoizedState,h]}function ap(h,p,E,P){return h={tag:h,create:p,destroy:E,deps:P,next:null},p=Sr.updateQueue,p===null?(p={lastEffect:null,stores:null},Sr.updateQueue=p,p.lastEffect=h.next=h):(E=p.lastEffect,E===null?p.lastEffect=h.next=h:(P=E.next,E.next=h,h.next=P,p.lastEffect=h)),h}function A0(){return ta().memoizedState}function lp(h,p,E,P){var L=Mo();Sr.flags|=h,L.memoizedState=ap(1|p,E,void 0,P===void 0?null:P)}function Ig(h,p,E,P){var L=ta();P=P===void 0?null:P;var H=void 0;if(Jr!==null){var ee=Jr.memoizedState;if(H=ee.destroy,P!==null&&Mg(P,ee.deps)){L.memoizedState=ap(p,E,H,P);return}}Sr.flags|=h,L.memoizedState=ap(1|p,E,H,P)}function Ao(h,p){return lp(8390656,8,h,p)}function cp(h,p){return Ig(2048,8,h,p)}function Cb(h,p){return Ig(4,2,h,p)}function tc(h,p){return Ig(4,4,h,p)}function up(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function tu(h,p,E){return E=E!=null?E.concat([h]):null,Ig(4,4,up.bind(null,p,h),E)}function Of(){}function kg(h,p){var E=ta();p=p===void 0?null:p;var P=E.memoizedState;return P!==null&&p!==null&&Mg(p,P[1])?P[0]:(E.memoizedState=[h,p],h)}function Og(h,p){var E=ta();p=p===void 0?null:p;var P=E.memoizedState;return P!==null&&p!==null&&Mg(p,P[1])?P[0]:(h=h(),E.memoizedState=[h,p],h)}function Mb(h,p,E){return(Qc&21)===0?(h.baseState&&(h.baseState=!1,Nt=!0),h.memoizedState=E):(Eo(E,p)||(E=no(),Sr.lanes|=E,dp|=E,h.baseState=!0),p)}function Ab(h,p){var E=zn;zn=E!==0&&4>E?E:4,h(!0);var P=vs.transition;vs.transition={};try{h(!1),p()}finally{zn=E,vs.transition=P}}function P0(){return ta().memoizedState}function Pb(h,p,E){var P=Ff(h);if(E={lane:P,action:E,hasEagerState:!1,eagerState:null,next:null},Lg(h))Ib(p,E);else if(E=Eg(h,p,E,P),E!==null){var L=Ro();ic(E,h,P,L),kb(E,p,P)}}function Rb(h,p,E){var P=Ff(h),L={lane:P,action:E,hasEagerState:!1,eagerState:null,next:null};if(Lg(h))Ib(p,L);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var ee=p.lastRenderedState,ge=H(ee,E);if(L.hasEagerState=!0,L.eagerState=ge,Eo(ge,ee)){var be=p.interleaved;be===null?(L.next=L,rp(p)):(L.next=be.next,be.next=L),p.interleaved=L;return}}catch{}finally{}E=Eg(h,p,L,P),E!==null&&(L=Ro(),ic(E,h,P,L),kb(E,p,P))}}function Lg(h){var p=h.alternate;return h===Sr||p!==null&&p===Sr}function Ib(h,p){If=La=!0;var E=h.pending;E===null?p.next=p:(p.next=E.next,E.next=p),h.pending=p}function kb(h,p,E){if((E&4194240)!==0){var P=p.lanes;P&=h.pendingLanes,E|=P,p.lanes=E,Ea(h,E)}}var g={readContext:zs,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},_={readContext:zs,useCallback:function(h,p){return Mo().memoizedState=[h,p===void 0?null:p],h},useContext:zs,useEffect:Ao,useImperativeHandle:function(h,p,E){return E=E!=null?E.concat([h]):null,lp(4194308,4,up.bind(null,p,h),E)},useLayoutEffect:function(h,p){return lp(4194308,4,h,p)},useInsertionEffect:function(h,p){return lp(4,2,h,p)},useMemo:function(h,p){var E=Mo();return p=p===void 0?null:p,h=h(),E.memoizedState=[h,p],h},useReducer:function(h,p,E){var P=Mo();return p=E!==void 0?E(p):p,P.memoizedState=P.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},P.queue=h,h=h.dispatch=Pb.bind(null,Sr,h),[P.memoizedState,h]},useRef:function(h){var p=Mo();return h={current:h},p.memoizedState=h},useState:Tb,useDebugValue:Of,useDeferredValue:function(h){return Mo().memoizedState=h},useTransition:function(){var h=Tb(!1),p=h[0];return h=Ab.bind(null,h[1]),Mo().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,E){var P=Sr,L=Mo();if(br){if(E===void 0)throw Error(n(407));E=E()}else{if(E=p(),ys===null)throw Error(n(349));(Qc&30)!==0||eu(P,p,E)}L.memoizedState=E;var H={value:E,getSnapshot:p};return L.queue=H,Ao(Gs.bind(null,P,H,h),[h]),P.flags|=2048,ap(9,C0.bind(null,P,H,E,p),void 0,null),E},useId:function(){var h=Mo(),p=ys.identifierPrefix;if(br){var E=Ko,P=bt;E=(P&~(1<<32-Xn(P)-1)).toString(32)+E,p=":"+p+"R"+E,E=kf++,0<E&&(p+="H"+E.toString(32)),p+=":"}else E=T0++,p=":"+p+"r"+E.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},A={readContext:zs,useCallback:kg,useContext:zs,useEffect:cp,useImperativeHandle:tu,useInsertionEffect:Cb,useLayoutEffect:tc,useMemo:Og,useReducer:Pg,useRef:A0,useState:function(){return Pg(op)},useDebugValue:Of,useDeferredValue:function(h){var p=ta();return Mb(p,Jr.memoizedState,h)},useTransition:function(){var h=Pg(op)[0],p=ta().memoizedState;return[h,p]},useMutableSource:Jc,useSyncExternalStore:Sb,useId:P0,unstable_isNewReconciler:!1},k={readContext:zs,useCallback:kg,useContext:zs,useEffect:cp,useImperativeHandle:tu,useInsertionEffect:Cb,useLayoutEffect:tc,useMemo:Og,useReducer:Rg,useRef:A0,useState:function(){return Rg(op)},useDebugValue:Of,useDeferredValue:function(h){var p=ta();return Jr===null?p.memoizedState=h:Mb(p,Jr.memoizedState,h)},useTransition:function(){var h=Rg(op)[0],p=ta().memoizedState;return[h,p]},useMutableSource:Jc,useSyncExternalStore:Sb,useId:P0,unstable_isNewReconciler:!1};function z(h,p){try{var E="",P=p;do E+=le(P),P=P.return;while(P);var L=E}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:h,source:p,stack:L,digest:null}}function X(h,p,E){return{value:h,source:null,stack:E??null,digest:p??null}}function de(h,p){try{console.error(p.value)}catch(E){setTimeout(function(){throw E})}}var Me=typeof WeakMap=="function"?WeakMap:Map;function Ke(h,p,E){E=Qo(-1,E),E.tag=3,E.payload={element:null};var P=p.value;return E.callback=function(){Bb||(Bb=!0,MM=P),de(h,p)},E}function mt(h,p,E){E=Qo(-1,E),E.tag=3;var P=h.type.getDerivedStateFromError;if(typeof P=="function"){var L=p.value;E.payload=function(){return P(L)},E.callback=function(){de(h,p)}}var H=h.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(E.callback=function(){de(h,p),typeof P!="function"&&(Df===null?Df=new Set([this]):Df.add(this));var ee=p.stack;this.componentDidCatch(p.value,{componentStack:ee!==null?ee:""})}),E}function Vt(h,p,E){var P=h.pingCache;if(P===null){P=h.pingCache=new Me;var L=new Set;P.set(p,L)}else L=P.get(p),L===void 0&&(L=new Set,P.set(p,L));L.has(E)||(L.add(E),h=DK.bind(null,h,p,E),p.then(h,h))}function _n(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function nn(h,p,E,P,L){return(h.mode&1)===0?(h===p?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(p=Qo(-1,1),p.tag=2,cl(E,p,1))),E.lanes|=1),h):(h.flags|=65536,h.lanes=L,h)}var mr=T.ReactCurrentOwner,Nt=!1;function er(h,p,E,P){p.child=h===null?ld(p,null,E,P):qc(p,h.child,E,P)}function Po(h,p,E,P,L){E=E.render;var H=p.ref;return Ql(p,L),P=Ag(h,p,E,P,H,L),E=sp(),h!==null&&!Nt?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,ud(h,p,L)):(br&&E&&w0(p),p.flags|=1,er(h,p,P,L),p.child)}function Be(h,p,E,P,L){if(h===null){var H=E.type;return typeof H=="function"&&!LM(H)&&H.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(p.tag=15,p.type=H,Re(h,p,H,P,L)):(h=$b(E.type,null,P,p,p.mode,L),h.ref=p.ref,h.return=p,p.child=h)}if(H=h.child,(h.lanes&L)===0){var ee=H.memoizedProps;if(E=E.compare,E=E!==null?E:qu,E(ee,P)&&h.ref===p.ref)return ud(h,p,L)}return p.flags|=1,h=zf(H,P),h.ref=p.ref,h.return=p,p.child=h}function Re(h,p,E,P,L){if(h!==null){var H=h.memoizedProps;if(qu(H,P)&&h.ref===p.ref)if(Nt=!1,p.pendingProps=P=H,(h.lanes&L)!==0)(h.flags&131072)!==0&&(Nt=!0);else return p.lanes=h.lanes,ud(h,p,L)}return Yt(h,p,E,P,L)}function $e(h,p,E){var P=p.pendingProps,L=P.children,H=h!==null?h.memoizedState:null;if(P.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Ng,Da),Da|=E;else{if((E&1073741824)===0)return h=H!==null?H.baseLanes|E:E,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null,transitions:null},p.updateQueue=null,pr(Ng,Da),Da|=h,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=H!==null?H.baseLanes:E,pr(Ng,Da),Da|=P}else H!==null?(P=H.baseLanes|E,p.memoizedState=null):P=E,pr(Ng,Da),Da|=P;return er(h,p,L,E),p.child}function Ot(h,p){var E=p.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(p.flags|=512,p.flags|=2097152)}function Yt(h,p,E,P,L){var H=gs(E)?ql:ss.current;return H=td(p,H),Ql(p,L),E=Ag(h,p,E,P,H,L),P=sp(),h!==null&&!Nt?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~L,ud(h,p,L)):(br&&P&&w0(p),p.flags|=1,er(h,p,E,L),p.child)}function En(h,p,E,P,L){if(gs(E)){var H=!0;nd(p)}else H=!1;if(Ql(p,L),p.stateNode===null)Db(h,p),Mf(p,E,P),Af(p,E,P,L),P=!0;else if(h===null){var ee=p.stateNode,ge=p.memoizedProps;ee.props=ge;var be=ee.context,We=E.contextType;typeof We=="object"&&We!==null?We=zs(We):(We=gs(E)?ql:ss.current,We=td(p,We));var ot=E.getDerivedStateFromProps,ut=typeof ot=="function"||typeof ee.getSnapshotBeforeUpdate=="function";ut||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ge!==P||be!==We)&&od(p,ee,P,We),Jl=!1;var it=p.memoizedState;ee.state=it,zr(p,P,ee,L),be=p.memoizedState,ge!==P||it!==be||Ns.current||Jl?(typeof ot=="function"&&(Bs(p,E,ot,P),be=p.memoizedState),(ge=Jl||fi(p,E,ge,P,it,be,We))?(ut||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=P,p.memoizedState=be),ee.props=P,ee.state=be,ee.context=We,P=ge):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),P=!1)}else{ee=p.stateNode,bb(h,p),ge=p.memoizedProps,We=p.type===p.elementType?ge:Ia(p.type,ge),ee.props=We,ut=p.pendingProps,it=ee.context,be=E.contextType,typeof be=="object"&&be!==null?be=zs(be):(be=gs(E)?ql:ss.current,be=td(p,be));var Ut=E.getDerivedStateFromProps;(ot=typeof Ut=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ge!==ut||it!==be)&&od(p,ee,P,be),Jl=!1,it=p.memoizedState,ee.state=it,zr(p,P,ee,L);var jt=p.memoizedState;ge!==ut||it!==jt||Ns.current||Jl?(typeof Ut=="function"&&(Bs(p,E,Ut,P),jt=p.memoizedState),(We=Jl||fi(p,E,We,P,it,jt,be)||!1)?(ot||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(P,jt,be),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(P,jt,be)),typeof ee.componentDidUpdate=="function"&&(p.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ee.componentDidUpdate!="function"||ge===h.memoizedProps&&it===h.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ge===h.memoizedProps&&it===h.memoizedState||(p.flags|=1024),p.memoizedProps=P,p.memoizedState=jt),ee.props=P,ee.state=jt,ee.context=be,P=We):(typeof ee.componentDidUpdate!="function"||ge===h.memoizedProps&&it===h.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ge===h.memoizedProps&&it===h.memoizedState||(p.flags|=1024),P=!1)}return gn(h,p,E,P,H,L)}function gn(h,p,E,P,L,H){Ot(h,p);var ee=(p.flags&128)!==0;if(!P&&!ee)return L&&_0(p,E,!1),ud(h,p,H);P=p.stateNode,mr.current=p;var ge=ee&&typeof E.getDerivedStateFromError!="function"?null:P.render();return p.flags|=1,h!==null&&ee?(p.child=qc(p,h.child,null,H),p.child=qc(p,null,ge,H)):er(h,p,ge,H),p.memoizedState=P.state,L&&_0(p,E,!0),p.child}function qn(h){var p=h.stateNode;p.pendingContext?y0(h,p.pendingContext,p.pendingContext!==p.context):p.context&&y0(h,p.context,!1),Pf(h,p.containerInfo)}function Ci(h,p,E,P,L){return Yc(),Sf(L),p.flags|=256,er(h,p,E,P),p.child}var $n={dehydrated:null,treeContext:null,retryLane:0};function fl(h){return{baseLanes:h,cachePool:null,transitions:null}}function Ob(h,p,E){var P=p.pendingProps,L=xr.current,H=!1,ee=(p.flags&128)!==0,ge;if((ge=ee)||(ge=h!==null&&h.memoizedState===null?!1:(L&2)!==0),ge?(H=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(L|=1),pr(xr,L&1),h===null)return wg(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((p.mode&1)===0?p.lanes=1:h.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ee=P.children,h=P.fallback,H?(P=p.mode,H=p.child,ee={mode:"hidden",children:ee},(P&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ee):H=Yb(ee,P,0,null),h=mp(h,P,E,null),H.return=p,h.return=p,H.sibling=h,p.child=H,p.child.memoizedState=fl(E),p.memoizedState=$n,h):vM(p,ee));if(L=h.memoizedState,L!==null&&(ge=L.dehydrated,ge!==null))return SK(h,p,ee,P,ge,L,E);if(H){H=P.fallback,ee=p.mode,L=h.child,ge=L.sibling;var be={mode:"hidden",children:P.children};return(ee&1)===0&&p.child!==L?(P=p.child,P.childLanes=0,P.pendingProps=be,p.deletions=null):(P=zf(L,be),P.subtreeFlags=L.subtreeFlags&14680064),ge!==null?H=zf(ge,H):(H=mp(H,ee,E,null),H.flags|=2),H.return=p,P.return=p,P.sibling=H,p.child=P,P=H,H=p.child,ee=h.child.memoizedState,ee=ee===null?fl(E):{baseLanes:ee.baseLanes|E,cachePool:null,transitions:ee.transitions},H.memoizedState=ee,H.childLanes=h.childLanes&~E,p.memoizedState=$n,P}return H=h.child,h=H.sibling,P=zf(H,{mode:"visible",children:P.children}),(p.mode&1)===0&&(P.lanes=E),P.return=p,P.sibling=null,h!==null&&(E=p.deletions,E===null?(p.deletions=[h],p.flags|=16):E.push(h)),p.child=P,p.memoizedState=null,P}function vM(h,p){return p=Yb({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function Lb(h,p,E,P){return P!==null&&Sf(P),qc(p,h.child,null,E),h=vM(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function SK(h,p,E,P,L,H,ee){if(E)return p.flags&256?(p.flags&=-257,P=X(Error(n(422))),Lb(h,p,ee,P)):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(H=P.fallback,L=p.mode,P=Yb({mode:"visible",children:P.children},L,0,null),H=mp(H,L,ee,null),H.flags|=2,P.return=p,H.return=p,P.sibling=H,p.child=P,(p.mode&1)!==0&&qc(p,h.child,null,ee),p.child.memoizedState=fl(ee),p.memoizedState=$n,H);if((p.mode&1)===0)return Lb(h,p,ee,null);if(L.data==="$!"){if(P=L.nextSibling&&L.nextSibling.dataset,P)var ge=P.dgst;return P=ge,H=Error(n(419)),P=X(H,P,void 0),Lb(h,p,ee,P)}if(ge=(ee&h.childLanes)!==0,Nt||ge){if(P=ys,P!==null){switch(ee&-ee){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(P.suspendedLanes|ee))!==0?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,Oa(h,L),ic(P,h,L,-1))}return OM(),P=X(Error(n(421))),Lb(h,p,ee,P)}return L.data==="$?"?(p.flags|=128,p.child=h.child,p=NK.bind(null,h),L._reactRetry=p,null):(h=H.treeContext,Us=$l(L.nextSibling),os=p,br=!0,Zo=null,h!==null&&(Fs[Gi++]=bt,Fs[Gi++]=Ko,Fs[Gi++]=id,bt=h.id,Ko=h.overflow,id=p),p=vM(p,P.children),p.flags|=4096,p)}function YD(h,p,E){h.lanes|=p;var P=h.alternate;P!==null&&(P.lanes|=p),Cf(h.return,p,E)}function yM(h,p,E,P,L){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:P,tail:E,tailMode:L}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=P,H.tail=E,H.tailMode=L)}function XD(h,p,E){var P=p.pendingProps,L=P.revealOrder,H=P.tail;if(er(h,p,P.children,E),P=xr.current,(P&2)!==0)P=P&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&YD(h,E,p);else if(h.tag===19)YD(h,E,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}P&=1}if(pr(xr,P),(p.mode&1)===0)p.memoizedState=null;else switch(L){case"forwards":for(E=p.child,L=null;E!==null;)h=E.alternate,h!==null&&Wi(h)===null&&(L=E),E=E.sibling;E=L,E===null?(L=p.child,p.child=null):(L=E.sibling,E.sibling=null),yM(p,!1,L,E,H);break;case"backwards":for(E=null,L=p.child,p.child=null;L!==null;){if(h=L.alternate,h!==null&&Wi(h)===null){p.child=L;break}h=L.sibling,L.sibling=E,E=L,L=h}yM(p,!0,E,null,H);break;case"together":yM(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Db(h,p){(p.mode&1)===0&&h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2)}function ud(h,p,E){if(h!==null&&(p.dependencies=h.dependencies),dp|=p.lanes,(E&p.childLanes)===0)return null;if(h!==null&&p.child!==h.child)throw Error(n(153));if(p.child!==null){for(h=p.child,E=zf(h,h.pendingProps),p.child=E,E.return=p;h.sibling!==null;)h=h.sibling,E=E.sibling=zf(h,h.pendingProps),E.return=p;E.sibling=null}return p.child}function EK(h,p,E){switch(p.tag){case 3:qn(p),Yc();break;case 5:Cg(p);break;case 1:gs(p.type)&&nd(p);break;case 4:Pf(p,p.stateNode.containerInfo);break;case 10:var P=p.type._context,L=p.memoizedProps.value;pr(tp,P._currentValue),P._currentValue=L;break;case 13:if(P=p.memoizedState,P!==null)return P.dehydrated!==null?(pr(xr,xr.current&1),p.flags|=128,null):(E&p.child.childLanes)!==0?Ob(h,p,E):(pr(xr,xr.current&1),h=ud(h,p,E),h!==null?h.sibling:null);pr(xr,xr.current&1);break;case 19:if(P=(E&p.childLanes)!==0,(h.flags&128)!==0){if(P)return XD(h,p,E);p.flags|=128}if(L=p.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),pr(xr,xr.current),P)break;return null;case 22:case 23:return p.lanes=0,$e(h,p,E)}return ud(h,p,E)}var qD,_M,KD,ZD;qD=function(h,p){for(var E=p.child;E!==null;){if(E.tag===5||E.tag===6)h.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},_M=function(){},KD=function(h,p,E,P){var L=h.memoizedProps;if(L!==P){h=p.stateNode,ao(Jo.current);var H=null;switch(E){case"input":L=ue(h,L),P=ue(h,P),H=[];break;case"select":L=F({},L,{value:void 0}),P=F({},P,{value:void 0}),H=[];break;case"textarea":L=nt(h,L),P=nt(h,P),H=[];break;default:typeof L.onClick!="function"&&typeof P.onClick=="function"&&(h.onclick=Kh)}ct(E,P);var ee;E=null;for(We in L)if(!P.hasOwnProperty(We)&&L.hasOwnProperty(We)&&L[We]!=null)if(We==="style"){var ge=L[We];for(ee in ge)ge.hasOwnProperty(ee)&&(E||(E={}),E[ee]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(i.hasOwnProperty(We)?H||(H=[]):(H=H||[]).push(We,null));for(We in P){var be=P[We];if(ge=L!=null?L[We]:void 0,P.hasOwnProperty(We)&&be!==ge&&(be!=null||ge!=null))if(We==="style")if(ge){for(ee in ge)!ge.hasOwnProperty(ee)||be&&be.hasOwnProperty(ee)||(E||(E={}),E[ee]="");for(ee in be)be.hasOwnProperty(ee)&&ge[ee]!==be[ee]&&(E||(E={}),E[ee]=be[ee])}else E||(H||(H=[]),H.push(We,E)),E=be;else We==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,ge=ge?ge.__html:void 0,be!=null&&ge!==be&&(H=H||[]).push(We,be)):We==="children"?typeof be!="string"&&typeof be!="number"||(H=H||[]).push(We,""+be):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(i.hasOwnProperty(We)?(be!=null&&We==="onScroll"&&yr("scroll",h),H||ge===be||(H=[])):(H=H||[]).push(We,be))}E&&(H=H||[]).push("style",E);var We=H;(p.updateQueue=We)&&(p.flags|=4)}},ZD=function(h,p,E,P){E!==P&&(p.flags|=4)};function R0(h,p){if(!br)switch(h.tailMode){case"hidden":p=h.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var P=null;E!==null;)E.alternate!==null&&(P=E),E=E.sibling;P===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:P.sibling=null}}function co(h){var p=h.alternate!==null&&h.alternate.child===h.child,E=0,P=0;if(p)for(var L=h.child;L!==null;)E|=L.lanes|L.childLanes,P|=L.subtreeFlags&14680064,P|=L.flags&14680064,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)E|=L.lanes|L.childLanes,P|=L.subtreeFlags,P|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=P,h.childLanes=E,p}function TK(h,p,E){var P=p.pendingProps;switch(Zl(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(p),null;case 1:return gs(p.type)&&Zh(),co(p),null;case 3:return P=p.stateNode,ul(),_r(Ns),_r(ss),lo(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(h===null||h.child===null)&&(bf(p)?p.flags|=4:h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Zo!==null&&(RM(Zo),Zo=null))),_M(h,p),co(p),null;case 5:Rf(p);var L=ao(Zc.current);if(E=p.type,h!==null&&p.stateNode!=null)KD(h,p,E,P,L),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!P){if(p.stateNode===null)throw Error(n(166));return co(p),null}if(h=ao(Jo.current),bf(p)){P=p.stateNode,E=p.type;var H=p.memoizedProps;switch(P[Ti]=p,P[wf]=H,h=(p.mode&1)!==0,E){case"dialog":yr("cancel",P),yr("close",P);break;case"iframe":case"object":case"embed":yr("load",P);break;case"video":case"audio":for(L=0;L<jc.length;L++)yr(jc[L],P);break;case"source":yr("error",P);break;case"img":case"image":case"link":yr("error",P),yr("load",P);break;case"details":yr("toggle",P);break;case"input":_e(P,H),yr("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!H.multiple},yr("invalid",P);break;case"textarea":ie(P,H),yr("invalid",P)}ct(E,H),L=null;for(var ee in H)if(H.hasOwnProperty(ee)){var ge=H[ee];ee==="children"?typeof ge=="string"?P.textContent!==ge&&(H.suppressHydrationWarning!==!0&&qh(P.textContent,ge,h),L=["children",ge]):typeof ge=="number"&&P.textContent!==""+ge&&(H.suppressHydrationWarning!==!0&&qh(P.textContent,ge,h),L=["children",""+ge]):i.hasOwnProperty(ee)&&ge!=null&&ee==="onScroll"&&yr("scroll",P)}switch(E){case"input":pe(P),Ae(P,H,!0);break;case"textarea":pe(P),he(P);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(P.onclick=Kh)}P=L,p.updateQueue=P,P!==null&&(p.flags|=4)}else{ee=L.nodeType===9?L:L.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ne(E)),h==="http://www.w3.org/1999/xhtml"?E==="script"?(h=ee.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof P.is=="string"?h=ee.createElement(E,{is:P.is}):(h=ee.createElement(E),E==="select"&&(ee=h,P.multiple?ee.multiple=!0:P.size&&(ee.size=P.size))):h=ee.createElementNS(h,E),h[Ti]=p,h[wf]=P,qD(h,p,!1,!1),p.stateNode=h;e:{switch(ee=Rt(E,P),E){case"dialog":yr("cancel",h),yr("close",h),L=P;break;case"iframe":case"object":case"embed":yr("load",h),L=P;break;case"video":case"audio":for(L=0;L<jc.length;L++)yr(jc[L],h);L=P;break;case"source":yr("error",h),L=P;break;case"img":case"image":case"link":yr("error",h),yr("load",h),L=P;break;case"details":yr("toggle",h),L=P;break;case"input":_e(h,P),L=ue(h,P),yr("invalid",h);break;case"option":L=P;break;case"select":h._wrapperState={wasMultiple:!!P.multiple},L=F({},P,{value:void 0}),yr("invalid",h);break;case"textarea":ie(h,P),L=nt(h,P),yr("invalid",h);break;default:L=P}ct(E,L),ge=L;for(H in ge)if(ge.hasOwnProperty(H)){var be=ge[H];H==="style"?dt(h,be):H==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&et(h,be)):H==="children"?typeof be=="string"?(E!=="textarea"||be!=="")&&Ze(h,be):typeof be=="number"&&Ze(h,""+be):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?be!=null&&H==="onScroll"&&yr("scroll",h):be!=null&&S(h,H,be,ee))}switch(E){case"input":pe(h),Ae(h,P,!1);break;case"textarea":pe(h),he(h);break;case"option":P.value!=null&&h.setAttribute("value",""+se(P.value));break;case"select":h.multiple=!!P.multiple,H=P.value,H!=null?ke(h,!!P.multiple,H,!1):P.defaultValue!=null&&ke(h,!!P.multiple,P.defaultValue,!0);break;default:typeof L.onClick=="function"&&(h.onclick=Kh)}switch(E){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return co(p),null;case 6:if(h&&p.stateNode!=null)ZD(h,p,h.memoizedProps,P);else{if(typeof P!="string"&&p.stateNode===null)throw Error(n(166));if(E=ao(Zc.current),ao(Jo.current),bf(p)){if(P=p.stateNode,E=p.memoizedProps,P[Ti]=p,(H=P.nodeValue!==E)&&(h=os,h!==null))switch(h.tag){case 3:qh(P.nodeValue,E,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&qh(P.nodeValue,E,(h.mode&1)!==0)}H&&(p.flags|=4)}else P=(E.nodeType===9?E:E.ownerDocument).createTextNode(P),P[Ti]=p,p.stateNode=P}return co(p),null;case 13:if(_r(xr),P=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(br&&Us!==null&&(p.mode&1)!==0&&(p.flags&128)===0)E0(),Yc(),p.flags|=98560,H=!1;else if(H=bf(p),P!==null&&P.dehydrated!==null){if(h===null){if(!H)throw Error(n(318));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Ti]=p}else Yc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;co(p),H=!1}else Zo!==null&&(RM(Zo),Zo=null),H=!0;if(!H)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=E,p):(P=P!==null,P!==(h!==null&&h.memoizedState!==null)&&P&&(p.child.flags|=8192,(p.mode&1)!==0&&(h===null||(xr.current&1)!==0?as===0&&(as=3):OM())),p.updateQueue!==null&&(p.flags|=4),co(p),null);case 4:return ul(),_M(h,p),h===null&&yf(p.stateNode.containerInfo),co(p),null;case 10:return Tf(p.type._context),co(p),null;case 17:return gs(p.type)&&Zh(),co(p),null;case 19:if(_r(xr),H=p.memoizedState,H===null)return co(p),null;if(P=(p.flags&128)!==0,ee=H.rendering,ee===null)if(P)R0(H,!1);else{if(as!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(ee=Wi(h),ee!==null){for(p.flags|=128,R0(H,!1),P=ee.updateQueue,P!==null&&(p.updateQueue=P,p.flags|=4),p.subtreeFlags=0,P=E,E=p.child;E!==null;)H=E,h=P,H.flags&=14680066,ee=H.alternate,ee===null?(H.childLanes=0,H.lanes=h,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ee.childLanes,H.lanes=ee.lanes,H.child=ee.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ee.memoizedProps,H.memoizedState=ee.memoizedState,H.updateQueue=ee.updateQueue,H.type=ee.type,h=ee.dependencies,H.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),E=E.sibling;return pr(xr,xr.current&1|2),p.child}h=h.sibling}H.tail!==null&&qe()>Fg&&(p.flags|=128,P=!0,R0(H,!1),p.lanes=4194304)}else{if(!P)if(h=Wi(ee),h!==null){if(p.flags|=128,P=!0,E=h.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),R0(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ee.alternate&&!br)return co(p),null}else 2*qe()-H.renderingStartTime>Fg&&E!==1073741824&&(p.flags|=128,P=!0,R0(H,!1),p.lanes=4194304);H.isBackwards?(ee.sibling=p.child,p.child=ee):(E=H.last,E!==null?E.sibling=ee:p.child=ee,H.last=ee)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=qe(),p.sibling=null,E=xr.current,pr(xr,P?E&1|2:E&1),p):(co(p),null);case 22:case 23:return kM(),P=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==P&&(p.flags|=8192),P&&(p.mode&1)!==0?(Da&1073741824)!==0&&(co(p),p.subtreeFlags&6&&(p.flags|=8192)):co(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function CK(h,p){switch(Zl(p),p.tag){case 1:return gs(p.type)&&Zh(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return ul(),_r(Ns),_r(ss),lo(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 5:return Rf(p),null;case 13:if(_r(xr),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Yc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return _r(xr),null;case 4:return ul(),null;case 10:return Tf(p.type._context),null;case 22:case 23:return kM(),null;case 24:return null;default:return null}}var Nb=!1,uo=!1,MK=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Dg(h,p){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(P){hi(h,p,P)}else E.current=null}function xM(h,p,E){try{E()}catch(P){hi(h,p,P)}}var QD=!1;function AK(h,p){if(xf=Di,h=Ur(),Ui(h)){if("selectionStart"in h)var E={start:h.selectionStart,end:h.selectionEnd};else e:{E=(E=h.ownerDocument)&&E.defaultView||window;var P=E.getSelection&&E.getSelection();if(P&&P.rangeCount!==0){E=P.anchorNode;var L=P.anchorOffset,H=P.focusNode;P=P.focusOffset;try{E.nodeType,H.nodeType}catch{E=null;break e}var ee=0,ge=-1,be=-1,We=0,ot=0,ut=h,it=null;t:for(;;){for(var Ut;ut!==E||L!==0&&ut.nodeType!==3||(ge=ee+L),ut!==H||P!==0&&ut.nodeType!==3||(be=ee+P),ut.nodeType===3&&(ee+=ut.nodeValue.length),(Ut=ut.firstChild)!==null;)it=ut,ut=Ut;for(;;){if(ut===h)break t;if(it===E&&++We===L&&(ge=ee),it===H&&++ot===P&&(be=ee),(Ut=ut.nextSibling)!==null)break;ut=it,it=ut.parentNode}ut=Ut}E=ge===-1||be===-1?null:{start:ge,end:be}}else E=null}E=E||{start:0,end:0}}else E=null;for(f0={focusedElem:h,selectionRange:E},Di=!1,Ht=p;Ht!==null;)if(p=Ht,h=p.child,(p.subtreeFlags&1028)!==0&&h!==null)h.return=p,Ht=h;else for(;Ht!==null;){p=Ht;try{var jt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var Xt=jt.memoizedProps,Mi=jt.memoizedState,Le=p.stateNode,Te=Le.getSnapshotBeforeUpdate(p.elementType===p.type?Xt:Ia(p.type,Xt),Mi);Le.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var Ue=p.stateNode.containerInfo;Ue.nodeType===1?Ue.textContent="":Ue.nodeType===9&&Ue.documentElement&&Ue.removeChild(Ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(vt){hi(p,p.return,vt)}if(h=p.sibling,h!==null){h.return=p.return,Ht=h;break}Ht=p.return}return jt=QD,QD=!1,jt}function I0(h,p,E){var P=p.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var L=P=P.next;do{if((L.tag&h)===h){var H=L.destroy;L.destroy=void 0,H!==void 0&&xM(p,E,H)}L=L.next}while(L!==P)}}function Fb(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var E=p=p.next;do{if((E.tag&h)===h){var P=E.create;E.destroy=P()}E=E.next}while(E!==p)}}function wM(h){var p=h.ref;if(p!==null){var E=h.stateNode;switch(h.tag){case 5:h=E;break;default:h=E}typeof p=="function"?p(h):p.current=h}}function JD(h){var p=h.alternate;p!==null&&(h.alternate=null,JD(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&(delete p[Ti],delete p[wf],delete p[ed],delete p[pg],delete p[mg])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function eN(h){return h.tag===5||h.tag===3||h.tag===4}function tN(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||eN(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function bM(h,p,E){var P=h.tag;if(P===5||P===6)h=h.stateNode,p?E.nodeType===8?E.parentNode.insertBefore(h,p):E.insertBefore(h,p):(E.nodeType===8?(p=E.parentNode,p.insertBefore(h,E)):(p=E,p.appendChild(h)),E=E._reactRootContainer,E!=null||p.onclick!==null||(p.onclick=Kh));else if(P!==4&&(h=h.child,h!==null))for(bM(h,p,E),h=h.sibling;h!==null;)bM(h,p,E),h=h.sibling}function SM(h,p,E){var P=h.tag;if(P===5||P===6)h=h.stateNode,p?E.insertBefore(h,p):E.appendChild(h);else if(P!==4&&(h=h.child,h!==null))for(SM(h,p,E),h=h.sibling;h!==null;)SM(h,p,E),h=h.sibling}var Hs=null,nc=!1;function Lf(h,p,E){for(E=E.child;E!==null;)nN(h,p,E),E=E.sibling}function nN(h,p,E){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Lt,E)}catch{}switch(E.tag){case 5:uo||Dg(E,p);case 6:var P=Hs,L=nc;Hs=null,Lf(h,p,E),Hs=P,nc=L,Hs!==null&&(nc?(h=Hs,E=E.stateNode,h.nodeType===8?h.parentNode.removeChild(E):h.removeChild(E)):Hs.removeChild(E.stateNode));break;case 18:Hs!==null&&(nc?(h=Hs,E=E.stateNode,h.nodeType===8?hg(h.parentNode,E):h.nodeType===1&&hg(h,E),Fc(h)):hg(Hs,E.stateNode));break;case 4:P=Hs,L=nc,Hs=E.stateNode.containerInfo,nc=!0,Lf(h,p,E),Hs=P,nc=L;break;case 0:case 11:case 14:case 15:if(!uo&&(P=E.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){L=P=P.next;do{var H=L,ee=H.destroy;H=H.tag,ee!==void 0&&((H&2)!==0||(H&4)!==0)&&xM(E,p,ee),L=L.next}while(L!==P)}Lf(h,p,E);break;case 1:if(!uo&&(Dg(E,p),P=E.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=E.memoizedProps,P.state=E.memoizedState,P.componentWillUnmount()}catch(ge){hi(E,p,ge)}Lf(h,p,E);break;case 21:Lf(h,p,E);break;case 22:E.mode&1?(uo=(P=uo)||E.memoizedState!==null,Lf(h,p,E),uo=P):Lf(h,p,E);break;default:Lf(h,p,E)}}function rN(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new MK),p.forEach(function(P){var L=FK.bind(null,h,P);E.has(P)||(E.add(P),P.then(L,L))})}}function rc(h,p){var E=p.deletions;if(E!==null)for(var P=0;P<E.length;P++){var L=E[P];try{var H=h,ee=p,ge=ee;e:for(;ge!==null;){switch(ge.tag){case 5:Hs=ge.stateNode,nc=!1;break e;case 3:Hs=ge.stateNode.containerInfo,nc=!0;break e;case 4:Hs=ge.stateNode.containerInfo,nc=!0;break e}ge=ge.return}if(Hs===null)throw Error(n(160));nN(H,ee,L),Hs=null,nc=!1;var be=L.alternate;be!==null&&(be.return=null),L.return=null}catch(We){hi(L,p,We)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)iN(p,h),p=p.sibling}function iN(h,p){var E=h.alternate,P=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(rc(p,h),nu(h),P&4){try{I0(3,h,h.return),Fb(3,h)}catch(Xt){hi(h,h.return,Xt)}try{I0(5,h,h.return)}catch(Xt){hi(h,h.return,Xt)}}break;case 1:rc(p,h),nu(h),P&512&&E!==null&&Dg(E,E.return);break;case 5:if(rc(p,h),nu(h),P&512&&E!==null&&Dg(E,E.return),h.flags&32){var L=h.stateNode;try{Ze(L,"")}catch(Xt){hi(h,h.return,Xt)}}if(P&4&&(L=h.stateNode,L!=null)){var H=h.memoizedProps,ee=E!==null?E.memoizedProps:H,ge=h.type,be=h.updateQueue;if(h.updateQueue=null,be!==null)try{ge==="input"&&H.type==="radio"&&H.name!=null&&ce(L,H),Rt(ge,ee);var We=Rt(ge,H);for(ee=0;ee<be.length;ee+=2){var ot=be[ee],ut=be[ee+1];ot==="style"?dt(L,ut):ot==="dangerouslySetInnerHTML"?et(L,ut):ot==="children"?Ze(L,ut):S(L,ot,ut,We)}switch(ge){case"input":Xe(L,H);break;case"textarea":J(L,H);break;case"select":var it=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var Ut=H.value;Ut!=null?ke(L,!!H.multiple,Ut,!1):it!==!!H.multiple&&(H.defaultValue!=null?ke(L,!!H.multiple,H.defaultValue,!0):ke(L,!!H.multiple,H.multiple?[]:"",!1))}L[wf]=H}catch(Xt){hi(h,h.return,Xt)}}break;case 6:if(rc(p,h),nu(h),P&4){if(h.stateNode===null)throw Error(n(162));L=h.stateNode,H=h.memoizedProps;try{L.nodeValue=H}catch(Xt){hi(h,h.return,Xt)}}break;case 3:if(rc(p,h),nu(h),P&4&&E!==null&&E.memoizedState.isDehydrated)try{Fc(p.containerInfo)}catch(Xt){hi(h,h.return,Xt)}break;case 4:rc(p,h),nu(h);break;case 13:rc(p,h),nu(h),L=h.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(CM=qe())),P&4&&rN(h);break;case 22:if(ot=E!==null&&E.memoizedState!==null,h.mode&1?(uo=(We=uo)||ot,rc(p,h),uo=We):rc(p,h),nu(h),P&8192){if(We=h.memoizedState!==null,(h.stateNode.isHidden=We)&&!ot&&(h.mode&1)!==0)for(Ht=h,ot=h.child;ot!==null;){for(ut=Ht=ot;Ht!==null;){switch(it=Ht,Ut=it.child,it.tag){case 0:case 11:case 14:case 15:I0(4,it,it.return);break;case 1:Dg(it,it.return);var jt=it.stateNode;if(typeof jt.componentWillUnmount=="function"){P=it,E=it.return;try{p=P,jt.props=p.memoizedProps,jt.state=p.memoizedState,jt.componentWillUnmount()}catch(Xt){hi(P,E,Xt)}}break;case 5:Dg(it,it.return);break;case 22:if(it.memoizedState!==null){aN(ut);continue}}Ut!==null?(Ut.return=it,Ht=Ut):aN(ut)}ot=ot.sibling}e:for(ot=null,ut=h;;){if(ut.tag===5){if(ot===null){ot=ut;try{L=ut.stateNode,We?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(ge=ut.stateNode,be=ut.memoizedProps.style,ee=be!=null&&be.hasOwnProperty("display")?be.display:null,ge.style.display=wt("display",ee))}catch(Xt){hi(h,h.return,Xt)}}}else if(ut.tag===6){if(ot===null)try{ut.stateNode.nodeValue=We?"":ut.memoizedProps}catch(Xt){hi(h,h.return,Xt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===h)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===h)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===h)break e;ot===ut&&(ot=null),ut=ut.return}ot===ut&&(ot=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:rc(p,h),nu(h),P&4&&rN(h);break;case 21:break;default:rc(p,h),nu(h)}}function nu(h){var p=h.flags;if(p&2){try{e:{for(var E=h.return;E!==null;){if(eN(E)){var P=E;break e}E=E.return}throw Error(n(160))}switch(P.tag){case 5:var L=P.stateNode;P.flags&32&&(Ze(L,""),P.flags&=-33);var H=tN(h);SM(h,H,L);break;case 3:case 4:var ee=P.stateNode.containerInfo,ge=tN(h);bM(h,ge,ee);break;default:throw Error(n(161))}}catch(be){hi(h,h.return,be)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function PK(h,p,E){Ht=h,sN(h)}function sN(h,p,E){for(var P=(h.mode&1)!==0;Ht!==null;){var L=Ht,H=L.child;if(L.tag===22&&P){var ee=L.memoizedState!==null||Nb;if(!ee){var ge=L.alternate,be=ge!==null&&ge.memoizedState!==null||uo;ge=Nb;var We=uo;if(Nb=ee,(uo=be)&&!We)for(Ht=L;Ht!==null;)ee=Ht,be=ee.child,ee.tag===22&&ee.memoizedState!==null?lN(L):be!==null?(be.return=ee,Ht=be):lN(L);for(;H!==null;)Ht=H,sN(H),H=H.sibling;Ht=L,Nb=ge,uo=We}oN(h)}else(L.subtreeFlags&8772)!==0&&H!==null?(H.return=L,Ht=H):oN(h)}}function oN(h){for(;Ht!==null;){var p=Ht;if((p.flags&8772)!==0){var E=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:uo||Fb(5,p);break;case 1:var P=p.stateNode;if(p.flags&4&&!uo)if(E===null)P.componentDidMount();else{var L=p.elementType===p.type?E.memoizedProps:Ia(p.type,E.memoizedProps);P.componentDidUpdate(L,E.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var H=p.updateQueue;H!==null&&Qr(p,H,P);break;case 3:var ee=p.updateQueue;if(ee!==null){if(E=null,p.child!==null)switch(p.child.tag){case 5:E=p.child.stateNode;break;case 1:E=p.child.stateNode}Qr(p,ee,E)}break;case 5:var ge=p.stateNode;if(E===null&&p.flags&4){E=ge;var be=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&E.focus();break;case"img":be.src&&(E.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var We=p.alternate;if(We!==null){var ot=We.memoizedState;if(ot!==null){var ut=ot.dehydrated;ut!==null&&Fc(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}uo||p.flags&512&&wM(p)}catch(it){hi(p,p.return,it)}}if(p===h){Ht=null;break}if(E=p.sibling,E!==null){E.return=p.return,Ht=E;break}Ht=p.return}}function aN(h){for(;Ht!==null;){var p=Ht;if(p===h){Ht=null;break}var E=p.sibling;if(E!==null){E.return=p.return,Ht=E;break}Ht=p.return}}function lN(h){for(;Ht!==null;){var p=Ht;try{switch(p.tag){case 0:case 11:case 15:var E=p.return;try{Fb(4,p)}catch(be){hi(p,E,be)}break;case 1:var P=p.stateNode;if(typeof P.componentDidMount=="function"){var L=p.return;try{P.componentDidMount()}catch(be){hi(p,L,be)}}var H=p.return;try{wM(p)}catch(be){hi(p,H,be)}break;case 5:var ee=p.return;try{wM(p)}catch(be){hi(p,ee,be)}}}catch(be){hi(p,p.return,be)}if(p===h){Ht=null;break}var ge=p.sibling;if(ge!==null){ge.return=p.return,Ht=ge;break}Ht=p.return}}var RK=Math.ceil,Ub=T.ReactCurrentDispatcher,EM=T.ReactCurrentOwner,hl=T.ReactCurrentBatchConfig,Qn=0,ys=null,$i=null,Ws=0,Da=0,Ng=jr(0),as=0,k0=null,dp=0,zb=0,TM=0,O0=null,na=null,CM=0,Fg=1/0,dd=null,Bb=!1,MM=null,Df=null,Vb=!1,Nf=null,Gb=0,L0=0,AM=null,Hb=-1,Wb=0;function Ro(){return(Qn&6)!==0?qe():Hb!==-1?Hb:Hb=qe()}function Ff(h){return(h.mode&1)===0?1:(Qn&2)!==0&&Ws!==0?Ws&-Ws:gM.transition!==null?(Wb===0&&(Wb=no()),Wb):(h=zn,h!==0||(h=window.event,h=h===void 0?16:zc(h.type)),h)}function ic(h,p,E,P){if(50<L0)throw L0=0,AM=null,Error(n(185));Sa(h,E,P),((Qn&2)===0||h!==ys)&&(h===ys&&((Qn&2)===0&&(zb|=E),as===4&&Uf(h,Ws)),ra(h,P),E===1&&Qn===0&&(p.mode&1)===0&&(Fg=qe()+500,Jh&&ll()))}function ra(h,p){var E=h.callbackNode;tl(h,p);var P=Dr(h,h===ys?Ws:0);if(P===0)E!==null&&Gt(E),h.callbackNode=null,h.callbackPriority=0;else if(p=P&-P,h.callbackPriority!==p){if(E!=null&&Gt(E),p===1)h.tag===0?wb(uN.bind(null,h)):ep(uN.bind(null,h)),mM(function(){(Qn&6)===0&&ll()}),E=null;else{switch(nl(P)){case 1:E=Wn;break;case 4:E=$t;break;case 16:E=On;break;case 536870912:E=Ln;break;default:E=On}E=yN(E,cN.bind(null,h))}h.callbackPriority=p,h.callbackNode=E}}function cN(h,p){if(Hb=-1,Wb=0,(Qn&6)!==0)throw Error(n(327));var E=h.callbackNode;if(Ug()&&h.callbackNode!==E)return null;var P=Dr(h,h===ys?Ws:0);if(P===0)return null;if((P&30)!==0||(P&h.expiredLanes)!==0||p)p=jb(h,P);else{p=P;var L=Qn;Qn|=2;var H=fN();(ys!==h||Ws!==p)&&(dd=null,Fg=qe()+500,hp(h,p));do try{OK();break}catch(ge){dN(h,ge)}while(!0);Ef(),Ub.current=H,Qn=L,$i!==null?p=0:(ys=null,Ws=0,p=as)}if(p!==0){if(p===2&&(L=Oi(h),L!==0&&(P=L,p=PM(h,L))),p===1)throw E=k0,hp(h,0),Uf(h,P),ra(h,qe()),E;if(p===6)Uf(h,P);else{if(L=h.current.alternate,(P&30)===0&&!IK(L)&&(p=jb(h,P),p===2&&(H=Oi(h),H!==0&&(P=H,p=PM(h,H))),p===1))throw E=k0,hp(h,0),Uf(h,P),ra(h,qe()),E;switch(h.finishedWork=L,h.finishedLanes=P,p){case 0:case 1:throw Error(n(345));case 2:pp(h,na,dd);break;case 3:if(Uf(h,P),(P&130023424)===P&&(p=CM+500-qe(),10<p)){if(Dr(h,0)!==0)break;if(L=h.suspendedLanes,(L&P)!==P){Ro(),h.pingedLanes|=h.suspendedLanes&L;break}h.timeoutHandle=p0(pp.bind(null,h,na,dd),p);break}pp(h,na,dd);break;case 4:if(Uf(h,P),(P&4194240)===P)break;for(p=h.eventTimes,L=-1;0<P;){var ee=31-Xn(P);H=1<<ee,ee=p[ee],ee>L&&(L=ee),P&=~H}if(P=L,P=qe()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*RK(P/1960))-P,10<P){h.timeoutHandle=p0(pp.bind(null,h,na,dd),P);break}pp(h,na,dd);break;case 5:pp(h,na,dd);break;default:throw Error(n(329))}}}return ra(h,qe()),h.callbackNode===E?cN.bind(null,h):null}function PM(h,p){var E=O0;return h.current.memoizedState.isDehydrated&&(hp(h,p).flags|=256),h=jb(h,p),h!==2&&(p=na,na=E,p!==null&&RM(p)),h}function RM(h){na===null?na=h:na.push.apply(na,h)}function IK(h){for(var p=h;;){if(p.flags&16384){var E=p.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var P=0;P<E.length;P++){var L=E[P],H=L.getSnapshot;L=L.value;try{if(!Eo(H(),L))return!1}catch{return!1}}}if(E=p.child,p.subtreeFlags&16384&&E!==null)E.return=p,p=E;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Uf(h,p){for(p&=~TM,p&=~zb,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var E=31-Xn(p),P=1<<E;h[E]=-1,p&=~P}}function uN(h){if((Qn&6)!==0)throw Error(n(327));Ug();var p=Dr(h,0);if((p&1)===0)return ra(h,qe()),null;var E=jb(h,p);if(h.tag!==0&&E===2){var P=Oi(h);P!==0&&(p=P,E=PM(h,P))}if(E===1)throw E=k0,hp(h,0),Uf(h,p),ra(h,qe()),E;if(E===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,pp(h,na,dd),ra(h,qe()),null}function IM(h,p){var E=Qn;Qn|=1;try{return h(p)}finally{Qn=E,Qn===0&&(Fg=qe()+500,Jh&&ll())}}function fp(h){Nf!==null&&Nf.tag===0&&(Qn&6)===0&&Ug();var p=Qn;Qn|=1;var E=hl.transition,P=zn;try{if(hl.transition=null,zn=1,h)return h()}finally{zn=P,hl.transition=E,Qn=p,(Qn&6)===0&&ll()}}function kM(){Da=Ng.current,_r(Ng)}function hp(h,p){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==-1&&(h.timeoutHandle=-1,m0(E)),$i!==null)for(E=$i.return;E!==null;){var P=E;switch(Zl(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&Zh();break;case 3:ul(),_r(Ns),_r(ss),lo();break;case 5:Rf(P);break;case 4:ul();break;case 13:_r(xr);break;case 19:_r(xr);break;case 10:Tf(P.type._context);break;case 22:case 23:kM()}E=E.return}if(ys=h,$i=h=zf(h.current,null),Ws=Da=p,as=0,k0=null,TM=zb=dp=0,na=O0=null,ka!==null){for(p=0;p<ka.length;p++)if(E=ka[p],P=E.interleaved,P!==null){E.interleaved=null;var L=P.next,H=E.pending;if(H!==null){var ee=H.next;H.next=L,P.next=ee}E.pending=P}ka=null}return h}function dN(h,p){do{var E=$i;try{if(Ef(),cd.current=g,La){for(var P=Sr.memoizedState;P!==null;){var L=P.queue;L!==null&&(L.pending=null),P=P.next}La=!1}if(Qc=0,ji=Jr=Sr=null,If=!1,kf=0,EM.current=null,E===null||E.return===null){as=1,k0=p,$i=null;break}e:{var H=h,ee=E.return,ge=E,be=p;if(p=Ws,ge.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var We=be,ot=ge,ut=ot.tag;if((ot.mode&1)===0&&(ut===0||ut===11||ut===15)){var it=ot.alternate;it?(ot.updateQueue=it.updateQueue,ot.memoizedState=it.memoizedState,ot.lanes=it.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var Ut=_n(ee);if(Ut!==null){Ut.flags&=-257,nn(Ut,ee,ge,H,p),Ut.mode&1&&Vt(H,We,p),p=Ut,be=We;var jt=p.updateQueue;if(jt===null){var Xt=new Set;Xt.add(be),p.updateQueue=Xt}else jt.add(be);break e}else{if((p&1)===0){Vt(H,We,p),OM();break e}be=Error(n(426))}}else if(br&&ge.mode&1){var Mi=_n(ee);if(Mi!==null){(Mi.flags&65536)===0&&(Mi.flags|=256),nn(Mi,ee,ge,H,p),Sf(z(be,ge));break e}}H=be=z(be,ge),as!==4&&(as=2),O0===null?O0=[H]:O0.push(H),H=ee;do{switch(H.tag){case 3:H.flags|=65536,p&=-p,H.lanes|=p;var Le=Ke(H,be,p);Cn(H,Le);break e;case 1:ge=be;var Te=H.type,Ue=H.stateNode;if((H.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||Ue!==null&&typeof Ue.componentDidCatch=="function"&&(Df===null||!Df.has(Ue)))){H.flags|=65536,p&=-p,H.lanes|=p;var vt=mt(H,ge,p);Cn(H,vt);break e}}H=H.return}while(H!==null)}pN(E)}catch(Kt){p=Kt,$i===E&&E!==null&&($i=E=E.return);continue}break}while(!0)}function fN(){var h=Ub.current;return Ub.current=g,h===null?g:h}function OM(){(as===0||as===3||as===2)&&(as=4),ys===null||(dp&268435455)===0&&(zb&268435455)===0||Uf(ys,Ws)}function jb(h,p){var E=Qn;Qn|=2;var P=fN();(ys!==h||Ws!==p)&&(dd=null,hp(h,p));do try{kK();break}catch(L){dN(h,L)}while(!0);if(Ef(),Qn=E,Ub.current=P,$i!==null)throw Error(n(261));return ys=null,Ws=0,as}function kK(){for(;$i!==null;)hN($i)}function OK(){for(;$i!==null&&!tn();)hN($i)}function hN(h){var p=vN(h.alternate,h,Da);h.memoizedProps=h.pendingProps,p===null?pN(h):$i=p,EM.current=null}function pN(h){var p=h;do{var E=p.alternate;if(h=p.return,(p.flags&32768)===0){if(E=TK(E,p,Da),E!==null){$i=E;return}}else{if(E=CK(E,p),E!==null){E.flags&=32767,$i=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{as=6,$i=null;return}}if(p=p.sibling,p!==null){$i=p;return}$i=p=h}while(p!==null);as===0&&(as=5)}function pp(h,p,E){var P=zn,L=hl.transition;try{hl.transition=null,zn=1,LK(h,p,E,P)}finally{hl.transition=L,zn=P}return null}function LK(h,p,E,P){do Ug();while(Nf!==null);if((Qn&6)!==0)throw Error(n(327));E=h.finishedWork;var L=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var H=E.lanes|E.childLanes;if(Wm(h,H),h===ys&&($i=ys=null,Ws=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||Vb||(Vb=!0,yN(On,function(){return Ug(),null})),H=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||H){H=hl.transition,hl.transition=null;var ee=zn;zn=1;var ge=Qn;Qn|=4,EM.current=null,AK(h,E),iN(E,h),zi(f0),Di=!!xf,f0=xf=null,h.current=E,PK(E),dn(),Qn=ge,zn=ee,hl.transition=H}else h.current=E;if(Vb&&(Vb=!1,Nf=h,Gb=L),H=h.pendingLanes,H===0&&(Df=null),sn(E.stateNode),ra(h,qe()),p!==null)for(P=h.onRecoverableError,E=0;E<p.length;E++)L=p[E],P(L.value,{componentStack:L.stack,digest:L.digest});if(Bb)throw Bb=!1,h=MM,MM=null,h;return(Gb&1)!==0&&h.tag!==0&&Ug(),H=h.pendingLanes,(H&1)!==0?h===AM?L0++:(L0=0,AM=h):L0=0,ll(),null}function Ug(){if(Nf!==null){var h=nl(Gb),p=hl.transition,E=zn;try{if(hl.transition=null,zn=16>h?16:h,Nf===null)var P=!1;else{if(h=Nf,Nf=null,Gb=0,(Qn&6)!==0)throw Error(n(331));var L=Qn;for(Qn|=4,Ht=h.current;Ht!==null;){var H=Ht,ee=H.child;if((Ht.flags&16)!==0){var ge=H.deletions;if(ge!==null){for(var be=0;be<ge.length;be++){var We=ge[be];for(Ht=We;Ht!==null;){var ot=Ht;switch(ot.tag){case 0:case 11:case 15:I0(8,ot,H)}var ut=ot.child;if(ut!==null)ut.return=ot,Ht=ut;else for(;Ht!==null;){ot=Ht;var it=ot.sibling,Ut=ot.return;if(JD(ot),ot===We){Ht=null;break}if(it!==null){it.return=Ut,Ht=it;break}Ht=Ut}}}var jt=H.alternate;if(jt!==null){var Xt=jt.child;if(Xt!==null){jt.child=null;do{var Mi=Xt.sibling;Xt.sibling=null,Xt=Mi}while(Xt!==null)}}Ht=H}}if((H.subtreeFlags&2064)!==0&&ee!==null)ee.return=H,Ht=ee;else e:for(;Ht!==null;){if(H=Ht,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:I0(9,H,H.return)}var Le=H.sibling;if(Le!==null){Le.return=H.return,Ht=Le;break e}Ht=H.return}}var Te=h.current;for(Ht=Te;Ht!==null;){ee=Ht;var Ue=ee.child;if((ee.subtreeFlags&2064)!==0&&Ue!==null)Ue.return=ee,Ht=Ue;else e:for(ee=Te;Ht!==null;){if(ge=Ht,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:Fb(9,ge)}}catch(Kt){hi(ge,ge.return,Kt)}if(ge===ee){Ht=null;break e}var vt=ge.sibling;if(vt!==null){vt.return=ge.return,Ht=vt;break e}Ht=ge.return}}if(Qn=L,ll(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Lt,h)}catch{}P=!0}return P}finally{zn=E,hl.transition=p}}return!1}function mN(h,p,E){p=z(E,p),p=Ke(h,p,1),h=cl(h,p,1),p=Ro(),h!==null&&(Sa(h,1,p),ra(h,p))}function hi(h,p,E){if(h.tag===3)mN(h,h,E);else for(;p!==null;){if(p.tag===3){mN(p,h,E);break}else if(p.tag===1){var P=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Df===null||!Df.has(P))){h=z(E,h),h=mt(p,h,1),p=cl(p,h,1),h=Ro(),p!==null&&(Sa(p,1,h),ra(p,h));break}}p=p.return}}function DK(h,p,E){var P=h.pingCache;P!==null&&P.delete(p),p=Ro(),h.pingedLanes|=h.suspendedLanes&E,ys===h&&(Ws&E)===E&&(as===4||as===3&&(Ws&130023424)===Ws&&500>qe()-CM?hp(h,0):TM|=E),ra(h,p)}function gN(h,p){p===0&&((h.mode&1)===0?p=1:(p=or,or<<=1,(or&130023424)===0&&(or=4194304)));var E=Ro();h=Oa(h,p),h!==null&&(Sa(h,p,E),ra(h,E))}function NK(h){var p=h.memoizedState,E=0;p!==null&&(E=p.retryLane),gN(h,E)}function FK(h,p){var E=0;switch(h.tag){case 13:var P=h.stateNode,L=h.memoizedState;L!==null&&(E=L.retryLane);break;case 19:P=h.stateNode;break;default:throw Error(n(314))}P!==null&&P.delete(p),gN(h,E)}var vN;vN=function(h,p,E){if(h!==null)if(h.memoizedProps!==p.pendingProps||Ns.current)Nt=!0;else{if((h.lanes&E)===0&&(p.flags&128)===0)return Nt=!1,EK(h,p,E);Nt=(h.flags&131072)!==0}else Nt=!1,br&&(p.flags&1048576)!==0&&x0(p,_g,p.index);switch(p.lanes=0,p.tag){case 2:var P=p.type;Db(h,p),h=p.pendingProps;var L=td(p,ss.current);Ql(p,E),L=Ag(null,p,P,h,L,E);var H=sp();return p.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,gs(P)?(H=!0,nd(p)):H=!1,p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,ip(p),L.updater=ec,p.stateNode=L,L._reactInternals=p,Af(p,P,h,E),p=gn(null,p,P,!0,H,E)):(p.tag=0,br&&H&&w0(p),er(null,p,L,E),p=p.child),p;case 16:P=p.elementType;e:{switch(Db(h,p),h=p.pendingProps,L=P._init,P=L(P._payload),p.type=P,L=p.tag=zK(P),h=Ia(P,h),L){case 0:p=Yt(null,p,P,h,E);break e;case 1:p=En(null,p,P,h,E);break e;case 11:p=Po(null,p,P,h,E);break e;case 14:p=Be(null,p,P,Ia(P.type,h),E);break e}throw Error(n(306,P,""))}return p;case 0:return P=p.type,L=p.pendingProps,L=p.elementType===P?L:Ia(P,L),Yt(h,p,P,L,E);case 1:return P=p.type,L=p.pendingProps,L=p.elementType===P?L:Ia(P,L),En(h,p,P,L,E);case 3:e:{if(qn(p),h===null)throw Error(n(387));P=p.pendingProps,H=p.memoizedState,L=H.element,bb(h,p),zr(p,P,null,E);var ee=p.memoizedState;if(P=ee.element,H.isDehydrated)if(H={element:P,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){L=z(Error(n(423)),p),p=Ci(h,p,P,E,L);break e}else if(P!==L){L=z(Error(n(424)),p),p=Ci(h,p,P,E,L);break e}else for(Us=$l(p.stateNode.containerInfo.firstChild),os=p,br=!0,Zo=null,E=ld(p,null,P,E),p.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Yc(),P===L){p=ud(h,p,E);break e}er(h,p,P,E)}p=p.child}return p;case 5:return Cg(p),h===null&&wg(p),P=p.type,L=p.pendingProps,H=h!==null?h.memoizedProps:null,ee=L.children,h0(P,L)?ee=null:H!==null&&h0(P,H)&&(p.flags|=32),Ot(h,p),er(h,p,ee,E),p.child;case 6:return h===null&&wg(p),null;case 13:return Ob(h,p,E);case 4:return Pf(p,p.stateNode.containerInfo),P=p.pendingProps,h===null?p.child=qc(p,null,P,E):er(h,p,P,E),p.child;case 11:return P=p.type,L=p.pendingProps,L=p.elementType===P?L:Ia(P,L),Po(h,p,P,L,E);case 7:return er(h,p,p.pendingProps,E),p.child;case 8:return er(h,p,p.pendingProps.children,E),p.child;case 12:return er(h,p,p.pendingProps.children,E),p.child;case 10:e:{if(P=p.type._context,L=p.pendingProps,H=p.memoizedProps,ee=L.value,pr(tp,P._currentValue),P._currentValue=ee,H!==null)if(Eo(H.value,ee)){if(H.children===L.children&&!Ns.current){p=ud(h,p,E);break e}}else for(H=p.child,H!==null&&(H.return=p);H!==null;){var ge=H.dependencies;if(ge!==null){ee=H.child;for(var be=ge.firstContext;be!==null;){if(be.context===P){if(H.tag===1){be=Qo(-1,E&-E),be.tag=2;var We=H.updateQueue;if(We!==null){We=We.shared;var ot=We.pending;ot===null?be.next=be:(be.next=ot.next,ot.next=be),We.pending=be}}H.lanes|=E,be=H.alternate,be!==null&&(be.lanes|=E),Cf(H.return,E,p),ge.lanes|=E;break}be=be.next}}else if(H.tag===10)ee=H.type===p.type?null:H.child;else if(H.tag===18){if(ee=H.return,ee===null)throw Error(n(341));ee.lanes|=E,ge=ee.alternate,ge!==null&&(ge.lanes|=E),Cf(ee,E,p),ee=H.sibling}else ee=H.child;if(ee!==null)ee.return=H;else for(ee=H;ee!==null;){if(ee===p){ee=null;break}if(H=ee.sibling,H!==null){H.return=ee.return,ee=H;break}ee=ee.return}H=ee}er(h,p,L.children,E),p=p.child}return p;case 9:return L=p.type,P=p.pendingProps.children,Ql(p,E),L=zs(L),P=P(L),p.flags|=1,er(h,p,P,E),p.child;case 14:return P=p.type,L=Ia(P,p.pendingProps),L=Ia(P.type,L),Be(h,p,P,L,E);case 15:return Re(h,p,p.type,p.pendingProps,E);case 17:return P=p.type,L=p.pendingProps,L=p.elementType===P?L:Ia(P,L),Db(h,p),p.tag=1,gs(P)?(h=!0,nd(p)):h=!1,Ql(p,E),Mf(p,P,L),Af(p,P,L,E),gn(null,p,P,!0,h,E);case 19:return XD(h,p,E);case 22:return $e(h,p,E)}throw Error(n(156,p.tag))};function yN(h,p){return Bt(h,p)}function UK(h,p,E,P){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(h,p,E,P){return new UK(h,p,E,P)}function LM(h){return h=h.prototype,!(!h||!h.isReactComponent)}function zK(h){if(typeof h=="function")return LM(h)?1:0;if(h!=null){if(h=h.$$typeof,h===$)return 11;if(h===ne)return 14}return 2}function zf(h,p){var E=h.alternate;return E===null?(E=pl(h.tag,p,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=p,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,p=h.dependencies,E.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function $b(h,p,E,P,L,H){var ee=2;if(P=h,typeof h=="function")LM(h)&&(ee=1);else if(typeof h=="string")ee=5;else e:switch(h){case I:return mp(E.children,L,H,p);case O:ee=8,L|=8;break;case R:return h=pl(12,E,p,L|2),h.elementType=R,h.lanes=H,h;case B:return h=pl(13,E,p,L),h.elementType=B,h.lanes=H,h;case Q:return h=pl(19,E,p,L),h.elementType=Q,h.lanes=H,h;case V:return Yb(E,L,H,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case D:ee=10;break e;case j:ee=9;break e;case $:ee=11;break e;case ne:ee=14;break e;case K:ee=16,P=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return p=pl(ee,E,p,L),p.elementType=h,p.type=P,p.lanes=H,p}function mp(h,p,E,P){return h=pl(7,h,P,p),h.lanes=E,h}function Yb(h,p,E,P){return h=pl(22,h,P,p),h.elementType=V,h.lanes=E,h.stateNode={isHidden:!1},h}function DM(h,p,E){return h=pl(6,h,null,p),h.lanes=E,h}function NM(h,p,E){return p=pl(4,h.children!==null?h.children:[],h.key,p),p.lanes=E,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function BK(h,p,E,P,L){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=P,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function FM(h,p,E,P,L,H,ee,ge,be){return h=new BK(h,p,E,ge,be),p===1?(p=1,H===!0&&(p|=8)):p=0,H=pl(3,null,null,p),h.current=H,H.stateNode=h,H.memoizedState={element:P,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(H),h}function VK(h,p,E){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:P==null?null:""+P,children:h,containerInfo:p,implementation:E}}function _N(h){if(!h)return Xl;h=h._reactInternals;e:{if(ae(h)!==h||h.tag!==1)throw Error(n(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(gs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(h.tag===1){var E=h.type;if(gs(E))return Qh(h,E,p)}return p}function xN(h,p,E,P,L,H,ee,ge,be){return h=FM(E,P,!0,h,L,H,ee,ge,be),h.context=_N(null),E=h.current,P=Ro(),L=Ff(E),H=Qo(P,L),H.callback=p??null,cl(E,H,L),h.current.lanes=L,Sa(h,L,P),ra(h,P),h}function Xb(h,p,E,P){var L=p.current,H=Ro(),ee=Ff(L);return E=_N(E),p.context===null?p.context=E:p.pendingContext=E,p=Qo(H,ee),p.payload={element:h},P=P===void 0?null:P,P!==null&&(p.callback=P),h=cl(L,p,ee),h!==null&&(ic(h,L,ee,H),Ir(h,L,ee)),ee}function qb(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function wN(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<p?E:p}}function UM(h,p){wN(h,p),(h=h.alternate)&&wN(h,p)}function GK(){return null}var bN=typeof reportError=="function"?reportError:function(h){console.error(h)};function zM(h){this._internalRoot=h}Kb.prototype.render=zM.prototype.render=function(h){var p=this._internalRoot;if(p===null)throw Error(n(409));Xb(h,p,null,null)},Kb.prototype.unmount=zM.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var p=h.containerInfo;fp(function(){Xb(null,h,null,null)}),p[Co]=null}};function Kb(h){this._internalRoot=h}Kb.prototype.unstable_scheduleHydration=function(h){if(h){var p=rl();h={blockedOn:null,target:h,priority:p};for(var E=0;E<jo.length&&p!==0&&p<jo[E].priority;E++);jo.splice(E,0,h),E===0&&ps(h)}};function BM(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Zb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function SN(){}function HK(h,p,E,P,L){if(L){if(typeof P=="function"){var H=P;P=function(){var We=qb(ee);H.call(We)}}var ee=xN(p,P,h,0,null,!1,!1,"",SN);return h._reactRootContainer=ee,h[Co]=ee.current,yf(h.nodeType===8?h.parentNode:h),fp(),ee}for(;L=h.lastChild;)h.removeChild(L);if(typeof P=="function"){var ge=P;P=function(){var We=qb(be);ge.call(We)}}var be=FM(h,0,!1,null,null,!1,!1,"",SN);return h._reactRootContainer=be,h[Co]=be.current,yf(h.nodeType===8?h.parentNode:h),fp(function(){Xb(p,be,E,P)}),be}function Qb(h,p,E,P,L){var H=E._reactRootContainer;if(H){var ee=H;if(typeof L=="function"){var ge=L;L=function(){var be=qb(ee);ge.call(be)}}Xb(p,ee,h,L)}else ee=HK(E,p,h,L,P);return qb(ee)}Lc=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var E=bi(p.pendingLanes);E!==0&&(Ea(p,E|1),ra(p,qe()),(Qn&6)===0&&(Fg=qe()+500,ll()))}break;case 13:fp(function(){var P=Oa(h,1);if(P!==null){var L=Ro();ic(P,h,1,L)}}),UM(h,1)}},of=function(h){if(h.tag===13){var p=Oa(h,134217728);if(p!==null){var E=Ro();ic(p,h,134217728,E)}UM(h,134217728)}},af=function(h){if(h.tag===13){var p=Ff(h),E=Oa(h,p);if(E!==null){var P=Ro();ic(E,h,p,P)}UM(h,p)}},rl=function(){return zn},Hu=function(h,p){var E=zn;try{return zn=h,p()}finally{zn=E}},rt=function(h,p,E){switch(p){case"input":if(Xe(h,E),p=E.name,E.type==="radio"&&p!=null){for(E=h;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<E.length;p++){var P=E[p];if(P!==h&&P.form===h.form){var L=gg(P);if(!L)throw Error(n(90));Z(P),Xe(P,L)}}}break;case"textarea":J(h,E);break;case"select":p=E.value,p!=null&&ke(h,!!E.multiple,p,!1)}},Un=IM,Rn=fp;var WK={usingClientEntryPoint:!1,Events:[Yl,Zr,gg,an,pn,IM]},D0={findFiberByHostInstance:$c,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jK={bundleType:D0.bundleType,version:D0.version,rendererPackageName:D0.rendererPackageName,rendererConfig:D0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ye(h),h===null?null:h.stateNode},findFiberByHostInstance:D0.findFiberByHostInstance||GK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jb.isDisabled&&Jb.supportsFiber)try{Lt=Jb.inject(jK),ln=Jb}catch{}}return ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WK,ia.createPortal=function(h,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BM(p))throw Error(n(200));return VK(h,p,null,E)},ia.createRoot=function(h,p){if(!BM(h))throw Error(n(299));var E=!1,P="",L=bN;return p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(L=p.onRecoverableError)),p=FM(h,1,!1,null,null,E,!1,P,L),h[Co]=p.current,yf(h.nodeType===8?h.parentNode:h),new zM(p)},ia.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Ye(p),h=h===null?null:h.stateNode,h},ia.flushSync=function(h){return fp(h)},ia.hydrate=function(h,p,E){if(!Zb(p))throw Error(n(200));return Qb(null,h,p,!0,E)},ia.hydrateRoot=function(h,p,E){if(!BM(h))throw Error(n(405));var P=E!=null&&E.hydratedSources||null,L=!1,H="",ee=bN;if(E!=null&&(E.unstable_strictMode===!0&&(L=!0),E.identifierPrefix!==void 0&&(H=E.identifierPrefix),E.onRecoverableError!==void 0&&(ee=E.onRecoverableError)),p=xN(p,null,h,1,E??null,L,!1,H,ee),h[Co]=p.current,yf(h),P)for(h=0;h<P.length;h++)E=P[h],L=E._getVersion,L=L(E._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[E,L]:p.mutableSourceEagerHydrationData.push(E,L);return new Kb(p)},ia.render=function(h,p,E){if(!Zb(p))throw Error(n(200));return Qb(null,h,p,!1,E)},ia.unmountComponentAtNode=function(h){if(!Zb(h))throw Error(n(40));return h._reactRootContainer?(fp(function(){Qb(null,null,h,!1,function(){h._reactRootContainer=null,h[Co]=null})}),!0):!1},ia.unstable_batchedUpdates=IM,ia.unstable_renderSubtreeIntoContainer=function(h,p,E,P){if(!Zb(E))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Qb(h,p,E,!1,P)},ia.version="18.2.0-next-9e3b772b8-20220608",ia}var IN;function LG(){if(IN)return HM.exports;IN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),HM.exports=tZ(),HM.exports}var kN;function nZ(){if(kN)return e1;kN=1;var t=LG();return e1.createRoot=t.createRoot,e1.hydrateRoot=t.hydrateRoot,e1}var DG=nZ(),N=Oy();const ts=qa(N),ON=qK({__proto__:null,default:ts},[N]);var F0={},LN;function rZ(){if(LN)return F0;LN=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.parse=o,F0.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,m){const v=new s,w=f.length;if(w<2)return v;const x=(m==null?void 0:m.decode)||u;let y=0;do{const b=f.indexOf("=",y);if(b===-1)break;const S=f.indexOf(";",y),T=S===-1?w:S;if(b>T){y=f.lastIndexOf(";",b-1)+1;continue}const C=a(f,y,b),M=l(f,b,C),I=f.slice(C,M);if(v[I]===void 0){let O=a(f,b+1,T),R=l(f,T,O);const D=x(f.slice(O,R));v[I]=D}y=T+1}while(y<w);return v}function a(f,m,v){do{const w=f.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<v);return v}function l(f,m,v){for(;m>v;){const w=f.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return v}function c(f,m,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const x=w(m);if(!e.test(x))throw new TypeError(`argument val is invalid: ${m}`);let y=f+"="+x;if(!v)return y;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);y+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);y+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);y+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);y+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(y+="; HttpOnly"),v.secure&&(y+="; Secure"),v.partitioned&&(y+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return y}function u(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return F0}rZ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DN="popstate";function iZ(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Xd(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_x("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:xh(s))}function r(i,s){Is(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return oZ(e,n,r,t)}function Gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sZ(){return Math.random().toString(36).substring(2,10)}function NN(t,e){return{usr:t.state,key:t.key,idx:e}}function _x(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xd(e):e,state:n,key:e&&e.key||r||sZ()}}function xh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:y})}function f(x,y){a="PUSH";let b=_x(w.location,x,y);n&&n(b,x),c=u()+1;let S=NN(b,c),T=w.createHref(b);try{o.pushState(S,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&l&&l({action:a,location:w.location,delta:1})}function m(x,y){a="REPLACE";let b=_x(w.location,x,y);n&&n(b,x),c=u();let S=NN(b,c),T=w.createHref(b);o.replaceState(S,"",T),s&&l&&l({action:a,location:w.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:xh(x);return b=b.replace(/ $/,"%20"),Gn(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DN,d),l=x,()=>{i.removeEventListener(DN,d),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return w}var aZ=new Set(["lazy","caseSensitive","path","id","index","children"]);function lZ(t){return t.index===!0}function vE(t,e,n=[],r={}){return t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Gn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Gn(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),lZ(i)){let l={...i,...e(i),id:a};return r[a]=l,l}else{let l={...i,...e(i),id:a,children:void 0};return r[a]=l,i.children&&(l.children=vE(i.children,e,o,r)),l}})}function ih(t,e,n="/"){return DS(t,e,n,!1)}function DS(t,e,n,r){let i=typeof e=="string"?Xd(e):e,s=Cc(i.pathname||"/",n);if(s==null)return null;let o=NG(t);uZ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wZ(s);a=_Z(o[l],c,r)}return a}function cZ(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function NG(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Gn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=xu([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Gn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),NG(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vZ(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of FG(s.path))i(s,o,l)}),e}function FG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=FG(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dZ=/^:[\w-]+$/,fZ=3,hZ=2,pZ=1,mZ=10,gZ=-2,FN=t=>t==="*";function vZ(t,e){let n=t.split("/"),r=n.length;return n.some(FN)&&(r+=gZ),e&&(r+=hZ),n.filter(i=>!FN(i)).reduce((i,s)=>i+(dZ.test(s)?fZ:s===""?pZ:mZ),r)}function yZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _Z(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=yE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=yE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:xu([s,d.pathname]),pathnameBase:EZ(xu([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=xu([s,d.pathnameBase]))}return o}function yE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[f];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xZ(t,e=!1,n=!0){Is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xd(t):t;return{pathname:n?n.startsWith("/")?n:SZ(n,e):e,search:TZ(r),hash:CZ(i)}}function SZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $M(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UG(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sk(t){let e=UG(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ok(t,e,n,r=!1){let i;typeof t=="string"?i=Xd(t):(i={...t},Gn(!i.pathname||!i.pathname.includes("?"),$M("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),$M("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),$M("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=bZ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var xu=t=>t.join("/").replace(/\/\/+/g,"/"),EZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,_E=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zG=["POST","PUT","PATCH","DELETE"],MZ=new Set(zG),AZ=["GET",...zG],PZ=new Set(AZ),RZ=new Set([301,302,303,307,308]),IZ=new Set([307,308]),YM={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kZ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},U0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ak=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OZ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),BG="remix-router-transitions",VG=Symbol("ResetLoaderData");function LZ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Gn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||OZ,i={},s=vE(t.routes,r,void 0,i),o,a=t.basename||"/",l=t.dataStrategy||zZ,c=t.patchRoutesOnNavigation,u={...t.future},d=null,f=new Set,m=null,v=null,w=null,x=t.hydrationData!=null,y=ih(s,t.history.location,a),b=!1,S=null;if(y==null&&!c){let we=bl(404,{pathname:t.history.location.pathname}),{matches:Ee,route:Pe}=XN(s);y=Ee,S={[Pe.id]:we}}y&&!t.hydrationData&&an(y,s,t.history.location.pathname).active&&(y=null);let T;if(y)if(y.some(we=>we.route.lazy))T=!1;else if(!y.some(we=>we.route.loader))T=!0;else{let we=t.hydrationData?t.hydrationData.loaderData:null,Ee=t.hydrationData?t.hydrationData.errors:null;if(Ee){let Pe=y.findIndex(Qe=>Ee[Qe.route.id]!==void 0);T=y.slice(0,Pe+1).every(Qe=>!zR(Qe.route,we,Ee))}else T=y.every(Pe=>!zR(Pe.route,we,Ee))}else{T=!1,y=[];let we=an(null,s,t.history.location.pathname);we.active&&we.matches&&(b=!0,y=we.matches)}let C,M={historyAction:t.history.action,location:t.history.location,matches:y,initialized:T,navigation:YM,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I="POP",O=!1,R,D=!1,j=new Map,$=null,B=!1,Q=!1,ne=new Set,K=new Map,V=0,G=-1,W=new Map,F=new Set,U=new Map,q=new Map,te=new Set,re=new Map,le,fe=null;function ye(){if(d=t.history.listen(({action:we,location:Ee,delta:Pe})=>{if(le){le(),le=void 0;return}Is(re.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Qe=en({currentLocation:M.location,nextLocation:Ee,historyAction:we});if(Qe&&Pe!=null){let ft=new Promise(gt=>{le=gt});t.history.go(Pe*-1),Rt(Qe,{state:"blocked",location:Ee,proceed(){Rt(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),ft.then(()=>t.history.go(Pe))},reset(){let gt=new Map(M.blockers);gt.set(Qe,U0),Se({blockers:gt})}});return}return ue(we,Ee)}),n){KZ(e,j);let we=()=>ZZ(e,j);e.addEventListener("pagehide",we),$=()=>e.removeEventListener("pagehide",we)}return M.initialized||ue("POP",M.location,{initialHydration:!0}),C}function se(){d&&d(),$&&$(),f.clear(),R&&R.abort(),M.fetchers.forEach((we,Ee)=>et(Ee)),M.blockers.forEach((we,Ee)=>ct(Ee))}function ve(we){return f.add(we),()=>f.delete(we)}function Se(we,Ee={}){M={...M,...we};let Pe=[],Qe=[];M.fetchers.forEach((ft,gt)=>{ft.state==="idle"&&(te.has(gt)?Pe.push(gt):Qe.push(gt))}),te.forEach(ft=>{!M.fetchers.has(ft)&&!K.has(ft)&&Pe.push(ft)}),[...f].forEach(ft=>ft(M,{deletedFetchers:Pe,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),Pe.forEach(ft=>et(ft)),Qe.forEach(ft=>M.fetchers.delete(ft))}function pe(we,Ee,{flushSync:Pe}={}){var at,Wt;let Qe=M.actionData!=null&&M.navigation.formMethod!=null&&mc(M.navigation.formMethod)&&M.navigation.state==="loading"&&((at=we.state)==null?void 0:at._isRedirect)!==!0,ft;Ee.actionData?Object.keys(Ee.actionData).length>0?ft=Ee.actionData:ft=null:Qe?ft=M.actionData:ft=null;let gt=Ee.loaderData?$N(M.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):M.loaderData,At=M.blockers;At.size>0&&(At=new Map(At),At.forEach((rn,Tn)=>At.set(Tn,U0)));let xt=O===!0||M.navigation.formMethod!=null&&mc(M.navigation.formMethod)&&((Wt=we.state)==null?void 0:Wt._isRedirect)!==!0;o&&(s=o,o=void 0),B||I==="POP"||(I==="PUSH"?t.history.push(we,we.state):I==="REPLACE"&&t.history.replace(we,we.state));let pt;if(I==="POP"){let rn=j.get(M.location.pathname);rn&&rn.has(we.pathname)?pt={currentLocation:M.location,nextLocation:we}:j.has(we.pathname)&&(pt={currentLocation:we,nextLocation:M.location})}else if(D){let rn=j.get(M.location.pathname);rn?rn.add(we.pathname):(rn=new Set([we.pathname]),j.set(M.location.pathname,rn)),pt={currentLocation:M.location,nextLocation:we}}Se({...Ee,actionData:ft,loaderData:gt,historyAction:I,location:we,initialized:!0,navigation:YM,revalidation:"idle",restoreScrollPosition:yt(we,Ee.matches||M.matches),preventScrollReset:xt,blockers:At},{viewTransitionOpts:pt,flushSync:Pe===!0}),I="POP",O=!1,D=!1,B=!1,Q=!1,fe==null||fe.resolve(),fe=null}async function Z(we,Ee){if(typeof we=="number"){t.history.go(we);return}let Pe=UR(M.location,M.matches,a,we,Ee==null?void 0:Ee.fromRouteId,Ee==null?void 0:Ee.relative),{path:Qe,submission:ft,error:gt}=UN(!1,Pe,Ee),At=M.location,xt=_x(M.location,Qe,Ee&&Ee.state);xt={...xt,...t.history.encodeLocation(xt)};let pt=Ee&&Ee.replace!=null?Ee.replace:void 0,at="PUSH";pt===!0?at="REPLACE":pt===!1||ft!=null&&mc(ft.formMethod)&&ft.formAction===M.location.pathname+M.location.search&&(at="REPLACE");let Wt=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,rn=(Ee&&Ee.flushSync)===!0,Tn=en({currentLocation:At,nextLocation:xt,historyAction:at});if(Tn){Rt(Tn,{state:"blocked",location:xt,proceed(){Rt(Tn,{state:"proceeding",proceed:void 0,reset:void 0,location:xt}),Z(we,Ee)},reset(){let ae=new Map(M.blockers);ae.set(Tn,U0),Se({blockers:ae})}});return}await ue(at,xt,{submission:ft,pendingError:gt,preventScrollReset:Wt,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:rn})}function me(){fe||(fe=QZ()),he(),Se({revalidation:"loading"});let we=fe.promise;return M.navigation.state==="submitting"?we:M.navigation.state==="idle"?(ue(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),we):(ue(I||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:D===!0}),we)}async function ue(we,Ee,Pe){R&&R.abort(),R=null,I=we,B=(Pe&&Pe.startUninterruptedRevalidation)===!0,st(M.location,M.matches),O=(Pe&&Pe.preventScrollReset)===!0,D=(Pe&&Pe.enableViewTransition)===!0;let Qe=o||s,ft=Pe&&Pe.overrideNavigation,gt=Pe!=null&&Pe.initialHydration&&M.matches&&M.matches.length>0&&!b?M.matches:ih(Qe,Ee,a),At=(Pe&&Pe.flushSync)===!0;if(gt&&M.initialized&&!Q&&jZ(M.location,Ee)&&!(Pe&&Pe.submission&&mc(Pe.submission.formMethod))){pe(Ee,{matches:gt},{flushSync:At});return}let xt=an(gt,Qe,Ee.pathname);if(xt.active&&xt.matches&&(gt=xt.matches),!gt){let{error:Ie,notFoundMatches:Fe,route:Ce}=xe(Ee.pathname);pe(Ee,{matches:Fe,loaderData:{},errors:{[Ce.id]:Ie}},{flushSync:At});return}R=new AbortController;let pt=zg(t.history,Ee,R.signal,Pe&&Pe.submission),at;if(Pe&&Pe.pendingError)at=[Bp(gt).route.id,{type:"error",error:Pe.pendingError}];else if(Pe&&Pe.submission&&mc(Pe.submission.formMethod)){let Ie=await _e(pt,Ee,Pe.submission,gt,xt.active,{replace:Pe.replace,flushSync:At});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[Fe,Ce]=Ie.pendingActionResult;if(Ba(Ce)&&xx(Ce.error)&&Ce.error.status===404){R=null,pe(Ee,{matches:Ie.matches,loaderData:{},errors:{[Fe]:Ce.error}});return}}gt=Ie.matches||gt,at=Ie.pendingActionResult,ft=XM(Ee,Pe.submission),At=!1,xt.active=!1,pt=zg(t.history,pt.url,pt.signal)}let{shortCircuited:Wt,matches:rn,loaderData:Tn,errors:ae}=await ce(pt,Ee,gt,xt.active,ft,Pe&&Pe.submission,Pe&&Pe.fetcherSubmission,Pe&&Pe.replace,Pe&&Pe.initialHydration===!0,At,at);Wt||(R=null,pe(Ee,{matches:rn||gt,...YN(at),loaderData:Tn,errors:ae}))}async function _e(we,Ee,Pe,Qe,ft,gt={}){he();let At=XZ(Ee,Pe);if(Se({navigation:At},{flushSync:gt.flushSync===!0}),ft){let at=await pn(Qe,Ee.pathname,we.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){let Wt=Bp(at.partialMatches).route.id;return{matches:at.partialMatches,pendingActionResult:[Wt,{type:"error",error:at.error}]}}else if(at.matches)Qe=at.matches;else{let{notFoundMatches:Wt,error:rn,route:Tn}=xe(Ee.pathname);return{matches:Wt,pendingActionResult:[Tn.id,{type:"error",error:rn}]}}}let xt,pt=F_(Qe,Ee);if(!pt.route.action&&!pt.route.lazy)xt={type:"error",error:bl(405,{method:we.method,pathname:Ee.pathname,routeId:pt.route.id})};else if(xt=(await ie("action",M,we,[pt],Qe,null))[pt.route.id],we.signal.aborted)return{shortCircuited:!0};if($p(xt)){let at;return gt&&gt.replace!=null?at=gt.replace:at=HN(xt.response.headers.get("Location"),new URL(we.url),a)===M.location.pathname+M.location.search,await nt(we,xt,!0,{submission:Pe,replace:at}),{shortCircuited:!0}}if(Ba(xt)){let at=Bp(Qe,pt.route.id);return(gt&&gt.replace)!==!0&&(I="PUSH"),{matches:Qe,pendingActionResult:[at.route.id,xt]}}return{matches:Qe,pendingActionResult:[pt.route.id,xt]}}async function ce(we,Ee,Pe,Qe,ft,gt,At,xt,pt,at,Wt){let rn=ft||XM(Ee,gt),Tn=gt||At||KN(rn),ae=!B&&!pt;if(Qe){if(ae){let On=Xe(Wt);Se({navigation:rn,...On!==void 0?{actionData:On}:{}},{flushSync:at})}let $t=await pn(Pe,Ee.pathname,we.signal);if($t.type==="aborted")return{shortCircuited:!0};if($t.type==="error"){let On=Bp($t.partialMatches).route.id;return{matches:$t.partialMatches,loaderData:{},errors:{[On]:$t.error}}}else if($t.matches)Pe=$t.matches;else{let{error:On,notFoundMatches:qr,route:Ln}=xe(Ee.pathname);return{matches:qr,loaderData:{},errors:{[Ln.id]:On}}}}let Ie=o||s,[Fe,Ce]=BN(t.history,M,Pe,Tn,Ee,pt===!0,Q,ne,te,U,F,Ie,a,Wt);if(G=++V,Fe.length===0&&Ce.length===0){let $t=wt();return pe(Ee,{matches:Pe,loaderData:{},errors:Wt&&Ba(Wt[1])?{[Wt[0]]:Wt[1].error}:null,...YN(Wt),...$t?{fetchers:new Map(M.fetchers)}:{}},{flushSync:at}),{shortCircuited:!0}}if(ae){let $t={};if(!Qe){$t.navigation=rn;let On=Xe(Wt);On!==void 0&&($t.actionData=On)}Ce.length>0&&($t.fetchers=Ae(Ce)),Se($t,{flushSync:at})}Ce.forEach($t=>{Oe($t.key),$t.controller&&K.set($t.key,$t.controller)});let Ye=()=>Ce.forEach($t=>Oe($t.key));R&&R.signal.addEventListener("abort",Ye);let{loaderResults:It,fetcherResults:Bt}=await J(M,Pe,Fe,Ce,we);if(we.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Ye),Ce.forEach($t=>K.delete($t.key));let Gt=t1(It);if(Gt)return await nt(we,Gt.result,!0,{replace:xt}),{shortCircuited:!0};if(Gt=t1(Bt),Gt)return F.add(Gt.key),await nt(we,Gt.result,!0,{replace:xt}),{shortCircuited:!0};let{loaderData:tn,errors:dn}=jN(M,Pe,It,Wt,Ce,Bt);pt&&M.errors&&(dn={...M.errors,...dn});let qe=wt(),Qt=dt(G),Wn=qe||Qt||Ce.length>0;return{matches:Pe,loaderData:tn,errors:dn,...Wn?{fetchers:new Map(M.fetchers)}:{}}}function Xe(we){if(we&&!Ba(we[1]))return{[we[0]]:we[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Ae(we){return we.forEach(Ee=>{let Pe=M.fetchers.get(Ee.key),Qe=z0(void 0,Pe?Pe.data:void 0);M.fetchers.set(Ee.key,Qe)}),new Map(M.fetchers)}async function Ge(we,Ee,Pe,Qe){Oe(we);let ft=(Qe&&Qe.flushSync)===!0,gt=o||s,At=UR(M.location,M.matches,a,Pe,Ee,Qe==null?void 0:Qe.relative),xt=ih(gt,At,a),pt=an(xt,gt,At);if(pt.active&&pt.matches&&(xt=pt.matches),!xt){ze(we,Ee,bl(404,{pathname:At}),{flushSync:ft});return}let{path:at,submission:Wt,error:rn}=UN(!0,At,Qe);if(rn){ze(we,Ee,rn,{flushSync:ft});return}let Tn=F_(xt,at),ae=(Qe&&Qe.preventScrollReset)===!0;if(Wt&&mc(Wt.formMethod)){await je(we,Ee,at,Tn,xt,pt.active,ft,ae,Wt);return}U.set(we,{routeId:Ee,path:at}),await ke(we,Ee,at,Tn,xt,pt.active,ft,ae,Wt)}async function je(we,Ee,Pe,Qe,ft,gt,At,xt,pt){he(),U.delete(we);function at(Lt){if(!Lt.route.action&&!Lt.route.lazy){let ln=bl(405,{method:pt.formMethod,pathname:Pe,routeId:Ee});return ze(we,Ee,ln,{flushSync:At}),!0}return!1}if(!gt&&at(Qe))return;let Wt=M.fetchers.get(we);Ne(we,qZ(pt,Wt),{flushSync:At});let rn=new AbortController,Tn=zg(t.history,Pe,rn.signal,pt);if(gt){let Lt=await pn(ft,Pe,Tn.signal);if(Lt.type==="aborted")return;if(Lt.type==="error"){ze(we,Ee,Lt.error,{flushSync:At});return}else if(Lt.matches){if(ft=Lt.matches,Qe=F_(ft,Pe),at(Qe))return}else{ze(we,Ee,bl(404,{pathname:Pe}),{flushSync:At});return}}K.set(we,rn);let ae=V,Fe=(await ie("action",M,Tn,[Qe],ft,we))[Qe.route.id];if(Tn.signal.aborted){K.get(we)===rn&&K.delete(we);return}if(te.has(we)){if($p(Fe)||Ba(Fe)){Ne(we,eh(void 0));return}}else{if($p(Fe))if(K.delete(we),G>ae){Ne(we,eh(void 0));return}else return F.add(we),Ne(we,z0(pt)),nt(Tn,Fe,!1,{fetcherSubmission:pt,preventScrollReset:xt});if(Ba(Fe)){ze(we,Ee,Fe.error);return}}let Ce=M.navigation.location||M.location,Ye=zg(t.history,Ce,rn.signal),It=o||s,Bt=M.navigation.state!=="idle"?ih(It,M.navigation.location,a):M.matches;Gn(Bt,"Didn't find any matches after fetcher action");let Gt=++V;W.set(we,Gt);let tn=z0(pt,Fe.data);M.fetchers.set(we,tn);let[dn,qe]=BN(t.history,M,Bt,pt,Ce,!1,Q,ne,te,U,F,It,a,[Qe.route.id,Fe]);qe.filter(Lt=>Lt.key!==we).forEach(Lt=>{let ln=Lt.key,sn=M.fetchers.get(ln),Xn=z0(void 0,sn?sn.data:void 0);M.fetchers.set(ln,Xn),Oe(ln),Lt.controller&&K.set(ln,Lt.controller)}),Se({fetchers:new Map(M.fetchers)});let Qt=()=>qe.forEach(Lt=>Oe(Lt.key));rn.signal.addEventListener("abort",Qt);let{loaderResults:Wn,fetcherResults:$t}=await J(M,Bt,dn,qe,Ye);if(rn.signal.aborted)return;rn.signal.removeEventListener("abort",Qt),W.delete(we),K.delete(we),qe.forEach(Lt=>K.delete(Lt.key));let On=t1(Wn);if(On)return nt(Ye,On.result,!1,{preventScrollReset:xt});if(On=t1($t),On)return F.add(On.key),nt(Ye,On.result,!1,{preventScrollReset:xt});let{loaderData:qr,errors:Ln}=jN(M,Bt,Wn,void 0,qe,$t);if(M.fetchers.has(we)){let Lt=eh(Fe.data);M.fetchers.set(we,Lt)}dt(Gt),M.navigation.state==="loading"&&Gt>G?(Gn(I,"Expected pending action"),R&&R.abort(),pe(M.navigation.location,{matches:Bt,loaderData:qr,errors:Ln,fetchers:new Map(M.fetchers)})):(Se({errors:Ln,loaderData:$N(M.loaderData,qr,Bt,Ln),fetchers:new Map(M.fetchers)}),Q=!1)}async function ke(we,Ee,Pe,Qe,ft,gt,At,xt,pt){let at=M.fetchers.get(we);Ne(we,z0(pt,at?at.data:void 0),{flushSync:At});let Wt=new AbortController,rn=zg(t.history,Pe,Wt.signal);if(gt){let Fe=await pn(ft,Pe,rn.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){ze(we,Ee,Fe.error,{flushSync:At});return}else if(Fe.matches)ft=Fe.matches,Qe=F_(ft,Pe);else{ze(we,Ee,bl(404,{pathname:Pe}),{flushSync:At});return}}K.set(we,Wt);let Tn=V,Ie=(await ie("loader",M,rn,[Qe],ft,we))[Qe.route.id];if(K.get(we)===Wt&&K.delete(we),!rn.signal.aborted){if(te.has(we)){Ne(we,eh(void 0));return}if($p(Ie))if(G>Tn){Ne(we,eh(void 0));return}else{F.add(we),await nt(rn,Ie,!1,{preventScrollReset:xt});return}if(Ba(Ie)){ze(we,Ee,Ie.error);return}Ne(we,eh(Ie.data))}}async function nt(we,Ee,Pe,{submission:Qe,fetcherSubmission:ft,preventScrollReset:gt,replace:At}={}){Ee.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let xt=Ee.response.headers.get("Location");Gn(xt,"Expected a Location header on the redirect Response"),xt=HN(xt,new URL(we.url),a);let pt=_x(M.location,xt,{_isRedirect:!0});if(n){let Ie=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(ak.test(xt)){const Fe=t.history.createURL(xt);Ie=Fe.origin!==e.location.origin||Cc(Fe.pathname,a)==null}if(Ie){At?e.location.replace(xt):e.location.assign(xt);return}}R=null;let at=At===!0||Ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Wt,formAction:rn,formEncType:Tn}=M.navigation;!Qe&&!ft&&Wt&&rn&&Tn&&(Qe=KN(M.navigation));let ae=Qe||ft;if(IZ.has(Ee.response.status)&&ae&&mc(ae.formMethod))await ue(at,pt,{submission:{...ae,formAction:xt},preventScrollReset:gt||O,enableViewTransition:Pe?D:void 0});else{let Ie=XM(pt,Qe);await ue(at,pt,{overrideNavigation:Ie,fetcherSubmission:ft,preventScrollReset:gt||O,enableViewTransition:Pe?D:void 0})}}async function ie(we,Ee,Pe,Qe,ft,gt){let At,xt={};try{At=await BZ(l,we,Ee,Pe,Qe,ft,gt,i,r)}catch(pt){return Qe.forEach(at=>{xt[at.route.id]={type:"error",error:pt}}),xt}for(let[pt,at]of Object.entries(At))if($Z(at)){let Wt=at.result;xt[pt]={type:"redirect",response:HZ(Wt,Pe,pt,ft,a)}}else xt[pt]=await GZ(at);return xt}async function J(we,Ee,Pe,Qe,ft){let gt=ie("loader",we,ft,Pe,Ee,null),At=Promise.all(Qe.map(async at=>{if(at.matches&&at.match&&at.controller){let rn=(await ie("loader",we,zg(t.history,at.path,at.controller.signal),[at.match],at.matches,at.key))[at.match.route.id];return{[at.key]:rn}}else return Promise.resolve({[at.key]:{type:"error",error:bl(404,{pathname:at.path})}})})),xt=await gt,pt=(await At).reduce((at,Wt)=>Object.assign(at,Wt),{});return{loaderResults:xt,fetcherResults:pt}}function he(){Q=!0,U.forEach((we,Ee)=>{K.has(Ee)&&ne.add(Ee),Oe(Ee)})}function Ne(we,Ee,Pe={}){M.fetchers.set(we,Ee),Se({fetchers:new Map(M.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function ze(we,Ee,Pe,Qe={}){let ft=Bp(M.matches,Ee);et(we),Se({errors:{[ft.route.id]:Pe},fetchers:new Map(M.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function He(we){return q.set(we,(q.get(we)||0)+1),te.has(we)&&te.delete(we),M.fetchers.get(we)||kZ}function et(we){let Ee=M.fetchers.get(we);K.has(we)&&!(Ee&&Ee.state==="loading"&&W.has(we))&&Oe(we),U.delete(we),W.delete(we),F.delete(we),te.delete(we),ne.delete(we),M.fetchers.delete(we)}function Ze(we){let Ee=(q.get(we)||0)-1;Ee<=0?(q.delete(we),te.add(we)):q.set(we,Ee),Se({fetchers:new Map(M.fetchers)})}function Oe(we){let Ee=K.get(we);Ee&&(Ee.abort(),K.delete(we))}function lt(we){for(let Ee of we){let Pe=He(Ee),Qe=eh(Pe.data);M.fetchers.set(Ee,Qe)}}function wt(){let we=[],Ee=!1;for(let Pe of F){let Qe=M.fetchers.get(Pe);Gn(Qe,`Expected fetcher: ${Pe}`),Qe.state==="loading"&&(F.delete(Pe),we.push(Pe),Ee=!0)}return lt(we),Ee}function dt(we){let Ee=[];for(let[Pe,Qe]of W)if(Qe<we){let ft=M.fetchers.get(Pe);Gn(ft,`Expected fetcher: ${Pe}`),ft.state==="loading"&&(Oe(Pe),W.delete(Pe),Ee.push(Pe))}return lt(Ee),Ee.length>0}function tt(we,Ee){let Pe=M.blockers.get(we)||U0;return re.get(we)!==Ee&&re.set(we,Ee),Pe}function ct(we){M.blockers.delete(we),re.delete(we)}function Rt(we,Ee){let Pe=M.blockers.get(we)||U0;Gn(Pe.state==="unblocked"&&Ee.state==="blocked"||Pe.state==="blocked"&&Ee.state==="blocked"||Pe.state==="blocked"&&Ee.state==="proceeding"||Pe.state==="blocked"&&Ee.state==="unblocked"||Pe.state==="proceeding"&&Ee.state==="unblocked",`Invalid blocker state transition: ${Pe.state} -> ${Ee.state}`);let Qe=new Map(M.blockers);Qe.set(we,Ee),Se({blockers:Qe})}function en({currentLocation:we,nextLocation:Ee,historyAction:Pe}){if(re.size===0)return;re.size>1&&Is(!1,"A router only supports one blocker at a time");let Qe=Array.from(re.entries()),[ft,gt]=Qe[Qe.length-1],At=M.blockers.get(ft);if(!(At&&At.state==="proceeding")&&gt({currentLocation:we,nextLocation:Ee,historyAction:Pe}))return ft}function xe(we){let Ee=bl(404,{pathname:we}),Pe=o||s,{matches:Qe,route:ft}=XN(Pe);return{notFoundMatches:Qe,route:ft,error:Ee}}function rt(we,Ee,Pe){if(m=we,w=Ee,v=Pe||null,!x&&M.navigation===YM){x=!0;let Qe=yt(M.location,M.matches);Qe!=null&&Se({restoreScrollPosition:Qe})}return()=>{m=null,w=null,v=null}}function De(we,Ee){return v&&v(we,Ee.map(Qe=>cZ(Qe,M.loaderData)))||we.key}function st(we,Ee){if(m&&w){let Pe=De(we,Ee);m[Pe]=w()}}function yt(we,Ee){if(m){let Pe=De(we,Ee),Qe=m[Pe];if(typeof Qe=="number")return Qe}return null}function an(we,Ee,Pe){if(c)if(we){if(Object.keys(we[0].params).length>0)return{active:!0,matches:DS(Ee,Pe,a,!0)}}else return{active:!0,matches:DS(Ee,Pe,a,!0)||[]};return{active:!1,matches:null}}async function pn(we,Ee,Pe){if(!c)return{type:"success",matches:we};let Qe=we;for(;;){let ft=o==null,gt=o||s,At=i;try{await c({signal:Pe,path:Ee,matches:Qe,patch:(at,Wt)=>{Pe.aborted||GN(at,Wt,gt,At,r)}})}catch(at){return{type:"error",error:at,partialMatches:Qe}}finally{ft&&!Pe.aborted&&(s=[...s])}if(Pe.aborted)return{type:"aborted"};let xt=ih(gt,Ee,a);if(xt)return{type:"success",matches:xt};let pt=DS(gt,Ee,a,!0);if(!pt||Qe.length===pt.length&&Qe.every((at,Wt)=>at.route.id===pt[Wt].route.id))return{type:"success",matches:null};Qe=pt}}function Un(we){i={},o=vE(we,r,void 0,i)}function Rn(we,Ee){let Pe=o==null;GN(we,Ee,o||s,i,r),Pe&&(s=[...s],Se({}))}return C={get basename(){return a},get future(){return u},get state(){return M},get routes(){return s},get window(){return e},initialize:ye,subscribe:ve,enableScrollRestoration:rt,navigate:Z,fetch:Ge,revalidate:me,createHref:we=>t.history.createHref(we),encodeLocation:we=>t.history.encodeLocation(we),getFetcher:He,deleteFetcher:Ze,dispose:se,getBlocker:tt,deleteBlocker:ct,patchRoutes:Rn,_internalFetchControllers:K,_internalSetRoutes:Un},C}function DZ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function UR(t,e,n,r,i,s){let o,a;if(i){o=[];for(let c of e)if(o.push(c),c.route.id===i){a=c;break}}else o=e,a=e[e.length-1];let l=ok(r||".",sk(o),Cc(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&a){let c=lk(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let u=new URLSearchParams(l.search),d=u.getAll("index");u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();l.search=f?`?${f}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:xu([n,l.pathname])),xh(l)}function UN(t,e,n){if(!n||!DZ(n))return{path:e};if(n.formMethod&&!YZ(n.formMethod))return{path:e,error:bl(405,{method:n.formMethod})};let r=()=>({path:e,error:bl(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=HG(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mc(s))return r();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[m,v])=>`${f}${m}=${v}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!mc(s))return r();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}Gn(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=BR(n.formData),l=n.formData;else if(n.body instanceof FormData)a=BR(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=WN(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=WN(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(mc(c.formMethod))return{path:e,submission:c};let u=Xd(e);return t&&u.search&&lk(u.search)&&a.append("index",""),u.search=`?${a}`,{path:xh(u),submission:c}}function zN(t,e,n=!1){let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function BN(t,e,n,r,i,s,o,a,l,c,u,d,f,m){let v=m?Ba(m[1])?m[1].error:m[1].data:void 0,w=t.createURL(e.location),x=t.createURL(i),y=n;s&&e.errors?y=zN(n,Object.keys(e.errors)[0],!0):m&&Ba(m[1])&&(y=zN(n,m[0]));let b=m?m[1].statusCode:void 0,S=b&&b>=400,T=y.filter((M,I)=>{let{route:O}=M;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return zR(O,e.loaderData,e.errors);if(NZ(e.loaderData,e.matches[I],M))return!0;let R=e.matches[I],D=M;return VN(M,{currentUrl:w,currentParams:R.params,nextUrl:x,nextParams:D.params,...r,actionResult:v,actionStatus:b,defaultShouldRevalidate:S?!1:o||w.pathname+w.search===x.pathname+x.search||w.search!==x.search||FZ(R,D)})}),C=[];return c.forEach((M,I)=>{if(s||!n.some($=>$.route.id===M.routeId)||l.has(I))return;let O=ih(d,M.path,f);if(!O){C.push({key:I,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(I),D=F_(O,M.path),j=!1;u.has(I)?j=!1:a.has(I)?(a.delete(I),j=!0):R&&R.state!=="idle"&&R.data===void 0?j=o:j=VN(D,{currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params,...r,actionResult:v,actionStatus:b,defaultShouldRevalidate:S?!1:o}),j&&C.push({key:I,routeId:M.routeId,path:M.path,matches:O,match:D,controller:new AbortController})}),[T,C]}function zR(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function NZ(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function FZ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function VN(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function GN(t,e,n,r,i){let s;if(t){let l=r[t];Gn(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let o=e.filter(l=>!s.some(c=>GG(l,c))),a=vE(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...a)}function GG(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>GG(n,s))}):!1}async function UZ(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Gn(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Is(!l,`Route "${i.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!l&&!aZ.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{...e(i),lazy:void 0})}async function zZ({matches:t}){let e=t.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,i,s)=>Object.assign(r,{[e[s].route.id]:i}),{})}async function BZ(t,e,n,r,i,s,o,a,l,c){let u=s.map(m=>m.route.lazy?UZ(m.route,l,a):void 0),d=s.map((m,v)=>{let w=u[v],x=i.some(b=>b.route.id===m.route.id);return{...m,shouldLoad:x,resolve:async b=>(b&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(x=!0),x?VZ(e,r,m,w,b,c):Promise.resolve({type:"data",result:void 0}))}}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function VZ(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((v,w)=>u=w);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):c({request:e,params:n.params,context:s},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw bl(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:"data",result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw bl(404,{pathname:d})}}catch(c){return{type:"error",result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function GZ(t){var r,i,s,o,a,l;let{result:e,type:n}=t;if(WG(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:"error",error:u}}return n==="error"?{type:"error",error:new _E(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?qN(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _E(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:xx(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xx(e)?e.status:void 0}:qN(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function HZ(t,e,n,r,i){let s=t.headers.get("Location");if(Gn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!ak.test(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=UR(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function HN(t,e,n){if(ak.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Cc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function zg(t,e,n,r){let i=t.createURL(HG(e)).toString(),s={signal:n};if(r&&mc(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=BR(r.formData):s.body=r.formData}return new Request(i,s)}function BR(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function WN(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WZ(t,e,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},u=n&&Ba(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(Gn(!$p(m),"Cannot handle redirect results in processLoaderData"),Ba(m)){let v=m.error;if(u!==void 0&&(v=u,u=void 0),o=o||{},i)o[f]=v;else{let w=Bp(t,f);o[w.route.id]==null&&(o[w.route.id]=v)}r||(s[f]=VG),l||(l=!0,a=xx(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function jN(t,e,n,r,i,s){let{loaderData:o,errors:a}=WZ(e,n,r);return i.forEach(l=>{let{key:c,match:u,controller:d}=l,f=s[c];if(Gn(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Ba(f)){let m=Bp(t.matches,u==null?void 0:u.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:f.error}),t.fetchers.delete(c)}else if($p(f))Gn(!1,"Unhandled fetcher revalidation redirect");else{let m=eh(f.data);t.fetchers.set(c,m)}}),{loaderData:o,errors:a}}function $N(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==VG).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function YN(t){return t?Ba(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Bp(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function XN(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bl(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",a=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new _E(t||500,o,new Error(a),!0)}function t1(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if($p(i))return{key:r,result:i}}}function HG(t){let e=typeof t=="string"?Xd(t):t;return xh({...e,hash:""})}function jZ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $Z(t){return WG(t.result)&&RZ.has(t.result.status)}function Ba(t){return t.type==="error"}function $p(t){return(t&&t.type)==="redirect"}function qN(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function WG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YZ(t){return PZ.has(t.toUpperCase())}function mc(t){return MZ.has(t.toUpperCase())}function lk(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function F_(t,e){let n=typeof e=="string"?Xd(e).search:e.search;if(t[t.length-1].route.index&&lk(n||""))return t[t.length-1];let r=UG(t);return r[r.length-1]}function KN(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function XM(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XZ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function z0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qZ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function eh(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KZ(t,e){try{let n=t.sessionStorage.getItem(BG);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function ZZ(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(BG,JSON.stringify(n))}catch(r){Is(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function QZ(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var km=N.createContext(null);km.displayName="DataRouter";var bw=N.createContext(null);bw.displayName="DataRouterState";var ck=N.createContext({isTransitioning:!1});ck.displayName="ViewTransition";var jG=N.createContext(new Map);jG.displayName="Fetchers";var JZ=N.createContext(null);JZ.displayName="Await";var Ou=N.createContext(null);Ou.displayName="Navigation";var IT=N.createContext(null);IT.displayName="Location";var Lu=N.createContext({outlet:null,matches:[],isDataRoute:!1});Lu.displayName="Route";var uk=N.createContext(null);uk.displayName="RouteError";function eQ(t,{relative:e}={}){Gn(Sw(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Ou),{hash:i,pathname:s,search:o}=Ew(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:xu([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Sw(){return N.useContext(IT)!=null}function Om(){return Gn(Sw(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(IT).location}var $G="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YG(t){N.useContext(Ou).static||N.useLayoutEffect(t)}function tQ(){let{isDataRoute:t}=N.useContext(Lu);return t?gQ():nQ()}function nQ(){Gn(Sw(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(km),{basename:e,navigator:n}=N.useContext(Ou),{matches:r}=N.useContext(Lu),{pathname:i}=Om(),s=JSON.stringify(sk(r)),o=N.useRef(!1);return YG(()=>{o.current=!0}),N.useCallback((l,c={})=>{if(Is(o.current,$G),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=ok(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:xu([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var rQ=N.createContext(null);function iQ(t){let e=N.useContext(Lu).outlet;return e&&N.createElement(rQ.Provider,{value:t},e)}function Ew(t,{relative:e}={}){let{matches:n}=N.useContext(Lu),{pathname:r}=Om(),i=JSON.stringify(sk(n));return N.useMemo(()=>ok(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function sQ(t,e,n,r){Gn(Sw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=N.useContext(Ou),{matches:o}=N.useContext(Lu),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let b=d&&d.path||"";XG(c,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Om(),m;m=f;let v=m.pathname||"/",w=v;if(u!=="/"){let b=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:ih(t,{pathname:w});return Is(d||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Is(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uQ(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:xu([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:xu([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function oQ(){let t=mQ(),e=xx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,o)}var aQ=N.createElement(oQ,null),lQ=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Lu.Provider,{value:this.props.routeContext},N.createElement(uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cQ({routeContext:t,match:e,children:n}){let r=N.useContext(km);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Lu.Provider,{value:t},n)}function uQ(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Gn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,f=!1,m=null,v=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||aQ,o&&(a<0&&u===0?(XG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):a===u&&(f=!0,v=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,u+1)),x=()=>{let y;return d?y=m:f?y=v:c.route.Component?y=N.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,N.createElement(cQ,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?N.createElement(lQ,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function dk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dQ(t){let e=N.useContext(km);return Gn(e,dk(t)),e}function fQ(t){let e=N.useContext(bw);return Gn(e,dk(t)),e}function hQ(t){let e=N.useContext(Lu);return Gn(e,dk(t)),e}function fk(t){let e=hQ(t),n=e.matches[e.matches.length-1];return Gn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pQ(){return fk("useRouteId")}function mQ(){var r;let t=N.useContext(uk),e=fQ("useRouteError"),n=fk("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gQ(){let{router:t}=dQ("useNavigate"),e=fk("useNavigate"),n=N.useRef(!1);return YG(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Is(n.current,$G),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var ZN={};function XG(t,e,n){!e&&!ZN[t]&&(ZN[t]=!0,Is(!1,n))}var QN={};function JN(t,e){!t&&!QN[e]&&(QN[e]=!0,console.warn(e))}function vQ(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Is(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Is(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Is(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var yQ=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function _Q({router:t,flushSync:e}){let[n,r]=N.useState(t.state),[i,s]=N.useState(),[o,a]=N.useState({isTransitioning:!1}),[l,c]=N.useState(),[u,d]=N.useState(),[f,m]=N.useState(),v=N.useRef(new Map),w=N.useCallback((S,{deletedFetchers:T,flushSync:C,viewTransitionOpts:M})=>{S.fetchers.forEach((O,R)=>{O.data!==void 0&&v.current.set(R,O.data)}),T.forEach(O=>v.current.delete(O)),JN(C===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(JN(M==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!I){e&&C?e(()=>r(S)):N.startTransition(()=>r(S));return}if(e&&C){e(()=>{u&&(l&&l.resolve(),u.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let O=t.window.document.startViewTransition(()=>{e(()=>r(S))});O.finished.finally(()=>{e(()=>{c(void 0),d(void 0),s(void 0),a({isTransitioning:!1})})}),e(()=>d(O));return}u?(l&&l.resolve(),u.skipTransition(),m({state:S,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(s(S),a({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[t.window,e,u,l]);N.useLayoutEffect(()=>t.subscribe(w),[t,w]),N.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new yQ)},[o]),N.useEffect(()=>{if(l&&i&&t.window){let S=i,T=l.promise,C=t.window.document.startViewTransition(async()=>{N.startTransition(()=>r(S)),await T});C.finished.finally(()=>{c(void 0),d(void 0),s(void 0),a({isTransitioning:!1})}),d(C)}},[i,l,t.window]),N.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,u,n.location,i]),N.useEffect(()=>{!o.isTransitioning&&f&&(s(f.state),a({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[o.isTransitioning,f]);let x=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,T,C)=>t.navigate(S,{state:T,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(S,T,C)=>t.navigate(S,{replace:!0,state:T,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[t]),y=t.basename||"/",b=N.useMemo(()=>({router:t,navigator:x,static:!1,basename:y}),[t,x,y]);return N.createElement(N.Fragment,null,N.createElement(km.Provider,{value:b},N.createElement(bw.Provider,{value:n},N.createElement(jG.Provider,{value:v.current},N.createElement(ck.Provider,{value:o},N.createElement(SQ,{basename:y,location:n.location,navigationType:n.historyAction,navigator:x},N.createElement(xQ,{routes:t.routes,future:t.future,state:n})))))),null)}var xQ=N.memo(wQ);function wQ({routes:t,future:e,state:n}){return sQ(t,void 0,n,e)}function bQ(t){return iQ(t.context)}function NS(t){Gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SQ({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Gn(!Sw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Xd(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,m=N.useMemo(()=>{let v=Cc(l,o);return v==null?null:{location:{pathname:v,search:c,hash:u,state:d,key:f},navigationType:r}},[o,l,c,u,d,f,r]);return Is(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:N.createElement(Ou.Provider,{value:a},N.createElement(IT.Provider,{children:e,value:m}))}function VR(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,VR(r.props.children,s));return}Gn(r.type===NS,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=VR(r.props.children,s)),n.push(o)}),n}var EQ=VR,FS="get",US="application/x-www-form-urlencoded";function kT(t){return t!=null&&typeof t.tagName=="string"}function TQ(t){return kT(t)&&t.tagName.toLowerCase()==="button"}function CQ(t){return kT(t)&&t.tagName.toLowerCase()==="form"}function MQ(t){return kT(t)&&t.tagName.toLowerCase()==="input"}function AQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PQ(t,e){return t.button===0&&(!e||e==="_self")&&!AQ(t)}var n1=null;function RQ(){if(n1===null)try{new FormData(document.createElement("form"),0),n1=!1}catch{n1=!0}return n1}var IQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qM(t){return t!=null&&!IQ.has(t)?(Is(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${US}"`),null):t}function kQ(t,e){let n,r,i,s,o;if(CQ(t)){let a=t.getAttribute("action");r=a?Cc(a,e):null,n=t.getAttribute("method")||FS,i=qM(t.getAttribute("enctype"))||US,s=new FormData(t)}else if(TQ(t)||MQ(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Cc(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||FS,i=qM(t.getAttribute("formenctype"))||qM(a.getAttribute("enctype"))||US,s=new FormData(a,t),!RQ()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(kT(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=FS,r=null,i=US,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function hk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function OQ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DQ(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await OQ(s,n);return o.links?o.links():[]}return[]}));return zQ(r.flat(1).filter(LQ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function e3(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function NQ(t,e,{includeHydrateFallback:n}={}){return FQ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function FQ(t){return[...new Set(t)]}function UQ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function zQ(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(UQ(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function BQ(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function VQ(){let t=N.useContext(km);return hk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GQ(){let t=N.useContext(bw);return hk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pk=N.createContext(void 0);pk.displayName="FrameworkContext";function qG(){let t=N.useContext(pk);return hk(t,"You must render this element inside a <HydratedRouter> element"),t}function HQ(t,e){let n=N.useContext(pk),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,f=N.useRef(null);N.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=y=>{y.forEach(b=>{o(b.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:B0(a,m),onBlur:B0(l,v),onMouseEnter:B0(c,m),onMouseLeave:B0(u,v),onTouchStart:B0(d,m)}]:[!1,f,{}]}function B0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WQ({page:t,...e}){let{router:n}=VQ(),r=N.useMemo(()=>ih(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement($Q,{page:t,matches:r,...e}):null}function jQ(t){let{manifest:e,routeModules:n}=qG(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return DQ(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function $Q({page:t,matches:e,...n}){let r=Om(),{manifest:i,routeModules:s}=qG(),{loaderData:o,matches:a}=GQ(),l=N.useMemo(()=>e3(t,e,a,i,r,"data"),[t,e,a,i,r]),c=N.useMemo(()=>e3(t,e,a,i,r,"assets"),[t,e,a,i,r]),u=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,v=!1;if(e.forEach(x=>{var b;let y=i.routes[x.route.id];!y||!y.hasLoader||(!l.some(S=>S.route.id===x.route.id)&&x.route.id in o&&((b=s[x.route.id])!=null&&b.shouldRevalidate)||y.hasClientLoader?v=!0:m.add(x.route.id))}),m.size===0)return[];let w=BQ(t);return v&&m.size>0&&w.searchParams.set("_routes",e.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,r,i,l,e,t,s]),d=N.useMemo(()=>NQ(c,i),[c,i]),f=jQ(c);return N.createElement(N.Fragment,null,u.map(m=>N.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),d.map(m=>N.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:v})=>N.createElement("link",{key:m,...v})))}function YQ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KG&&(window.__reactRouterVersion="7.2.0")}catch{}function XQ(t,e){return LZ({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:iZ({window:e==null?void 0:e.window}),hydrationData:qQ(),routes:t,mapRouteProperties:vQ,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qQ(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:KQ(t.errors)}),t}function KQ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new _E(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var ZG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QG=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},m){let{basename:v}=N.useContext(Ou),w=typeof c=="string"&&ZG.test(c),x,y=!1;if(typeof c=="string"&&w&&(x=c,KG))try{let R=new URL(window.location.href),D=c.startsWith("//")?new URL(R.protocol+c):new URL(c),j=Cc(D.pathname,v);D.origin===R.origin&&j!=null?c=j+D.search+D.hash:y=!0}catch{Is(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=eQ(c,{relative:i}),[S,T,C]=HQ(r,f),M=eJ(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function I(R){e&&e(R),R.defaultPrevented||M(R)}let O=N.createElement("a",{...f,...C,href:x||b,onClick:y||s?e:I,ref:YQ(m,T),target:l,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?N.createElement(N.Fragment,null,O,N.createElement(WQ,{page:b})):O});QG.displayName="Link";var ZQ=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=Ew(o,{relative:c.relative}),f=Om(),m=N.useContext(bw),{navigator:v,basename:w}=N.useContext(Ou),x=m!=null&&sJ(d)&&a===!0,y=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,b=f.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(b=b.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&w&&(S=Cc(S,w)||S);const T=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=b===y||!i&&b.startsWith(y)&&b.charAt(T)==="/",M=S!=null&&(S===y||!i&&S.startsWith(y)&&S.charAt(y.length)==="/"),I={isActive:C,isPending:M,isTransitioning:x},O=C?e:void 0,R;typeof r=="function"?R=r(I):R=[r,C?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(I):s;return N.createElement(QG,{...c,"aria-current":O,className:R,ref:u,style:D,to:o,viewTransition:a},typeof l=="function"?l(I):l)});ZQ.displayName="NavLink";var QQ=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=FS,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},m)=>{let v=rJ(),w=iJ(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&ZG.test(a),b=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,C=(T==null?void 0:T.getAttribute("formmethod"))||o;v(T||S.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return N.createElement("form",{ref:m,method:x,action:w,onSubmit:r?l:b,...f,"data-discover":!y&&t==="render"?"true":void 0})});QQ.displayName="Form";function JQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JG(t){let e=N.useContext(km);return Gn(e,JQ(t)),e}function eJ(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=tQ(),l=Om(),c=Ew(t,{relative:s});return N.useCallback(u=>{if(PQ(u,e)){u.preventDefault();let d=n!==void 0?n:xh(l)===xh(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var tJ=0,nJ=()=>`__${String(++tJ)}__`;function rJ(){let{router:t}=JG("useSubmit"),{basename:e}=N.useContext(Ou),n=pQ();return N.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=kQ(r,e);if(i.navigate===!1){let u=i.fetcherKey||nJ();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function iJ(t,{relative:e}={}){let{basename:n}=N.useContext(Ou),r=N.useContext(Lu);Gn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ew(t||".",{relative:e})},o=Om();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:xu([n,s.pathname])),xh(s)}function sJ(t,e={}){let n=N.useContext(ck);Gn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JG("useViewTransitionState"),i=Ew(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Cc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Cc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yE(i.pathname,o)!=null||yE(i.pathname,s)!=null}new TextEncoder;var eH=LG();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oJ(t){return N.createElement(_Q,{flushSync:eH.flushSync,...t})}const zo=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function aJ(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function K_(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=N.createContext(o);a.displayName=e;function l(){var u;const c=N.useContext(a);if(!c&&n){const d=new Error(s??aJ(r,i));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}function lJ(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}const cJ=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),uJ=/^on[A-Z]/;function wx(...t){let e={};for(let n of t){for(let r in e){if(uJ.test(r)&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=lJ(e[r],n[r]);continue}if(r==="className"||r==="class"){e[r]=cJ(e[r],n[r]);continue}if(r==="style"){e[r]=Object.assign({},e[r]??{},n[r]??{});continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}const dJ=Object.freeze({}),fJ=Object.freeze({});function tH(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var hJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pJ=tH(function(t){return hJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function mJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=mJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),po="-ms-",xE="-moz-",ar="-webkit-",nH="comm",mk="rule",gk="decl",yJ="@import",rH="@keyframes",_J="@layer",xJ=Math.abs,OT=String.fromCharCode,wJ=Object.assign;function bJ(t,e){return Xs(t,0)^45?(((e<<2^Xs(t,0))<<2^Xs(t,1))<<2^Xs(t,2))<<2^Xs(t,3):0}function iH(t){return t.trim()}function SJ(t,e){return(t=e.exec(t))?t[0]:t}function lr(t,e,n){return t.replace(e,n)}function GR(t,e){return t.indexOf(e)}function Xs(t,e){return t.charCodeAt(e)|0}function bx(t,e,n){return t.slice(e,n)}function fu(t){return t.length}function vk(t){return t.length}function r1(t,e){return e.push(t),t}function EJ(t,e){return t.map(e).join("")}var LT=1,sy=1,sH=0,va=0,Zi=0,Ly="";function DT(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:LT,column:sy,length:o,return:""}}function V0(t,e){return wJ(DT("",null,null,"",null,null,0),t,{length:-t.length},e)}function TJ(){return Zi}function CJ(){return Zi=va>0?Xs(Ly,--va):0,sy--,Zi===10&&(sy=1,LT--),Zi}function Wa(){return Zi=va<sH?Xs(Ly,va++):0,sy++,Zi===10&&(sy=1,LT++),Zi}function wu(){return Xs(Ly,va)}function zS(){return va}function Tw(t,e){return bx(Ly,t,e)}function Sx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oH(t){return LT=sy=1,sH=fu(Ly=t),va=0,[]}function aH(t){return Ly="",t}function BS(t){return iH(Tw(va-1,HR(t===91?t+2:t===40?t+1:t)))}function MJ(t){for(;(Zi=wu())&&Zi<33;)Wa();return Sx(t)>2||Sx(Zi)>3?"":" "}function AJ(t,e){for(;--e&&Wa()&&!(Zi<48||Zi>102||Zi>57&&Zi<65||Zi>70&&Zi<97););return Tw(t,zS()+(e<6&&wu()==32&&Wa()==32))}function HR(t){for(;Wa();)switch(Zi){case t:return va;case 34:case 39:t!==34&&t!==39&&HR(Zi);break;case 40:t===41&&HR(t);break;case 92:Wa();break}return va}function PJ(t,e){for(;Wa()&&t+Zi!==57;)if(t+Zi===84&&wu()===47)break;return"/*"+Tw(e,va-1)+"*"+OT(t===47?t:Wa())}function RJ(t){for(;!Sx(wu());)Wa();return Tw(t,va)}function IJ(t){return aH(VS("",null,null,null,[""],t=oH(t),0,[0],t))}function VS(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,m=0,v=0,w=1,x=1,y=1,b=0,S="",T=i,C=s,M=r,I=S;x;)switch(v=b,b=Wa()){case 40:if(v!=108&&Xs(I,d-1)==58){GR(I+=lr(BS(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:I+=BS(b);break;case 9:case 10:case 13:case 32:I+=MJ(v);break;case 92:I+=AJ(zS()-1,7);continue;case 47:switch(wu()){case 42:case 47:r1(kJ(PJ(Wa(),zS()),e,n),l);break;default:I+="/"}break;case 123*w:a[c++]=fu(I)*y;case 125*w:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:y==-1&&(I=lr(I,/\f/g,"")),m>0&&fu(I)-d&&r1(m>32?n3(I+";",r,n,d-1):n3(lr(I," ","")+";",r,n,d-2),l);break;case 59:I+=";";default:if(r1(M=t3(I,e,n,c,u,i,a,S,T=[],C=[],d),s),b===123)if(u===0)VS(I,e,M,M,T,s,d,a,C);else switch(f===99&&Xs(I,3)===110?100:f){case 100:case 108:case 109:case 115:VS(t,M,M,r&&r1(t3(t,M,M,0,0,i,a,S,i,T=[],d),C),i,C,d,a,r?T:C);break;default:VS(I,M,M,M,[""],C,0,a,C)}}c=u=m=0,w=y=1,S=I="",d=o;break;case 58:d=1+fu(I),m=v;default:if(w<1){if(b==123)--w;else if(b==125&&w++==0&&CJ()==125)continue}switch(I+=OT(b),b*w){case 38:y=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(fu(I)-1)*y,y=1;break;case 64:wu()===45&&(I+=BS(Wa())),f=wu(),u=d=fu(S=I+=RJ(zS())),b++;break;case 45:v===45&&fu(I)==2&&(w=0)}}return s}function t3(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],m=vk(f),v=0,w=0,x=0;v<r;++v)for(var y=0,b=bx(t,d+1,d=xJ(w=o[v])),S=t;y<m;++y)(S=iH(w>0?f[y]+" "+b:lr(b,/&\f/g,f[y])))&&(l[x++]=S);return DT(t,e,n,i===0?mk:a,l,c,u)}function kJ(t,e,n){return DT(t,e,n,nH,OT(TJ()),bx(t,2,-2),0)}function n3(t,e,n,r){return DT(t,e,n,gk,bx(t,0,r),bx(t,r+1,-1),r)}function jv(t,e){for(var n="",r=vk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function OJ(t,e,n,r){switch(t.type){case _J:if(t.children.length)break;case yJ:case gk:return t.return=t.return||t.value;case nH:return"";case rH:return t.return=t.value+"{"+jv(t.children,r)+"}";case mk:t.value=t.props.join(",")}return fu(n=jv(t.children,r))?t.return=t.value+"{"+n+"}":""}function LJ(t){var e=vk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function DJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var NJ=function(e,n,r){for(var i=0,s=0;i=s,s=wu(),i===38&&s===12&&(n[r]=1),!Sx(s);)Wa();return Tw(e,va)},FJ=function(e,n){var r=-1,i=44;do switch(Sx(i)){case 0:i===38&&wu()===12&&(n[r]=1),e[r]+=NJ(va-1,n,r);break;case 2:e[r]+=BS(i);break;case 4:if(i===44){e[++r]=wu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=OT(i)}while(i=Wa());return e},UJ=function(e,n){return aH(FJ(oH(e),n))},r3=new WeakMap,zJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!r3.get(r))&&!i){r3.set(e,!0);for(var s=[],o=UJ(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},BJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function lH(t,e){switch(bJ(t,e)){case 5103:return ar+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ar+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ar+t+xE+t+po+t+t;case 6828:case 4268:return ar+t+po+t+t;case 6165:return ar+t+po+"flex-"+t+t;case 5187:return ar+t+lr(t,/(\w+).+(:[^]+)/,ar+"box-$1$2"+po+"flex-$1$2")+t;case 5443:return ar+t+po+"flex-item-"+lr(t,/flex-|-self/,"")+t;case 4675:return ar+t+po+"flex-line-pack"+lr(t,/align-content|flex-|-self/,"")+t;case 5548:return ar+t+po+lr(t,"shrink","negative")+t;case 5292:return ar+t+po+lr(t,"basis","preferred-size")+t;case 6060:return ar+"box-"+lr(t,"-grow","")+ar+t+po+lr(t,"grow","positive")+t;case 4554:return ar+lr(t,/([^-])(transform)/g,"$1"+ar+"$2")+t;case 6187:return lr(lr(lr(t,/(zoom-|grab)/,ar+"$1"),/(image-set)/,ar+"$1"),t,"")+t;case 5495:case 3959:return lr(t,/(image-set\([^]*)/,ar+"$1$`$1");case 4968:return lr(lr(t,/(.+:)(flex-)?(.*)/,ar+"box-pack:$3"+po+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ar+t+t;case 4095:case 3583:case 4068:case 2532:return lr(t,/(.+)-inline(.+)/,ar+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fu(t)-1-e>6)switch(Xs(t,e+1)){case 109:if(Xs(t,e+4)!==45)break;case 102:return lr(t,/(.+:)(.+)-([^]+)/,"$1"+ar+"$2-$3$1"+xE+(Xs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~GR(t,"stretch")?lH(lr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Xs(t,e+1)!==115)break;case 6444:switch(Xs(t,fu(t)-3-(~GR(t,"!important")&&10))){case 107:return lr(t,":",":"+ar)+t;case 101:return lr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ar+(Xs(t,14)===45?"inline-":"")+"box$3$1"+ar+"$2$3$1"+po+"$2box$3")+t}break;case 5936:switch(Xs(t,e+11)){case 114:return ar+t+po+lr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ar+t+po+lr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ar+t+po+lr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ar+t+po+t+t}return t}var VJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gk:e.return=lH(e.value,e.length);break;case rH:return jv([V0(e,{value:lr(e.value,"@","@"+ar)})],i);case mk:if(e.length)return EJ(e.props,function(s){switch(SJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jv([V0(e,{props:[lr(s,/:(read-\w+)/,":"+xE+"$1")]})],i);case"::placeholder":return jv([V0(e,{props:[lr(s,/:(plac\w+)/,":"+ar+"input-$1")]}),V0(e,{props:[lr(s,/:(plac\w+)/,":"+xE+"$1")]}),V0(e,{props:[lr(s,/:(plac\w+)/,po+"input-$1")]})],i)}return""})}},GJ=[VJ],HJ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var x=w.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||GJ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var x=w.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)s[x[y]]=!0;a.push(w)});var l,c=[zJ,BJ];{var u,d=[OJ,DJ(function(w){u.insert(w)})],f=LJ(c.concat(i,d)),m=function(x){return jv(IJ(x),f)};l=function(x,y,b,S){u=b,m(x?x+"{"+y.styles+"}":y.styles),S&&(v.inserted[y.name]=!0)}}var v={key:n,sheet:new vJ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v};function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(null,arguments)}var KM={exports:{}},ur={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function WJ(){if(i3)return ur;i3=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function S(C){if(typeof C=="object"&&C!==null){var M=C.$$typeof;switch(M){case e:switch(C=C.type,C){case l:case c:case r:case s:case i:case d:return C;default:switch(C=C&&C.$$typeof,C){case a:case u:case v:case m:case o:return C;default:return M}}case n:return M}}}function T(C){return S(C)===c}return ur.AsyncMode=l,ur.ConcurrentMode=c,ur.ContextConsumer=a,ur.ContextProvider=o,ur.Element=e,ur.ForwardRef=u,ur.Fragment=r,ur.Lazy=v,ur.Memo=m,ur.Portal=n,ur.Profiler=s,ur.StrictMode=i,ur.Suspense=d,ur.isAsyncMode=function(C){return T(C)||S(C)===l},ur.isConcurrentMode=T,ur.isContextConsumer=function(C){return S(C)===a},ur.isContextProvider=function(C){return S(C)===o},ur.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},ur.isForwardRef=function(C){return S(C)===u},ur.isFragment=function(C){return S(C)===r},ur.isLazy=function(C){return S(C)===v},ur.isMemo=function(C){return S(C)===m},ur.isPortal=function(C){return S(C)===n},ur.isProfiler=function(C){return S(C)===s},ur.isStrictMode=function(C){return S(C)===i},ur.isSuspense=function(C){return S(C)===d},ur.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===c||C===s||C===i||C===d||C===f||typeof C=="object"&&C!==null&&(C.$$typeof===v||C.$$typeof===m||C.$$typeof===o||C.$$typeof===a||C.$$typeof===u||C.$$typeof===x||C.$$typeof===y||C.$$typeof===b||C.$$typeof===w)},ur.typeOf=S,ur}var s3;function jJ(){return s3||(s3=1,KM.exports=WJ()),KM.exports}var ZM,o3;function $J(){if(o3)return ZM;o3=1;var t=jJ(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(v){return t.isMemo(v)?i:s[v.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function m(v,w,x){if(typeof w!="string"){if(f){var y=d(w);y&&y!==f&&m(v,y,x)}var b=l(w);c&&(b=b.concat(c(w)));for(var S=o(v),T=o(w),C=0;C<b.length;++C){var M=b[C];if(!n[M]&&!(x&&x[M])&&!(T&&T[M])&&!(S&&S[M])){var I=u(w,M);try{a(v,M,I)}catch{}}}}return v}return ZM=m,ZM}$J();var YJ=!0;function cH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var yk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||YJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},_k=function(e,n,r){yk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function XJ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var qJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},KJ=/[A-Z]|^ms/g,ZJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uH=function(e){return e.charCodeAt(1)===45},a3=function(e){return e!=null&&typeof e!="boolean"},QM=tH(function(t){return uH(t)?t:t.replace(KJ,"-$&").toLowerCase()}),l3=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(ZJ,function(r,i,s){return hu={name:i,styles:s,next:hu},i})}return qJ[e]!==1&&!uH(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ex(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return hu={name:i.name,styles:i.styles,next:hu},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)hu={name:o.name,styles:o.styles,next:hu},o=o.next;var a=s.styles+";";return a}return QJ(t,e,n)}case"function":{if(t!==void 0){var l=hu,c=n(t);return hu=l,Ex(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function QJ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ex(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":a3(a)&&(r+=QM(s)+":"+l3(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)a3(o[l])&&(r+=QM(s)+":"+l3(s,o[l])+";");else{var c=Ex(t,e,o);switch(s){case"animation":case"animationName":{r+=QM(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var c3=/label:\s*([^\s;{]+)\s*(;|$)/g,hu;function xk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";hu=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ex(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ex(n,e,t[a]),r){var l=s;i+=l[a]}c3.lastIndex=0;for(var c="",u;(u=c3.exec(i))!==null;)c+="-"+u[1];var d=XJ(i)+c;return{name:d,styles:i,next:hu}}var JJ=function(e){return e()},dH=ON.useInsertionEffect?ON.useInsertionEffect:!1,fH=dH||JJ,u3=dH||N.useLayoutEffect,hH=N.createContext(typeof HTMLElement<"u"?HJ({key:"css"}):null);hH.Provider;var wk=function(e){return N.forwardRef(function(n,r){var i=N.useContext(hH);return e(n,i,r)})},bk=N.createContext({}),Sk={}.hasOwnProperty,WR="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eee=function(e,n){var r={};for(var i in n)Sk.call(n,i)&&(r[i]=n[i]);return r[WR]=e,r},tee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return yk(n,r,i),fH(function(){return _k(n,r,i)}),null},nee=wk(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[WR],s=[r],o="";typeof t.className=="string"?o=cH(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=xk(s,void 0,N.useContext(bk));o+=e.key+"-"+a.name;var l={};for(var c in t)Sk.call(t,c)&&c!=="css"&&c!==WR&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),N.createElement(N.Fragment,null,N.createElement(tee,{cache:e,serialized:a,isStringTag:typeof i=="string"}),N.createElement(i,l))}),ree=nee,d3=function(e,n){var r=arguments;if(n==null||!Sk.call(n,"css"))return N.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=ree,s[1]=eee(e,n);for(var o=2;o<i;o++)s[o]=r[o];return N.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(d3||(d3={}));var f3=wk(function(t,e){var n=t.styles,r=xk([n],void 0,N.useContext(bk)),i=N.useRef();return u3(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),u3(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&_k(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function iee(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function see(...t){return e=>{t.forEach(n=>{iee(n,e)})}}function Cw(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function oee(t){return t.default||t}const da=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Cu=t=>typeof t=="string",Ek=t=>typeof t=="function";function aee(t){var n;const e=N.version;return!Cu(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[lee,NT]=K_({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function cee(t){const{value:e,children:n}=t;return Y.jsxs(lee,{value:e,children:[!e._config.disableLayers&&Y.jsx(f3,{styles:e.layers.atRule}),Y.jsx(f3,{styles:e._global}),n]})}const uee=(t,e)=>{const n={},r={},i=Object.keys(t);for(const s of i)e(s)?r[s]=t[s]:n[s]=t[s];return[r,n]},$v=(t,e)=>{const n=Ek(e)?e:r=>e.includes(r);return uee(t,n)},dee=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function fee(t){return typeof t=="string"&&dee.has(t)}function hee(t,e,n){const{css:r,isValidProperty:i}=NT(),{children:s,...o}=t,a=N.useMemo(()=>{const[f,m]=$v(o,b=>n(b,e.variantKeys)),[v,w]=$v(m,e.variantKeys),[x,y]=$v(w,i);return{forwardedProps:f,variantProps:v,styleProps:x,elementProps:y}},[e.variantKeys,n,o,i]),{css:l,...c}=a.styleProps,u=N.useMemo(()=>{const f={...a.variantProps};return e.variantKeys.includes("colorPalette")||(f.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(f.orientation=o.orientation),e(f)},[e,a.variantProps,o.colorPalette,o.orientation]);return{styles:N.useMemo(()=>r(u,...pee(l),c),[r,u,l,c]),props:{...a.forwardedProps,...a.elementProps,children:s}}}const pee=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),mee=oee(pJ),gee=mee,vee=t=>t!=="theme",yee=(t,e,n)=>{let r;if(e){const i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?s=>t.__emotion_forwardProp(s)&&i(s):i}return typeof r!="function"&&n&&(r=t.__emotion_forwardProp),r};let _ee=typeof document<"u";const h3=({cache:t,serialized:e,isStringTag:n})=>{yk(t,e,n);const r=fH(()=>_k(t,e,n));if(!_ee&&r!==void 0){let i=e.name,s=e.next;for(;s!==void 0;)i=zo(i,s.name),s=s.next;return Y.jsx("style",{"data-emotion":zo(t.key,i),dangerouslySetInnerHTML:{__html:r},nonce:t.sheet.nonce})}return null},xee=(t,e={},n={})=>{const r=t.__emotion_real===t,i=r&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let a=[];const l=wk((c,u,d)=>{var Q;const{cva:f,isValidProperty:m}=NT(),v=e.__cva__?e:f(e),w=bee(t.__emotion_cva,v),x=ne=>(K,V)=>ne.includes(K)?!0:!(V!=null&&V.includes(K))&&!m(K);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=x(n.forwardProps));const y=(ne,K)=>{const V=typeof t=="string"&&t.charCodeAt(0)>96?gee:vee,G=!(K!=null&&K.includes(ne))&&!m(ne);return V(ne)&&G},b=yee(t,n,r)||y,S=N.useMemo(()=>Object.assign({},n.defaultProps,Cw(c)),[c]),{props:T,styles:C}=hee(S,w,b);let M="",I=[C],O=T;if(T.theme==null){O={};for(let ne in T)O[ne]=T[ne];O.theme=N.useContext(bk)}typeof T.className=="string"?M=cH(u.registered,I,T.className):T.className!=null&&(M=zo(M,T.className));const R=xk(a.concat(I),u.registered,O);M=zo(M,`${u.key}-${R.name}`),o!==void 0&&(M=zo(M,o));const D=!b("as");let j=D&&T.as||i,$={};for(let ne in T)if(!(D&&ne==="as")){if(fee(ne)){const K=ne.replace("html","").toLowerCase();$[K]=T[ne];continue}b(ne)&&($[ne]=T[ne])}$.className=M.trim(),$.ref=d;const B=n.forwardAsChild||((Q=n.forwardProps)==null?void 0:Q.includes("asChild"));if(T.asChild&&!B){const ne=N.Children.only(T.children);j=ne.type,$.children=null,Reflect.deleteProperty($,"asChild"),$=wx($,ne.props),$.ref=see(d,aee(ne))}return $.as&&B?($.as=void 0,Y.jsxs(N.Fragment,{children:[Y.jsx(h3,{cache:u,serialized:R,isStringTag:typeof j=="string"}),Y.jsx(j,{asChild:!0,...$,children:Y.jsx(T.as,{children:$.children})})]})):Y.jsxs(N.Fragment,{children:[Y.jsx(h3,{cache:u,serialized:R,isStringTag:typeof j=="string"}),Y.jsx(j,{...$})]})});return l.displayName=s!==void 0?s:`chakra(${typeof i=="string"?i:i.displayName||i.name||"Component"})`,l.__emotion_real=l,l.__emotion_base=i,l.__emotion_forwardProp=n.shouldForwardProp,l.__emotion_cva=e,Object.defineProperty(l,"toString",{value(){return`.${o}`}}),l},JM=xee.bind(),eA=new Map,wee=new Proxy(JM,{apply(t,e,n){return JM(...n)},get(t,e){return eA.has(e)||eA.set(e,JM(e)),eA.get(e)}}),ui=wee,bee=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function See(t){const{key:e,recipe:n}=t,r=NT();return N.useMemo(()=>{const i=n||(e!=null?r.getRecipe(e):{});return r.cva(structuredClone(i))},[e,n,r])}const Eee=t=>t.charAt(0).toUpperCase()+t.slice(1);function qd(t){const{key:e,recipe:n}=t,r=Eee(e||n.className||"Component"),[i,s]=K_({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`});function o(c){const{unstyled:u,...d}=c,f=See({key:e,recipe:d.recipe||n}),[m,v]=N.useMemo(()=>f.splitVariantProps(d),[f,d]);return{styles:u?dJ:f(m),className:f.className,props:v}}const a=(c,u)=>{const d=ui(c,{},u),f=N.forwardRef((m,v)=>{const w=s(),x=N.useMemo(()=>wx(w,m),[m,w]),{styles:y,className:b,props:S}=o(x);return Y.jsx(d,{...S,ref:v,css:[y,x.css],className:zo(b,x.className)})});return f.displayName=c.displayName||c.name,f};function l(){return i}return{withContext:a,PropsProvider:i,withPropsProvider:l,usePropsContext:s,useRecipeResult:o}}var p3=t=>Math.max(0,Math.min(1,t)),Tee=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),FT=t=>typeof t=="object"&&t!==null,pH=2147483647,Dt=t=>t?"":void 0,mH=t=>t?"true":void 0,Cee=1,Mee=9,Aee=11,Qs=t=>FT(t)&&t.nodeType===Cee&&typeof t.nodeName=="string",Tk=t=>FT(t)&&t.nodeType===Mee,Pee=t=>FT(t)&&t===t.window,gH=t=>Qs(t)?t.localName||"":"#document";function Ree(t){return["html","body","#document"].includes(gH(t))}var Iee=t=>FT(t)&&t.nodeType!==void 0,Tx=t=>Iee(t)&&t.nodeType===Aee&&"host"in t,kee=t=>Qs(t)&&t.localName==="input",Oee=t=>!!(t!=null&&t.matches("a[href]")),Lee=t=>Qs(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,Dee=/(textarea|select)/;function UT(t){if(t==null||!Qs(t))return!1;try{return kee(t)&&t.selectionStart!=null||Dee.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Mu(t,e){var r;if(!t||!e||!Qs(t)||!Qs(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&Tx(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Ll(t){return Tk(t)?t:Pee(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function Nee(t){return Ll(t).documentElement}function _o(t){var e;return Tx(t)?_o(t.host):Tk(t)?t.defaultView??window:Qs(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function vH(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function Fee(t){if(gH(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tx(t)&&t.host||Nee(t);return Tx(e)?e.host:e}var tA=new WeakMap;function yH(t){return tA.has(t)||tA.set(t,_o(t).getComputedStyle(t)),tA.get(t)}var Ck=()=>typeof document<"u";function Uee(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function zee(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var Mk=t=>Ck()&&t.test(Uee()),Bee=t=>Ck()&&t.test(zee()),Vee=t=>Ck()&&t.test(navigator.vendor),_H=()=>Mk(/^Mac/),Gee=()=>xH()&&Vee(/apple/i),Hee=()=>Bee(/firefox\//i),xH=()=>Mk(/mac|iphone|ipad|ipod/i),Wee=()=>Mk(/iP(hone|ad|od)|iOS/);function jee(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function Fo(t){const e=jee(t);return(e==null?void 0:e[0])??t.target}var wE=t=>Mu(t.currentTarget,Fo(t));function m3(t){const e=t.currentTarget;if(!e)return!1;const n=xH();if(n&&!t.metaKey||!n&&!t.ctrlKey)return!1;const r=e.localName;return r==="a"||r==="button"&&e.type==="submit"||r==="input"&&e.type==="submit"}function g3(t){const e=t.currentTarget;if(!e)return!1;const n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function $ee(t){return Zee(t).isComposing}function Yee(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var wH=t=>t.button===2||_H()&&t.ctrlKey&&t.button===0,Xee=t=>t.ctrlKey||t.altKey||t.metaKey,qee=t=>"touches"in t&&t.touches.length>0,Kee={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},v3={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function bE(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=Kee[i]??i,n==="rtl"&&r==="horizontal"&&i in v3&&(i=v3[i]),i}function Zee(t){return t.nativeEvent??t}function nA(t,e="client"){const n=qee(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Ms=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function bH(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=_o(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Qee(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function SH(t,e,n="value"){var i;const r=Qee(t);r&&((i=bH(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function Jee(t,e){var r;(r=bH(t,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function EH(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=_o(t);t instanceof i.HTMLInputElement&&(SH(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function ete(t,e){const{checked:n,bubbles:r=!0}=e;if(!t)return;const i=_o(t);t instanceof i.HTMLInputElement&&(Jee(t,n),t.dispatchEvent(new i.Event("click",{bubbles:r})))}function tte(t){return nte(t)?t.form:t.closest("form")}function nte(t){return t.matches("textarea, input, select, button")}function rte(t,e){if(!t)return;const n=tte(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function ite(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=_o(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function TH(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[rte(t,r),ite(t,n)];return()=>i.forEach(s=>s==null?void 0:s())}var CH=t=>Qs(t)&&t.tagName==="IFRAME",ste=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),ote=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Ak="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Pk=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Ak));(e==!0||e=="if-empty"&&n.length===0)&&Qs(t)&&lh(t)&&n.unshift(t);const i=n.filter(lh);return i.forEach((s,o)=>{if(CH(s)&&s.contentDocument){const a=s.contentDocument.body;i.splice(o,1,...Pk(a))}}),i};function lh(t){return!t||t.closest("[inert]")?!1:t.matches(Ak)&&Lee(t)}function zT(t,e){if(!t)return[];const r=Array.from(t.querySelectorAll(Ak)).filter(Lp);return r.forEach((i,s)=>{if(CH(i)&&i.contentDocument){const o=i.contentDocument.body,a=zT(o);r.splice(s,1,...a)}}),r.length,r}function Lp(t){return t!=null&&t.tabIndex>0?!0:lh(t)&&!ote(t)}function ate(t,e){const n=zT(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function G0(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||UT(t))&&!ste(t)?0:t.tabIndex}function MH(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!s){const o=zT(e);s=r?o.filter(r)[0]:o[0]}return s||e||void 0}function AH(t){const e=t.currentTarget;if(!e)return!1;const[n,r]=ate(e),i=e.ownerDocument||document;return!(i.activeElement===n&&t.shiftKey||i.activeElement===r&&!t.shiftKey||!n&&!r)}function lte(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function yi(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function cte(t,e,n){const r=yi(()=>{t.removeEventListener(e,i,!0),n()}),i=()=>{r(),n()};return t.addEventListener(e,i,{once:!0,capture:!0}),r}function ute(t,e){if(!t)return;const{attributes:n,callback:r}=e,i=t.ownerDocument.defaultView||window,s=new i.MutationObserver(o=>{for(const a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function PH(t,e){const{defer:n}=e,r=n?yi:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(ute(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function dte(t){const e=()=>t.click();Hee()?cte(t,"keyup",e):queueMicrotask(e)}function SE(t){const e=Fee(t);return Ree(e)?Ll(e).body:Qs(e)&&Rk(e)?e:SE(e)}function RH(t,e=[]){const n=SE(t),r=n===t.ownerDocument.body,i=_o(n);return r?e.concat(i,i.visualViewport||[],Rk(n)?n:[]):e.concat(n,RH(n,[]))}var fte=/auto|scroll|overlay|hidden|clip/;function Rk(t){const e=_o(t),{overflow:n,overflowX:r,overflowY:i,display:s}=e.getComputedStyle(t);return fte.test(n+i+r)&&!["inline","contents"].includes(s)}function hte(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function IH(t,e){const{rootEl:n,...r}=e||{};!t||!n||!Rk(n)||!hte(n)||t.scrollIntoView(r)}function jR(t,e){const{left:n,top:r,width:i,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-r},a={x:p3(o.x/i),y:p3(o.y/s)};function l(c={}){const{dir:u="ltr",orientation:d="horizontal",inverted:f}=c,m=typeof f=="object"?f.x:f,v=typeof f=="object"?f.y:f;return d==="horizontal"?u==="rtl"||m?1-a.x:a.x:v?1-a.y:a.y}return{offset:o,percent:a,getPercentValue:l}}function vu(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function pte(t,e){return(t==null?void 0:t.querySelector(e))??null}var Ik=t=>t.id;function mte(t,e,n=Ik){return t.find(r=>n(r)===e)}function kk(t,e,n=Ik){const r=mte(t,e,n);return r?t.indexOf(r):-1}function kH(t,e,n=!0){let r=kk(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function OH(t,e,n=!0){let r=kk(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}function xi(t){const e={getRootNode:n=>{var r;return((r=n.getRootNode)==null?void 0:r.call(n))??document},getDoc:n=>Ll(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>vH(e.getRootNode(n)),isActiveElement:(n,r)=>r===e.getActiveElement(n),getById:(n,r)=>e.getRootNode(n).getElementById(r),setValue:(n,r)=>{n==null||r==null||SH(n,r.toString())}};return{...e,...t}}var gte=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),vte=t=>{var e;return gte(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},yte=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function _te(t,e,n,r=Ik){const i=n?kk(t,n,r):-1;let s=n?Tee(t,i):t;return e.length===1&&(s=s.filter(a=>r(a)!==n)),s.find(a=>yte(vte(a),e))}var rA=new WeakMap;function xte(t,e,n){rA.has(t)||rA.set(t,new Map);const r=rA.get(t),i=r.get(e);if(!i)return r.set(e,n()),()=>{var a;(a=r.get(e))==null||a(),r.delete(e)};const s=n(),o=()=>{s(),i(),r.delete(e)};return r.set(e,o),()=>{r.get(e)===o&&(s(),r.set(e,i))}}function wte(t,e){return t?xte(t,"style",()=>{const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}):()=>{}}function bte(t,e){const{state:n,activeId:r,key:i,timeout:s=350,itemToId:o}=e,a=n.keysSoFar+i,c=a.length>1&&Array.from(a).every(v=>v===a[0])?a[0]:a;let u=t.slice();const d=_te(u,c,r,o);function f(){clearTimeout(n.timer),n.timer=-1}function m(v){n.keysSoFar=v,f(),v!==""&&(n.timer=+setTimeout(()=>{m(""),f()},s))}return m(a),d}var Cx=Object.assign(bte,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Ste});function Ste(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var Ok={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},Ete=1e3/60;function Tte(t,e){const n=t();if(Qs(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();Qs(i)&&i.isConnected&&(e(i),clearInterval(r))},Ete);return()=>clearInterval(r)}}function Cte(t,e){const n=[];return t==null||t.forEach(r=>{const i=Tte(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function Mte(t){const e=new Map;return function(r,i){const s=r+(i?Object.entries(i).sort((a,l)=>a[0]<l[0]?-1:1).join():"");if(e.has(s))return e.get(s);let o=new t(r,i);return e.set(s,o),o}}var Ate=Mte(Intl.NumberFormat);function Pte(t,e,n={}){return Ate(e,n).format(t)}var Rte=["","kilo","mega","giga","tera"],Ite=["","kilo","mega","giga","tera","peta"],kte=(t,e="en-US",n={})=>{if(isNaN(t))return"";if(t===0)return"0 B";const{unit:r="byte",unitDisplay:i="short"}=n,s=r==="bit"?Rte:Ite,o=Math.max(0,Math.min(Math.floor(Math.log10(t)/3),s.length-1)),a=s[o]+r,l=i||"short",c=parseFloat((t/Math.pow(1e3,o)).toPrecision(3));return Pte(c,e,{style:"unit",unit:a,unitDisplay:l})};function Ote(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Hr(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=N.createContext(o);a.displayName=e;function l(){var u;const c=N.useContext(a);if(!c&&n){const d=new Error(s??Ote(r,i));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}const[P3e,Lm]=Hr({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function Lte(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Dm(...t){return e=>{for(const n of t)Lte(n,e)}}const Dte=Symbol(),Lk=Symbol(),U_="a",LH="f",y3="p",DH="c",NH="t",FH="h",GS="w",UH="o",zH="k";let Nte=(t,e)=>new Proxy(t,e);const $R=Object.getPrototypeOf,YR=new WeakMap,BH=t=>t&&(YR.has(t)?YR.get(t):$R(t)===Object.prototype||$R(t)===Array.prototype),_3=t=>typeof t=="object"&&t!==null,Fte=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),Ute=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create($R(t),e)},zte=(t,e)=>{const n={[LH]:e};let r=!1;const i=(a,l)=>{if(!r){let c=n[U_].get(t);if(c||(c={},n[U_].set(t,c)),a===GS)c[GS]=!0;else{let u=c[a];u||(u=new Set,c[a]=u),u.add(l)}}},s=()=>{r=!0,n[U_].delete(t)},o={get(a,l){return l===Lk?t:(i(zH,l),GH(Reflect.get(a,l),n[U_],n[DH],n[NH]))},has(a,l){return l===Dte?(s(),!0):(i(FH,l),Reflect.has(a,l))},getOwnPropertyDescriptor(a,l){return i(UH,l),Reflect.getOwnPropertyDescriptor(a,l)},ownKeys(a){return i(GS),Reflect.ownKeys(a)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},VH=t=>t[Lk]||t,GH=(t,e,n,r)=>{if(!BH(t))return t;let i=r&&r.get(t);if(!i){const l=VH(t);Fte(l)?i=[l,Ute(l)]:i=[l],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return(!a||a[1][LH]!==!!o)&&(a=zte(s,!!o),a[1][y3]=Nte(o||s,a[0]),n&&n.set(s,a)),a[1][U_]=e,a[1][DH]=n,a[1][NH]=r,a[1][y3]},Bte=(t,e)=>{const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);return n.length!==r.length||n.some((i,s)=>i!==r[s])},HH=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!_3(t)||!_3(e))return!0;const s=n.get(VH(t));if(!s)return!0;if(r){if(r.get(t)===e)return!1;r.set(t,e)}let o=null;for(const a of s[FH]||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[GS]===!0){if(o=Bte(t,e),o)return o}else for(const a of s[UH]||[]){const l=!!Reflect.getOwnPropertyDescriptor(t,a),c=!!Reflect.getOwnPropertyDescriptor(e,a);if(o=l!==c,o)return o}for(const a of s[zH]||[])if(o=HH(t[a],e[a],n,r,i),o)return o;if(o===null)throw new Error("invalid used");return o},Vte=t=>BH(t)&&t[Lk]||null,x3=(t,e=!0)=>{YR.set(t,e)};function Gte(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Dk(t,e){const n=Gte();return n?(n[t]||(n[t]=e()),n[t]):e()}var Z_=Dk("__zag__refSet",()=>new WeakSet),Hte=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,Wte=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,jte=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",$te=t=>Hte(t)||Wte(t)||jte(t),XR=t=>t!==null&&typeof t=="object",qR=t=>XR(t)&&!Z_.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!$te(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise);function w3(t,e,n){typeof n.value=="object"&&!qR(n.value)&&(n.value=Yp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Yp(t){if(typeof t!="object")return t;var e=0,n,r,i,s=Object.prototype.toString.call(t);if(s==="[object Object]"?i=Object.create(Object.getPrototypeOf(t)||null):s==="[object Array]"?i=Array(t.length):s==="[object Set]"?(i=new Set,t.forEach(function(o){i.add(Yp(o))})):s==="[object Map]"?(i=new Map,t.forEach(function(o,a){i.set(Yp(a),Yp(o))})):s==="[object Date]"?i=new Date(+t):s==="[object RegExp]"?i=new RegExp(t.source,t.flags):s==="[object DataView]"?i=new t.constructor(Yp(t.buffer)):s==="[object ArrayBuffer]"?i=t.slice(0):s==="[object Blob]"?i=t.slice():s.slice(-6)==="Array]"&&(i=new t.constructor(t)),i){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)w3(i,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(i,n=r[e])&&i[n]===t[n]||w3(i,n,Object.getOwnPropertyDescriptor(t,n))}return i||t}var Vp=Dk("__zag__proxyStateMap",()=>new WeakMap),Yte=(t=Object.is,e=(a,l)=>new Proxy(a,l),n=new WeakMap,r=(a,l)=>{const c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];const u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return x3(u,!0),n.set(a,[l,u]),Reflect.ownKeys(a).forEach(d=>{const f=Reflect.get(a,d);Z_.has(f)?(x3(f,!1),u[d]=f):Vp.has(f)?u[d]=sh(f):u[d]=f}),Object.freeze(u)},i=new WeakMap,s=[1,1],o=a=>{if(!XR(a))throw new Error("object required");const l=i.get(a);if(l)return l;let c=s[0];const u=new Set,d=(I,O=++s[0])=>{c!==O&&(c=O,u.forEach(R=>R(I,O)))};let f=s[1];const m=(I=++s[1])=>(f!==I&&!u.size&&(f=I,w.forEach(([O])=>{const R=O[1](I);R>c&&(c=R)})),c),v=I=>(O,R)=>{const D=[...O];D[1]=[I,...D[1]],d(D,R)},w=new Map,x=(I,O)=>{if(u.size){const R=O[3](v(I));w.set(I,[O,R])}else w.set(I,[O])},y=I=>{var R;const O=w.get(I);O&&(w.delete(I),(R=O[1])==null||R.call(O))},b=I=>(u.add(I),u.size===1&&w.forEach(([R,D],j)=>{const $=R[3](v(j));w.set(j,[R,$])}),()=>{u.delete(I),u.size===0&&w.forEach(([R,D],j)=>{D&&(D(),w.set(j,[R]))})}),S=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),C=e(S,{deleteProperty(I,O){const R=Reflect.get(I,O);y(O);const D=Reflect.deleteProperty(I,O);return D&&d(["delete",[O],R]),D},set(I,O,R,D){var Q;const j=Reflect.has(I,O),$=Reflect.get(I,O,D);if(j&&(t($,R)||i.has(R)&&t($,i.get(R))))return!0;y(O),XR(R)&&(R=Vte(R)||R);let B=R;if(!((Q=Object.getOwnPropertyDescriptor(I,O))!=null&&Q.set)){!Vp.has(R)&&qR(R)&&(B=BT(R));const ne=!Z_.has(B)&&Vp.get(B);ne&&x(O,ne)}return Reflect.set(I,O,B,D),d(["set",[O],R,$]),!0}});i.set(a,C);const M=[S,m,r,b];return Vp.set(C,M),Reflect.ownKeys(a).forEach(I=>{const O=Object.getOwnPropertyDescriptor(a,I);O.get||O.set?Object.defineProperty(S,I,O):C[I]=a[I]}),C})=>[o,Vp,Z_,t,e,qR,n,r,i,s],[Xte]=Yte();function BT(t={}){return Xte(t)}function Mx(t,e,n){const r=Vp.get(t);let i;const s=[],o=r[3];let a=!1;const c=o(u=>{if(s.push(u),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function sh(t){const e=Vp.get(t),[n,r,i]=e;return i(n,r())}function gi(t){return Z_.add(t),t}function qte(t,e){Object.keys(e).forEach(i=>{if(Object.getOwnPropertyDescriptor(t,i))throw new Error("object property already defined");const s=e[i],{get:o,set:a}=typeof s=="function"?{get:s}:s,l={};l.get=()=>o(sh(r)),a&&(l.set=c=>a(r,c)),Object.defineProperty(t,i,l)});const r=BT(t);return r}var WH=t=>t[0],jH=t=>t[t.length-1],Kte=(t,e)=>t.indexOf(e)!==-1,Zte=(t,...e)=>t.concat(e),Qte=(t,...e)=>t.filter(n=>!e.includes(n)),Jte=(t,e)=>Kte(t,e)?Qte(t,e):Zte(t,e);function ene(t){for(;t.length>0;)t.pop();return t}var b3=t=>(t==null?void 0:t.constructor.name)==="Array",tne=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Nd(t[n],e[n]))return!1;return!0},Nd=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(b3(t)&&b3(e))return tne(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!Nd(t[s],e[s]))return!1}return!0},Yv=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,pu=t=>t,$H=()=>{},EE=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},KR=(()=>{let t=0;return()=>(t++,t.toString(36))})(),TE=t=>Array.isArray(t),YH=t=>t!=null&&typeof t=="object",im=t=>YH(t)&&!TE(t),Nk=t=>typeof t=="number"&&!Number.isNaN(t),fa=t=>typeof t=="string",oy=t=>typeof t=="function",nne=t=>t==null,Q_=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),rne=t=>Object.prototype.toString.call(t),XH=Function.prototype.toString,ine=XH.call(Object),i1=t=>{if(!YH(t)||rne(t)!="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Q_(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XH.call(n)==ine},{floor:sne,round:qH,min:one,max:ane}=Math,lne=t=>Number.isNaN(t),Fk=t=>lne(t)?0:t,cne=(t,e)=>(t%e+e)%e,une=(t,e,n)=>qH((Fk(t)-e)/n)*n+e,dne=(t,e,n)=>one(ane(Fk(t),e),n),fne=(t,e,n)=>(Fk(t)-e)/(n-e),hne=(t,e,n,r)=>dne(une(t*(n-e)+e,e,r),e,n),iA=(t,e)=>typeof e=="number"?sne(t*e+.5)/e:qH(t),ZR=(t,e)=>{const[n,r]=t,[i,s]=e;return o=>n===r||i===s?i:i+(s-i)/(r-n)*(o-n)};function Ka(t){if(!pne(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=Ka(i))}return n}var pne=t=>t&&typeof t=="object"&&t.constructor===Object;function Xv(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function HS(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}var mne=Object.defineProperty,gne=(t,e,n)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e,n)=>gne(t,typeof e!="symbol"?e+"":e,n);function KH(t,...e){if(!i1(t))throw new TypeError("Source argument must be a plain object");for(const n of e){if(!i1(n))continue;const r=Ka(n);for(const i in r){if(!Object.prototype.hasOwnProperty.call(r,i)||i==="__proto__"||i==="constructor"||i==="prototype")continue;const s=t[i],o=n[i];i1(o)?t[i]=i1(s)?KH(s,o):{...o}:t[i]=o}}return t}function sc(t){return fa(t)?{type:t}:t}function th(t){return t?TE(t)?t.slice():[t]:[]}function ZH(t){return im(t)&&t.predicate!=null}var vne=()=>!0;function Uk(t,e,n,r){return i=>{var s;return fa(i)?!!((s=t[i])!=null&&s.call(t,e,n,r)):oy(i)?i(e,n,r):i.predicate(t)(e,n,r)}}function yne(...t){return{predicate:e=>(n,r,i)=>t.map(Uk(e,n,r,i)).some(Boolean)}}function _ne(...t){return{predicate:e=>(n,r,i)=>t.map(Uk(e,n,r,i)).every(Boolean)}}function xne(t){return{predicate:e=>(n,r,i)=>!Uk(e,n,r,i)(t)}}var Mw={or:yne,and:_ne,not:xne};function QH(t,e){return t=t??vne,(n,r,i)=>{if(fa(t)){const s=e[t];return oy(s)?s(n,r,i):s}return ZH(t)?t.predicate(e)(n,r,i):t==null?void 0:t(n,r,i)}}function sA(t,e){return(n,r,i)=>ZH(t)?t.predicate(e)(n,r,i):t}function wne(t){var s,o;const e=t.computed??pu({}),n=t.context??pu({}),r=t.initial?(o=(s=t.states)==null?void 0:s[t.initial])==null?void 0:o.tags:[],i=BT({value:t.initial??"",previousValue:"",event:pu({}),previousEvent:pu({}),context:qte(n,e),done:!1,tags:r??[],hasTag(a){return this.tags.includes(a)},matches(...a){return a.includes(this.value)},can(a){return pu(this).nextEvents.includes(a)},get nextEvents(){var c,u;const a=((u=(c=t.states)==null?void 0:c[this.value])==null?void 0:u.on)??{},l=(t==null?void 0:t.on)??{};return Object.keys({...a,...l})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return pu(i)}function H0(t,e){return(n,r)=>{if(Nk(t))return t;if(oy(t))return t(n,r);if(fa(t)){const i=Number.parseFloat(t);if(!Number.isNaN(i))return i;if(e){const s=e==null?void 0:e[t];return HS(s==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),oy(s)?s(n,r):s}}}}function bne(t){return fa(t)?{target:t}:t}function Sne(t,e){return(n,r,i)=>th(t).map(bne).find(s=>QH(s.guard,e)(n,r,i)??s.target??s.actions)}var JH=class{constructor(t,e){var n,r,i,s,o;Zt(this,"status","Not Started"),Zt(this,"state"),Zt(this,"initialState"),Zt(this,"initialContext"),Zt(this,"id"),Zt(this,"type","machine"),Zt(this,"activityEvents",new Map),Zt(this,"delayedEvents",new Map),Zt(this,"stateListeners",new Set),Zt(this,"doneListeners",new Set),Zt(this,"contextWatchers",new Set),Zt(this,"removeStateListener",$H),Zt(this,"parent"),Zt(this,"children",new Map),Zt(this,"guardMap"),Zt(this,"actionMap"),Zt(this,"delayMap"),Zt(this,"activityMap"),Zt(this,"sync"),Zt(this,"options"),Zt(this,"config"),Zt(this,"_created",()=>{if(!this.config.created)return;const a=sc("machine.created");this.executeActions(this.config.created,a)}),Zt(this,"start",a=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Mx(this.state,()=>{this.stateListeners.forEach(m=>{m(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(sc("machine.start"),th(this.config.activities),"machine.start"),this.executeActions(this.config.entry,sc("machine.start"));const l=sc("machine.init"),c=im(a)?a.value:a,u=im(a)?a.context:void 0;u&&this.setContext(u);const d={target:c??this.config.initial},f=this.getNextStateInfo(d,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Zt(this,"setupContextWatchers",()=>{const{watch:a}=this.config;if(!a)return;let l=sh(this.state.context);const c=Mx(this.state.context,()=>{var d;const u=sh(this.state.context);for(const[f,m]of Object.entries(a))(((d=this.options.compareFns)==null?void 0:d[f])??Object.is)(l[f],u[f])||this.executeActions(m,this.state.event);l=u});this.contextWatchers.add(c)}),Zt(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,sc("machine.stop")),this.executeActions(this.config.exit,sc("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Zt(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Zt(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(a=>a()),this.contextWatchers.clear()}),Zt(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(a=>{a.forEach(l=>l())}),this.delayedEvents.clear()}),Zt(this,"stopActivities",a=>{var l,c;a?((l=this.activityEvents.get(a))==null||l.forEach(u=>u()),(c=this.activityEvents.get(a))==null||c.clear(),this.activityEvents.delete(a)):(this.activityEvents.forEach(u=>{u.forEach(d=>d()),u.clear()}),this.activityEvents.clear())}),Zt(this,"sendChild",(a,l)=>{const c=sc(a),u=Yv(l,this.contextSnapshot),d=this.children.get(u);d||HS(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),d.send(c)}),Zt(this,"stopChild",a=>{this.children.has(a)||HS(`[@zag-js/core > stop-child] Cannot stop unknown child ${a}`),this.children.get(a).stop(),this.children.delete(a)}),Zt(this,"removeChild",a=>{this.children.delete(a)}),Zt(this,"stopChildren",()=>{this.children.forEach(a=>a.stop()),this.children.clear()}),Zt(this,"setParent",a=>{this.parent=a}),Zt(this,"spawn",(a,l)=>{const c=Yv(a);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,pu(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),pu(gi(c))}),Zt(this,"stopActivity",a=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(a))==null||c(),l==null||l.delete(a)}),Zt(this,"addActivityCleanup",(a,l,c)=>{var u;a&&(this.activityEvents.has(a)?(u=this.activityEvents.get(a))==null||u.set(l,c):this.activityEvents.set(a,new Map([[l,c]])))}),Zt(this,"setState",a=>{this.state.previousValue=this.state.value,this.state.value=a;const l=this.getStateNode(a);a==null?ene(this.state.tags):this.state.tags=th(l==null?void 0:l.tags)}),Zt(this,"setContext",a=>{a&&KH(this.state.context,a)}),Zt(this,"setOptions",a=>{const l=Ka(a);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Zt(this,"getStateNode",a=>{var l;if(a)return(l=this.config.states)==null?void 0:l[a]}),Zt(this,"getNextStateInfo",(a,l)=>{const c=this.determineTransition(a,l),u=!(c!=null&&c.target),d=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==d,m=this.getStateNode(d),w={reenter:!u&&!f&&!(c!=null&&c.internal),transition:c,stateNode:m,target:d,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",w.target),w}),Zt(this,"getAfterActions",(a,l)=>{let c;const u=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(a,this.state.event);this.performStateChangeEffects(u,d,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Zt(this,"getDelayedEventActions",a=>{const l=this.getStateNode(a),c=this.state.event;if(!l||!l.after)return;const u=[],d=[];if(TE(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!Q_(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const v=H0(f.delay,this.delayMap)(this.contextSnapshot,c),w=this.getAfterActions(f,v);return u.push(w.entry),d.push(w.exit),{entries:u,exits:d}}if(im(l.after))for(const f in l.after){const m=l.after[f],w=H0(f,this.delayMap)(this.contextSnapshot,c),x=this.getAfterActions(m,w);u.push(x.entry),d.push(x.exit)}return{entries:u,exits:d}}),Zt(this,"executeActions",(a,l)=>{var u;const c=sA(a,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const d of th(c)){const f=fa(d)?(u=this.actionMap)==null?void 0:u[d]:d;Xv(fa(d)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),f==null||f(this.state.context,l,this.meta)}}),Zt(this,"executeActivities",(a,l,c)=>{var u;for(const d of l){const f=fa(d)?(u=this.activityMap)==null?void 0:u[d]:d;if(!f){Xv(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const m=f(this.state.context,a,this.meta);if(m){const v=fa(d)?d:d.name||KR();this.addActivityCleanup(c??this.state.value,v,m)}}}),Zt(this,"createEveryActivities",(a,l)=>{if(a)if(TE(a)){const c=th(a).find(m=>{const v=m.delay,x=H0(v,this.delayMap)(this.contextSnapshot,this.state.event);return QH(m.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??x!=null});if(!c)return;const d=H0(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const m=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},d);return()=>{globalThis.clearInterval(m)}})}else for(const c in a){const u=a==null?void 0:a[c],f=H0(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const v=globalThis.setInterval(()=>{this.executeActions(u,this.state.event)},f);return()=>{globalThis.clearInterval(v)}})}}),Zt(this,"setEvent",a=>{this.state.previousEvent=this.state.event,this.state.event=gi(sc(a))}),Zt(this,"performExitEffects",(a,l)=>{const c=this.state.value;if(c==="")return;const u=a?this.getStateNode(a):void 0;this.stopActivities(c);const d=sA(u==null?void 0:u.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=th(d),m=this.delayedEvents.get(c);m&&f.push(...m),this.executeActions(f,l),this.delayedEvents.delete(c)}),Zt(this,"performEntryEffects",(a,l)=>{const c=this.getStateNode(a),u=th(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,v=>{u.unshift(v)}),u.length>0&&this.executeActivities(l,u);const d=sA(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=th(d),m=this.getDelayedEventActions(a);c!=null&&c.after&&m&&(this.delayedEvents.set(a,m==null?void 0:m.exits),f.push(...m.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(v=>{v(this.stateSnapshot)}),this.stop())}),Zt(this,"performTransitionEffects",(a,l)=>{const c=this.determineTransition(a,l);this.executeActions(c==null?void 0:c.actions,l)}),Zt(this,"performStateChangeEffects",(a,l,c)=>{this.setEvent(c);const u=l.changed||l.reenter;u&&this.performExitEffects(a,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),u&&this.performEntryEffects(l.target,c)}),Zt(this,"determineTransition",(a,l)=>{const c=Sne(a,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Zt(this,"sendParent",a=>{var c;this.parent||HS("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=sc(a);(c=this.parent)==null||c.send(l)}),Zt(this,"log",(...a)=>{}),Zt(this,"send",a=>{const l=sc(a);this.transition(this.state.value,l)}),Zt(this,"transition",(a,l)=>{var m,v;const c=fa(a)?this.getStateNode(a):a==null?void 0:a.stateNode,u=sc(l);if(!c&&!this.config.on){const w=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${a}, \`event\`: ${u.type}`;Xv(w);return}const d=((m=c==null?void 0:c.on)==null?void 0:m[u.type])??((v=this.config.on)==null?void 0:v[u.type]),f=this.getNextStateInfo(d,u);return this.performStateChangeEffects(this.state.value,f,u),f.stateNode}),Zt(this,"subscribe",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),()=>{this.stateListeners.delete(a)})),Zt(this,"onDone",a=>(this.doneListeners.add(a),this)),Zt(this,"onTransition",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),this)),this.config=Yp(t),this.options=Yp(e??{}),this.id=this.config.id??`machine-${KR()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((r=this.options)==null?void 0:r.actions)??{},this.delayMap=((i=this.options)==null?void 0:i.delays)??{},this.activityMap=((s=this.options)==null?void 0:s.activities)??{},this.sync=((o=this.options)==null?void 0:o.sync)??!1,this.state=wne(this.config),this.initialContext=sh(this.state.context)}get stateSnapshot(){return pu(sh(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Du=(t,e)=>new JH(t,e),Ene=t=>t instanceof JH||(t==null?void 0:t.type)==="machine",Tne=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Cne=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,S3=t=>{const e={};let n;for(;n=Cne.exec(t);)e[n[1]]=n[2];return e},Mne=(t,e)=>{if(fa(t)){if(fa(e))return`${t};${e}`;t=S3(t)}else fa(e)&&(e=S3(e));return Object.assign({},t??{},e??{})};function ht(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=EE(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=Tne(e[r],n[r]);continue}if(r==="style"){e[r]=Mne(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function Ane(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const oA=t=>{const e=N.memo(N.forwardRef((n,r)=>{const{asChild:i,children:s,...o}=n;if(!i)return N.createElement(t,{...o,ref:r},s);const a=N.Children.only(s);if(!N.isValidElement(a))return null;const l=Ane(a);return N.cloneElement(a,{...ht(o,a.props),ref:r?Dm(r,l):l})}));return e.displayName=t.displayName||t.name,e},Pne=()=>{const t=new Map;return new Proxy(oA,{apply(e,n,r){return oA(r[0])},get(e,n){const r=n;return t.has(r)||t.set(r,oA(r)),t.get(r)}})},Tt=Pne(),wi=()=>(t,e)=>e.reduce((n,r)=>{const[i,s]=n,o=r;return s[o]!==void 0&&(i[o]=s[o]),delete s[o],[i,s]},[{},{...t}]),kh=t=>wi()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function Rne(t){return new Proxy({},{get(){return t}})}var cr=()=>t=>Array.from(new Set(t));function Ine(t,e,n){const r=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&r,present:r,setNode(i){i&&e({type:"NODE.SET",node:i})},unmount(){e({type:"UNMOUNT"})}}}function kne(t){return Du({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var n,r;return E3((n=e.styles)==null?void 0:n.animationDuration)+E3((r=e.styles)==null?void 0:r.animationDelay)+One}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){var n;(n=e.onExitComplete)==null||n.call(e)},setNode(e,n){e.node=gi(n.node)},setStyles(e,n){const r=n.node.ownerDocument.defaultView||window;e.styles=gi(r.getComputedStyle(n.node))},syncPresence(e,n,{send:r}){var o;if(e.present){r({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((o=e.node)==null?void 0:o.ownerDocument.visibilityState)==="hidden"){r({type:"UNMOUNT",src:"visibilitychange"});return}const i=s1(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var a,l;e.unmountAnimationName=i,i==="none"||i===e.prevAnimationName||((a=e.styles)==null?void 0:a.display)==="none"||((l=e.styles)==null?void 0:l.animationDuration)==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=s1(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,n,{send:r}){const i=e.node;if(!i)return;const s=a=>{var c,u;(((u=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:u[0])??a.target)===i&&(e.prevAnimationName=s1(e.styles))},o=a=>{var u,d;const l=s1(e.styles);(((d=(u=a.composedPath)==null?void 0:u.call(a))==null?void 0:d[0])??a.target)===i&&l===e.unmountAnimationName&&r({type:"UNMOUNT",src:"animationend"})};return i.addEventListener("animationstart",s),i.addEventListener("animationcancel",o),i.addEventListener("animationend",o),()=>{i.removeEventListener("animationstart",s),i.removeEventListener("animationcancel",o),i.removeEventListener("animationend",o)}}}})}function s1(t){return(t==null?void 0:t.animationName)||"none"}function E3(t){return parseFloat(t||"0")*1e3}var One=16.667;cr()(["onExitComplete","present","immediate"]);var Nu=Rne(t=>t),T3=t=>(t==null?void 0:t.constructor.name)==="Array",Lne=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!zk(t[n],e[n]))return!1;return!0},zk=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(T3(t)&&T3(e))return Lne(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!zk(t[s],e[s]))return!1}return!0},Dne=Function.prototype.toString;Dne.call(Object);function e6(t){if(!Nne(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=e6(i))}return n}var Nne=t=>t&&typeof t=="object"&&t.constructor===Object;function Fne(t,e){const n=N.useRef(!1),r=N.useRef(!1);N.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),N.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var Une=Dk("__zag__targetCache",()=>new WeakMap);function t6(t,e){const{actions:n,context:r,sync:i}=e??{},s=N.useRef(void 0),o=N.useRef(void 0),a=N.useSyncExternalStore(N.useCallback(d=>Mx(t.state,d,i),[i]),()=>{const d=sh(t.state);try{if(s.current&&o.current&&!HH(s.current,d,o.current,new WeakMap))return s.current}catch{}return d},()=>sh(t.state));t.setOptions({actions:n});const l=N.useMemo(()=>e6(r??{}),[r]);Fne(()=>{const d=Object.entries(l),f=t.contextSnapshot??{};d.map(([w,x])=>({key:w,curr:x,prev:f[w],equal:zk(f[w],x)})).every(({equal:w})=>w)||t.setContext(l)},[l]);const c=new WeakMap;N.useEffect(()=>{s.current=a,o.current=c});const u=N.useMemo(()=>new WeakMap,[]);return GH(a,c,u,Une)}function zne(t){return[t6(t),t.send]}function Bne(t){const e=N.useRef(void 0);return e.current||(e.current={v:t()}),e.current.v}var Vne=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Gne(t,e){const{state:n,context:r}=e??{},i=Bne(()=>{const o=typeof t=="function"?t():t;return r&&o.setContext(r),o._created(),o}),s=N.useRef(void 0);return Vne(()=>{const o=n??s.current;return i.start(o),()=>{i.stop()}},[]),i}function Kd(t,e){const n=Gne(t,e);return[t6(n,e),n.send,n]}function Bo(t,e={}){const{sync:n=!1}=e,r=Hne(t);return N.useCallback((...i)=>{var s;return n?queueMicrotask(()=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)}):(s=r.current)==null?void 0:s.call(r,...i)},[n,r])}function Hne(t){const e=N.useRef(t);return e.current=t,e}const Zd=t=>{const{lazyMount:e,unmountOnExit:n,present:r,...i}=t,s=N.useRef(!1),o={...i,present:r,onExitComplete:Bo(t.onExitComplete)},[a,l]=Kd(kne(o),{context:o}),c=Ine(a,l);c.present&&(s.current=!0);const u=!c.present&&!s.current&&e||n&&!c.present&&s.current,d=()=>({"data-state":r?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:d,present:c.present,unmounted:u}},[Oh,Fu]=Hr({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var xn=(t,e=[])=>({parts:(...n)=>{if(Wne(e))return xn(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>xn(t,[...e,...n]),rename:n=>xn(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Bg(t)}"][data-part="${Bg(r)}"]`,`& [data-scope="${Bg(t)}"][data-part="${Bg(r)}"]`].join(", "),attrs:{"data-scope":Bg(t),"data-part":Bg(r)}}}),{})}),Bg=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Wne=t=>t.length===0,n6=xn("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");n6.build();var ru=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},getItemId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`accordion:${t.id}:item:${e}`},getItemContentId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemContent)==null?void 0:r.call(n,e))??`accordion:${t.id}:content:${e}`},getItemTriggerId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,e))??`accordion:${t.id}:trigger:${e}`},getRootEl:t=>ru.getById(t,ru.getRootId(t)),getTriggerEls:t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(ru.getRootId(t))}']:not([disabled])`;return vu(ru.getRootEl(t),n)},getFirstTriggerEl:t=>WH(ru.getTriggerEls(t)),getLastTriggerEl:t=>jH(ru.getTriggerEls(t)),getNextTriggerEl:(t,e)=>kH(ru.getTriggerEls(t),ru.getItemTriggerId(t,e)),getPrevTriggerEl:(t,e)=>OH(ru.getTriggerEls(t),ru.getItemTriggerId(t,e))});cr()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);cr()(["value","disabled"]);var r6=xn("collapsible").parts("root","trigger","content");r6.build();var Vg=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`collapsible:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`collapsible:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`collapsible:${t.id}:trigger`},getRootEl:t=>Vg.getById(t,Vg.getRootId(t)),getContentEl:t=>Vg.getById(t,Vg.getContentId(t)),getTriggerEl:t=>Vg.getById(t,Vg.getTriggerId(t))});cr()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const[R3e,Lh]=Hr({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),jne=["top","right","bottom","left"],wh=Math.min,Ga=Math.max,CE=Math.round,o1=Math.floor,bu=t=>({x:t,y:t}),$ne={left:"right",right:"left",bottom:"top",top:"bottom"},Yne={start:"end",end:"start"};function QR(t,e,n){return Ga(t,wh(e,n))}function Vd(t,e){return typeof t=="function"?t(e):t}function Gd(t){return t.split("-")[0]}function Dy(t){return t.split("-")[1]}function Bk(t){return t==="x"?"y":"x"}function Vk(t){return t==="y"?"height":"width"}function bh(t){return["top","bottom"].includes(Gd(t))?"y":"x"}function Gk(t){return Bk(bh(t))}function Xne(t,e,n){n===void 0&&(n=!1);const r=Dy(t),i=Gk(t),s=Vk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ME(o)),[o,ME(o)]}function qne(t){const e=ME(t);return[JR(t),e,JR(e)]}function JR(t){return t.replace(/start|end/g,e=>Yne[e])}function Kne(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Zne(t,e,n,r){const i=Dy(t);let s=Kne(Gd(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(JR)))),s}function ME(t){return t.replace(/left|right|bottom|top/g,e=>$ne[e])}function Qne(t){return{top:0,right:0,bottom:0,left:0,...t}}function i6(t){return typeof t!="number"?Qne(t):{top:t,right:t,bottom:t,left:t}}function AE(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function C3(t,e,n){let{reference:r,floating:i}=t;const s=bh(e),o=Gk(e),a=Vk(o),l=Gd(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Dy(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const Jne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=C3(c,r,l),f=r,m={},v=0;for(let w=0;w<a.length;w++){const{name:x,fn:y}=a[w],{x:b,y:S,data:T,reset:C}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=S??d,m={...m,[x]:{...m[x],...T}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=C3(c,f,l)),w=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function Ax(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Vd(e,t),v=i6(m),x=a[f?d==="floating"?"reference":"floating":d],y=AE(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=AE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:S,strategy:l}):b);return{top:(y.top-C.top+v.top)/T.y,bottom:(C.bottom-y.bottom+v.bottom)/T.y,left:(y.left-C.left+v.left)/T.x,right:(C.right-y.right+v.right)/T.x}}const ere=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Vd(t,e)||{};if(c==null)return{};const d=i6(u),f={x:n,y:r},m=Gk(i),v=Vk(m),w=await o.getDimensions(c),x=m==="y",y=x?"top":"left",b=x?"bottom":"right",S=x?"clientHeight":"clientWidth",T=s.reference[v]+s.reference[m]-f[m]-s.floating[v],C=f[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=M?M[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[S]||s.floating[v]);const O=T/2-C/2,R=I/2-w[v]/2-1,D=wh(d[y],R),j=wh(d[b],R),$=D,B=I-w[v]-j,Q=I/2-w[v]/2+O,ne=QR($,Q,B),K=!l.arrow&&Dy(i)!=null&&Q!==ne&&s.reference[v]/2-(Q<$?D:j)-w[v]/2<0,V=K?Q<$?Q-$:Q-B:0;return{[m]:f[m]+V,data:{[m]:ne,centerOffset:Q-ne-V,...K&&{alignmentOffset:V}},reset:K}}}),tre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...x}=Vd(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Gd(i),b=bh(a),S=Gd(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(S||!w?[ME(a)]:qne(a)),M=v!=="none";!f&&M&&C.push(...Zne(a,w,v,T));const I=[a,...C],O=await Ax(e,x),R=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(O[y]),d){const Q=Xne(i,o,T);R.push(O[Q[0]],O[Q[1]])}if(D=[...D,{placement:i,overflows:R}],!R.every(Q=>Q<=0)){var j,$;const Q=(((j=s.flip)==null?void 0:j.index)||0)+1,ne=I[Q];if(ne)return{data:{index:Q,overflows:D},reset:{placement:ne}};let K=($=D.filter(V=>V.overflows[0]<=0).sort((V,G)=>V.overflows[1]-G.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(m){case"bestFit":{var B;const V=(B=D.filter(G=>{if(M){const W=bh(G.placement);return W===b||W==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(W=>W>0).reduce((W,F)=>W+F,0)]).sort((G,W)=>G[1]-W[1])[0])==null?void 0:B[0];V&&(K=V);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function M3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A3(t){return jne.some(e=>t[e]>=0)}const nre=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vd(t,e);switch(r){case"referenceHidden":{const s=await Ax(e,{...i,elementContext:"reference"}),o=M3(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A3(o)}}}case"escaped":{const s=await Ax(e,{...i,altBoundary:!0}),o=M3(s,n.floating);return{data:{escapedOffsets:o,escaped:A3(o)}}}default:return{}}}}};async function rre(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gd(n),a=Dy(n),l=bh(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Vd(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const ire=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await rre(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},sre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...l}=Vd(t,e),c={x:n,y:r},u=await Ax(e,l),d=bh(Gd(i)),f=Bk(d);let m=c[f],v=c[d];if(s){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+u[x],S=m-u[y];m=QR(b,m,S)}if(o){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=v+u[x],S=v-u[y];v=QR(b,v,S)}const w=a.fn({...e,[f]:m,[d]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:s,[d]:o}}}}}},ore=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vd(t,e),u={x:n,y:r},d=bh(i),f=Bk(d);let m=u[f],v=u[d];const w=Vd(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=f==="y"?"height":"width",T=s.reference[f]-s.floating[S]+x.mainAxis,C=s.reference[f]+s.reference[S]-x.mainAxis;m<T?m=T:m>C&&(m=C)}if(c){var y,b;const S=f==="y"?"width":"height",T=["top","left"].includes(Gd(i)),C=s.reference[d]-s.floating[S]+(T&&((y=o.offset)==null?void 0:y[d])||0)+(T?0:x.crossAxis),M=s.reference[d]+s.reference[S]+(T?0:((b=o.offset)==null?void 0:b[d])||0)-(T?x.crossAxis:0);v<C?v=C:v>M&&(v=M)}return{[f]:m,[d]:v}}}},are=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Vd(t,e),u=await Ax(e,c),d=Gd(i),f=Dy(i),m=bh(i)==="y",{width:v,height:w}=s.floating;let x,y;d==="top"||d==="bottom"?(x=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,x=f==="end"?"top":"bottom");const b=w-u.top-u.bottom,S=v-u.left-u.right,T=wh(w-u[x],b),C=wh(v-u[y],S),M=!e.middlewareData.shift;let I=T,O=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=b),M&&!f){const D=Ga(u.left,0),j=Ga(u.right,0),$=Ga(u.top,0),B=Ga(u.bottom,0);m?O=v-2*(D!==0||j!==0?D+j:Ga(u.left,u.right)):I=w-2*($!==0||B!==0?$+B:Ga(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:I});const R=await o.getDimensions(a.floating);return v!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function VT(){return typeof window<"u"}function Ny(t){return s6(t)?(t.nodeName||"").toLowerCase():"#document"}function ja(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uu(t){var e;return(e=(s6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function s6(t){return VT()?t instanceof Node||t instanceof ja(t).Node:!1}function Mc(t){return VT()?t instanceof Element||t instanceof ja(t).Element:!1}function Au(t){return VT()?t instanceof HTMLElement||t instanceof ja(t).HTMLElement:!1}function P3(t){return!VT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ja(t).ShadowRoot}function Aw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ac(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function lre(t){return["table","td","th"].includes(Ny(t))}function GT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Hk(t){const e=Wk(),n=Mc(t)?Ac(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cre(t){let e=Sh(t);for(;Au(e)&&!ay(e);){if(Hk(e))return e;if(GT(e))return null;e=Sh(e)}return null}function Wk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ay(t){return["html","body","#document"].includes(Ny(t))}function Ac(t){return ja(t).getComputedStyle(t)}function HT(t){return Mc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Sh(t){if(Ny(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P3(t)&&t.host||Uu(t);return P3(e)?e.host:e}function o6(t){const e=Sh(t);return ay(e)?t.ownerDocument?t.ownerDocument.body:t.body:Au(e)&&Aw(e)?e:o6(e)}function Px(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=o6(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ja(i);if(s){const a=eI(o);return e.concat(o,o.visualViewport||[],Aw(i)?i:[],a&&n?Px(a):[])}return e.concat(i,Px(i,[],n))}function eI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function a6(t){const e=Ac(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Au(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=CE(n)!==s||CE(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function jk(t){return Mc(t)?t:t.contextElement}function qv(t){const e=jk(t);if(!Au(e))return bu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=a6(e);let o=(s?CE(n.width):n.width)/r,a=(s?CE(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ure=bu(0);function l6(t){const e=ja(t);return!Wk()||!e.visualViewport?ure:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ja(t)?!1:e}function gm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=jk(t);let o=bu(1);e&&(r?Mc(r)&&(o=qv(r)):o=qv(t));const a=dre(s,n,r)?l6(s):bu(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=ja(s),m=r&&Mc(r)?ja(r):r;let v=f,w=eI(v);for(;w&&r&&m!==v;){const x=qv(w),y=w.getBoundingClientRect(),b=Ac(w),S=y.left+(w.clientLeft+parseFloat(b.paddingLeft))*x.x,T=y.top+(w.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=T,v=ja(w),w=eI(v)}}return AE({width:u,height:d,x:l,y:c})}function $k(t,e){const n=HT(t).scrollLeft;return e?e.left+n:gm(Uu(t)).left+n}function c6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:$k(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function fre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Uu(r),a=e?GT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=bu(1);const u=bu(0),d=Au(r);if((d||!d&&!s)&&((Ny(r)!=="body"||Aw(o))&&(l=HT(r)),Au(r))){const m=gm(r);c=qv(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=o&&!d&&!s?c6(o,l,!0):bu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function hre(t){return Array.from(t.getClientRects())}function pre(t){const e=Uu(t),n=HT(t),r=t.ownerDocument.body,i=Ga(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ga(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$k(t);const a=-n.scrollTop;return Ac(r).direction==="rtl"&&(o+=Ga(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function mre(t,e){const n=ja(t),r=Uu(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Wk();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function gre(t,e){const n=gm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Au(t)?qv(t):bu(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function R3(t,e,n){let r;if(e==="viewport")r=mre(t,n);else if(e==="document")r=pre(Uu(t));else if(Mc(e))r=gre(e,n);else{const i=l6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return AE(r)}function u6(t,e){const n=Sh(t);return n===e||!Mc(n)||ay(n)?!1:Ac(n).position==="fixed"||u6(n,e)}function vre(t,e){const n=e.get(t);if(n)return n;let r=Px(t,[],!1).filter(a=>Mc(a)&&Ny(a)!=="body"),i=null;const s=Ac(t).position==="fixed";let o=s?Sh(t):t;for(;Mc(o)&&!ay(o);){const a=Ac(o),l=Hk(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Aw(o)&&!l&&u6(t,o))?r=r.filter(u=>u!==o):i=a,o=Sh(o)}return e.set(t,r),r}function yre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?GT(e)?[]:vre(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=R3(e,u,i);return c.top=Ga(d.top,c.top),c.right=wh(d.right,c.right),c.bottom=wh(d.bottom,c.bottom),c.left=Ga(d.left,c.left),c},R3(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _re(t){const{width:e,height:n}=a6(t);return{width:e,height:n}}function xre(t,e,n){const r=Au(e),i=Uu(e),s=n==="fixed",o=gm(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=bu(0);if(r||!r&&!s)if((Ny(e)!=="body"||Aw(i))&&(a=HT(e)),r){const f=gm(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=$k(i));const c=i&&!r&&!s?c6(i,a):bu(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function aA(t){return Ac(t).position==="static"}function I3(t,e){if(!Au(t)||Ac(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Uu(t)===n&&(n=n.ownerDocument.body),n}function d6(t,e){const n=ja(t);if(GT(t))return n;if(!Au(t)){let i=Sh(t);for(;i&&!ay(i);){if(Mc(i)&&!aA(i))return i;i=Sh(i)}return n}let r=I3(t,e);for(;r&&lre(r)&&aA(r);)r=I3(r,e);return r&&ay(r)&&aA(r)&&!Hk(r)?n:r||cre(t)||n}const wre=async function(t){const e=this.getOffsetParent||d6,n=this.getDimensions,r=await n(t.floating);return{reference:xre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bre(t){return Ac(t).direction==="rtl"}const Sre={convertOffsetParentRelativeRectToViewportRelativeRect:fre,getDocumentElement:Uu,getClippingRect:yre,getOffsetParent:d6,getElementRects:wre,getClientRects:hre,getDimensions:_re,getScale:qv,isElement:Mc,isRTL:bre};function f6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ere(t,e){let n=null,r;const i=Uu(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:m}=c;if(a||e(),!f||!m)return;const v=o1(d),w=o1(i.clientWidth-(u+f)),x=o1(i.clientHeight-(d+m)),y=o1(u),S={rootMargin:-v+"px "+-w+"px "+-x+"px "+-y+"px",threshold:Ga(0,wh(1,l))||1};let T=!0;function C(M){const I=M[0].intersectionRatio;if(I!==l){if(!T)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!f6(c,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(C,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(t)}return o(!0),s}function Tre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=jk(t),u=i||s?[...c?Px(c):[],...Px(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?Ere(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,w=l?gm(t):null;l&&x();function x(){const y=gm(t);w&&!f6(w,y)&&n(),w=y,v=requestAnimationFrame(x)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const Cre=ire,Mre=sre,Are=tre,Pre=are,Rre=nre,Ire=ere,kre=ore,Ore=(t,e,n)=>{const r=new Map,i={platform:Sre,...n},s={...i.platform,_c:r};return Jne(t,e,{...i,platform:s})};function k3(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function Lre(t){if(!t)return k3();const{x:e,y:n,width:r,height:i}=t;return k3(e,n,r,i)}function Dre(t,e){return{contextElement:Qs(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?Lre(r):n.getBoundingClientRect()}}}var W0=t=>({variable:t,reference:`var(${t})`}),Md={arrowSize:W0("--arrow-size"),arrowSizeHalf:W0("--arrow-size-half"),arrowBg:W0("--arrow-background"),transformOrigin:W0("--transform-origin"),arrowOffset:W0("--arrow-offset")},Nre=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),Fre={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=Nre(r)[t],{floating:s}=e;return s.style.setProperty(Md.transformOrigin.variable,i),{data:{transformOrigin:i}}}},Ure={name:"rects",fn({rects:t}){return{data:t}}},zre=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${Md.arrowOffset.reference})`}),{}}}};function Bre(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function Vre(t){return t.split("-")[0]}var Gre={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function O3(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function h6(t){return Yv(t.boundary)}function Hre(t,e){if(t)return Ire({element:t,padding:e.arrowPadding})}function Wre(t,e){if(!nne(e.offset??e.gutter))return Cre(({placement:n})=>{var c,u;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((c=e.offset)==null?void 0:c.mainAxis)??e.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:o}=Bre(n),a=o?void 0:e.shift,l=((u=e.offset)==null?void 0:u.crossAxis)??a;return Ka({crossAxis:l,mainAxis:s,alignmentAxis:e.shift})})}function jre(t){if(t.flip)return Are({boundary:h6(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function $re(t){if(!(!t.slide&&!t.overlap))return Mre({boundary:h6(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:kre()})}function Yre(t){return Pre({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const s=e.floating,o=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function Xre(t){var e;if(t.hideWhenDetached)return Rre({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function qre(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Kre(t,e,n={}){const r=Dre(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},Gre,n),s=e.querySelector("[data-part=arrow]"),o=[Wre(s,i),jre(i),$re(i),Hre(s,i),zre(s),Fre,Yre(i),Xre(i),Ure],{placement:a,strategy:l,onComplete:c,onPositioned:u}=i,d=async()=>{var T;if(!r||!e)return;const w=await Ore(r,e,{placement:a,middleware:o,strategy:l});c==null||c(w),u==null||u({placed:!0});const x=_o(e),y=O3(x,w.x),b=O3(x,w.y);e.style.setProperty("--x",`${y}px`),e.style.setProperty("--y",`${b}px`),i.hideWhenDetached&&(((T=w.middlewareData.hide)==null?void 0:T.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const S=e.firstElementChild;if(S){const C=yH(S);e.style.setProperty("--z-index",C.zIndex)}},f=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:d}),u==null||u({placed:!0})):await d()},m=qre(i.listeners),v=i.listeners?Tre(r,e,f,m):$H;return f(),()=>{v==null||v(),u==null||u({placed:!1})}}function ly(t,e,n={}){const{defer:r,...i}=n,s=r?yi:a=>a(),o=[];return o.push(s(()=>{const a=typeof t=="function"?t():t,l=typeof e=="function"?e():e;o.push(Kre(a,l,i))})),()=>{o.forEach(a=>a==null?void 0:a())}}var Zre={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Yk(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:Md.arrowSize.reference,height:Md.arrowSize.reference,[Md.arrowSizeHalf.variable]:`calc(${Md.arrowSize.reference} / 2)`,[Md.arrowOffset.variable]:`calc(${Md.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Zre[e.split("-")[0]]:void 0,background:Md.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function Qre(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const s=t.frames[i];s&&n(s)}},addEventListener(n,r,i){return e.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return e}function Jre(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var L3="pointerdown.outside",D3="focus.outside";function eie(t){for(const e of t)if(Qs(e)&&lh(e))return!0;return!1}var p6=t=>"clientY"in t;function tie(t,e){if(!p6(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function nie(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function N3(t,e){if(!e||!p6(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,s=i&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},a={x:t.clientX,y:t.clientY};return nie(o,a)?r||s:!1}function rie(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:o}=e;if(!t)return;const a=Ll(t),l=_o(t),c=Qre(l),u=Jre(l);function d(y){const b=Fo(y);if(!Qs(b)||!b.isConnected||Mu(t,b)||tie(t,y))return!1;const S=a.querySelector(`[aria-controls="${t.id}"]`);if(S){const C=SE(S);if(N3(y,C))return!1}const T=SE(t);return N3(y,T)?!1:!(n!=null&&n(b))}const f=new Set;function m(y){function b(){var C;const S=o?yi:M=>M(),T=((C=y.composedPath)==null?void 0:C.call(y))??[y.target];S(()=>{if(!(!t||!d(y))){if(i||s){const M=EE(i,s);t.addEventListener(L3,M,{once:!0})}F3(t,L3,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:wH(y),focusable:eie(T)}})}})}y.pointerType==="touch"?(f.forEach(S=>S()),f.add(Ms(a,"click",b,{once:!0})),f.add(u.addEventListener("click",b,{once:!0})),f.add(c.addEventListener("click",b,{once:!0}))):b()}const v=new Set,w=setTimeout(()=>{v.add(Ms(a,"pointerdown",m,!0)),v.add(u.addEventListener("pointerdown",m,!0)),v.add(c.addEventListener("pointerdown",m,!0))},0);function x(y){(o?yi:S=>S())(()=>{if(!(!t||!d(y))){if(r||s){const S=EE(r,s);t.addEventListener(D3,S,{once:!0})}F3(t,D3,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:!1,focusable:lh(Fo(y))}})}})}return v.add(Ms(a,"focusin",x,!0)),v.add(u.addEventListener("focusin",x,!0)),v.add(c.addEventListener("focusin",x,!0)),()=>{clearTimeout(w),f.forEach(y=>y()),v.forEach(y=>y())}}function iie(t,e){const{defer:n}=e,r=n?yi:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(rie(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function F3(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function sie(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return Ms(Ll(t),"keydown",n,{capture:!0})}var Va={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Mu(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Mu(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},U3;function z3(){Va.layers.forEach(({node:t})=>{t.style.pointerEvents=Va.isBelowPointerBlockingLayer(t)?"none":"auto"})}function oie(t){t.style.pointerEvents=""}function aie(t,e){const n=Ll(t),r=[];if(Va.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(U3=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=Cte(e,s=>{r.push(wte(s,{pointerEvents:"auto"}))});r.push(i)}return()=>{Va.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=U3,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function lie(t,e){if(!t){Xv("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:r,exclude:i,debug:s}=e,o={dismiss:n,node:t,pointerBlocking:r};Va.add(o),z3();function a(f){var v,w;const m=Fo(f.detail.originalEvent);Va.isBelowPointerBlockingLayer(t)||Va.isInBranch(m)||((v=e.onPointerDownOutside)==null||v.call(e,f),(w=e.onInteractOutside)==null||w.call(e,f),!f.defaultPrevented&&(s&&console.log("onPointerDownOutside:",f.detail.originalEvent),n==null||n()))}function l(f){var v,w;const m=Fo(f.detail.originalEvent);Va.isInBranch(m)||((v=e.onFocusOutside)==null||v.call(e,f),(w=e.onInteractOutside)==null||w.call(e,f),!f.defaultPrevented&&(s&&console.log("onFocusOutside:",f.detail.originalEvent),n==null||n()))}function c(f){var m;Va.isTopMost(t)&&((m=e.onEscapeKeyDown)==null||m.call(e,f),!f.defaultPrevented&&n&&(f.preventDefault(),n()))}function u(f){var x;if(!t)return!1;const m=typeof i=="function"?i():i,v=Array.isArray(m)?m:[m],w=(x=e.persistentElements)==null?void 0:x.map(y=>y()).filter(Qs);return w&&v.push(...w),v.some(y=>Mu(y,f))||Va.isInNestedLayer(t,f)}const d=[r?aie(t,e.persistentElements):void 0,sie(t,c),iie(t,{exclude:u,onFocusOutside:l,onPointerDownOutside:a,defer:e.defer})];return()=>{Va.remove(t),z3(),oie(t),d.forEach(f=>f==null?void 0:f())}}function Xk(t,e){const{defer:n}=e,r=n?yi:s=>s(),i=[];return i.push(r(()=>{const s=oy(t)?t():t;i.push(lie(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function cie(t,e={}){const{defer:n}=e,r=n?yi:s=>s(),i=[];return i.push(r(()=>{const s=oy(t)?t():t;if(!s){Xv("[@zag-js/dismissable] branch node is `null` or `undefined`");return}Va.addBranch(s),i.push(()=>{Va.removeBranch(s)})})),()=>{i.forEach(s=>s==null?void 0:s())}}var m6=xn("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);m6.build();var kr=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`color-picker:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`color-picker:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},getFormatSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},getAreaGradientId:t=>{var e;return((e=t.ids)==null?void 0:e.areaGradient)??`color-picker:${t.id}:area-gradient`},getAreaThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},getChannelSliderTrackId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},getChannelSliderThumbId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},getContentEl:t=>kr.getById(t,kr.getContentId(t)),getAreaThumbEl:t=>kr.getById(t,kr.getAreaThumbId(t)),getChannelSliderThumbEl:(t,e)=>kr.getById(t,kr.getChannelSliderThumbId(t,e)),getChannelInputEl:(t,e)=>{const n=`input[data-channel="${e}"]`;return[...vu(kr.getContentEl(t),n),...vu(kr.getControlEl(t),n)]},getFormatSelectEl:t=>kr.getById(t,kr.getFormatSelectId(t)),getHiddenInputEl:t=>kr.getById(t,kr.getHiddenInputId(t)),getAreaEl:t=>kr.getById(t,kr.getAreaId(t)),getAreaValueFromPoint(t,e){const n=kr.getAreaEl(t);if(!n)return;const{percent:r}=jR(e,n);return r},getControlEl:t=>kr.getById(t,kr.getControlId(t)),getTriggerEl:t=>kr.getById(t,kr.getTriggerId(t)),getPositionerEl:t=>kr.getById(t,kr.getPositionerId(t)),getChannelSliderTrackEl:(t,e)=>kr.getById(t,kr.getChannelSliderTrackId(t,e)),getChannelSliderValueFromPoint(t,e,n){const r=kr.getChannelSliderTrackEl(t,n);if(!r)return;const{percent:i}=jR(e,r);return i},getChannelInputEls:t=>[...vu(kr.getContentEl(t),"input[data-channel]"),...vu(kr.getControlEl(t),"input[data-channel]")]});const[g6,uie]=Hr({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),v6=t=>wi()(t,["lazyMount","unmountOnExit"]);var y6=xn("avatar").parts("root","image","fallback");y6.build();var a1=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`avatar:${t.id}`},getImageId:t=>{var e;return((e=t.ids)==null?void 0:e.image)??`avatar:${t.id}:image`},getFallbackId:t=>{var e;return((e=t.ids)==null?void 0:e.fallback)??`avatar:${t.id}:fallback`},getRootEl:t=>a1.getById(t,a1.getRootId(t)),getImageEl:t=>a1.getById(t,a1.getImageId(t))});cr()(["dir","id","ids","onStatusChange","getRootNode"]);function die(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function fie(t){return!(t.metaKey||!_H()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var hie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pie(t,e,n){const r=n?Fo(n):null,i=_o(r);return t=t||r instanceof i.HTMLInputElement&&!hie.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(mie,n.key))}var Nm=null,tI=new Set,J_=new Map,vm=!1,nI=!1,mie={Tab:!0,Escape:!0};function WT(t,e){for(let n of tI)n(t,e)}function PE(t){vm=!0,fie(t)&&(Nm="keyboard",WT("keyboard",t))}function Tl(t){Nm="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(vm=!0,WT("pointer",t))}function _6(t){die(t)&&(vm=!0,Nm="virtual")}function x6(t){const e=Fo(t);e===_o(e)||e===Ll(e)||(!vm&&!nI&&(Nm="virtual",WT("virtual",t)),vm=!1,nI=!1)}function w6(){vm=!1,nI=!0}function gie(t){if(typeof window>"u"||J_.get(_o(t)))return;const e=_o(t),n=Ll(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Nm="virtual",WT("virtual",null),vm=!0,r.apply(this,arguments)},n.addEventListener("keydown",PE,!0),n.addEventListener("keyup",PE,!0),n.addEventListener("click",_6,!0),e.addEventListener("focus",x6,!0),e.addEventListener("blur",w6,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",Tl,!0),n.addEventListener("pointermove",Tl,!0),n.addEventListener("pointerup",Tl,!0)):(n.addEventListener("mousedown",Tl,!0),n.addEventListener("mousemove",Tl,!0),n.addEventListener("mouseup",Tl,!0)),e.addEventListener("beforeunload",()=>{vie(t)},{once:!0}),J_.set(e,{focus:r})}var vie=(t,e)=>{const n=_o(t),r=Ll(t);J_.has(n)&&(n.HTMLElement.prototype.focus=J_.get(n).focus,r.removeEventListener("keydown",PE,!0),r.removeEventListener("keyup",PE,!0),r.removeEventListener("click",_6,!0),n.removeEventListener("focus",x6,!0),n.removeEventListener("blur",w6,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Tl,!0),r.removeEventListener("pointermove",Tl,!0),r.removeEventListener("pointerup",Tl,!0)):(r.removeEventListener("mousedown",Tl,!0),r.removeEventListener("mousemove",Tl,!0),r.removeEventListener("mouseup",Tl,!0)),J_.delete(n))};function RE(){return Nm==="keyboard"}function b6(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;gie(i),r==null||r({isFocusVisible:n||RE(),modality:Nm});const s=(o,a)=>{pie(!!e,o,a)&&(r==null||r({isFocusVisible:RE(),modality:o}))};return tI.add(s),()=>{tI.delete(s)}}var S6=xn("checkbox").parts("root","label","control","indicator");S6.build();var l1=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`checkbox:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`checkbox:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`checkbox:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`checkbox:${t.id}:input`},getRootEl:t=>l1.getById(t,l1.getRootId(t)),getHiddenInputEl:t=>l1.getById(t,l1.getHiddenInputId(t))});cr()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const yie=S6.extendWith("group"),[_ie,Qd]=Hr({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),xie=m6.extendWith("view");var wie=Object.defineProperty,bie=(t,e,n)=>e in t?wie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sie=(t,e,n)=>bie(t,e+"",n),WS={itemToValue(t){return typeof t=="string"?t:im(t)&&Q_(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:im(t)&&Q_(t,"label")?t.label:WS.itemToValue(t)},isItemDisabled(t){return im(t)&&Q_(t,"disabled")?!!t.disabled:!1}},qk=class{constructor(t){this.options=t,Sie(this,"items"),this.items=[...t.items]}isEqual(t){return Nd(this.items,t.items)}setItems(t){this.items=Array.from(t)}getValues(t=this.items){return Array.from(t).map(e=>this.getItemValue(e)).filter(Boolean)}find(t){if(t==null)return null;const e=this.items.findIndex(n=>this.getItemValue(n)===t);return e!=null?this.items[e]:null}findMany(t){return Array.from(t).map(e=>this.find(e)).filter(Boolean)}at(t){return this.items[t]??null}sortFn(t,e){const n=this.indexOf(t),r=this.indexOf(e);return(n??0)-(r??0)}sort(t){return[...t].sort(this.sortFn.bind(this))}getItemValue(t){var e,n;return t==null?null:((n=(e=this.options).itemToValue)==null?void 0:n.call(e,t))??WS.itemToValue(t)}getItemDisabled(t){var e,n;return t==null?!1:((n=(e=this.options).isItemDisabled)==null?void 0:n.call(e,t))??WS.isItemDisabled(t)}stringifyItem(t){var e,n;return t==null?null:((n=(e=this.options).itemToString)==null?void 0:n.call(e,t))??WS.itemToString(t)}stringify(t){return t==null?null:this.stringifyItem(this.find(t))}stringifyItems(t,e=", "){return Array.from(t).map(n=>this.stringifyItem(n)).filter(Boolean).join(e)}stringifyMany(t,e){return this.stringifyItems(this.findMany(t),e)}has(t){return this.indexOf(t)!==-1}hasItem(t){return t==null?!1:this.has(this.getItemValue(t))}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}getNextValue(t,e=1,n=!1){let r=this.indexOf(t);if(r===-1)return null;for(r=n?Math.min(r+e,this.size-1):r+e;r<=this.size&&this.getItemDisabled(this.at(r));)r++;return this.getItemValue(this.at(r))}getPreviousValue(t,e=1,n=!1){let r=this.indexOf(t);if(r===-1)return null;for(r=n?Math.max(r-e,0):r-e;r>=0&&this.getItemDisabled(this.at(r));)r--;return this.getItemValue(this.at(r))}indexOf(t){return t==null?-1:this.items.findIndex(e=>this.getItemValue(e)===t)}getByText(t,e){let n=e!=null?Tie(this.items,this.indexOf(e)):this.items;return t.length===1&&(n=n.filter(i=>this.getItemValue(i)!==e)),n.find(i=>Eie(this.stringifyItem(i),t))}search(t,e){const{state:n,currentValue:r,timeout:i=350}=e,s=n.keysSoFar+t,a=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,l=this.getByText(a,r),c=this.getItemValue(l);function u(){clearTimeout(n.timer),n.timer=-1}function d(f){n.keysSoFar=f,u(),f!==""&&(n.timer=+setTimeout(()=>{d(""),u()},i))}return d(s),c}*[Symbol.iterator](){yield*this.items}insertBefore(t,e){const n=this.indexOf(t);n!==-1&&this.items.splice(n,0,e)}insertAfter(t,e){const n=this.indexOf(t);n!==-1&&this.items.splice(n+1,0,e)}reorder(t,e){if(t===-1||e===-1||t===e)return;const[n]=this.items.splice(t,1);this.items.splice(e,0,n)}json(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},Eie=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),Tie=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]);const Cie=t=>gi(new qk(t));var Gg=new WeakMap,c1=new WeakMap,u1={},lA=0,E6=t=>t&&(t.host||E6(t.parentNode)),Mie=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=E6(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Aie=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Pie=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i,explicitBooleanValue:s}=e,o=Mie(n,Array.isArray(t)?t:[t]);u1[r]||(u1[r]=new WeakMap);const a=u1[r],l=[],c=new Set,u=new Set(o),d=m=>{!m||c.has(m)||(c.add(m),d(m.parentNode))};o.forEach(d);const f=m=>{!m||u.has(m)||Array.prototype.forEach.call(m.children,v=>{if(c.has(v))f(v);else try{if(Aie(v))return;const w=v.getAttribute(i),x=s?w==="true":w!==null&&w!=="false",y=(Gg.get(v)||0)+1,b=(a.get(v)||0)+1;Gg.set(v,y),a.set(v,b),l.push(v),y===1&&x&&c1.set(v,!0),b===1&&v.setAttribute(r,""),x||v.setAttribute(i,s?"true":"")}catch(w){console.error("[zag-js > ariaHidden] cannot operate on ",v,w)}})};return f(n),c.clear(),lA++,()=>{l.forEach(m=>{const v=Gg.get(m)-1,w=a.get(m)-1;Gg.set(m,v),a.set(m,w),v||(c1.has(m)||m.removeAttribute(i),c1.delete(m)),w||m.removeAttribute(r)}),lA--,lA||(Gg=new WeakMap,Gg=new WeakMap,c1=new WeakMap,u1={})}},Rie=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Iie=(t,e=Rie(t),n="data-aria-hidden")=>{if(e)return Pie(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden",explicitBooleanValue:!0})},kie=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function Oie(t,e={}){const{defer:n=!0}=e,r=n?kie:s=>s(),i=[];return i.push(r(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&i.push(Iie(o))})),()=>{i.forEach(s=>s==null?void 0:s())}}const[T6,Dh]=Hr({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),C6=N.forwardRef((t,e)=>{const n=Dh(),r=uie(),i=Zd({...r,present:n.open}),s=ht(n.getBackdropProps(),i.getPresenceProps(),t);return i.unmounted?null:Y.jsx(Tt.div,{...s,ref:Dm(i.ref,e)})});C6.displayName="DialogBackdrop";const M6=N.forwardRef((t,e)=>{const n=Dh(),r=ht(n.getCloseTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});M6.displayName="DialogCloseTrigger";const A6=N.forwardRef((t,e)=>{const n=Dh(),r=Fu(),i=ht(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:Y.jsx(Tt.div,{...i,ref:Dm(r.ref,e)})});A6.displayName="DialogContent";const P6=N.forwardRef((t,e)=>{const n=Dh(),r=ht(n.getDescriptionProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});P6.displayName="DialogDescription";const R6=N.forwardRef((t,e)=>{const n=Dh(),r=ht(n.getPositionerProps(),t);return Fu().unmounted?null:Y.jsx(Tt.div,{...r,ref:e})});R6.displayName="DialogPositioner";var Lie=Object.defineProperty,Die=(t,e,n)=>e in t?Lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ei=(t,e,n)=>Die(t,typeof e!="symbol"?e+"":e,n),B3={activateTrap(t,e){if(t.length>0){const r=t[t.length-1];r!==e&&r.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},Nie=[],Fie=class{constructor(t,e){ei(this,"trapStack"),ei(this,"config"),ei(this,"doc"),ei(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),ei(this,"listenerCleanups",[]),ei(this,"handleFocus",r=>{const i=Fo(r),s=this.findContainerIndex(i,r)>=0;if(s||Tk(i))s&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let o,a=!0;if(this.state.mostRecentlyFocusedNode)if(G0(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){const u=c.findIndex(d=>d===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(o=c[u+1],a=!1):u-1>=0&&(o=c[u-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>G0(c)>0))||(a=!1);else a=!1;a&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),ei(this,"handlePointerDown",r=>{const i=Fo(r);if(!(this.findContainerIndex(i,r)>=0)){if($0(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}$0(this.config.allowOutsideClick,r)||r.preventDefault()}}),ei(this,"handleClick",r=>{const i=Fo(r);this.findContainerIndex(i,r)>=0||$0(this.config.clickOutsideDeactivates,r)||$0(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),ei(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),s=this.findNextNavNode({event:r,isBackward:i});if(!s)return;j0(r)&&r.preventDefault(),this.tryFocus(s)}}),ei(this,"handleEscapeKey",r=>{Uie(r)&&$0(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),ei(this,"_mutationObserver"),ei(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(o=>Array.from(o.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),ei(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var s;(s=this._mutationObserver)==null||s.observe(i,{subtree:!0,childList:!0})})}),ei(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!lh(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),ei(this,"tryFocus",r=>{if(r!==!1&&r!==vH(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,zie(r)&&r.select()}}),ei(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),B3.deactivateTrap(this.trapStack,this);const s=this.getOption(i,"onDeactivate"),o=this.getOption(i,"onPostDeactivate"),a=this.getOption(i,"checkCanReturnFocus"),l=this.getOption(i,"returnFocus","returnFocusOnDeactivate");s==null||s();const c=()=>{V3(()=>{if(l){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}o==null||o()})};if(l&&a){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(u).then(c,c),this}return c(),this}),ei(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),s=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),ei(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),s=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),ei(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),ei(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),ei(this,"getOption",(r,i,s)=>r&&r[i]!==void 0?r[i]:this.config[s||i]),ei(this,"getNodeForOption",(r,{hasFallback:i=!1,params:s=[]}={})=>{let o=this.config[r];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let a=o;if(typeof o=="string"){try{a=this.doc.querySelector(o)}catch(l){throw new Error(`\`${r}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return a}),ei(this,"findNextNavNode",r=>{const{event:i,isBackward:s=!1}=r,o=r.target||Fo(i);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(o,i),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:d})=>o===d);if(u<0&&((c==null?void 0:c.container)===o||lh(o)&&!Lp(o)&&!(c!=null&&c.nextTabbableNode(o,!1)))&&(u=l),u>=0){const d=u===0?this.state.tabbableGroups.length-1:u-1,f=this.state.tabbableGroups[d];a=G0(o)>=0?f.lastTabbableNode:f.lastDomTabbableNode}else j0(i)||(a=c==null?void 0:c.nextTabbableNode(o,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:d})=>o===d);if(u<0&&((c==null?void 0:c.container)===o||lh(o)&&!Lp(o)&&!(c!=null&&c.nextTabbableNode(o)))&&(u=l),u>=0){const d=u===this.state.tabbableGroups.length-1?0:u+1,f=this.state.tabbableGroups[d];a=G0(o)>=0?f.firstTabbableNode:f.firstDomTabbableNode}else j0(i)||(a=c==null?void 0:c.nextTabbableNode(o))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=e.trapStack||Nie;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return j0(r)&&!r.shiftKey},isKeyBackward(r){return j0(r)&&r.shiftKey},...e};this.doc=n.document||Ll(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(t)||(n==null?void 0:n.includes(r))||i.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=zT(t),n=Pk(t),r=e.length>0?e[0]:void 0,i=e.length>0?e[e.length-1]:void 0,s=n.find(c=>Lp(c)),o=n.slice().reverse().find(c=>Lp(c)),a=!!e.find(c=>G0(c)>0);function l(c,u=!0){const d=e.indexOf(c);return d<0?u?n.slice(n.indexOf(c)+1).find(f=>Lp(f)):n.slice(0,n.indexOf(c)).reverse().find(f=>Lp(f)):e[d+(u?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return B3.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?V3(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Ms(this.doc,"focusin",this.handleFocus,!0),Ms(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Ms(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Ms(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Ms(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Ms(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),r=this.getOption(t,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},j0=t=>t.key==="Tab",$0=(t,...e)=>typeof t=="function"?t(...e):t,Uie=t=>!t.isComposing&&t.key==="Escape",V3=t=>setTimeout(t,0),zie=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function Bie(t,e={}){let n;const r=yi(()=>{const i=typeof t=="function"?t():t;if(i){n=new Fie(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...e,document:Ll(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var cA="data-scroll-lock";function G3(t,e){if(!t)return;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n)}}function Vie(t,e,n){if(!t)return;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{r?t.style.setProperty(e,r):t.style.removeProperty(e)}}function Gie(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Hie(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(cA))return;i.setAttribute(cA,"");const o=n.innerWidth-r.clientWidth,a=()=>Vie(r,"--scrollbar-width",`${o}px`),l=Gie(r),c=()=>G3(i,{overflow:"hidden",[l]:`${o}px`}),u=()=>{const{scrollX:f,scrollY:m,visualViewport:v}=n,w=(v==null?void 0:v.offsetLeft)??0,x=(v==null?void 0:v.offsetTop)??0,y=G3(i,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(x))}px`,left:`${-(f-Math.floor(w))}px`,right:"0",[l]:`${o}px`});return()=>{y==null||y(),n.scrollTo({left:f,top:m,behavior:"instant"})}},d=[a(),Wee()?u():c()];return()=>{d.forEach(f=>f==null?void 0:f()),i.removeAttribute(cA)}}var Kk=xn("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),gp=Kk.build(),Kn=xi({getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>Kn.getById(t,Kn.getContentId(t)),getPositionerEl:t=>Kn.getById(t,Kn.getPositionerId(t)),getBackdropEl:t=>Kn.getById(t,Kn.getBackdropId(t)),getTriggerEl:t=>Kn.getById(t,Kn.getTriggerId(t)),getTitleEl:t=>Kn.getById(t,Kn.getTitleId(t)),getDescriptionEl:t=>Kn.getById(t,Kn.getDescriptionId(t)),getCloseTriggerEl:t=>Kn.getById(t,Kn.getCloseTriggerId(t))});function Wie(t,e,n){const r=t.context["aria-label"],i=t.matches("open"),s=t.context.renderedElements;return{open:i,setOpen(o){o!==i&&e(o?"OPEN":"CLOSE")},getTriggerProps(){return n.button({...gp.trigger.attrs,dir:t.context.dir,id:Kn.getTriggerId(t.context),"aria-haspopup":"dialog",type:"button","aria-expanded":i,"data-state":i?"open":"closed","aria-controls":Kn.getContentId(t.context),onClick(o){o.defaultPrevented||e("TOGGLE")}})},getBackdropProps(){return n.element({...gp.backdrop.attrs,dir:t.context.dir,hidden:!i,id:Kn.getBackdropId(t.context),"data-state":i?"open":"closed"})},getPositionerProps(){return n.element({...gp.positioner.attrs,dir:t.context.dir,id:Kn.getPositionerId(t.context),style:{pointerEvents:i?void 0:"none"}})},getContentProps(){return n.element({...gp.content.attrs,dir:t.context.dir,role:t.context.role,hidden:!i,id:Kn.getContentId(t.context),tabIndex:-1,"data-state":i?"open":"closed","aria-modal":!0,"aria-label":r||void 0,"aria-labelledby":r||!s.title?void 0:Kn.getTitleId(t.context),"aria-describedby":s.description?Kn.getDescriptionId(t.context):void 0})},getTitleProps(){return n.element({...gp.title.attrs,dir:t.context.dir,id:Kn.getTitleId(t.context)})},getDescriptionProps(){return n.element({...gp.description.attrs,dir:t.context.dir,id:Kn.getDescriptionId(t.context)})},getCloseTriggerProps(){return n.button({...gp.closeTrigger.attrs,dir:t.context.dir,id:Kn.getCloseTriggerId(t.context),type:"button",onClick(o){o.defaultPrevented||(o.stopPropagation(),e("CLOSE"))}})}}}function jie(t){const e=Ka(t);return Du({id:"dialog",initial:e.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...e},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackDismissableElement(n,r,{send:i}){return Xk(()=>Kn.getContentEl(n),{defer:!0,pointerBlocking:n.modal,exclude:[Kn.getTriggerEl(n)],onInteractOutside(o){var a;(a=n.onInteractOutside)==null||a.call(n,o),n.closeOnInteractOutside||o.preventDefault()},persistentElements:n.persistentElements,onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onEscapeKeyDown(o){var a;(a=n.onEscapeKeyDown)==null||a.call(n,o),n.closeOnEscape||o.preventDefault()},onDismiss(){i({type:"CLOSE",src:"interact-outside"})}})},preventScroll(n){if(n.preventScroll)return Hie(Kn.getDoc(n))},trapFocus(n){return!n.trapFocus||!n.modal?void 0:Bie(()=>Kn.getContentEl(n),{preventScroll:!0,returnFocusOnDeactivate:!!n.restoreFocus,initialFocus:n.initialFocusEl,setReturnFocus:i=>{var s;return((s=n.finalFocusEl)==null?void 0:s.call(n))??i}})},hideContentBelow(n){return n.modal?Oie(()=>[Kn.getContentEl(n)],{defer:!0}):void 0}},actions:{setAlertDialogProps(n){n.role==="alertdialog"&&(n.initialFocusEl||(n.initialFocusEl=()=>Kn.getCloseTriggerEl(n)),n.closeOnInteractOutside=!1)},checkRenderedElements(n){yi(()=>{n.renderedElements.title=!!Kn.getTitleEl(n),n.renderedElements.description=!!Kn.getDescriptionEl(n)})},syncZIndex(n){yi(()=>{const r=Kn.getContentEl(n);if(!r)return;const i=yH(r);[Kn.getPositionerEl(n),Kn.getBackdropEl(n)].forEach(o=>{o==null||o.style.setProperty("--z-index",i.zIndex)})})},invokeOnClose(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!1})},invokeOnOpen(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!0})},toggleVisibility(n,r,{send:i}){i({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}cr()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const $ie=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r={id:N.useId(),getRootNode:e,dir:n,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},i={...r,open:t.open,onOpenChange:Bo(t.onOpenChange,{sync:!0}),onEscapeKeyDown:Bo(t.onEscapeKeyDown),onInteractOutside:Bo(t.onInteractOutside)},[s,o]=Kd(jie(r),{context:i});return Wie(s,o,Nu)},Yie=t=>{const[e,{children:n,...r}]=kh(t),[i]=v6(e),s=$ie(r),o=Zd(ht({present:s.open},e));return Y.jsx(T6,{value:s,children:Y.jsx(g6,{value:i,children:Y.jsx(Oh,{value:o,children:n})})})},Xie=t=>{const[e,{value:n,children:r}]=kh(t),[i]=v6(e),s=Zd(ht({present:n.open},e));return Y.jsx(T6,{value:n,children:Y.jsx(g6,{value:i,children:Y.jsx(Oh,{value:s,children:r})})})},I6=N.forwardRef((t,e)=>{const n=Dh(),r=ht(n.getTitleProps(),t);return Y.jsx(Tt.h2,{...r,ref:e})});I6.displayName="DialogTitle";const k6=N.forwardRef((t,e)=>{const n=Dh(),r=Fu(),i=ht({...n.getTriggerProps(),"aria-controls":r.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return Y.jsx(Tt.button,{...i,ref:e})});k6.displayName="DialogTrigger";var O6=xn("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");O6.build();var iu=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`editable:${t.id}`},getAreaId:t=>{var e;return((e=t.ids)==null?void 0:e.area)??`editable:${t.id}:area`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`editable:${t.id}:label`},getPreviewId:t=>{var e;return((e=t.ids)==null?void 0:e.preview)??`editable:${t.id}:preview`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`editable:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`editable:${t.id}:control`},getSubmitTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.submitTrigger)??`editable:${t.id}:submit`},getCancelTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.cancelTrigger)??`editable:${t.id}:cancel`},getEditTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.editTrigger)??`editable:${t.id}:edit`},getInputEl:t=>iu.getById(t,iu.getInputId(t)),getPreviewEl:t=>iu.getById(t,iu.getPreviewId(t)),getSubmitTriggerEl:t=>iu.getById(t,iu.getSubmitTriggerId(t)),getCancelTriggerEl:t=>iu.getById(t,iu.getCancelTriggerId(t)),getEditTriggerEl:t=>iu.getById(t,iu.getEditTriggerId(t))});cr()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","edit.controlled","submitMode","translations","value"]);const L6=N.forwardRef((t,e)=>{const n=Qd(),r=ht(n.getErrorTextProps(),t);return n!=null&&n.invalid?Y.jsx(Tt.span,{...r,ref:e}):null});L6.displayName="FieldErrorText";const D6=N.forwardRef((t,e)=>{const n=Qd(),r=ht(n==null?void 0:n.getHelperTextProps(),t);return Y.jsx(Tt.span,{...r,ref:e})});D6.displayName="FieldHelperText";const N6=N.forwardRef((t,e)=>{const n=Qd(),r=ht(n==null?void 0:n.getInputProps(),t);return Y.jsx(Tt.input,{...r,ref:e})});N6.displayName="FieldInput";const F6=N.forwardRef((t,e)=>{const n=Qd(),r=ht(n==null?void 0:n.getLabelProps(),t);return Y.jsx(Tt.label,{...r,ref:e})});F6.displayName="FieldLabel";const qie=typeof window<"u"?N.useLayoutEffect:N.useEffect,[I3e,Kie]=Hr({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),U6=xn("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),Vf=U6.build(),Zie=t=>{const e=Kie(),{ids:n,disabled:r=!!(e!=null&&e.disabled),invalid:i=!1,readOnly:s=!1,required:o=!1}=t,a=N.useRef(!1),l=N.useRef(!1),c=t.id??N.useId(),u=N.useRef(null),d=(n==null?void 0:n.control)??`field::${c}`,f=(n==null?void 0:n.errorText)??`field::${c}::error-text`,m=(n==null?void 0:n.helperText)??`field::${c}::helper-text`,v=(n==null?void 0:n.label)??`field::${c}::label`;qie(()=>{const R=u.current;if(!R)return;const D=_o(R),j=D.document,$=()=>{a.current=!!j.getElementById(f),l.current=!!j.getElementById(m)};$();const B=new D.MutationObserver($);return B.observe(R,{childList:!0,subtree:!0}),()=>B.disconnect()},[f,m]);const w=N.useMemo(()=>{const R=[];return a.current&&i&&R.push(f),l.current&&R.push(m),R.join(" ")||void 0},[i,f,m]),x=N.useMemo(()=>()=>({...Vf.root.attrs,id:d,ref:u,role:"group","data-disabled":Dt(r),"data-invalid":Dt(i),"data-readonly":Dt(s)}),[r,i,s,d]),y=N.useMemo(()=>()=>({...Vf.label.attrs,id:v,"data-disabled":Dt(r),"data-invalid":Dt(i),"data-readonly":Dt(s),htmlFor:c}),[r,i,s,c,v]),b=N.useMemo(()=>()=>({"aria-describedby":w,"aria-invalid":mH(i),"data-invalid":Dt(i),"data-required":Dt(o),"data-readonly":Dt(s),id:c,required:o,disabled:r,readOnly:s}),[w,i,o,s,c,r]),S=N.useMemo(()=>()=>({...b(),...Vf.input.attrs}),[b]),T=N.useMemo(()=>()=>({...b(),...Vf.textarea.attrs}),[b]),C=N.useMemo(()=>()=>({...b(),...Vf.select.attrs}),[b]),M=N.useMemo(()=>()=>({id:m,...Vf.helperText.attrs,"data-disabled":Dt(r)}),[r,m]),I=N.useMemo(()=>()=>({id:f,...Vf.errorText.attrs,"aria-live":"polite"}),[f]),O=N.useMemo(()=>()=>({"aria-hidden":!0,...Vf.requiredIndicator.attrs}),[]);return{ariaDescribedby:w,ids:{root:d,control:c,label:v,errorText:f,helperText:m},refs:{rootRef:u},disabled:r,invalid:i,readOnly:s,required:o,getLabelProps:y,getRootProps:x,getInputProps:S,getTextareaProps:T,getSelectProps:C,getHelperTextProps:M,getErrorTextProps:I,getRequiredIndicatorProps:O}},z6=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["id","ids","disabled","invalid","readOnly","required"]),i=Zie(n),s=ht(i.getRootProps(),r);return Y.jsx(_ie,{value:i,children:Y.jsx(Tt.div,{...s,ref:Dm(e,i.refs.rootRef)})})});z6.displayName="FieldRoot";const B6=xn("fieldset").parts("root","errorText","helperText","legend");B6.build();const[V6,ya]=Hr({name:"FileUploadContext",hookName:"useFileUploadContext",providerName:"<FileUploadProvider />"}),G6=N.forwardRef((t,e)=>{const n=ya(),r=ht(n.getClearTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});G6.displayName="FileUploadClearTrigger";const H6=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["disableClick"]),i=ya(),s=ht(i.getDropzoneProps(n),r);return Y.jsx(Tt.div,{...s,ref:e})});H6.displayName="FileUploadDropzone";const W6=N.forwardRef((t,e)=>{const n=ya(),r=ht(n.getHiddenInputProps(),t),i=Qd();return Y.jsx(Tt.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...r,ref:e})});W6.displayName="FileUploadHiddenInput";const[Qie,Pw]=Hr({name:"FileUploadItemPropsContext",hookName:"useFileUploadItemPropsContext",providerName:"<FileUploadItemPropsProvider />"}),j6=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["file"]),i=ya(),s=ht(i.getItemProps(n),r);return Y.jsx(Qie,{value:n,children:Y.jsx(Tt.li,{...s,ref:e})})});j6.displayName="FileUploadItem";const $6=N.forwardRef((t,e)=>{const n=ya(),r=Pw(),i=ht(n.getItemDeleteTriggerProps(r),t);return Y.jsx(Tt.button,{...i,ref:e})});$6.displayName="FileUploadItemDeleteTrigger";const Y6=N.forwardRef((t,e)=>{const n=ya(),r=ht(n.getItemGroupProps(),t);return Y.jsx(Tt.ul,{...r,ref:e})});Y6.displayName="FileUploadItemGroup";const X6=N.forwardRef((t,e)=>{const{children:n,...r}=t,i=ya(),s=Pw(),o=ht(i.getItemNameProps(s),r);return Y.jsx(Tt.div,{...o,ref:e,children:n||s.file.name})});X6.displayName="FileUploadItemName";const q6=N.forwardRef((t,e)=>{const n=ya(),r=Pw(),i=ht(n.getItemPreviewProps(r),t);return r.file.type.match(t.type??".*")?Y.jsx(Tt.div,{...i,ref:e}):null});q6.displayName="FileUploadItemPreview";const K6=N.forwardRef((t,e)=>{const[n,r]=N.useState(""),i=ya(),s=Pw(),o=ht(i.getItemPreviewImageProps({...s,url:n}),t);return N.useEffect(()=>i.createFileUrl(s.file,a=>r(a)),[s,i]),n?Y.jsx(Tt.img,{...o,ref:e}):null});K6.displayName="FileUploadItemPreviewImage";const Z6=N.forwardRef((t,e)=>{const{children:n,...r}=t,i=ya(),s=Pw(),o=ht(i.getItemSizeTextProps(s),r);return Y.jsx(Tt.div,{...o,ref:e,children:n||i.getFileSize(s.file)})});Z6.displayName="FileUploadItemSizeText";const Q6=N.forwardRef((t,e)=>{const n=ya(),r=ht(n.getLabelProps(),t);return Y.jsx(Tt.label,{...r,ref:e})});Q6.displayName="FileUploadLabel";function Jie(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function ese(t){return/^.*\.[\w]+$/.test(t)}var H3=t=>Jie(t)||ese(t);function tse(t){if(t)return typeof t=="string"?t:Array.isArray(t)?t.filter(H3).join(","):Object.entries(t).reduce((e,[n,r])=>[...e,n,...r],[]).filter(H3).join(",")}var nse=(t,e)=>t.name===e.name&&t.size===e.size&&t.type===e.type,Y0=t=>t!=null;function rse(t,e,n){if(Y0(t.size))if(Y0(e)&&Y0(n)){if(t.size>n)return[!1,"FILE_TOO_LARGE"];if(t.size<e)return[!1,"FILE_TOO_SMALL"]}else{if(Y0(e)&&t.size<e)return[!1,"FILE_TOO_SMALL"];if(Y0(n)&&t.size>n)return[!1,"FILE_TOO_LARGE"]}return[!0,null]}function ise(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(o=>{const a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0}function sse(t,e){const n=t.type==="application/x-moz-file"||ise(t,e);return[n,n?null:"FILE_INVALID_TYPE"]}var J6=xn("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger"),ml=J6.build(),ni=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`file:${t.id}`},getDropzoneId:t=>{var e;return((e=t.ids)==null?void 0:e.dropzone)??`file:${t.id}:dropzone`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`file:${t.id}:input`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`file:${t.id}:trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`file:${t.id}:label`},getItemId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`file:${t.id}:item:${e}`},getItemNameId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemName)==null?void 0:r.call(n,e))??`file:${t.id}:item-name:${e}`},getItemSizeTextId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemSizeText)==null?void 0:r.call(n,e))??`file:${t.id}:item-size:${e}`},getItemPreviewId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemPreview)==null?void 0:r.call(n,e))??`file:${t.id}:item-preview:${e}`},getRootEl:t=>ni.getById(t,ni.getRootId(t)),getHiddenInputEl:t=>ni.getById(t,ni.getHiddenInputId(t)),getDropzoneEl:t=>ni.getById(t,ni.getDropzoneId(t))});function W3(t){const e=Fo(t);return t.dataTransfer?t.dataTransfer.types.some(n=>n==="Files"||n==="application/x-moz-file"):!!e&&"files"in e}function ose(t,e){return!t.multiple&&e>1?!1:!t.multiple&&e+t.acceptedFiles.length===2?!0:!(e+t.acceptedFiles.length>t.maxFiles)}function ase(t,e){const n=[],r=[];return e.forEach(i=>{var d;const[s,o]=sse(i,t.acceptAttr),[a,l]=rse(i,t.minFileSize,t.maxFileSize),c=(d=t.validate)==null?void 0:d.call(t,i,{acceptedFiles:t.acceptedFiles,rejectedFiles:t.rejectedFiles}),u=c?c.length===0:!0;if(s&&a&&u)n.push(i);else{const f=[o,l];u||f.push(...c??[]),r.push({file:i,errors:f.filter(Boolean)})}}),ose(t,n.length)||(n.forEach(i=>{r.push({file:i,errors:["TOO_MANY_FILES"]})}),n.splice(0)),{acceptedFiles:n,rejectedFiles:r}}function lse(t,e,n){const r=t.context.disabled,i=t.context.allowDrop,s=t.context.translations,o=t.matches("dragging"),a=t.matches("focused")&&!r;return{dragging:o,focused:a,disabled:!!r,openFilePicker(){r||e("OPEN")},deleteFile(l){e({type:"FILE.DELETE",file:l})},acceptedFiles:t.context.acceptedFiles,rejectedFiles:t.context.rejectedFiles,setFiles(l){const c=l.length;e({type:"FILES.SET",files:l,count:c})},clearRejectedFiles(){e({type:"REJECTED_FILES.CLEAR"})},clearFiles(){e({type:"FILES.CLEAR"})},getFileSize(l){return kte(l.size,t.context.locale)},createFileUrl(l,c){const u=ni.getWin(t.context),d=u.URL.createObjectURL(l);return c(d),()=>u.URL.revokeObjectURL(d)},setClipboardFiles(l){if(r)return!1;const u=Array.from((l==null?void 0:l.items)??[]).reduce((d,f)=>{if(f.kind!=="file")return d;const m=f.getAsFile();return m?[...d,m]:d},[]);return u.length?(e({type:"FILES.SET",files:u}),!0):!1},getRootProps(){return n.element({...ml.root.attrs,dir:t.context.dir,id:ni.getRootId(t.context),"data-disabled":Dt(r),"data-dragging":Dt(o)})},getDropzoneProps(l={}){return n.element({...ml.dropzone.attrs,dir:t.context.dir,id:ni.getDropzoneId(t.context),tabIndex:r||l.disableClick?void 0:0,role:l.disableClick?"application":"button","aria-label":s.dropzone,"aria-disabled":r,"data-invalid":Dt(t.context.invalid),"data-disabled":Dt(r),"data-dragging":Dt(o),onKeyDown(c){r||c.defaultPrevented||wE(c)&&(l.disableClick||c.key!=="Enter"&&c.key!==" "||e({type:"DROPZONE.CLICK",src:"keydown"}))},onClick(c){r||c.defaultPrevented||l.disableClick||wE(c)&&(c.currentTarget.localName==="label"&&c.preventDefault(),e("DROPZONE.CLICK"))},onDragOver(c){if(r||!i)return;c.preventDefault(),c.stopPropagation();try{c.dataTransfer.dropEffect="copy"}catch{}if(!W3(c))return;const d=c.dataTransfer.items.length;e({type:"DROPZONE.DRAG_OVER",count:d})},onDragLeave(c){r||i&&(Mu(c.currentTarget,c.relatedTarget)||e({type:"DROPZONE.DRAG_LEAVE"}))},onDrop(c){if(r)return;i&&(c.preventDefault(),c.stopPropagation());const u=W3(c);r||!u||e({type:"DROPZONE.DROP",files:Array.from(c.dataTransfer.files)})},onFocus(){r||e("DROPZONE.FOCUS")},onBlur(){r||e("DROPZONE.BLUR")}})},getTriggerProps(){return n.button({...ml.trigger.attrs,dir:t.context.dir,id:ni.getTriggerId(t.context),disabled:r,"data-disabled":Dt(r),"data-invalid":Dt(t.context.invalid),type:"button",onClick(l){r||(Mu(ni.getDropzoneEl(t.context),l.currentTarget)&&l.stopPropagation(),e("OPEN"))}})},getHiddenInputProps(){return n.input({id:ni.getHiddenInputId(t.context),tabIndex:-1,disabled:r,type:"file",required:t.context.required,capture:t.context.capture,name:t.context.name,accept:t.context.acceptAttr,webkitdirectory:t.context.directory?"":void 0,multiple:t.context.multiple||t.context.maxFiles>1,onClick(l){l.stopPropagation(),l.currentTarget.value=""},onInput(l){if(r)return;const{files:c}=l.currentTarget;e({type:"FILES.SET",files:c?Array.from(c):[]})},style:Ok})},getItemGroupProps(){return n.element({...ml.itemGroup.attrs,dir:t.context.dir,"data-disabled":Dt(r)})},getItemProps(l){const{file:c}=l;return n.element({...ml.item.attrs,dir:t.context.dir,id:ni.getItemId(t.context,c.name),"data-disabled":Dt(r)})},getItemNameProps(l){const{file:c}=l;return n.element({...ml.itemName.attrs,dir:t.context.dir,id:ni.getItemNameId(t.context,c.name),"data-disabled":Dt(r)})},getItemSizeTextProps(l){const{file:c}=l;return n.element({...ml.itemSizeText.attrs,dir:t.context.dir,id:ni.getItemSizeTextId(t.context,c.name),"data-disabled":Dt(r)})},getItemPreviewProps(l){const{file:c}=l;return n.element({...ml.itemPreview.attrs,dir:t.context.dir,id:ni.getItemPreviewId(t.context,c.name),"data-disabled":Dt(r)})},getItemPreviewImageProps(l){var f;const{file:c,url:u}=l;if(!c.type.startsWith("image/"))throw new Error("Preview Image is only supported for image files");return n.img({...ml.itemPreviewImage.attrs,alt:(f=s.itemPreview)==null?void 0:f.call(s,c),src:u,"data-disabled":Dt(r)})},getItemDeleteTriggerProps(l){var u;const{file:c}=l;return n.button({...ml.itemDeleteTrigger.attrs,dir:t.context.dir,type:"button",disabled:r,"data-disabled":Dt(r),"aria-label":(u=s.deleteFile)==null?void 0:u.call(s,c),onClick(){r||e({type:"FILE.DELETE",file:c})}})},getLabelProps(){return n.label({...ml.label.attrs,dir:t.context.dir,id:ni.getLabelId(t.context),htmlFor:ni.getHiddenInputId(t.context),"data-disabled":Dt(r)})},getClearTriggerProps(){return n.button({...ml.clearTrigger.attrs,dir:t.context.dir,type:"button",disabled:r,hidden:t.context.acceptedFiles.length===0,"data-disabled":Dt(r),onClick(l){l.defaultPrevented||r||e({type:"FILES.CLEAR"})}})}}}function cse(t){const e=Ka(t);return Du({id:"fileupload",initial:"idle",context:{minFileSize:0,maxFileSize:Number.POSITIVE_INFINITY,maxFiles:1,allowDrop:!0,accept:e.accept,preventDocumentDrop:!0,...e,acceptedFiles:gi([]),rejectedFiles:gi([]),translations:{dropzone:"dropzone",itemPreview:n=>`preview of ${n.name}`,deleteFile:n=>`delete file ${n.name}`,...e.translations}},computed:{acceptAttr:n=>tse(n.accept),multiple:n=>n.maxFiles>1},watch:{acceptedFiles:["syncInputElement"]},on:{"FILES.SET":{actions:["setFilesFromEvent"]},"FILE.DELETE":{actions:["removeFile"]},"FILES.CLEAR":{actions:["clearFiles"]},"REJECTED_FILES.CLEAR":{actions:["clearRejectedFiles"]}},activities:["preventDocumentDrop"],states:{idle:{on:{OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.FOCUS":"focused","DROPZONE.DRAG_OVER":"dragging"}},focused:{on:{"DROPZONE.BLUR":"idle",OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.DRAG_OVER":"dragging"}},dragging:{on:{"DROPZONE.DROP":{target:"idle",actions:["setFilesFromEvent"]},"DROPZONE.DRAG_LEAVE":"idle"}}}},{activities:{preventDocumentDrop(n){if(!n.preventDocumentDrop||!n.allowDrop||n.disabled)return;const r=ni.getDoc(n),i=o=>{o==null||o.preventDefault()},s=o=>{Mu(ni.getRootEl(n),Fo(o))||o.preventDefault()};return EE(Ms(r,"dragover",i,!1),Ms(r,"drop",s,!1))}},actions:{syncInputElement(n){queueMicrotask(()=>{const r=ni.getHiddenInputEl(n);if(!r)return;const i=ni.getWin(n),s=new i.DataTransfer;n.acceptedFiles.forEach(o=>{s.items.add(o)}),r.files=s.files,r.dispatchEvent(new i.Event("change",{bubbles:!0}))})},openFilePicker(n){yi(()=>{var r;(r=ni.getHiddenInputEl(n))==null||r.click()})},setFilesFromEvent(n,r){const i=ase(n,r.files),{acceptedFiles:s,rejectedFiles:o}=i;if(n.multiple){const a=gi([...n.acceptedFiles,...s]);uA.files(n,a,o);return}if(s.length){const a=gi([s[0]]);uA.files(n,a,o)}else o.length&&uA.files(n,n.acceptedFiles,o)},removeFile(n,r){const i=Array.from(n.acceptedFiles.filter(o=>o!==r.file)),s=Array.from(n.rejectedFiles.filter(o=>o.file!==r.file));n.acceptedFiles=gi(i),n.rejectedFiles=gi(s),Kv.change(n)},clearRejectedFiles(n){n.rejectedFiles=gi([]),Kv.change(n)},clearFiles(n){n.acceptedFiles=gi([]),n.rejectedFiles=gi([]),Kv.change(n)}},compareFns:{acceptedFiles:(n,r)=>n.length===r.length&&n.every((i,s)=>nse(i,r[s]))}})}var Kv={change:t=>{var e;(e=t.onFileChange)==null||e.call(t,{acceptedFiles:t.acceptedFiles,rejectedFiles:t.rejectedFiles})},accept:t=>{var e;(e=t.onFileAccept)==null||e.call(t,{files:t.acceptedFiles})},reject:t=>{var e;(e=t.onFileReject)==null||e.call(t,{files:t.rejectedFiles})}},uA={files:(t,e,n)=>{t.acceptedFiles=gi(e),Kv.accept(t),n&&(t.rejectedFiles=gi(n),Kv.reject(t)),Kv.change(t)}};cr()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);cr()(["file"]);const use=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r=Qd(),i={id:N.useId(),ids:{label:r==null?void 0:r.ids.label,hiddenInput:r==null?void 0:r.ids.control},dir:n,disabled:r==null?void 0:r.disabled,required:r==null?void 0:r.required,invalid:r==null?void 0:r.invalid,getRootNode:e,...t},s={...i,onFileAccept:Bo(t.onFileAccept),onFileReject:Bo(t.onFileReject),onFileChange:Bo(t.onFileChange,{sync:!0})},[o,a]=Kd(cse(i),{context:s});return lse(o,a,Nu)},eW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["accept","allowDrop","capture","directory","disabled","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","preventDocumentDrop","required","translations","validate"]),i=use(n),s=ht(i.getRootProps(),r);return Y.jsx(V6,{value:i,children:Y.jsx(Tt.div,{...s,ref:e})})});eW.displayName="FileUploadRoot";const tW=N.forwardRef((t,e)=>{const[{value:n},r]=wi()(t,["value"]),i=ht(n.getRootProps(),r);return Y.jsx(V6,{value:n,children:Y.jsx(Tt.div,{...i,ref:e})})});tW.displayName="FileUploadRootProvider";const nW=N.forwardRef((t,e)=>{const n=ya(),r=ht(n.getTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});nW.displayName="FileUploadTrigger";var rW=xn("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");rW.build();var Hg=xi({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`hover-card:${t.id}:arrow`},getTriggerEl:t=>Hg.getById(t,Hg.getTriggerId(t)),getContentEl:t=>Hg.getById(t,Hg.getContentId(t)),getPositionerEl:t=>Hg.getById(t,Hg.getPositionerId(t))});cr()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","open.controlled","open","openDelay","positioning"]);const[iW,ks]=Hr({name:"MenuContext",hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),sW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getArrowProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});sW.displayName="MenuArrow";const oW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getArrowTipProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});oW.displayName="MenuArrowTip";const[Zk,k3e]=Hr({name:"MenuItemContext",hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[aW,lW]=Hr({name:"MenuOptionItemPropsContext",hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),cW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),i={...n,type:"checkbox"},s=ks(),o=ht(s.getOptionItemProps(i),r),a=s.getOptionItemState(i);return Y.jsx(aW,{value:i,children:Y.jsx(Zk,{value:a,children:Y.jsx(Tt.div,{...o,ref:e})})})});cW.displayName="MenuCheckboxItem";const uW=N.forwardRef((t,e)=>{const n=ks(),r=Fu(),i=ht(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:Y.jsx(Tt.div,{...i,ref:Dm(r.ref,e)})});uW.displayName="MenuContent";const dW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getContextTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});dW.displayName="MenuContextTrigger";const fW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getIndicatorProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});fW.displayName="MenuIndicator";const hW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["closeOnSelect","disabled","value","valueText"]),i=ks(),s=ht(i.getItemProps(n),r),o=i.getItemState(n);return Y.jsx(Zk,{value:o,children:Y.jsx(Tt.div,{...s,ref:e})})});hW.displayName="MenuItem";const[pW,mW]=Hr({name:"MenuItemGroupContext",hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),gW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["id"]),i=ks(),o={id:N.useId(),...n},a=ht(i.getItemGroupProps(o),r);return Y.jsx(pW,{value:o,children:Y.jsx(Tt.div,{...a,ref:e})})});gW.displayName="MenuItemGroup";const vW=N.forwardRef((t,e)=>{const n=ks(),r=mW(),i=ht(n.getItemGroupLabelProps({htmlFor:r.id}),t);return Y.jsx(Tt.div,{...i,ref:e})});vW.displayName="MenuItemGroupLabel";const yW=N.forwardRef((t,e)=>{const n=ks(),r=lW(),i=ht(n.getItemIndicatorProps(r),t);return Y.jsx(Tt.div,{...i,ref:e})});yW.displayName="MenuItemIndicator";const _W=N.forwardRef((t,e)=>{const n=ks(),r=lW(),i=ht(n.getItemTextProps(r),t);return Y.jsx(Tt.div,{...i,ref:e})});_W.displayName="MenuItemText";const xW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getPositionerProps(),t);return Fu().unmounted?null:Y.jsx(Tt.div,{...r,ref:e})});xW.displayName="MenuPositioner";const wW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["closeOnSelect","disabled","value","valueText"]),i=ks(),s=mW(),o={...n,checked:s.value===n.value,type:"radio",onCheckedChange:()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,{value:n.value})}},a=ht(i.getOptionItemProps(o),r),l=i.getOptionItemState(o);return Y.jsx(aW,{value:o,children:Y.jsx(Zk,{value:l,children:Y.jsx(Tt.div,{...a,ref:e})})})});wW.displayName="MenuRadioItem";const bW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["id","onValueChange","value"]),i=ks(),o={id:N.useId(),...n},a=ht(i.getItemGroupProps({id:o.id}),r);return Y.jsx(pW,{value:o,children:Y.jsx(Tt.div,{...a,ref:e})})});bW.displayName="MenuRadioItemGroup";const SW=t=>{const e=N.useRef(t),n=N.useRef(!1);N.useEffect(()=>{e.current=t}),N.useEffect(()=>{n.current!==!0&&(n.current=!0,e.current())},[])};var z_=(t,e)=>({x:t,y:e});function dse(t){const{x:e,y:n,width:r,height:i}=t,s=e+r/2,o=n+i/2;return{x:e,y:n,width:r,height:i,minX:e,minY:n,maxX:e+r,maxY:n+i,midX:s,midY:o,center:z_(s,o)}}function fse(t){const e=z_(t.minX,t.minY),n=z_(t.maxX,t.minY),r=z_(t.maxX,t.maxY),i=z_(t.minX,t.maxY);return{top:e,right:n,bottom:r,left:i}}function hse(t,e){const n=dse(t),{top:r,right:i,left:s,bottom:o}=fse(n),[a]=e.split("-");return{top:[s,r,i,o],right:[r,i,o,s],bottom:[r,s,o,i],left:[i,r,s,o]}[a]}function pse(t,e){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}var EW=xn("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),Io=EW.build(),Jt=xi({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},getContextTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`menu:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},getGroupId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.group)==null?void 0:r.call(n,e))??`menu:${t.id}:group:${e}`},getGroupLabelId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.groupLabel)==null?void 0:r.call(n,e))??`menu:${t.id}:group-label:${e}`},getContentEl:t=>Jt.getById(t,Jt.getContentId(t)),getPositionerEl:t=>Jt.getById(t,Jt.getPositionerId(t)),getTriggerEl:t=>Jt.getById(t,Jt.getTriggerId(t)),getHighlightedItemEl:t=>t.highlightedValue?Jt.getById(t,t.highlightedValue):null,getArrowEl:t=>Jt.getById(t,Jt.getArrowId(t)),getElements:t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(Jt.getContentId(t))}]:not([data-disabled])`;return vu(Jt.getContentEl(t),n)},getFirstEl:t=>WH(Jt.getElements(t)),getLastEl:t=>jH(Jt.getElements(t)),getNextEl:(t,e)=>kH(Jt.getElements(t),t.highlightedValue,e??t.loopFocus),getPrevEl:(t,e)=>OH(Jt.getElements(t),t.highlightedValue,e??t.loopFocus),getElemByKey:(t,e)=>Cx(Jt.getElements(t),{state:t.typeaheadState,key:e,activeId:t.highlightedValue}),isTargetDisabled:t=>Qs(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),isTriggerItem:t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},getOptionFromItemEl(t){return{id:t.id,name:t.dataset.name,value:t.dataset.value,valueText:t.dataset.valueText,type:t.dataset.type}}});function mse(t,e,n){const r=t.context.isSubmenu,i=t.context.isTypingAhead,s=t.context.composite,o=t.hasTag("open"),a=Yk({...t.context.positioning,placement:t.context.anchorPoint?"bottom":t.context.currentPlacement});function l(f){return{disabled:!!f.disabled,highlighted:t.context.highlightedValue===f.value}}function c(f){const m=f.valueText??f.value;return{...f,id:f.value,valueText:m}}function u(f){return{...l(c(f)),checked:!!f.checked}}function d(f){const{value:m,closeOnSelect:v,valueText:w}=f,x=l(f);return n.element({...Io.item.attrs,id:m,role:"menuitem","aria-disabled":x.disabled,"data-disabled":Dt(x.disabled),"data-ownedby":Jt.getContentId(t.context),"data-highlighted":Dt(x.highlighted),"data-valuetext":w,onDragStart(y){y.currentTarget.matches("a[href]")&&y.preventDefault()},onPointerMove(y){if(x.disabled||y.pointerType!=="mouse")return;const b=y.currentTarget;x.highlighted||e({type:"ITEM_POINTERMOVE",id:m,target:b,closeOnSelect:v})},onPointerLeave(y){if(x.disabled||y.pointerType!=="mouse"||!t.previousEvent.type.includes("POINTER"))return;const S=y.currentTarget;e({type:"ITEM_POINTERLEAVE",id:m,target:S,closeOnSelect:v})},onPointerDown(y){if(x.disabled)return;const b=y.currentTarget;e({type:"ITEM_POINTERDOWN",target:b,id:m,closeOnSelect:v})},onClick(y){if(g3(y)||m3(y)||x.disabled)return;const b=y.currentTarget;e({type:"ITEM_CLICK",target:b,id:m,closeOnSelect:v})}})}return{highlightedValue:t.context.highlightedValue,open:o,setOpen(f){f!==o&&e(f?"OPEN":"CLOSE")},setHighlightedValue(f){e({type:"HIGHLIGHTED.SET",id:f})},setParent(f){e({type:"PARENT.SET",value:f,id:f.state.context.id})},setChild(f){e({type:"CHILD.SET",value:f,id:f.state.context.id})},reposition(f={}){e({type:"POSITIONING.SET",options:f})},getContextTriggerProps(){return n.element({...Io.contextTrigger.attrs,dir:t.context.dir,id:Jt.getContextTriggerId(t.context),onPointerDown(f){if(f.pointerType==="mouse")return;const m=nA(f);e({type:"CONTEXT_MENU_START",point:m})},onPointerCancel(f){f.pointerType!=="mouse"&&e("CONTEXT_MENU_CANCEL")},onPointerMove(f){f.pointerType!=="mouse"&&e("CONTEXT_MENU_CANCEL")},onPointerUp(f){f.pointerType!=="mouse"&&e("CONTEXT_MENU_CANCEL")},onContextMenu(f){const m=nA(f);e({type:"CONTEXT_MENU",point:m}),f.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(f){return ht(d({value:f.getTriggerProps().id}),f.getTriggerProps())},getTriggerProps(){return n.button({...r?Io.triggerItem.attrs:Io.trigger.attrs,"data-placement":t.context.currentPlacement,type:"button",dir:t.context.dir,id:Jt.getTriggerId(t.context),"data-uid":t.context.id,"aria-haspopup":s?"menu":"dialog","aria-controls":Jt.getContentId(t.context),"aria-expanded":o||void 0,"data-state":o?"open":"closed",onPointerMove(f){f.pointerType!=="mouse"||Jt.isTargetDisabled(f.currentTarget)||!r||e({type:"TRIGGER_POINTERMOVE",target:f.currentTarget})},onPointerLeave(f){if(Jt.isTargetDisabled(f.currentTarget)||f.pointerType!=="mouse"||!r)return;const m=nA(f);e({type:"TRIGGER_POINTERLEAVE",target:f.currentTarget,point:m})},onPointerDown(f){Jt.isTargetDisabled(f.currentTarget)||wH(f)||f.preventDefault()},onClick(f){f.defaultPrevented||Jt.isTargetDisabled(f.currentTarget)||e({type:"TRIGGER_CLICK",target:f.currentTarget})},onBlur(){e("TRIGGER_BLUR")},onFocus(){e("TRIGGER_FOCUS")},onKeyDown(f){if(f.defaultPrevented)return;const m={ArrowDown(){e("ARROW_DOWN")},ArrowUp(){e("ARROW_UP")},Enter(){e({type:"ARROW_DOWN",src:"enter"})},Space(){e({type:"ARROW_DOWN",src:"space"})}},v=bE(f,t.context),w=m[v];w&&(f.preventDefault(),w(f))}})},getIndicatorProps(){return n.element({...Io.indicator.attrs,dir:t.context.dir,"data-state":o?"open":"closed"})},getPositionerProps(){return n.element({...Io.positioner.attrs,dir:t.context.dir,id:Jt.getPositionerId(t.context),style:a.floating})},getArrowProps(){return n.element({id:Jt.getArrowId(t.context),...Io.arrow.attrs,dir:t.context.dir,style:a.arrow})},getArrowTipProps(){return n.element({...Io.arrowTip.attrs,dir:t.context.dir,style:a.arrowTip})},getContentProps(){return n.element({...Io.content.attrs,id:Jt.getContentId(t.context),"aria-label":t.context["aria-label"],hidden:!o,"data-state":o?"open":"closed",role:s?"menu":"dialog",tabIndex:0,dir:t.context.dir,"aria-activedescendant":t.context.highlightedValue??void 0,"aria-labelledby":Jt.getTriggerId(t.context),"data-placement":t.context.currentPlacement,onPointerEnter(f){f.pointerType==="mouse"&&e("MENU_POINTERENTER")},onKeyDown(f){if(f.defaultPrevented||!wE(f))return;const m=Fo(f);if(!((m==null?void 0:m.closest("[role=menu]"))===f.currentTarget||m===f.currentTarget))return;if(f.key==="Tab"&&!AH(f)){f.preventDefault();return}const w=Jt.getHighlightedItemEl(t.context),x={ArrowDown(){e("ARROW_DOWN")},ArrowUp(){e("ARROW_UP")},ArrowLeft(){e("ARROW_LEFT")},ArrowRight(){e("ARROW_RIGHT")},Enter(){e("ENTER"),Oee(w)&&t.context.navigate({value:t.context.highlightedValue,node:w})},Space(S){var T;i?e({type:"TYPEAHEAD",key:S.key}):(T=x.Enter)==null||T.call(x,S)},Home(){e("HOME")},End(){e("END")}},y=bE(f,{dir:t.context.dir}),b=x[y];if(b){b(f),f.stopPropagation(),f.preventDefault();return}t.context.typeahead&&Yee(f)&&(Xee(f)||UT(m)||(e({type:"TYPEAHEAD",key:f.key}),f.preventDefault()))}})},getSeparatorProps(){return n.element({...Io.separator.attrs,role:"separator",dir:t.context.dir,"aria-orientation":"horizontal"})},getItemState:l,getItemProps:d,getOptionItemState:u,getOptionItemProps(f){const{type:m,disabled:v,onCheckedChange:w,closeOnSelect:x}=f,y=c(f),b=u(f);return{...d(y),...n.element({"data-type":m,...Io.item.attrs,dir:t.context.dir,"data-value":y.value,role:`menuitem${m}`,"aria-checked":!!b.checked,"data-state":b.checked?"checked":"unchecked",onClick(S){if(v||g3(S)||m3(S))return;const T=S.currentTarget;e({type:"ITEM_CLICK",target:T,option:y,closeOnSelect:x}),w==null||w(!b.checked)}})}},getItemIndicatorProps(f){const m=u(f);return n.element({...Io.itemIndicator.attrs,dir:t.context.dir,"data-disabled":Dt(m.disabled),"data-highlighted":Dt(m.highlighted),"data-state":m.checked?"checked":"unchecked",hidden:!m.checked})},getItemTextProps(f){const m=u(f);return n.element({...Io.itemText.attrs,dir:t.context.dir,"data-disabled":Dt(m.disabled),"data-highlighted":Dt(m.highlighted),"data-state":m.checked?"checked":"unchecked"})},getItemGroupLabelProps(f){return n.element({id:Jt.getGroupLabelId(t.context,f.htmlFor),dir:t.context.dir,...Io.itemGroupLabel.attrs})},getItemGroupProps(f){return n.element({id:Jt.getGroupId(t.context,f.id),...Io.itemGroup.attrs,dir:t.context.dir,"aria-labelledby":Jt.getGroupLabelId(t.context,f.id),role:"group"})}}}var{not:gl,and:Wg,or:gse}=Mw;function vse(t){const e=Ka(t);return Du({id:"menu",initial:e.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,navigate(n){dte(n.node)},...e,positioning:{placement:"bottom-start",gutter:8,...e.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:pu(gi({})),suspendPointer:!1,typeaheadState:Cx.defaultOptions},computed:{isSubmenu:n=>n.parent!==null,isRtl:n=>n.dir==="rtl",isTypingAhead:n=>n.typeaheadState.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:gl("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:gse("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Wg(gl("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:gl("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Wg("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:gl("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:Wg(gl("suspendPointer"),gl("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:Wg(gl("isTriggerItemHighlighted"),gl("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Wg(gl("isTriggerItemHighlighted"),gl("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Wg(gl("isTriggerItemHighlighted"),gl("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(n,r)=>!!((r==null?void 0:r.closeOnSelect)??n.closeOnSelect),isTriggerItem:(n,r)=>Jt.isTriggerItem(r.target),isTriggerItemHighlighted:(n,r)=>{const i=r.target??Jt.getHighlightedItemEl(n);return!!(i!=null&&i.hasAttribute("aria-controls"))},isSubmenu:n=>n.isSubmenu,suspendPointer:n=>n.suspendPointer,isHighlightedItemEditable:n=>UT(Jt.getHighlightedItemEl(n)),isWithinPolygon:(n,r)=>n.intentPolygon?pse(n.intentPolygon,r.point):!1,isOpenControlled:n=>!!n["open.controlled"],isArrowLeftEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="ARROW_LEFT"},isArrowUpEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="ARROW_UP"},isArrowDownEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="OPEN_AUTOFOCUS"}},activities:{trackPositioning(n){if(n.anchorPoint)return;n.currentPlacement=n.positioning.placement;const r=()=>Jt.getPositionerEl(n);return ly(Jt.getTriggerEl(n),r,{...n.positioning,defer:!0,onComplete(i){n.currentPlacement=i.placement}})},trackInteractOutside(n,r,{send:i}){const s=()=>Jt.getContentEl(n);let o=!0;return Xk(s,{defer:!0,exclude:[Jt.getTriggerEl(n)],onInteractOutside:n.onInteractOutside,onFocusOutside:n.onFocusOutside,onEscapeKeyDown(a){var l;(l=n.onEscapeKeyDown)==null||l.call(n,a),n.isSubmenu&&a.preventDefault(),j3(n)},onPointerDownOutside(a){var l;o=!a.detail.focusable,(l=n.onPointerDownOutside)==null||l.call(n,a)},onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},trackPointerMove(n,r,{guards:i,send:s}){const{isWithinPolygon:o}=i;n.parent.state.context.suspendPointer=!0;const a=Jt.getDoc(n);return Ms(a,"pointermove",l=>{const c={x:l.clientX,y:l.clientY};o(n,{point:c})||(s("POINTER_MOVED_AWAY_FROM_SUBMENU"),n.parent.state.context.suspendPointer=!1)})},scrollToHighlightedItem(n,r,{getState:i}){const s=()=>{if(i().event.type.startsWith("ITEM_POINTER"))return;const l=Jt.getHighlightedItemEl(n),c=Jt.getContentEl(n);IH(l,{rootEl:c,block:"nearest"})};return yi(()=>s()),PH(()=>Jt.getContentEl(n),{defer:!0,attributes:["aria-activedescendant"],callback:s})}},actions:{setAnchorPoint(n,r){n.anchorPoint=r.point},setSubmenuPlacement(n){n.isSubmenu&&(n.positioning.placement=n.isRtl?"left-start":"right-start",n.positioning.gutter=0)},reposition(n,r){const i=()=>Jt.getPositionerEl(n),s=n.anchorPoint?()=>({width:0,height:0,...n.anchorPoint}):void 0;ly(Jt.getTriggerEl(n),i,{...n.positioning,defer:!0,getAnchorRect:s,...r.options??{},listeners:!1,onComplete(o){n.currentPlacement=o.placement}})},setOptionState(n,r){if(!r.option)return;const{checked:i,onCheckedChange:s,type:o}=r.option;o==="radio"?s==null||s(!0):o==="checkbox"&&(s==null||s(!i))},clickHighlightedItem(n,r){const i=Jt.getHighlightedItemEl(n);!i||i.dataset.disabled||queueMicrotask(()=>i.click())},setIntentPolygon(n,r){const i=Jt.getContentEl(n),s=n.currentPlacement;if(!i||!s)return;const o=i.getBoundingClientRect(),a=hse(o,s);if(!a)return;const c=Vre(s)==="right"?-5:5;n.intentPolygon=[{...r.point,x:r.point.x+c},...a]},clearIntentPolygon(n){n.intentPolygon=null},resumePointer(n){n.parent&&(n.parent.state.context.suspendPointer=!1)},setHighlightedItem(n,r){Gf.highlighted(n,r.id)},clearHighlightedItem(n){Gf.highlighted(n,null)},focusMenu(n){yi(()=>{const r=Jt.getContentEl(n),i=MH({root:r,enabled:!Mu(r,Jt.getActiveElement(n)),filter(s){var o;return!((o=s.role)!=null&&o.startsWith("menuitem"))}});i==null||i.focus({preventScroll:!0})})},highlightFirstItem(n){(Jt.getContentEl(n)?queueMicrotask:yi)(()=>{const i=Jt.getFirstEl(n);i&&Gf.highlighted(n,i.id)})},highlightLastItem(n){(Jt.getContentEl(n)?queueMicrotask:yi)(()=>{const i=Jt.getLastEl(n);i&&Gf.highlighted(n,i.id)})},highlightNextItem(n,r){const i=Jt.getNextEl(n,r.loop);Gf.highlighted(n,(i==null?void 0:i.id)??null)},highlightPrevItem(n,r){const i=Jt.getPrevEl(n,r.loop);Gf.highlighted(n,(i==null?void 0:i.id)??null)},invokeOnSelect(n){var r;n.highlightedValue&&((r=n.onSelect)==null||r.call(n,{value:n.highlightedValue}))},focusTrigger(n,r){n.isSubmenu||n.anchorPoint||r.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=Jt.getTriggerEl(n))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem(n,r){const i=Jt.getElemByKey(n,r.key);i&&Gf.highlighted(n,i.id)},setParentMenu(n,r){n.parent=gi(r.value)},setChildMenu(n,r){n.children[r.id]=gi(r.value)},closeRootMenu(n){j3(n)},openSubmenu(n){const r=Jt.getHighlightedItemEl(n),i=r==null?void 0:r.getAttribute("data-uid"),s=i?n.children[i]:null;s==null||s.send("OPEN_AUTOFOCUS")},focusParentMenu(n){var r;(r=n.parent)==null||r.send("FOCUS_MENU")},setLastHighlightedItem(n,r){n.lastHighlightedValue=r.id},restoreHighlightedItem(n){n.lastHighlightedValue&&(Gf.highlighted(n,n.lastHighlightedValue),n.lastHighlightedValue=null)},restoreParentHighlightedItem(n){var r;(r=n.parent)==null||r.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!0})},invokeOnClose(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!1})},toggleVisibility(n,r,{send:i}){i({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}function j3(t){let e=t.parent;for(;e&&e.state.context.isSubmenu;)e=e.state.context.parent;e==null||e.send("CLOSE")}var Gf={highlighted(t,e){var n;Nd(t.highlightedValue,e)||(t.highlightedValue=e,(n=t.onHighlightChange)==null||n.call(t,{highlightedValue:e}))}};cr()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]);cr()(["closeOnSelect","disabled","value","valueText"]);cr()(["htmlFor"]);cr()(["id"]);cr()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);const yse=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r={id:N.useId(),dir:n,getRootNode:e,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},i={...r,onOpenChange:Bo(t.onOpenChange),onSelect:Bo(t.onSelect)},[s,o,a]=Kd(vse(r),{context:i});return{api:mse(s,o,Nu),machine:a}},[TW,CW]=Hr({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[MW,_se]=Hr({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),xse=t=>{const[e,n]=kh(t),[r,i]=wi()(n,["anchorPoint","aria-label","closeOnSelect","composite","defaultOpen","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),s=ks(),o=CW(),{api:a,machine:l}=yse(r),c=Zd(ht({present:a.open},e));SW(()=>{o&&s&&(s.setChild(l),a.setParent(o))});const u=N.useCallback(()=>s==null?void 0:s.getTriggerItemProps(a),[a,s]);return Y.jsx(MW,{value:u,children:Y.jsx(TW,{value:l,children:Y.jsx(iW,{value:a,children:Y.jsx(Oh,{value:c,...i})})})})},wse=t=>{const e=ks(),n=CW(),[r,{value:i,children:s}]=kh(t),{api:o,machine:a}=i,l=Zd(ht({present:o.open},r));SW(()=>{n&&e&&(e.setChild(a),o.setParent(n))});const c=N.useCallback(()=>e==null?void 0:e.getTriggerItemProps(o),[o,e]);return Y.jsx(MW,{value:c,children:Y.jsx(TW,{value:a,children:Y.jsx(iW,{value:o,children:Y.jsx(Oh,{value:l,children:s})})})})},AW=N.forwardRef((t,e)=>{const n=ks(),r=ht(n.getSeparatorProps(),t);return Y.jsx(Tt.hr,{...r,ref:e})});AW.displayName="MenuSeparator";const PW=N.forwardRef((t,e)=>{const n=ks(),r=Fu(),i=ht({...n.getTriggerProps(),"aria-controls":r.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return Y.jsx(Tt.button,{...i,ref:e})});PW.displayName="MenuTrigger";const RW=N.forwardRef((t,e)=>{const n=_se(),r=ht((n==null?void 0:n())??{},t);return Y.jsx(Tt.div,{...r,ref:e})});RW.displayName="MenuTriggerItem";var IW=xn("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");IW.build();var xs=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},getInputId:t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},getInputEl:t=>xs.getById(t,xs.getInputId(t)),getIncrementTriggerEl:t=>xs.getById(t,xs.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>xs.getById(t,xs.getDecrementTriggerId(t)),getScrubberEl:t=>xs.getById(t,xs.getScrubberId(t)),getCursorEl:t=>xs.getDoc(t).getElementById(xs.getCursorId(t)),getPressedTriggerEl:(t,e=t.hint)=>{let n=null;return e==="increment"&&(n=xs.getIncrementTriggerEl(t)),e==="decrement"&&(n=xs.getDecrementTriggerEl(t)),n},setupVirtualCursor(t){if(!Gee())return xs.createVirtualCursor(t),()=>{var e;(e=xs.getCursorEl(t))==null||e.remove()}},preventTextSelection(t){const e=xs.getDoc(t),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},getMousemoveValue(t,e){const n=xs.getWin(t),r=iA(e.movementX,n.devicePixelRatio),i=iA(e.movementY,n.devicePixelRatio);let s=r>0?"increment":r<0?"decrement":null;t.isRtl&&s==="increment"&&(s="decrement"),t.isRtl&&s==="decrement"&&(s="increment");const o={x:t.scrubberCursorPoint.x+r,y:t.scrubberCursorPoint.y+i},a=n.innerWidth,l=iA(7.5,n.devicePixelRatio);return o.x=cne(o.x+l,a)-l,{hint:s,point:o}},createVirtualCursor(t){const e=xs.getDoc(t),n=e.createElement("div");n.className="scrubber--cursor",n.id=xs.getCursorId(t),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:pH,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,e.body.appendChild(n)}}),kW=xn("pinInput").parts("root","label","input","control");kW.build();var su=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`pin-input:${t.id}`},getInputId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.input)==null?void 0:r.call(n,e))??`pin-input:${t.id}:${e}`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`pin-input:${t.id}:hidden`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`pin-input:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`pin-input:${t.id}:control`},getRootEl:t=>su.getById(t,su.getRootId(t)),getInputEls:t=>{const n=`input[data-ownedby=${CSS.escape(su.getRootId(t))}]`;return vu(su.getRootEl(t),n)},getInputEl:(t,e)=>su.getById(t,su.getInputId(t,e)),getFocusedInputEl:t=>su.getInputEls(t)[t.focusedIndex],getFirstInputEl:t=>su.getInputEls(t)[0],getHiddenInputEl:t=>su.getById(t,su.getHiddenInputId(t))}),OW=xn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");OW.build();var sa=xi({getAnchorId:t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},getAnchorEl:t=>sa.getById(t,sa.getAnchorId(t)),getTriggerEl:t=>sa.getById(t,sa.getTriggerId(t)),getContentEl:t=>sa.getById(t,sa.getContentId(t)),getPositionerEl:t=>sa.getById(t,sa.getPositionerId(t)),getTitleEl:t=>sa.getById(t,sa.getTitleId(t)),getDescriptionEl:t=>sa.getById(t,sa.getDescriptionId(t)),getFocusableEls:t=>Pk(sa.getContentEl(t)),getFirstFocusableEl:t=>sa.getFocusableEls(t)[0]});cr()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const Rw=t=>{var l;const{children:e,disabled:n}=t,[r,i]=N.useState((l=t.container)==null?void 0:l.current),s=N.useSyncExternalStore(Sse,()=>!1,()=>!0),{getRootNode:o}=Lh();if(N.useEffect(()=>{i(()=>{var c;return(c=t.container)==null?void 0:c.current})},[t.container]),s||n)return Y.jsx(Y.Fragment,{children:e});const a=r??bse(o);return Y.jsx(Y.Fragment,{children:N.Children.map(e,c=>eH.createPortal(c,a))})},bse=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return Tx(n)?n:Ll(e).body},Sse=()=>()=>{},[LW,jT]=Hr({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),DW=N.forwardRef((t,e)=>{const n=jT(),r=ht(n.getLabelProps(),t);return Y.jsx(Tt.label,{...r,ref:e})});DW.displayName="ProgressLabel";const NW=N.forwardRef((t,e)=>{const n=jT(),r=ht(n.getRangeProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});NW.displayName="ProgressRange";var Qk=xn("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),fd=Qk.build(),d1=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`progress-${t.id}`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`progress-${t.id}-track`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`progress-${t.id}-label`},getCircleId:t=>{var e;return((e=t.ids)==null?void 0:e.circle)??`progress-${t.id}-circle`}});function Ese(t,e,n){const r=t.context.percent,i=t.context.isIndeterminate?"":`${r}%`,s=t.context.max,o=t.context.min,a=t.context.orientation,l=t.context.translations,c=t.context.isIndeterminate,u=t.context.value,d=l.value({value:u,max:s,percent:r,min:o}),f=Tse(u,s),m={role:"progressbar","aria-label":d,"data-max":s,"aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":u??void 0,"data-orientation":a,"data-state":f},v=Cse(t.context);return{value:u,valueAsString:d,min:o,max:s,percent:r,percentAsString:i,indeterminate:c,setValue(w){e({type:"VALUE.SET",value:w})},setToMax(){e({type:"VALUE.SET",value:s})},setToMin(){e({type:"VALUE.SET",value:o})},getRootProps(){return n.element({dir:t.context.dir,...fd.root.attrs,id:d1.getRootId(t.context),"data-max":s,"data-value":u??void 0,"data-state":f,"data-orientation":a,style:{"--percent":c?void 0:r}})},getLabelProps(){return n.element({dir:t.context.dir,id:d1.getLabelId(t.context),...fd.label.attrs,"data-orientation":a})},getValueTextProps(){return n.element({dir:t.context.dir,"aria-live":"polite",...fd.valueText.attrs})},getTrackProps(){return n.element({dir:t.context.dir,id:d1.getTrackId(t.context),...fd.track.attrs,...m})},getRangeProps(){return n.element({dir:t.context.dir,...fd.range.attrs,"data-orientation":a,"data-state":f,style:{[t.context.isHorizontal?"width":"height"]:c?void 0:`${r}%`}})},getCircleProps(){return n.element({dir:t.context.dir,id:d1.getCircleId(t.context),...fd.circle.attrs,...m,...v.root})},getCircleTrackProps(){return n.element({dir:t.context.dir,"data-orientation":a,...fd.circleTrack.attrs,...v.track})},getCircleRangeProps(){return n.element({dir:t.context.dir,...fd.circleRange.attrs,...v.range,"data-state":f})},getViewProps(w){return n.element({dir:t.context.dir,...fd.view.attrs,"data-state":w.state,hidden:w.state!==f})}}}function Tse(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Cse(t){const e={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:e,range:{opacity:t.value===0?0:void 0,style:{...e.style,"--percent":t.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:t.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function Mse(t,e){return t+(e-t)/2}function Ase(t){const e=Ka(t);return Du({id:"progress",initial:"idle",context:{max:e.max??100,min:e.min??0,value:Mse(e.min??0,e.max??100),orientation:"horizontal",translations:{value:({percent:n})=>n===-1?"loading...":`${n} percent`,...e.translations},...e},created:["validateContext"],computed:{isIndeterminate:n=>n.value===null,percent(n){return Nk(n.value)?Math.round((n.value-n.min)/(n.max-n.min)*100):-1},isAtMax:n=>n.value===n.max,isHorizontal:n=>n.orientation==="horizontal",isRtl:n=>n.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(n,r)=>{Ise.value(n,r.value)},validateContext:n=>{if(n.value!=null){if(!Jk(n.max))throw new Error(`[progress] The max value passed \`${n.max}\` is not a valid number`);if(!Pse(n.value,n.max))throw new Error(`[progress] The value passed \`${n.value}\` exceeds the max value \`${n.max}\``);if(!Rse(n.value,n.min))throw new Error(`[progress] The value passed \`${n.value}\` exceeds the min value \`${n.min}\``)}}}})}function Jk(t){return Nk(t)&&!isNaN(t)}function Pse(t,e){return Jk(t)&&t<=e}function Rse(t,e){return Jk(t)&&t>=e}var Ise={value(t,e){var n;Nd(t.value,e)||(t.value=e===null?null:Math.max(0,Math.min(e,t.max)),(n=t.onValueChange)==null||n.call(t,{value:e}))}};cr()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);const kse=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r={id:N.useId(),dir:n,getRootNode:e,value:t.defaultValue,...t},i={...r,value:t.value,onValueChange:Bo(t.onValueChange,{sync:!0})},[s,o]=Kd(Ase(r),{context:i});return Ese(s,o,Nu)},FW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["defaultValue","id","ids","max","min","onValueChange","orientation","translations","value"]),i=kse(n),s=ht(i.getRootProps(),r);return Y.jsx(LW,{value:i,children:Y.jsx(Tt.div,{...s,ref:e})})});FW.displayName="ProgressRoot";const UW=N.forwardRef((t,e)=>{const[{value:n},r]=wi()(t,["value"]),i=ht(n.getRootProps(),r);return Y.jsx(LW,{value:n,children:Y.jsx(Tt.div,{...i,ref:e})})});UW.displayName="ProgressRootProvider";const zW=N.forwardRef((t,e)=>{const n=jT(),r=ht(n.getTrackProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});zW.displayName="ProgressTrack";const BW=N.forwardRef((t,e)=>{const{children:n,...r}=t,i=jT(),s=ht(i.getValueTextProps(),r);return Y.jsx(Tt.span,{...s,ref:e,children:n||i.percentAsString})});BW.displayName="ProgressValueText";var VW=xn("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");VW.build();var $3=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`qrcode:${t.id}:root`},getFrameId:t=>{var e;return((e=t.ids)==null?void 0:e.frame)??`qrcode:${t.id}:frame`},getFrameEl:t=>$3.getById(t,$3.getFrameId(t))});cr()(["ids","value","id","encoding","dir","getRootNode","onValueChange"]);var rI,Dp=new Map,Ose=t=>t.getBoundingClientRect();function Lse(t,e){const{scope:n="rect",getRect:r=Ose,onChange:i}=e,s=Dse({scope:n,getRect:r}),o=Dp.get(t);return o?(o.callbacks.push(i),i(r(t))):(Dp.set(t,{rect:{},callbacks:[i]}),Dp.size===1&&(rI=requestAnimationFrame(s))),function(){const l=Dp.get(t);if(!l)return;const c=l.callbacks.indexOf(i);c>-1&&l.callbacks.splice(c,1),l.callbacks.length===0&&(Dp.delete(t),Dp.size===0&&cancelAnimationFrame(rI))}}function Dse(t){const{scope:e,getRect:n}=t,r=Fse(e);return function i(){const s=[];Dp.forEach((o,a)=>{const l=n(a);r(o.rect,l)||(o.rect=l,s.push(o))}),s.forEach(o=>{o.callbacks.forEach(a=>a(o.rect))}),rI=requestAnimationFrame(i)}}var GW=(t,e)=>t.width===e.width&&t.height===e.height,HW=(t,e)=>t.top===e.top&&t.left===e.left,Nse=(t,e)=>GW(t,e)&&HW(t,e);function Fse(t){return t==="size"?GW:t==="position"?HW:Nse}var eO=xn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),jg=eO.build(),Yn=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},getItemId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:${e}`},getItemHiddenInputId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},getItemControlId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},getItemLabelId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},getIndicatorId:t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},getRootEl:t=>Yn.getById(t,Yn.getRootId(t)),getItemHiddenInputEl:(t,e)=>Yn.getById(t,Yn.getItemHiddenInputId(t,e)),getIndicatorEl:t=>Yn.getById(t,Yn.getIndicatorId(t)),getFirstEnabledInputEl:t=>{var e;return(e=Yn.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:t=>{var e;return(e=Yn.getRootEl(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},getInputEls:t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Yn.getRootId(t))}']:not([disabled])`;return vu(Yn.getRootEl(t),n)},getActiveRadioEl:t=>{if(t.value)return Yn.getById(t,Yn.getItemId(t,t.value))},getOffsetRect:t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),getRectById:(t,e)=>{const n=Yn.getById(t,Yn.getItemId(t,e));if(n)return Yn.resolveRect(Yn.getOffsetRect(n))},resolveRect:t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`})});function Use(t,e,n){const r=t.context.isDisabled,i=t.context.readOnly;function s(l){return{invalid:!!l.invalid,disabled:!!l.disabled||r,checked:t.context.value===l.value,focused:t.context.focusedValue===l.value,hovered:t.context.hoveredValue===l.value,active:t.context.activeValue===l.value}}function o(l){const c=s(l);return{"data-focus":Dt(c.focused),"data-focus-visible":Dt(c.focused&&t.context.focusVisible),"data-disabled":Dt(c.disabled),"data-readonly":Dt(i),"data-state":c.checked?"checked":"unchecked","data-hover":Dt(c.hovered),"data-invalid":Dt(c.invalid),"data-orientation":t.context.orientation,"data-ssr":Dt(t.context.ssr)}}const a=()=>{const l=Yn.getFirstEnabledAndCheckedInputEl(t.context);if(l){l.focus();return}const c=Yn.getFirstEnabledInputEl(t.context);c==null||c.focus()};return{focus:a,value:t.context.value,setValue(l){e({type:"SET_VALUE",value:l,isTrusted:!1})},clearValue(){e({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return n.element({...jg.root.attrs,role:"radiogroup",id:Yn.getRootId(t.context),"aria-labelledby":Yn.getLabelId(t.context),"data-orientation":t.context.orientation,"data-disabled":Dt(r),"aria-orientation":t.context.orientation,dir:t.context.dir,style:{position:"relative"}})},getLabelProps(){return n.element({...jg.label.attrs,dir:t.context.dir,"data-orientation":t.context.orientation,"data-disabled":Dt(r),id:Yn.getLabelId(t.context),onClick:a})},getItemState:s,getItemProps(l){const c=s(l);return n.label({...jg.item.attrs,dir:t.context.dir,id:Yn.getItemId(t.context,l.value),htmlFor:Yn.getItemHiddenInputId(t.context,l.value),...o(l),onPointerMove(){c.disabled||c.hovered||e({type:"SET_HOVERED",value:l.value,hovered:!0})},onPointerLeave(){c.disabled||e({type:"SET_HOVERED",value:null})},onPointerDown(u){c.disabled||(c.focused&&u.pointerType==="mouse"&&u.preventDefault(),e({type:"SET_ACTIVE",value:l.value,active:!0}))},onPointerUp(){c.disabled||e({type:"SET_ACTIVE",value:null})}})},getItemTextProps(l){return n.element({...jg.itemText.attrs,dir:t.context.dir,id:Yn.getItemLabelId(t.context,l.value),...o(l)})},getItemControlProps(l){const c=s(l);return n.element({...jg.itemControl.attrs,dir:t.context.dir,id:Yn.getItemControlId(t.context,l.value),"data-active":Dt(c.active),"aria-hidden":!0,...o(l)})},getItemHiddenInputProps(l){const c=s(l);return n.input({"data-ownedby":Yn.getRootId(t.context),id:Yn.getItemHiddenInputId(t.context,l.value),type:"radio",name:t.context.name||t.context.id,form:t.context.form,value:l.value,onClick(u){if(i){u.preventDefault();return}u.currentTarget.checked&&e({type:"SET_VALUE",value:l.value,isTrusted:!0})},onBlur(){e({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const u=RE();e({type:"SET_FOCUSED",value:l.value,focused:!0,focusVisible:u})},onKeyDown(u){u.defaultPrevented||u.key===" "&&e({type:"SET_ACTIVE",value:l.value,active:!0})},onKeyUp(u){u.defaultPrevented||u.key===" "&&e({type:"SET_ACTIVE",value:null})},disabled:c.disabled,defaultChecked:c.checked,style:Ok})},getIndicatorProps(){var l,c,u,d;return n.element({id:Yn.getIndicatorId(t.context),...jg.indicator.attrs,dir:t.context.dir,hidden:t.context.value==null,"data-disabled":Dt(r),"data-orientation":t.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(l=t.context.indicatorRect)==null?void 0:l.left,"--top":(c=t.context.indicatorRect)==null?void 0:c.top,"--width":(u=t.context.indicatorRect)==null?void 0:u.width,"--height":(d=t.context.indicatorRect)==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:t.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[t.context.orientation==="horizontal"?"left":"top"]:t.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:zse}=Mw;function Bse(t){const e=Ka(t);return Du({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...e,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:n=>!!n.disabled||n.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:zse("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(n,r)=>!!r.isTrusted},activities:{trackFormControlState(n,r,{send:i,initialContext:s}){return TH(Yn.getRootEl(n),{onFieldsetDisabledChange(o){n.fieldsetDisabled=o},onFormReset(){i({type:"SET_VALUE",value:s.value})}})},trackFocusVisible(n){return b6({root:Yn.getRootNode(n)})}},actions:{setValue(n,r){Gse.value(n,r.value)},setHovered(n,r){n.hoveredValue=r.value},setActive(n,r){n.activeValue=r.value},setFocused(n,r){n.focusedValue=r.value,n.focusVisible=r.focusVisible},syncInputElements(n){Yn.getInputEls(n).forEach(i=>{i.checked=i.value===n.value})},setIndicatorTransition(n){n.canIndicatorTransition=fa(n.value)},cleanupObserver(n){var r;(r=n.indicatorCleanup)==null||r.call(n)},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var s;if((s=n.indicatorCleanup)==null||s.call(n),!Yn.getIndicatorEl(n))return;const r=n.value,i=Yn.getActiveRadioEl(n);if(r==null||!i){n.indicatorRect={};return}n.indicatorCleanup=Lse(i,{getRect(o){return Yn.getOffsetRect(o)},onChange(o){n.indicatorRect=Yn.resolveRect(o),lte(()=>{n.canIndicatorTransition=!1})}})},dispatchChangeEvent(n){Yn.getInputEls(n).forEach(i=>{const s=i.value===n.value;s!==i.checked&&ete(i,{checked:s})})}}})}var Vse={change:t=>{var e;t.value!=null&&((e=t.onValueChange)==null||e.call(t,{value:t.value}))}},Gse={value:(t,e)=>{Nd(t.value,e)||(t.value=e,Vse.change(t))}};cr()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);cr()(["value","disabled","invalid"]);var WW=xn("rating-group").parts("root","label","item","control");WW.build();var Hf=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`rating:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`rating:${t.id}:label`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`rating:${t.id}:input`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`rating:${t.id}:control`},getItemId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`rating:${t.id}:item:${e}`},getRootEl:t=>Hf.getById(t,Hf.getRootId(t)),getControlEl:t=>Hf.getById(t,Hf.getControlId(t)),getRadioEl:(t,e=t.value)=>{const n=`[role=radio][aria-posinset='${Math.ceil(e)}']`;return pte(Hf.getControlEl(t),n)},getHiddenInputEl:t=>Hf.getById(t,Hf.getHiddenInputId(t)),dispatchChangeEvent:t=>{const e=Hf.getHiddenInputEl(t);e&&EH(e,{value:t.value})}});cr()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value"]);cr()(["index"]);const[jW,$T]=Hr({name:"SegmentGroupContext",hookName:"useSegmentGroupContext",providerName:"<SegmentGroupProvider />"}),$W=eO.rename("segment-group"),Iw=$W.build(),YW=N.forwardRef((t,e)=>{const n=$T(),r=ht(n.getIndicatorProps(),Iw.indicator.attrs,t);return Y.jsx(Tt.div,{...r,ref:e})});YW.displayName="SegmentGroupIndicator";const[Hse,O3e]=Hr({name:"SegmentGroupItemContext",hookName:"useSegmentGroupItemContext",providerName:"<SegmentGroupItemProvider />"}),[Wse,XW]=Hr({name:"SegmentGroupItemPropsContext",hookName:"useSegmentGroupItemPropsContext",providerName:"<SegmentGroupItemPropsProvider />"}),qW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["value","disabled","invalid"]),i=$T(),s=ht(i.getItemProps(n),Iw.item.attrs,r),o=i.getItemState(n);return Y.jsx(Wse,{value:n,children:Y.jsx(Hse,{value:o,children:Y.jsx(Tt.label,{...s,ref:e})})})});qW.displayName="SegmentGroupItem";const KW=N.forwardRef((t,e)=>{const n=$T(),r=XW(),i=ht(n.getItemHiddenInputProps(r),t);return Y.jsx(Tt.input,{...i,ref:e})});KW.displayName="SegmentGroupItemHiddenInput";const ZW=N.forwardRef((t,e)=>{const n=$T(),r=XW(),i=ht(n.getItemTextProps(r),Iw.itemText.attrs,t);return Y.jsx(Tt.span,{...i,ref:e})});ZW.displayName="SegmentGroupItemText";const jse=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r={id:N.useId(),dir:n,getRootNode:e,value:t.defaultValue,...t},i={...r,value:t.value,onValueChange:Bo(t.onValueChange,{sync:!0})},[s,o]=Kd(Bse(r),{context:i});return Use(s,o,Nu)},QW=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["defaultValue","disabled","form","id","ids","name","onValueChange","orientation","readOnly","value"]),i=jse(n),s=ht(i.getRootProps(),Iw.root.attrs,r);return Y.jsx(jW,{value:i,children:Y.jsx(Tt.div,{...s,ref:e})})});QW.displayName="SegmentGroupRoot";const JW=N.forwardRef((t,e)=>{const[{value:n},r]=wi()(t,["value"]),i=ht(n.getRootProps(),Iw.root.attrs,r);return Y.jsx(jW,{value:n,children:Y.jsx(Tt.div,{...i,ref:e})})});JW.displayName="SegmentGroupRootProvider";const[e8,_a]=Hr({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),t8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getClearTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});t8.displayName="SelectClearTrigger";const n8=N.forwardRef((t,e)=>{const n=_a(),r=Fu(),i=ht(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:Y.jsx(Tt.div,{...i,ref:Dm(r.ref,e)})});n8.displayName="SelectContent";const r8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getControlProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});r8.displayName="SelectControl";const i8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getHiddenSelectProps(),t),i=n.value.length===0,s=Qd();return Y.jsxs(Tt.select,{"aria-describedby":s==null?void 0:s.ariaDescribedby,...r,ref:e,children:[i&&Y.jsx("option",{value:""}),n.collection.items.map((o,a)=>Y.jsx("option",{value:n.collection.getItemValue(o)??"",disabled:n.collection.getItemDisabled(o),children:n.collection.stringifyItem(o)},a))]})});i8.displayName="SelectHiddenSelect";const s8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getIndicatorProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});s8.displayName="SelectIndicator";const[$se,L3e]=Hr({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[Yse,o8]=Hr({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),a8=N.forwardRef((t,e)=>{const[n,r]=wi()(t,["item","persistFocus"]),i=_a(),s=ht(i.getItemProps(n),r),o=i.getItemState(n);return Y.jsx(Yse,{value:n,children:Y.jsx($se,{value:o,children:Y.jsx(Tt.div,{...s,ref:e})})})});a8.displayName="SelectItem";const[Xse,qse]=Hr({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),l8=N.forwardRef((t,e)=>{const n=N.useId(),[r,i]=wi()(t,["id"]),s={id:n,...r},o=_a(),a=ht(o.getItemGroupProps(s),i);return Y.jsx(Xse,{value:s,children:Y.jsx(Tt.div,{...a,ref:e})})});l8.displayName="SelectItemGroup";const c8=N.forwardRef((t,e)=>{const n=_a(),r=qse(),i=ht(n.getItemGroupLabelProps({htmlFor:r.id}),t);return Y.jsx(Tt.div,{...i,ref:e})});c8.displayName="SelectItemGroupLabel";const u8=N.forwardRef((t,e)=>{const n=_a(),r=o8(),i=ht(n.getItemIndicatorProps(r),t);return Y.jsx(Tt.div,{...i,ref:e})});u8.displayName="SelectItemIndicator";const d8=N.forwardRef((t,e)=>{const n=_a(),r=o8(),i=ht(n.getItemTextProps(r),t);return Y.jsx(Tt.span,{...i,ref:e})});d8.displayName="SelectItemText";const f8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getLabelProps(),t);return Y.jsx(Tt.label,{...r,ref:e})});f8.displayName="SelectLabel";const h8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getPositionerProps(),t);return Fu().unmounted?null:Y.jsx(Tt.div,{...r,ref:e})});h8.displayName="SelectPositioner";var p8=xn("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),ko=p8.build(),m8=t=>gi(new qk(t));m8.empty=()=>gi(new qk({items:[]}));var on=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`select:${t.id}`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},getClearTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`select:${t.id}:label`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`select:${t.id}:control`},getItemId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`select:${t.id}:option:${e}`},getHiddenSelectId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},getItemGroupId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemGroup)==null?void 0:r.call(n,e))??`select:${t.id}:optgroup:${e}`},getItemGroupLabelId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemGroupLabel)==null?void 0:r.call(n,e))??`select:${t.id}:optgroup-label:${e}`},getHiddenSelectEl:t=>on.getById(t,on.getHiddenSelectId(t)),getContentEl:t=>on.getById(t,on.getContentId(t)),getControlEl:t=>on.getById(t,on.getControlId(t)),getTriggerEl:t=>on.getById(t,on.getTriggerId(t)),getClearTriggerEl:t=>on.getById(t,on.getClearTriggerId(t)),getPositionerEl:t=>on.getById(t,on.getPositionerId(t)),getHighlightedOptionEl(t){return t.highlightedValue?on.getById(t,on.getItemId(t,t.highlightedValue)):null}});function Kse(t,e,n){const r=t.context.isDisabled,i=t.context.invalid,s=t.context.readOnly,o=t.context.isInteractive,a=t.context.composite,l=t.hasTag("open"),c=t.matches("focused"),u=t.context.highlightedValue,d=t.context.highlightedItem,f=t.context.selectedItems,m=t.context.isTypingAhead,v=t.context.collection,w=u?on.getItemId(t.context,u):void 0;function x(b){const S=v.getItemDisabled(b.item),T=v.getItemValue(b.item);return{value:T,disabled:!!(r||S),highlighted:u===T,selected:t.context.value.includes(T)}}const y=Yk({...t.context.positioning,placement:t.context.currentPlacement});return{open:l,focused:c,empty:t.context.value.length===0,highlightedItem:d,highlightedValue:u,selectedItems:f,hasSelectedItems:t.context.hasSelectedItems,value:t.context.value,valueAsString:t.context.valueAsString,collection:v,multiple:!!t.context.multiple,disabled:!!r,setCollection(b){e({type:"COLLECTION.SET",value:b})},reposition(b={}){e({type:"POSITIONING.SET",options:b})},focus(){var b;(b=on.getTriggerEl(t.context))==null||b.focus({preventScroll:!0})},setOpen(b){b!==l&&e(b?"OPEN":"CLOSE")},selectValue(b){e({type:"ITEM.SELECT",value:b})},setValue(b){e({type:"VALUE.SET",value:b})},selectAll(){e({type:"VALUE.SET",value:v.getValues()})},highlightValue(b){e({type:"HIGHLIGHTED_VALUE.SET",value:b})},clearValue(b){e(b?{type:"ITEM.CLEAR",value:b}:{type:"VALUE.CLEAR"})},getItemState:x,getRootProps(){return n.element({...ko.root.attrs,dir:t.context.dir,id:on.getRootId(t.context),"data-invalid":Dt(i),"data-readonly":Dt(s)})},getLabelProps(){return n.label({dir:t.context.dir,id:on.getLabelId(t.context),...ko.label.attrs,"data-disabled":Dt(r),"data-invalid":Dt(i),"data-readonly":Dt(s),htmlFor:on.getHiddenSelectId(t.context),onClick(b){var S;b.defaultPrevented||r||(S=on.getTriggerEl(t.context))==null||S.focus({preventScroll:!0})}})},getControlProps(){return n.element({...ko.control.attrs,dir:t.context.dir,id:on.getControlId(t.context),"data-state":l?"open":"closed","data-focus":Dt(c),"data-disabled":Dt(r),"data-invalid":Dt(i)})},getValueTextProps(){return n.element({...ko.valueText.attrs,dir:t.context.dir,"data-disabled":Dt(r),"data-invalid":Dt(i),"data-focus":Dt(c)})},getTriggerProps(){return n.button({id:on.getTriggerId(t.context),disabled:r,dir:t.context.dir,type:"button",role:"combobox","aria-controls":on.getContentId(t.context),"aria-expanded":l,"aria-haspopup":"listbox","data-state":l?"open":"closed","aria-invalid":i,"aria-labelledby":on.getLabelId(t.context),...ko.trigger.attrs,"data-disabled":Dt(r),"data-invalid":Dt(i),"data-readonly":Dt(s),"data-placement":t.context.currentPlacement,"data-placeholder-shown":Dt(!t.context.hasSelectedItems),onClick(b){o&&(b.defaultPrevented||e({type:"TRIGGER.CLICK"}))},onFocus(){e("TRIGGER.FOCUS")},onBlur(){e("TRIGGER.BLUR")},onKeyDown(b){if(b.defaultPrevented||!o)return;const T={ArrowUp(){e({type:"TRIGGER.ARROW_UP"})},ArrowDown(C){e({type:C.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){e({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){e({type:"TRIGGER.ARROW_RIGHT"})},Home(){e({type:"TRIGGER.HOME"})},End(){e({type:"TRIGGER.END"})},Enter(){e({type:"TRIGGER.ENTER"})},Space(C){e(m?{type:"TRIGGER.TYPEAHEAD",key:C.key}:{type:"TRIGGER.ENTER"})}}[bE(b,t.context)];if(T){T(b),b.preventDefault();return}Cx.isValidEvent(b)&&(e({type:"TRIGGER.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getIndicatorProps(){return n.element({...ko.indicator.attrs,dir:t.context.dir,"aria-hidden":!0,"data-state":l?"open":"closed","data-disabled":Dt(r),"data-invalid":Dt(i),"data-readonly":Dt(s)})},getItemProps(b){const S=x(b);return n.element({id:on.getItemId(t.context,S.value),role:"option",...ko.item.attrs,dir:t.context.dir,"data-value":S.value,"aria-selected":S.selected,"data-state":S.selected?"checked":"unchecked","data-highlighted":Dt(S.highlighted),"data-disabled":Dt(S.disabled),"aria-disabled":mH(S.disabled),onPointerMove(T){S.disabled||T.pointerType!=="mouse"||S.value!==t.context.highlightedValue&&e({type:"ITEM.POINTER_MOVE",value:S.value})},onClick(T){T.defaultPrevented||S.disabled||e({type:"ITEM.CLICK",src:"pointerup",value:S.value})},onPointerLeave(T){S.disabled||b.persistFocus||T.pointerType!=="mouse"||!t.previousEvent.type.includes("POINTER")||e({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(b){const S=x(b);return n.element({...ko.itemText.attrs,"data-state":S.selected?"checked":"unchecked","data-disabled":Dt(S.disabled),"data-highlighted":Dt(S.highlighted)})},getItemIndicatorProps(b){const S=x(b);return n.element({"aria-hidden":!0,...ko.itemIndicator.attrs,"data-state":S.selected?"checked":"unchecked",hidden:!S.selected})},getItemGroupLabelProps(b){const{htmlFor:S}=b;return n.element({...ko.itemGroupLabel.attrs,id:on.getItemGroupLabelId(t.context,S),role:"group",dir:t.context.dir})},getItemGroupProps(b){const{id:S}=b;return n.element({...ko.itemGroup.attrs,"data-disabled":Dt(r),id:on.getItemGroupId(t.context,S),"aria-labelledby":on.getItemGroupLabelId(t.context,S),dir:t.context.dir})},getClearTriggerProps(){return n.button({...ko.clearTrigger.attrs,id:on.getClearTriggerId(t.context),type:"button","aria-label":"Clear value","data-invalid":Dt(i),disabled:r,hidden:!t.context.hasSelectedItems,dir:t.context.dir,onClick(b){b.defaultPrevented||e("CLEAR.CLICK")}})},getHiddenSelectProps(){return n.select({name:t.context.name,form:t.context.form,disabled:r,multiple:t.context.multiple,required:t.context.required,"aria-hidden":!0,id:on.getHiddenSelectId(t.context),defaultValue:t.context.multiple?t.context.value:t.context.value[0],style:Ok,tabIndex:-1,onFocus(){var b;(b=on.getTriggerEl(t.context))==null||b.focus({preventScroll:!0})},"aria-labelledby":on.getLabelId(t.context)})},getPositionerProps(){return n.element({...ko.positioner.attrs,dir:t.context.dir,id:on.getPositionerId(t.context),style:y.floating})},getContentProps(){return n.element({hidden:!l,dir:t.context.dir,id:on.getContentId(t.context),role:a?"listbox":"dialog",...ko.content.attrs,"data-state":l?"open":"closed","data-placement":t.context.currentPlacement,"data-activedescendant":w,"aria-activedescendant":a?w:void 0,"aria-multiselectable":t.context.multiple&&a?!0:void 0,"aria-labelledby":on.getLabelId(t.context),tabIndex:0,onKeyDown(b){if(!o||!wE(b))return;if(b.key==="Tab"&&!AH(b)){b.preventDefault();return}const S={ArrowUp(){e({type:"CONTENT.ARROW_UP"})},ArrowDown(){e({type:"CONTENT.ARROW_DOWN"})},Home(){e({type:"CONTENT.HOME"})},End(){e({type:"CONTENT.END"})},Enter(){e({type:"ITEM.CLICK",src:"keydown.enter"})},Space(M){var I;m?e({type:"CONTENT.TYPEAHEAD",key:M.key}):(I=S.Enter)==null||I.call(S,M)}},T=S[bE(b)];if(T){T(b),b.preventDefault();return}const C=Fo(b);UT(C)||Cx.isValidEvent(b)&&(e({type:"CONTENT.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getListProps(){return n.element({...ko.list.attrs,tabIndex:0,role:a?void 0:"listbox","aria-labelledby":on.getTriggerId(t.context),"aria-activedescendant":a?void 0:w,"aria-multiselectable":!a&&t.context.multiple?!0:void 0})}}}var{and:X0,not:vp,or:Zse}=Mw;function Qse(t){const e=Ka(t);return Du({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!e.multiple,disabled:!1,readOnly:!1,composite:!0,...e,highlightedItem:null,selectedItems:[],valueAsString:"",collection:e.collection??m8.empty(),typeahead:Cx.defaultOptions,fieldsetDisabled:!1,positioning:{placement:"bottom-start",gutter:8,...e.positioning}},computed:{hasSelectedItems:n=>n.value.length>0,isTypingAhead:n=>n.typeahead.keysSoFar!=="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.isDisabled||n.readOnly)},initial:e.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:Zse("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:X0(vp("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:vp("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:X0(vp("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:vp("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:vp("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:vp("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:vp("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:X0("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:X0("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:X0("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:n=>!!n.loopFocus,multiple:n=>!!n.multiple,hasSelectedItems:n=>!!n.hasSelectedItems,hasHighlightedItem:n=>n.highlightedValue!=null,isFirstItemHighlighted:n=>n.highlightedValue===n.collection.firstValue,isLastItemHighlighted:n=>n.highlightedValue===n.collection.lastValue,closeOnSelect:(n,r)=>!!(r.closeOnSelect??n.closeOnSelect),isOpenControlled:n=>!!n["open.controlled"],isTriggerClickEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(n,r)=>{var i;return((i=r.previousEvent)==null?void 0:i.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(n,r,{initialContext:i}){return TH(on.getHiddenSelectEl(n),{onFieldsetDisabledChange(s){n.fieldsetDisabled=s},onFormReset(){pi.selectedItems(n,i.value)}})},trackDismissableElement(n,r,{send:i}){const s=()=>on.getContentEl(n);let o=!0;return Xk(s,{defer:!0,exclude:[on.getTriggerEl(n),on.getClearTriggerEl(n)],onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onInteractOutside(a){var l;(l=n.onInteractOutside)==null||l.call(n,a),o=!(a.detail.focusable||a.detail.contextmenu)},onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},computePlacement(n){return n.currentPlacement=n.positioning.placement,ly(()=>on.getTriggerEl(n),()=>on.getPositionerEl(n),{defer:!0,...n.positioning,onComplete(s){n.currentPlacement=s.placement}})},scrollToHighlightedItem(n,r,{getState:i}){const s=a=>{if(n.highlightedValue==null||i().event.type.includes("POINTER"))return;const c=on.getHighlightedOptionEl(n),u=on.getContentEl(n);if(n.scrollToIndexFn){const d=n.collection.indexOf(n.highlightedValue);n.scrollToIndexFn({index:d,immediate:a});return}IH(c,{rootEl:u,block:"nearest"})};return yi(()=>s(!0)),PH(()=>on.getContentEl(n),{defer:!0,attributes:["data-activedescendant"],callback(){s(!1)}})}},actions:{reposition(n,r){const i=()=>on.getPositionerEl(n);ly(on.getTriggerEl(n),i,{...n.positioning,...r.options,defer:!0,listeners:!1,onComplete(s){n.currentPlacement=s.placement}})},toggleVisibility(n,r,{send:i}){i({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})},highlightPreviousItem(n){if(n.highlightedValue==null)return;const r=n.collection.getPreviousValue(n.highlightedValue);pi.highlightedItem(n,r)},highlightNextItem(n){if(n.highlightedValue==null)return;const r=n.collection.getNextValue(n.highlightedValue);pi.highlightedItem(n,r)},highlightFirstItem(n){const r=n.collection.firstValue;pi.highlightedItem(n,r)},highlightLastItem(n){const r=n.collection.lastValue;pi.highlightedItem(n,r)},setInitialFocus(n){yi(()=>{const r=MH({root:on.getContentEl(n)});r==null||r.focus({preventScroll:!0})})},focusTriggerEl(n,r){var s;const i=r.restoreFocus??((s=r.previousEvent)==null?void 0:s.restoreFocus);i!=null&&!i||yi(()=>{const o=on.getTriggerEl(n);o==null||o.focus({preventScroll:!0})})},selectHighlightedItem(n,r){let i=r.value??n.highlightedValue;if(i==null)return;const s=n.deselectable&&!n.multiple&&n.value.includes(i);i=s?null:i,pi.selectedItem(n,i,s)},highlightComputedFirstItem(n){const r=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.firstValue;pi.highlightedItem(n,r)},highlightComputedLastItem(n){const r=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.lastValue;pi.highlightedItem(n,r)},highlightFirstSelectedItem(n){if(!n.hasSelectedItems)return;const[r]=n.collection.sort(n.value);pi.highlightedItem(n,r)},highlightItem(n,r){pi.highlightedItem(n,r.value)},highlightMatchingItem(n,r){const i=n.collection.search(r.key,{state:n.typeahead,currentValue:n.highlightedValue});i!=null&&pi.highlightedItem(n,i)},setHighlightedItem(n,r){pi.highlightedItem(n,r.value)},clearHighlightedItem(n){pi.highlightedItem(n,null,!0)},selectItem(n,r){const i=n.deselectable&&!n.multiple&&n.value.includes(r.value),s=i?null:r.value;pi.selectedItem(n,s,i)},clearItem(n,r){const i=n.value.filter(s=>s!==r.value);pi.selectedItems(n,i)},setSelectedItems(n,r){pi.selectedItems(n,r.value)},clearSelectedItems(n){pi.selectedItems(n,[])},selectPreviousItem(n){const r=n.collection.getPreviousValue(n.value[0]);pi.selectedItem(n,r)},selectNextItem(n){const r=n.collection.getNextValue(n.value[0]);pi.selectedItem(n,r)},selectFirstItem(n){const r=n.collection.firstValue;pi.selectedItem(n,r)},selectLastItem(n){const r=n.collection.lastValue;pi.selectedItem(n,r)},selectMatchingItem(n,r){const i=n.collection.search(r.key,{state:n.typeahead,currentValue:n.value[0]});i!=null&&pi.selectedItem(n,i)},scrollContentToTop(n){var r;n.scrollToIndexFn?n.scrollToIndexFn({index:0,immediate:!0}):(r=on.getContentEl(n))==null||r.scrollTo(0,0)},invokeOnOpen(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!0})},invokeOnClose(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!1})},syncSelectElement(n){const r=on.getHiddenSelectEl(n);if(r){if(n.value.length===0&&!n.multiple){r.selectedIndex=-1;return}for(const i of r.options)i.selected=n.value.includes(i.value)}},setCollection(n,r){n.collection=r.value},syncCollection(n){const r=n.collection.findMany(n.value),i=n.collection.stringifyItems(r);n.highlightedItem=n.collection.find(n.highlightedValue),n.selectedItems=r,n.valueAsString=i},syncSelectedItems(n){IE.valueChange(n)},syncHighlightedItem(n){IE.highlightChange(n)}}})}function Jse(t){yi(()=>{const e=on.getHiddenSelectEl(t);if(!e)return;const n=on.getWin(t),r=new n.Event("change",{bubbles:!0,composed:!0});e.dispatchEvent(r)})}var IE={valueChange:t=>{const e=t.selectedItems;t.selectedItems=t.value.map(n=>{const r=e.find(i=>t.collection.getItemValue(i)===n);return r||t.collection.find(n)}),t.valueAsString=t.collection.stringifyItems(t.selectedItems)},highlightChange:t=>{t.highlightedItem=t.collection.find(t.highlightedValue)}},f1={valueChange:t=>{var e;IE.valueChange(t),(e=t.onValueChange)==null||e.call(t,{value:Array.from(t.value),items:Array.from(t.selectedItems)}),Jse(t)},highlightChange:t=>{var e;IE.highlightChange(t),(e=t.onHighlightChange)==null||e.call(t,{highlightedValue:t.highlightedValue,highlightedItem:t.highlightedItem,highlightedIndex:t.collection.indexOf(t.highlightedValue)})}},pi={selectedItem:(t,e,n=!1)=>{if(!Nd(t.value,e)&&!(e==null&&!n)){if(e==null&&n){t.value=[],f1.valueChange(t);return}t.value=t.multiple?Jte(t.value,e):[e],f1.valueChange(t)}},selectedItems:(t,e)=>{Nd(t.value,e)||(t.value=e,f1.valueChange(t))},highlightedItem:(t,e,n=!1)=>{Nd(t.highlightedValue,e)||e==null&&!n||(t.highlightedValue=e??null,f1.highlightChange(t))}};cr()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);cr()(["item","persistFocus"]);cr()(["id"]);cr()(["htmlFor"]);const eoe=t=>{const{collection:e,...n}=t,r=Lm(),i=Lh(),s=Qd(),o={id:N.useId(),ids:{label:s==null?void 0:s.ids.label,hiddenSelect:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,invalid:s==null?void 0:s.invalid,required:s==null?void 0:s.required,dir:r.dir,getRootNode:i.getRootNode,collection:e,open:t.defaultOpen,value:t.defaultValue,"open.controlled":t.open!==void 0,...n},a=(()=>{const{collection:d,...f}=o;return{...f,value:t.value,onValueChange:Bo(t.onValueChange,{sync:!0}),onHighlightChange:Bo(t.onHighlightChange),onOpenChange:Bo(t.onOpenChange)}})(),[l,c,u]=Kd(Qse(o),{context:a});return N.useEffect(()=>{u.setContext({collection:e})},[e]),Kse(l,c,Nu)},toe=(t,e)=>{const[n,r]=kh(t),[i,s]=wi()(r,["closeOnSelect","collection","composite","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),o=eoe(i),a=Zd(ht({present:o.open},n)),l=ht(o.getRootProps(),s);return Y.jsx(e8,{value:o,children:Y.jsx(Oh,{value:a,children:Y.jsx(Tt.div,{...l,ref:e})})})},noe=N.forwardRef(toe),roe=(t,e)=>{const[n,r]=kh(t),[{value:i},s]=wi()(r,["value"]),o=Zd(ht({present:i.open},n)),a=ht(i.getRootProps(),s);return Y.jsx(e8,{value:i,children:Y.jsx(Oh,{value:o,children:Y.jsx(Tt.div,{...a,ref:e})})})},ioe=N.forwardRef(roe),g8=N.forwardRef((t,e)=>{const n=_a(),r=ht(n.getTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});g8.displayName="SelectTrigger";const v8=N.forwardRef((t,e)=>{const{children:n,placeholder:r,...i}=t,s=_a(),o=ht(s.getValueTextProps(),i);return Y.jsx(Tt.span,{...o,ref:e,children:n||s.valueAsString||r})});v8.displayName="SelectValueText";var y8=xn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");y8.build();function soe(t){const e=t[0],n=t[t.length-1];return[e,n]}function ooe(t){const[e,n]=soe(t.valuePercent);if(t.valuePercent.length===1){if(t.origin==="center"){const r=t.valuePercent[0]<50,i=r?`${t.valuePercent[0]}%`:"50%",s=r?"50%":`${100-t.valuePercent[0]}%`;return{start:i,end:s}}return{start:"0%",end:`${100-n}%`}}return{start:`${e}%`,end:`${100-n}%`}}function aoe(t){return t.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[t.isRtl?"right":"left"]:"var(--slider-range-start)",[t.isRtl?"left":"right"]:"var(--slider-range-end)"}}function loe(t){const{height:e=0}=t.thumbSize??{},n=ZR([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function coe(t){const{width:e=0}=t.thumbSize??{};if(t.isRtl){const r=ZR([t.max,t.min],[-e/2,e/2]);return-1*parseFloat(r(t.value).toFixed(2))}const n=ZR([t.min,t.max],[-e/2,e/2]);return parseFloat(n(t.value).toFixed(2))}function uoe(t,e){if(t.thumbAlignment==="center")return`${e}%`;const n=t.isVertical?loe(t):coe(t);return`calc(${e}% - ${n}px)`}function _8(t){let e=fne(t.value,t.min,t.max)*100;return uoe(t,e)}function x8(t){let e="visible";return t.thumbAlignment==="contain"&&!t.hasMeasuredThumbSize&&(e="hidden"),e}function doe(t,e){const n=t.isVertical?"bottom":"insetInlineStart";return{visibility:x8(t),position:"absolute",transform:"var(--slider-thumb-transform)",[n]:`var(--slider-thumb-offset-${e})`}}function foe(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function hoe(t){const e=ooe(t);return{...t.value.reduce((r,i,s)=>{const o=_8({...t,value:i});return{...r,[`--slider-thumb-offset-${s}`]:o}},{}),"--slider-thumb-transform":t.isVertical?"translateY(50%)":t.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":e.start,"--slider-range-end":e.end}}function poe(t,e){return{visibility:x8(t),position:"absolute",pointerEvents:"none",[t.isHorizontal?"insetInlineStart":"bottom"]:_8({...t,value:e}),translate:"var(--tx) var(--ty)","--tx":t.isHorizontal?t.isRtl?"50%":"-50%":"0%","--ty":t.isHorizontal?"0%":"50%"}}function moe(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var goe={getRootStyle:hoe,getControlStyle:foe,getThumbStyle:doe,getRangeStyle:aoe,getMarkerStyle:poe,getMarkerGroupStyle:moe},oa=xi({...goe,getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},getThumbId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,e))??`slider:${t.id}:thumb:${e}`},getHiddenInputId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,e))??`slider:${t.id}:input:${e}`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},getTrackId:t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},getRangeId:t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},getValueTextId:t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},getMarkerId:(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.marker)==null?void 0:r.call(n,e))??`slider:${t.id}:marker:${e}`},getRootEl:t=>oa.getById(t,oa.getRootId(t)),getThumbEl:(t,e)=>oa.getById(t,oa.getThumbId(t,e)),getHiddenInputEl:(t,e)=>oa.getById(t,oa.getHiddenInputId(t,e)),getControlEl:t=>oa.getById(t,oa.getControlId(t)),getElements:t=>vu(oa.getControlEl(t),"[role=slider]"),getFirstEl:t=>oa.getElements(t)[0],getRangeEl:t=>oa.getById(t,oa.getRangeId(t)),getValueFromPoint(t,e){const n=oa.getControlEl(t);if(!n)return;const i=jR(e,n).getPercentValue({orientation:t.orientation,dir:t.dir,inverted:{y:!0}});return hne(i,t.min,t.max,t.step)},dispatchChangeEvent(t){Array.from(t.value).forEach((n,r)=>{const i=oa.getHiddenInputEl(t,r);i&&EH(i,{value:n})})}});cr()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);cr()(["index","name"]);var w8=xn("switch").parts("root","label","control","thumb");w8.build();var h1=xi({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},getLabelId:t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},getThumbId:t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},getControlId:t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},getHiddenInputId:t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},getRootEl:t=>h1.getById(t,h1.getRootId(t)),getHiddenInputEl:t=>h1.getById(t,h1.getHiddenInputId(t))});cr()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var voe=xn("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),Iv=voe.build(),mo=xi({getRegionId:t=>`toast-group:${t}`,getRegionEl:(t,e)=>mo.getById(t,`toast-group:${e}`),getRootId:t=>`toast:${t.id}`,getRootEl:t=>mo.getById(t,mo.getRootId(t)),getTitleId:t=>`toast:${t.id}:title`,getDescriptionId:t=>`toast:${t.id}:description`,getCloseTriggerId:t=>`toast${t.id}:close`});function tO(t,e){return t.filter(n=>n.state.context.placement===e)}var Y3={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function X3(t,e){return t??Y3[e]??Y3.DEFAULT}function yoe(t,e){var u;const n=t.offsets,r=typeof n=="string"?{left:n,right:n,bottom:n,top:n}:n,i=t.dir==="rtl",s=e.replace("-start",i?"-right":"-left").replace("-end",i?"-left":"-right"),o=s.includes("right"),a=s.includes("left"),l={position:"fixed",pointerEvents:t.count>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${t.gap}px`,"--first-height":`${((u=t.heights[0])==null?void 0:u.height)||0}px`,zIndex:pH};let c="center";if(o&&(c="flex-end"),a&&(c="flex-start"),l.alignItems=c,s.includes("top")){const d=r.top;l.top=`max(env(safe-area-inset-top, 0px), ${d})`}if(s.includes("bottom")){const d=r.bottom;l.bottom=`max(env(safe-area-inset-bottom, 0px), ${d})`}if(!s.includes("left")){const d=r.right;l.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${d})`}if(!s.includes("right")){const d=r.left;l.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${d})`}return l}function _oe(t,e){const[n]=t.placement.split("-"),r=!t.frontmost,i=!t.stacked,s={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${t.removeDelay}ms`,"--duration":`${t.type==="loading"?Number.MAX_SAFE_INTEGER:t.duration}ms`,"--initial-height":`${t.height}px`,"--offset":`${t.offset}px`,"--index":t.index,"--z-index":t.zIndex,"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},o=a=>Object.assign(s,a);return n==="top"?o({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):n==="bottom"&&o({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),t.mounted&&(o({"--y":"0","--opacity":"1"}),t.stacked&&o({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),e||o({"--opacity":"0",pointerEvents:"none"}),r&&i&&(o({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),e||o({"--y":"calc(var(--sign) * 40%)"})),r&&t.stacked&&!e&&o({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),t.frontmost&&!e&&o({"--y":"calc(var(--lift) * -100%)"}),s}function xoe(t,e){const n={position:"absolute",inset:"0",scale:"1 2",pointerEvents:e?"none":"auto"},r=i=>Object.assign(n,i);return t.frontmost&&!e&&r({height:"calc(var(--initial-height) + 80%)"}),n}function woe(t,e){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function boe(t,e,n){function r(){return Ene(t)?t.getState():t}function i(u){return tO(r().context.toasts,u)}function s(u){const d=r().context.toasts;return d.length?!!d.find(f=>f.id==u):!1}function o(u){const d=`toast:${KR()}`,f=u.id?u.id:d;return s(f)||e({type:"ADD_TOAST",toast:{...u,id:f}}),f}function a(u,d){return s(u)&&e({type:"UPDATE_TOAST",id:u,toast:d}),u}function l(u){const{id:d}=u;return(d?s(d):!1)&&d!=null?a(d,u):o(u)}function c(u){u==null?e("DISMISS_ALL"):s(u)&&e({type:"DISMISS_TOAST",id:u})}return{getCount(){return r().context.count},getPlacements(){const d=r().context.toasts.map(f=>f.state.context.placement);return Array.from(new Set(d))},getToastsByPlacement:i,isVisible:s,create:o,update:a,upsert:l,dismiss:c,remove(u){u==null?e("REMOVE_ALL"):s(u)&&e({type:"REMOVE_TOAST",id:u})},dismissByPlacement(u){i(u).forEach(f=>c(f.id))},loading(u){return l({...u,type:"loading"})},success(u){return l({...u,type:"success"})},error(u){return l({...u,type:"error"})},promise(u,d,f={}){const m=l({...f,...d.loading,type:"loading"});return Yv(u).then(v=>{const w=Yv(d.success,v);l({...f,...w,id:m,type:"success"})}).catch(v=>{const w=Yv(d.error,v);l({...f,...w,id:m,type:"error"})}).finally(()=>{var v;(v=d.finally)==null||v.call(d)}),m},pause(u){u==null?e("PAUSE_ALL"):s(u)&&e({type:"PAUSE_TOAST",id:u})},resume(u){u==null?e("RESUME_ALL"):s(u)&&e({type:"RESUME_TOAST",id:u})},getGroupProps(u){const{placement:d,label:f="Notifications"}=u,m=r(),v=m.context.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),[w,x="center"]=d.split("-");return n.element({...Iv.group.attrs,dir:m.context.dir,tabIndex:-1,"aria-label":`${d} ${f} ${v}`,id:mo.getRegionId(d),"data-placement":d,"data-side":w,"data-align":x,"aria-live":"polite",role:"region",style:yoe(m.context,d),onMouseMove(){e({type:"REGION.POINTER_ENTER",placement:d})},onMouseLeave(){e({type:"REGION.POINTER_LEAVE",placement:d})},onFocus(y){e({type:"REGION.FOCUS",target:y.relatedTarget})},onBlur(y){m.context.isFocusWithin&&!Mu(y.currentTarget,y.relatedTarget)&&e({type:"REGION.BLUR"})}})},subscribe(u){const d=r();return Mx(d.context.toasts,()=>{const m=i(d.context.placement).map(v=>v.getState().context);u(m)})}}}var{not:Soe,and:Eoe,or:Toe}=Mw;function Coe(t){const{type:e="info",duration:n,id:r="1",placement:i="bottom",removeDelay:s=200,...o}=t,a=Ka(o),l=X3(n,e);return Du({id:r,context:{id:r,type:e,remaining:l,duration:l,removeDelay:s,createdAt:Date.now(),placement:i,...a,height:0,offset:0,frontmost:!1,mounted:!1,index:-1,zIndex:0},initial:e==="loading"?"visible:persist":"visible",on:{UPDATE:[{guard:Eoe("hasTypeChanged","isChangingToLoading"),target:"visible:persist",actions:["setContext"]},{guard:Toe("hasDurationChanged","hasTypeChanged"),target:"visible:updating",actions:["setContext"]},{actions:["setContext"]}],MEASURE:{actions:["measureHeight"]}},entry:["invokeOnVisible"],activities:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],after:{0:"visible"}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:Soe("isLoadingType"),target:"visible",actions:["setCreatedAt"]},DISMISS:"dismissing"}},visible:{tags:["visible"],after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"visible:persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnDismiss",after:{REMOVE_DELAY:{target:"unmounted",actions:"notifyParentToRemove"}}},unmounted:{entry:"invokeOnUnmount",type:"final"}}},{activities:{trackHeight(c,u,{self:d}){let f;return yi(()=>{const m=mo.getRootEl(c);if(!m)return;c.mounted=!0;const v=vu(m,"[data-ghost]");Xv(v.length!==2,"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements");const w=()=>{const b=m.style.height;m.style.height="auto";const S=m.getBoundingClientRect().height;m.style.height=b,c.height=S,d.sendParent({type:"UPDATE_HEIGHT",id:d.id,height:S,placement:c.placement})};w();const x=mo.getWin(c),y=new x.MutationObserver(w);y.observe(m,{childList:!0,subtree:!0,characterData:!0}),f=()=>y.disconnect()}),()=>f==null?void 0:f()}},guards:{isChangingToLoading:(c,u)=>{var d;return((d=u.toast)==null?void 0:d.type)==="loading"},isLoadingType:c=>c.type==="loading",hasTypeChanged:(c,u)=>{var d;return((d=u.toast)==null?void 0:d.type)!=null&&u.toast.type!==c.type},hasDurationChanged:(c,u)=>{var d;return((d=u.toast)==null?void 0:d.duration)!=null&&u.toast.duration!==c.duration}},delays:{VISIBLE_DURATION:c=>c.remaining,REMOVE_DELAY:c=>c.removeDelay},actions:{measureHeight(c,u,{self:d}){yi(()=>{const f=mo.getRootEl(c);if(!f)return;c.mounted=!0;const m=f.style.height;f.style.height="auto";const v=f.getBoundingClientRect().height;f.style.height=m,c.height=v,d.sendParent({type:"UPDATE_HEIGHT",id:d.id,height:v,placement:c.placement})})},setRemainingDuration(c){c.remaining-=Date.now()-c.createdAt},setCreatedAt(c){c.createdAt=Date.now()},notifyParentToRemove(c,u,{self:d}){d.sendParent({type:"REMOVE_TOAST",id:d.id})},invokeOnDismiss(c){var u;(u=c.onStatusChange)==null||u.call(c,{status:"dismissing"})},invokeOnUnmount(c){var u;(u=c.onStatusChange)==null||u.call(c,{status:"unmounted"})},invokeOnVisible(c){var u;(u=c.onStatusChange)==null||u.call(c,{status:"visible"})},setContext(c,u){var v,w;const d=(v=u.toast)==null?void 0:v.duration,f=((w=u.toast)==null?void 0:w.type)??c.type,m=X3(d,f);Object.assign(c,{...u.toast,duration:m,remaining:m})}}})}function Moe(t){const e=Ka(t);return Du({id:"toaster",initial:e.overlap?"overlap":"stack",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,gap:16,pauseOnPageIdle:!1,hotkey:["altKey","KeyT"],offsets:"1rem",placement:"bottom",removeDelay:200,...e,toasts:[],lastFocusedEl:null,isFocusWithin:!1,heights:[]},computed:{count:n=>n.toasts.length},activities:["trackDocumentVisibility","trackHotKeyPress"],watch:{toasts:["collapsedIfEmpty","setDismissableBranch"]},exit:["removeToasts","clearDismissableBranch","clearLastFocusedEl"],on:{PAUSE_TOAST:{actions:["pauseToast"]},PAUSE_ALL:{actions:["pauseToasts"]},RESUME_TOAST:{actions:["resumeToast"]},RESUME_ALL:{actions:["resumeToasts"]},ADD_TOAST:{guard:"isWithinRange",actions:["createToast","syncToastIndex"]},UPDATE_TOAST:{actions:["updateToast"]},DISMISS_TOAST:{actions:["dismissToast"]},DISMISS_ALL:{actions:["dismissToasts"]},REMOVE_TOAST:{actions:["removeToast","syncToastIndex","syncToastOffset"]},REMOVE_ALL:{actions:["removeToasts"]},UPDATE_HEIGHT:{actions:["syncHeights","syncToastOffset"]},"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","restoreLastFocusedEl"]},{actions:["resumeToasts","restoreLastFocusedEl"]}]},states:{stack:{entry:["expandToasts"],on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap"},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{entry:["collapseToasts"],on:{"REGION.STACK":{target:"stack"},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts"]}}}}},{guards:{isWithinRange:n=>n.toasts.length<n.max,isOverlapping:n=>!!n.overlap},activities:{trackHotKeyPress(n,r,{send:i}){return Ms(document,"keydown",o=>{n.hotkey.every(l=>o[l]||o.code===l)&&i({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility(n,r,{send:i}){if(!n.pauseOnPageIdle)return;const s=mo.getDoc(n);return Ms(s,"visibilitychange",()=>{i(s.visibilityState==="hidden"?"PAUSE_ALL":"RESUME_ALL")})}},actions:{setDismissableBranch(n){var o;const i=tO(n.toasts,n.placement).length>0;if(!i){(o=n._cleanup)==null||o.call(n);return}if(i&&n._cleanup)return;const s=()=>mo.getRegionEl(n,n.placement);n._cleanup=cie(s,{defer:!0})},clearDismissableBranch(n){var r;(r=n._cleanup)==null||r.call(n)},focusRegionEl(n){queueMicrotask(()=>{var r;(r=mo.getRegionEl(n,n.placement))==null||r.focus()})},expandToasts(n){p1(n,r=>{r.state.context.stacked=!0})},collapseToasts(n){p1(n,r=>{r.state.context.stacked=!1})},collapsedIfEmpty(n,r,{send:i}){!n.overlap||n.toasts.length>1||i("REGION.OVERLAP")},pauseToast(n,r,{self:i}){i.sendChild("PAUSE",r.id)},pauseToasts(n){n.toasts.forEach(r=>r.send("PAUSE"))},resumeToast(n,r,{self:i}){i.sendChild("RESUME",r.id)},resumeToasts(n){n.toasts.forEach(r=>r.send("RESUME"))},measureToasts(n){n.toasts.forEach(r=>r.send("MEASURE"))},createToast(n,r,{self:i,getState:s}){const o={placement:n.placement,duration:n.duration,removeDelay:n.removeDelay,...r.toast,dir:n.dir,getRootNode:n.getRootNode,stacked:s().matches("stack")},a=Coe(o),l=i.spawn(a);n.toasts=[l,...n.toasts]},updateToast(n,r,{self:i}){i.sendChild({type:"UPDATE",toast:r.toast},r.id)},dismissToast(n,r,{self:i}){i.sendChild("DISMISS",r.id)},dismissToasts(n){n.toasts.forEach(r=>r.send("DISMISS"))},removeToast(n,r,{self:i}){i.stopChild(r.id),n.toasts=n.toasts.filter(s=>s.id!==r.id),n.heights=n.heights.filter(s=>s.id!==r.id)},removeToasts(n,r,{self:i}){n.toasts.forEach(s=>i.stopChild(s.id)),n.toasts=[],n.heights=[]},syncHeights(n,r){const i=n.heights.find(s=>s.id===r.id);if(i)i.height=r.height,i.placement=r.placement;else{const s={id:r.id,height:r.height,placement:r.placement};n.heights=[s,...n.heights]}},syncToastIndex(n){p1(n,(r,i,s)=>{r.state.context.index=i,r.state.context.frontmost=i===0,r.state.context.zIndex=s.length-i})},syncToastOffset(n,r){const i=r.placement??n.placement;p1({...n,placement:i},s=>{const o=Math.max(n.heights.findIndex(l=>l.id===s.id),0),a=n.heights.reduce((l,c,u)=>u>=o?l:l+c.height,0);s.state.context.offset=o*n.gap+a})},setLastFocusedEl(n,r){n.isFocusWithin||!r.target||(n.isFocusWithin=!0,n.lastFocusedEl=gi(r.target))},restoreLastFocusedEl(n){n.isFocusWithin=!1,n.lastFocusedEl&&(n.lastFocusedEl.focus({preventScroll:!0}),n.lastFocusedEl=null)},clearLastFocusedEl(n){n.lastFocusedEl&&(n.lastFocusedEl.focus({preventScroll:!0}),n.lastFocusedEl=null,n.isFocusWithin=!1)}}})}function p1(t,e){tO(t.toasts,t.placement).forEach(e)}function Aoe(t,e,n){const r=t.hasTag("visible"),i=t.hasTag("paused"),s=t.context.placement,o=t.context.type,[a,l="center"]=s.split("-");return{type:o,title:t.context.title,description:t.context.description,placement:s,visible:r,paused:i,pause(){e("PAUSE")},resume(){e("RESUME")},dismiss(){e("DISMISS")},getRootProps(){return n.element({...Iv.root.attrs,dir:t.context.dir,id:mo.getRootId(t.context),"data-state":r?"open":"closed","data-type":o,"data-placement":s,"data-align":l,"data-side":a,"data-mounted":Dt(t.context.mounted),"data-paused":Dt(i),"data-first":Dt(t.context.frontmost),"data-sibling":Dt(!t.context.frontmost),"data-stack":Dt(t.context.stacked),"data-overlap":Dt(!t.context.stacked),role:"status","aria-atomic":"true","aria-describedby":t.context.description?mo.getDescriptionId(t.context):void 0,"aria-labelledby":t.context.title?mo.getTitleId(t.context):void 0,tabIndex:0,style:_oe(t.context,r),onKeyDown(c){c.defaultPrevented||c.key=="Escape"&&(e("DISMISS"),c.preventDefault())}})},getGhostBeforeProps(){return n.element({"data-ghost":"before",style:xoe(t.context,r)})},getGhostAfterProps(){return n.element({"data-ghost":"after",style:woe()})},getTitleProps(){return n.element({...Iv.title.attrs,id:mo.getTitleId(t.context)})},getDescriptionProps(){return n.element({...Iv.description.attrs,id:mo.getDescriptionId(t.context)})},getActionTriggerProps(){return n.button({...Iv.actionTrigger.attrs,type:"button",onClick(c){var u,d;c.defaultPrevented||((d=(u=t.context.action)==null?void 0:u.onClick)==null||d.call(u),e("DISMISS"))}})},getCloseTriggerProps(){return n.button({id:mo.getCloseTriggerId(t.context),...Iv.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(c){c.defaultPrevented||e("DISMISS")}})}}}var iI={connect:boe,machine:Moe};const Poe=t=>{const e=iI.machine({id:"1",...t});return{...iI.connect(e,e.send,Nu),machine:e}},[Roe,Fy]=Hr({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),b8=N.forwardRef((t,e)=>{const n=Fy(),r=ht(n.getActionTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});b8.displayName="ToastActionTrigger";const S8=N.forwardRef((t,e)=>{const n=Fy(),r=ht(n.getCloseTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});S8.displayName="ToastCloseTrigger";const E8=N.forwardRef((t,e)=>{const n=Fy(),r=ht(n.getDescriptionProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});E8.displayName="ToastDescription";const T8=N.forwardRef((t,e)=>{const n=Fy(),r=ht(n.getRootProps(),t);return Y.jsxs("div",{...r,ref:e,children:[Y.jsx("div",{...n.getGhostBeforeProps()}),t.children,Y.jsx("div",{...n.getGhostAfterProps()})]})});T8.displayName="ToastRoot";const C8=N.forwardRef((t,e)=>{const n=Fy(),r=ht(n.getTitleProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});C8.displayName="ToastTitle";const M8=N.forwardRef((t,e)=>{const{toaster:n,children:r,...i}=t,[s,o]=Kd(n.machine),a=s.context.placement,l=iI.connect(s,o,Nu),c=l.getToastsByPlacement(a),u=ht(l.getGroupProps({placement:a}),i);return Y.jsx(Tt.div,{...u,ref:e,children:c.map(d=>Y.jsx(Ioe,{value:d,children:f=>r(f)},d.id))})});M8.displayName="Toaster";const Ioe=t=>{const[e,n]=zne(t.value),r=Aoe(e,n,Nu);return Y.jsx(Roe,{value:r,children:t.children(e.context)})},[A8,kw]=Hr({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),P8=N.forwardRef((t,e)=>{const n=kw(),r=ht(n.getArrowProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});P8.displayName="TooltipArrow";const R8=N.forwardRef((t,e)=>{const n=kw(),r=ht(n.getArrowTipProps(),t);return Y.jsx(Tt.div,{...r,ref:e})});R8.displayName="TooltipArrowTip";const I8=N.forwardRef((t,e)=>{const n=kw(),r=Fu(),i=ht(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:Y.jsx(Tt.div,{...i,ref:Dm(r.ref,e)})});I8.displayName="TooltipContent";const k8=N.forwardRef((t,e)=>{const n=kw(),r=ht(n.getPositionerProps(),t);return Fu().unmounted?null:Y.jsx(Tt.div,{...r,ref:e})});k8.displayName="TooltipPositioner";var O8=xn("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),q0=O8.build(),Ki=xi({getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`tooltip:${t.id}:content`},getArrowId:t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`tooltip:${t.id}:arrow`},getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},getTriggerEl:t=>Ki.getById(t,Ki.getTriggerId(t)),getContentEl:t=>Ki.getById(t,Ki.getContentId(t)),getPositionerEl:t=>Ki.getById(t,Ki.getPositionerId(t)),getArrowEl:t=>Ki.getById(t,Ki.getArrowId(t))}),Ad=BT({id:null,prevId:null,setId(t){this.prevId=this.id,this.id=t}});function koe(t,e,n){const r=t.context.id,i=t.context.hasAriaLabel,s=t.hasTag("open"),o=Ki.getTriggerId(t.context),a=Ki.getContentId(t.context),l=t.context.disabled,c=Yk({...t.context.positioning,placement:t.context.currentPlacement});return{open:s,setOpen(u){u!==s&&e(u?"OPEN":"CLOSE")},reposition(u={}){e({type:"POSITIONING.SET",options:u})},getTriggerProps(){return n.button({...q0.trigger.attrs,id:o,dir:t.context.dir,"data-expanded":Dt(s),"data-state":s?"open":"closed","aria-describedby":s?a:void 0,onClick(u){u.defaultPrevented||l||t.context.closeOnClick&&e({type:"CLOSE",src:"trigger.click"})},onFocus(u){u.defaultPrevented||l||t.event.src!=="trigger.pointerdown"&&RE()&&e({type:"OPEN",src:"trigger.focus"})},onBlur(u){u.defaultPrevented||l||r===Ad.id&&e({type:"CLOSE",src:"trigger.blur"})},onPointerDown(u){u.defaultPrevented||l||t.context.closeOnPointerDown&&r===Ad.id&&e({type:"CLOSE",src:"trigger.pointerdown"})},onPointerMove(u){u.defaultPrevented||l||u.pointerType!=="touch"&&e("POINTER_MOVE")},onPointerLeave(){l||e("POINTER_LEAVE")},onPointerCancel(){l||e("POINTER_LEAVE")}})},getArrowProps(){return n.element({id:Ki.getArrowId(t.context),...q0.arrow.attrs,dir:t.context.dir,style:c.arrow})},getArrowTipProps(){return n.element({...q0.arrowTip.attrs,dir:t.context.dir,style:c.arrowTip})},getPositionerProps(){return n.element({id:Ki.getPositionerId(t.context),...q0.positioner.attrs,dir:t.context.dir,style:c.floating})},getContentProps(){return n.element({...q0.content.attrs,dir:t.context.dir,hidden:!s,"data-state":s?"open":"closed",role:i?void 0:"tooltip",id:i?void 0:a,"data-placement":t.context.currentPlacement,onPointerEnter(){e("CONTENT.POINTER_MOVE")},onPointerLeave(){e("CONTENT.POINTER_LEAVE")},style:{pointerEvents:t.context.interactive?"auto":"none"}})}}}var{and:Ooe,not:q3}=Mw;function Loe(t){const e=Ka(t);return Du({id:"tooltip",initial:e.open?"open":"closed",activities:["trackFocusVisible"],context:{openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...e,currentPlacement:void 0,hasPointerMoveOpened:!1,positioning:{placement:"bottom",...e.positioning}},computed:{hasAriaLabel:n=>!!n["aria-label"]},watch:{disabled:["closeIfDisabled"],open:["toggleVisibility"]},states:{closed:{tags:["closed"],entry:["clearGlobalId"],on:{"CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],POINTER_LEAVE:{actions:["clearPointerMoveOpened"]},POINTER_MOVE:[{guard:Ooe("noVisibleTooltip",q3("hasPointerMoveOpened")),target:"opening"},{guard:q3("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{tags:["closed"],activities:["trackScroll","trackPointerlockChange"],after:{OPEN_DELAY:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],POINTER_LEAVE:[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{tags:["open"],activities:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"CONTROLLED.CLOSE":"closed",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],POINTER_LEAVE:[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"CONTENT.POINTER_LEAVE":{guard:"isInteractive",target:"closing"},"POSITIONING.SET":{actions:"reposition"}}},closing:{tags:["open"],activities:["trackStore","trackPositioning"],after:{CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]},on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],POINTER_MOVE:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"CONTENT.POINTER_MOVE":{guard:"isInteractive",target:"open"},"POSITIONING.SET":{actions:"reposition"}}}}},{activities:{trackFocusVisible(n){return b6({root:Ki.getRootNode(n)})},trackPositioning(n){n.currentPlacement||(n.currentPlacement=n.positioning.placement);const r=()=>Ki.getPositionerEl(n);return ly(Ki.getTriggerEl(n),r,{...n.positioning,defer:!0,onComplete(i){n.currentPlacement=i.placement}})},trackPointerlockChange(n,r,{send:i}){const s=()=>i({type:"CLOSE",src:"pointerlock:change"});return Ms(Ki.getDoc(n),"pointerlockchange",s,!1)},trackScroll(n,r,{send:i}){if(!n.closeOnScroll)return;const s=Ki.getTriggerEl(n);if(!s)return;const a=RH(s).map(l=>Ms(l,"scroll",()=>{i({type:"CLOSE",src:"scroll"})},{passive:!0,capture:!0}));return()=>{a.forEach(l=>l==null?void 0:l())}},trackStore(n,r,{send:i}){return Mx(Ad,()=>{Ad.id!==n.id&&i({type:"CLOSE",src:"id.change"})})},trackEscapeKey(n,r,{send:i}){if(!n.closeOnEscape)return;const s=o=>{$ee(o)||o.key==="Escape"&&(o.stopPropagation(),i({type:"CLOSE",src:"keydown.escape"}))};return Ms(Ki.getDoc(n),"keydown",s,!0)}},actions:{setGlobalId(n){Ad.setId(n.id)},clearGlobalId(n){n.id===Ad.id&&Ad.setId(null)},invokeOnOpen(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!0})},invokeOnClose(n){var r;(r=n.onOpenChange)==null||r.call(n,{open:!1})},closeIfDisabled(n,r,{send:i}){n.disabled&&i({type:"CLOSE",src:"disabled.change"})},reposition(n,r){const i=()=>Ki.getPositionerEl(n);ly(Ki.getTriggerEl(n),i,{...n.positioning,...r.options,defer:!0,listeners:!1,onComplete(s){n.currentPlacement=s.placement}})},toggleVisibility(n,r,{send:i}){queueMicrotask(()=>{i({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})})},setPointerMoveOpened(n){n.hasPointerMoveOpened=!0},clearPointerMoveOpened(n){n.hasPointerMoveOpened=!1}},guards:{noVisibleTooltip:()=>Ad.id===null,isVisible:n=>n.id===Ad.id,isInteractive:n=>n.interactive,hasPointerMoveOpened:n=>!!n.hasPointerMoveOpened,isOpenControlled:n=>!!n["open.controlled"]},delays:{OPEN_DELAY:n=>n.openDelay,CLOSE_DELAY:n=>n.closeDelay}})}cr()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const Doe=(t={})=>{const{getRootNode:e}=Lh(),{dir:n}=Lm(),r={id:N.useId(),dir:n,getRootNode:e,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},i={...r,onOpenChange:Bo(t.onOpenChange,{sync:!0})},[s,o]=Kd(Loe(r),{context:i});return koe(s,o,Nu)},Noe=t=>{const[e,{children:n,...r}]=kh(t),i=Doe(r),s=Zd(ht({present:i.open},e));return Y.jsx(A8,{value:i,children:Y.jsx(Oh,{value:s,children:n})})},Foe=t=>{const[e,{value:n,children:r}]=kh(t),i=Zd(ht({present:n.open},e));return Y.jsx(A8,{value:n,children:Y.jsx(Oh,{value:i,children:r})})},L8=N.forwardRef((t,e)=>{const n=kw(),r=ht(n.getTriggerProps(),t);return Y.jsx(Tt.button,{...r,ref:e})});L8.displayName="TooltipTrigger";const Uoe=(t,e)=>{var l;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,r]=t.split("/");if(!n||!r||n==="currentBg")return{invalid:!0,value:n};const i=e(`colors.${n}`),s=(l=e.raw(`opacity.${r}`))==null?void 0:l.value;if(!s&&isNaN(Number(r)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${r}%`,a=i??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${o}, transparent)`}},Tr=t=>(e,n)=>{const r=n.utils.colorMix(e);if(r.invalid)return{[t]:e};const i="--mix-"+t;return{[i]:r.value,[t]:`var(${i}, ${r.color})`}};function sI(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>sI(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=sI(t[n]);return e}function oI(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!da(t[n])&&da(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&da(e[n]))oI(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let r=0;for(;r<e[n].length;r++)da(t[n][r])&&da(e[n][r])?oI(t[n][r],e[n][r]):t[n][r]=e[n][r]}else Object.assign(t,{[n]:e[n]});return t}function Uy(t,...e){for(const n of e)oI(t,n);return t}const zoe=t=>t,hs=t=>t,bn=t=>t,Boe=t=>t,Voe=t=>t,D8=t=>t,Goe=t=>t,Hoe=t=>t,Woe=t=>t;function N8(){const t=e=>e;return new Proxy(t,{get(){return t}})}const ns=N8(),nO=N8(),F8=t=>t,U8=(...t)=>Uy({},...t.map(sI)),joe=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function $oe(t){return`${t}`.replace(joe,e=>`\\${e}`)}const Yoe=/[A-Z]/g;function Xoe(t){return t.replace(Yoe,e=>`-${e.toLowerCase()}`)}function z8(t,e={}){const{fallback:n="",prefix:r=""}=e,i=Xoe(["-",r,$oe(t)].filter(Boolean).join("-"));return{var:i,ref:`var(${i}${n?`, ${n}`:""})`}}const qoe=t=>/^var\(--.+\)$/.test(t),ws=(t,e)=>e!=null?`${t}(${e})`:e,yp=t=>{if(qoe(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},K3=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const r=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":r,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":r,[t]:{outline:"none"}}}[e]??{}}}),Koe=Tr("borderColor"),hd=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Zoe=zoe({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),Dv=z8("bg-currentcolor"),Z3=t=>t===Dv.ref||t==="currentBg",Er=t=>({...t("colors"),currentBg:Dv}),Qoe=F8({conditions:Zoe,utilities:{background:{values:Er,shorthand:["bg"],transform(t,e){if(Z3(e.raw))return{background:Dv.ref};const n=Tr("background")(t,e);return{...n,[Dv.var]:n==null?void 0:n.background}}},backgroundColor:{values:Er,shorthand:["bgColor"],transform(t,e){if(Z3(e.raw))return{backgroundColor:Dv.ref};const n=Tr("backgroundColor")(t,e);return{...n,[Dv.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:Er,transform:Tr("--gradient-from")},gradientTo:{values:Er,transform:Tr("--gradient-to")},gradientVia:{values:Er,transform(t,e){return{...Tr("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:Er,transform:Tr("borderColor")},borderTopColor:{values:Er,transform:Tr("borderTopColor")},borderBlockStartColor:{values:Er,transform:Tr("borderBlockStartColor")},borderBottomColor:{values:Er,transform:Tr("borderBottomColor")},borderBlockEndColor:{values:Er,transform:Tr("borderBlockEndColor")},borderLeftColor:{values:Er,transform:Tr("borderLeftColor")},borderInlineStartColor:{values:Er,shorthand:["borderStartColor"],transform:Tr("borderInlineStartColor")},borderRightColor:{values:Er,transform:Tr("borderRightColor")},borderInlineEndColor:{values:Er,shorthand:["borderEndColor"],transform:Tr("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:Er,transform:Tr("color")},fill:{values:Er,transform:Tr("fill")},stroke:{values:Er,transform:Tr("stroke")},accentColor:{values:Er,transform:Tr("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:Er,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":Koe(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:Er,transform:Tr("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":ws("blur",t)})},brightness:{transform:t=>({"--brightness":ws("brightness",t)})},contrast:{transform:t=>({"--contrast":ws("contrast",t)})},grayscale:{transform:t=>({"--grayscale":ws("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":ws("hue-rotate",yp(t))})},invert:{transform:t=>({"--invert":ws("invert",t)})},saturate:{transform:t=>({"--saturate":ws("saturate",t)})},sepia:{transform:t=>({"--sepia":ws("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":ws("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":ws("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":ws("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":ws("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":ws("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":ws("hue-rotate",yp(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":ws("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":ws("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":ws("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":ws("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:Er,transform:Tr("outlineColor")},focusRing:K3("&:is(:focus, [data-focus])"),focusVisibleRing:K3("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:Er,transform:Tr("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:Er,transform:Tr("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:Er,transform:Tr("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:Er,transform:Tr("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:Er,transform:Tr("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":yp(t)})},skewY:{transform:t=>({"--skew-y":yp(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:yp(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":yp(t)}}},rotateY:{transform(t){return{"--rotate-y":yp(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return hd("all");case"position":return hd("left, right, top, bottom, inset-inline, inset-block");case"colors":return hd("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return hd("opacity");case"shadow":return hd("box-shadow");case"transform":return hd("transform");case"size":return hd("width, height");case"backgrounds":return hd("background, background-color, background-image, background-position");case"common":return hd("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return Joe[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:Er,transform:Tr("caretColor")},cursor:{values:"cursor"}}}),Joe={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var eae="",tae=eae.split(","),nae="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",rae=nae.split(",").concat(tae),iae=new Map(rae.map(t=>[t,!0]));function sae(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var oae=/&|@/,aae=sae(t=>iae.has(t)||t.startsWith("--")||oae.test(t));const lae=t=>t!=null;function Hd(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){if(da(o)||Array.isArray(o)){const l={};for(const[c,u]of Object.entries(o)){const d=(i==null?void 0:i(c,u))??c,f=[...a,d];if(r!=null&&r(o,f))return e(o,a);const m=s(u,f);lae(m)&&(l[d]=m)}return l}return e(o,a)}return s(t)}function B8(t,e){return Array.isArray(t)?t.map(n=>e(n)):da(t)?Hd(t,n=>e(n)):t!=null?e(t):t}function cae(t,e){const n={};return Hd(t,(r,i)=>{r&&(n[i.join(".")]=r.value)},{stop:e}),n}var dA,Q3;function uae(){if(Q3)return dA;Q3=1,dA=s,s.default=s,s.stable=c,s.stableStringify=c;var t="[...]",e="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(f,m,v,w){typeof w>"u"&&(w=i()),a(f,"",0,[],void 0,0,w);var x;try{r.length===0?x=JSON.stringify(f,m,v):x=JSON.stringify(f,d(m),v)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var y=n.pop();y.length===4?Object.defineProperty(y[0],y[1],y[3]):y[0][y[1]]=y[2]}}return x}function o(f,m,v,w){var x=Object.getOwnPropertyDescriptor(w,v);x.get!==void 0?x.configurable?(Object.defineProperty(w,v,{value:f}),n.push([w,v,m,x])):r.push([m,v,f]):(w[v]=f,n.push([w,v,m]))}function a(f,m,v,w,x,y,b){y+=1;var S;if(typeof f=="object"&&f!==null){for(S=0;S<w.length;S++)if(w[S]===f){o(e,f,m,x);return}if(typeof b.depthLimit<"u"&&y>b.depthLimit){o(t,f,m,x);return}if(typeof b.edgesLimit<"u"&&v+1>b.edgesLimit){o(t,f,m,x);return}if(w.push(f),Array.isArray(f))for(S=0;S<f.length;S++)a(f[S],S,S,w,f,y,b);else{var T=Object.keys(f);for(S=0;S<T.length;S++){var C=T[S];a(f[C],C,S,w,f,y,b)}}w.pop()}}function l(f,m){return f<m?-1:f>m?1:0}function c(f,m,v,w){typeof w>"u"&&(w=i());var x=u(f,"",0,[],void 0,0,w)||f,y;try{r.length===0?y=JSON.stringify(x,m,v):y=JSON.stringify(x,d(m),v)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var b=n.pop();b.length===4?Object.defineProperty(b[0],b[1],b[3]):b[0][b[1]]=b[2]}}return y}function u(f,m,v,w,x,y,b){y+=1;var S;if(typeof f=="object"&&f!==null){for(S=0;S<w.length;S++)if(w[S]===f){o(e,f,m,x);return}try{if(typeof f.toJSON=="function")return}catch{return}if(typeof b.depthLimit<"u"&&y>b.depthLimit){o(t,f,m,x);return}if(typeof b.edgesLimit<"u"&&v+1>b.edgesLimit){o(t,f,m,x);return}if(w.push(f),Array.isArray(f))for(S=0;S<f.length;S++)u(f[S],S,S,w,f,y,b);else{var T={},C=Object.keys(f).sort(l);for(S=0;S<C.length;S++){var M=C[S];u(f[M],M,S,w,f,y,b),T[M]=f[M]}if(typeof x<"u")n.push([x,m,f]),x[m]=T;else return T}w.pop()}}function d(f){return f=typeof f<"u"?f:function(m,v){return v},function(m,v){if(r.length>0)for(var w=0;w<r.length;w++){var x=r[w];if(x[1]===m&&x[0]===v){v=x[2],r.splice(w,1);break}}return f.call(this,m,v)}}return dA}var dae=uae();const fae=qa(dae),xc=t=>{const e=Object.create(null);function n(...r){const i=r.map(s=>fae(s)).join("|");return e[i]===void 0&&(e[i]=t(...r)),e[i]}return n},V8=16,kE="px",rO="em",ex="rem";function G8(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${kE}|${rO}|${ex}`),r=t.match(new RegExp(`${e.source}(${n.source})`));return r==null?void 0:r[1]}function H8(t=""){if(typeof t=="number")return`${t}px`;const e=G8(t);if(!e||e===kE)return t;if(e===rO||e===ex)return`${parseFloat(t)*V8}${kE}`}function W8(t=""){const e=G8(t);if(!e||e===ex)return t;if(e===rO)return`${parseFloat(t)}${ex}`;if(e===kE)return`${parseFloat(t)/V8}${ex}`}const hae=t=>t.charAt(0).toUpperCase()+t.slice(1);function pae(t){const e=mae(t),n=Object.fromEntries(e);function r(f){return n[f]}function i(f){return $g(r(f))}function s(){const f=Object.keys(n),m=gae(f),v=f.flatMap(w=>{const x=r(w),y=[`${w}Down`,$g({max:jS(x.min)})],b=[w,$g({min:x.min})],S=[`${w}Only`,i(w)];return[b,S,y]}).filter(([,w])=>w!=="").concat(m.map(([w,x])=>{const y=r(w),b=r(x);return[`${w}To${hae(x)}`,$g({min:y.min,max:jS(b.min)})]}));return Object.fromEntries(v)}function o(){const f=s();return Object.fromEntries(Object.entries(f))}const a=o(),l=f=>a[f];function c(){return["base",...Object.keys(n)]}function u(f){return $g({min:r(f).min})}function d(f){return $g({max:jS(r(f).min)})}return{values:Object.values(n),only:i,keys:c,conditions:a,getCondition:l,up:u,down:d}}function jS(t){const e=parseFloat(H8(t)??"")-.04;return W8(`${e}px`)}function mae(t){return Object.entries(t).sort(([,n],[,r])=>parseInt(n,10)<parseInt(r,10)?-1:1).map(([n,r],i,s)=>{var a;let o=null;return i<=s.length-1&&(o=(a=s[i+1])==null?void 0:a[1]),o!=null&&(o=jS(o)),[n,{name:n,min:W8(r),max:o}]})}function gae(t){const e=[];return t.forEach((n,r)=>{let i=r;i++;let s=t[i];for(;s;)e.push([n,s]),i++,s=t[i]}),e}function $g({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const vae=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,r])=>e(n,r))),yae=t=>{const{breakpoints:e,conditions:n={}}=t,r=vae(n,(u,d)=>[`_${u}`,d]),i=Object.assign({},r,e.conditions);function s(){return Object.keys(i)}function o(u){return s().includes(u)||/^@|&|&$/.test(u)||u.startsWith("_")}function a(u){return u.filter(d=>d!=="base").sort((d,f)=>{const m=o(d),v=o(f);return m&&!v?1:!m&&v?-1:0})}function l(u){return u.startsWith("@breakpoint")?e.getCondition(u.replace("@breakpoint ","")):u}function c(u){return Reflect.get(i,u)||u}return{keys:s,sort:a,has:o,resolve:c,breakpoints:e.keys(),expandAtRule:l}},j8=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),_ae=j8("width"),xae=j8("height"),$8=t=>({isMin:iF(t.minMax,t.maxMin,t.min),isMax:iF(t.maxMin,t.minMax,t.max)}),{isMin:aI,isMax:J3}=$8(_ae),{isMin:lI,isMax:eF}=$8(xae),tF=/print/i,nF=/^print$/i,wae=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,bae=/(\d)/,B_=Number.MAX_VALUE,Sae={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function rF(t){const e=wae.exec(t)||(aI(t)||lI(t)?bae.exec(t):null);if(!e)return B_;if(e[0]==="0")return 0;const n=parseFloat(e[1]),r=e[2];return n*(Sae[r]||1)}function iF(t,e,n){return r=>t.test(r)||!e.test(r)&&n.test(r)}function Eae(t,e){const n=tF.test(t),r=nF.test(t),i=tF.test(e),s=nF.test(e);return n&&i?!r&&s?1:r&&!s?-1:t.localeCompare(e):n?1:i?-1:null}const Tae=xc((t,e)=>{const n=Eae(t,e);if(n!==null)return n;const r=aI(t)||lI(t),i=J3(t)||eF(t),s=aI(e)||lI(e),o=J3(e)||eF(e);if(r&&o)return-1;if(i&&s)return 1;const a=rF(t),l=rF(e);return a===B_&&l===B_?t.localeCompare(e):a===B_?1:l===B_?-1:a!==l?a>l?i?-1:1:i?1:-1:t.localeCompare(e)});function sF(t){return t.sort(([e],[n])=>Tae(e,n))}function Y8(t){const e=[],n=[],r={};for(const[o,a]of Object.entries(t))o.startsWith("@media")?e.push([o,a]):o.startsWith("@container")?n.push([o,a]):da(a)?r[o]=Y8(a):r[o]=a;const i=sF(e),s=sF(n);return{...r,...Object.fromEntries(i),...Object.fromEntries(s)}}const X8=/\s*!(important)?/i,Cae=t=>Cu(t)?X8.test(t):!1,Mae=t=>Cu(t)?t.replace(X8,"").trim():t;function q8(t){const{transform:e,conditions:n,normalize:r}=t,i=Rae(t);return xc(function(...o){const a=i(...o),l=r(a),c=Object.create(null);return Hd(l,(u,d)=>{const f=Cae(u);if(u==null)return;const[m,...v]=n.sort(d).map(n.resolve);f&&(u=Mae(u));let w=e(m,u)??Object.create(null);w=Hd(w,x=>Cu(x)&&f?`${x} !important`:x,{getKey:x=>n.expandAtRule(x)}),Aae(c,v.flat(),w)}),Y8(c)})}function Aae(t,e,n){let r=t;for(const i of e)i&&(r[i]||(r[i]=Object.create(null)),r=r[i]);Uy(r,n)}function Pae(...t){return t.filter(e=>da(e)&&Object.keys(Cw(e)).length>0)}function Rae(t){function e(n){const r=Pae(...n);return r.length===1?r:r.map(i=>t.normalize(i))}return xc(function(...r){return Uy({},...e(r))})}function K8(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}const Iae=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},Z8=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function kae(t){const{css:e,conditions:n,normalize:r,layers:i}=t;function s(a={}){const{base:l,variants:c,defaultVariants:u,compoundVariants:d}=Z8(a),f=q8({conditions:n,normalize:r,transform(b,S){var T;return(T=c[b])==null?void 0:T[S]}}),m=(b={})=>{const S=r({...u,...Cw(b)});let T={...l};Uy(T,f(S));const C=o(d,S);return i.wrap("recipes",e(T,C))},v=Object.keys(c),w=b=>{const S=K8(b,["recipe"]),[T,C]=$v(S,v);return v.includes("colorPalette")||(T.colorPalette=b.colorPalette||u.colorPalette),v.includes("orientation")&&(C.orientation=b.orientation),[T,C]},x=Object.fromEntries(Object.entries(c).map(([b,S])=>[b,Object.keys(S)]));return Object.assign(b=>e(m(b)),{className:a.className,__cva__:!0,variantMap:x,variantKeys:v,raw:m,config:a,splitVariantProps:w,merge(b){return s(Oae(t)(this,b))}})}function o(a,l){let c={};return a.forEach(u=>{Object.entries(u).every(([f,m])=>f==="css"?!0:(Array.isArray(m)?m:[m]).some(w=>l[f]===w))&&(c=e(c,u.css))}),c}return s}function Oae(t){const{css:e}=t;return function(r,i){const s=Z8(i.config),o=Iae(r.variantKeys,Object.keys(i.variants)),a=e(r.base,s.base),l=Object.fromEntries(o.map(f=>[f,e(r.config.variants[f],s.variants[f])])),c=Uy(r.config.defaultVariants,s.defaultVariants),u=[...r.compoundVariants,...s.compoundVariants];return{className:zo(r.className,i.className),base:a,variants:l,defaultVariants:c,compoundVariants:u}}}const Lae={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},oF={reset:0,base:1,tokens:2,recipes:3};function Dae(t){const e=t.layers??Lae,r=Object.values(e).sort((i,s)=>oF[i]-oF[s]);return{names:r,atRule:`@layer ${r.join(", ")};`,wrap(i,s){return t.disableLayers?s:{[`@layer ${e[i]}`]:s}}}}function Nae(t){const{utility:e,normalize:n}=t,{hasShorthand:r,resolveShorthand:i}=e;return function(s){return Hd(s,n,{stop:o=>Array.isArray(o),getKey:r?i:void 0})}}function Fae(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:r="parent"}=da(e)?e:{};let i="";n&&r==="parent"?i=`${n} `:n&&r==="element"&&(i=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(r==="element"){const a=Object.entries(s).reduce((l,[c,u])=>(l[c]={[i]:u},l),{});Object.assign(o,a)}else i?o[i]=s:Object.assign(o,s);return o}function Uae(t){const{conditions:e,isValidProperty:n}=t;return function(i){return Hd(i,s=>s,{getKey:(s,o)=>da(o)&&!e.has(s)&&!n(s)?zae(s).map(a=>"&"+a).join(", "):s})}}function zae(t){const e=[];let n=0,r="",i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!i){i=!0,r+=o;continue}if(i){i=!1,r+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(r.trim()),r=""):r+=o}return r&&e.push(r.trim()),e}const Bae=(t={})=>{const e=i=>{var s;return{base:((s=t.base)==null?void 0:s[i])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?Vae(t.compoundVariants,i):[]}},r=(t.slots??[]).map(i=>[i,e(i)]);for(const[i,s]of Object.entries(t.variants??{}))for(const[o,a]of Object.entries(s))r.forEach(([l,c])=>{var u;(u=c.variants)[i]??(u[i]={}),c.variants[i][o]=a[l]??{}});return Object.fromEntries(r)},Vae=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function Gae(t){const{cva:e}=t;return function(r={}){const i=Object.entries(Bae(r)).map(([d,f])=>[d,e(f)]);function s(d){const f=i.map(([m,v])=>[m,v(d)]);return Object.fromEntries(f)}const o=r.variants??{},a=Object.keys(o);function l(d){var w;const f=K8(d,["recipe"]),[m,v]=$v(f,a);return a.includes("colorPalette")||(m.colorPalette=d.colorPalette||((w=r.defaultVariants)==null?void 0:w.colorPalette)),a.includes("orientation")&&(v.orientation=d.orientation),[m,v]}const c=Object.fromEntries(Object.entries(o).map(([d,f])=>[d,Object.keys(f)]));let u={};return r.className&&(u=Object.fromEntries(r.slots.map(d=>[d,`${r.className}__${d}`]))),Object.assign(s,{variantMap:c,variantKeys:a,splitVariantProps:l,classNameMap:u})}}const Hae=()=>t=>Array.from(new Set(t)),Wae=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,jae=function(t,e){return e?t==="\0"?"":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},Q8=t=>(t+"").replace(Wae,jae),J8=(t,e)=>{let n="",r=0,i="char",s="",o="";const a=[];for(;r<t.length;){const l=t[r];if(l==="{"){const u=t.indexOf("}",r);if(u===-1)break;const d=t.slice(r+1,u),f=e(d);n+=f??d,r=u+1;continue}if(i==="token"&&l===","){t[r]===""&&r++,i="fallback",a.push(i);const u=e(s);u!=null&&u.endsWith(")")&&(n+=u.slice(0,-1)),s="",o="";continue}if(i==="fallback"&&o+l===", var("){const f=$ae(t.slice(r+1))+r+1,m=t.slice(r+1,f);if(f===-1)break;n+=", var("+m+")",r=f+1,i=a.pop()??i,o="";continue}if(i==="token"||i==="fallback"){if(r++,l===")"){i=a.pop()??i??"char",o+=l;const u=s&&(e(s)??Q8(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const f=J8(o,e);f&&(o=f.slice(0,-1))}else if(o){const f=e(o);f&&(o=f)}}const d=n.at(-1);o?d!=null&&d.trim()?n+=u.slice(0,-1)+(", "+o+")"):n+=o:n+=u||")",s="",o="",i="char";continue}i==="token"&&(s+=l),i==="fallback"&&(o+=l);continue}const c=t.indexOf("token(",r);if(c!==-1){const u=c+6;n+=t.slice(r,c),r=u,i="token",a.push(i);continue}n+=l,r++}return n},$ae=t=>{let e=0;const n=["("];for(;e<t.length;){const r=t[e];if(r==="(")n.push(r);else if(r===")"&&(n.pop(),n.length===0))return e;e++}return e};function ej(t){const e={};return t.forEach((n,r)=>{n instanceof Map?e[r]=Object.fromEntries(n):e[r]=n}),e}const tj=/({([^}]*)})/g,Yae=/[{}]/g,Xae=/\w+\.\w+/,nj=t=>{if(!Cu(t))return[];const e=t.match(tj);return e?e.map(n=>n.replace(Yae,"")).map(n=>n.trim()):[]},qae=t=>tj.test(t);function rj(t){var n,r,i;if(!((n=t.extensions)!=null&&n.references))return((i=(r=t.extensions)==null?void 0:r.cssVar)==null?void 0:i.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((s,o)=>{const a=e[o];if(a.extensions.conditions)return s;const l=rj(a);return s.replace(`{${o}}`,l)},t.value),delete t.extensions.references,t.value}function ij(t){return da(t)&&t.reference?t.reference:String(t)}const YT=(t,...e)=>e.map(ij).join(` ${t} `).replace(/calc/g,""),aF=(...t)=>`calc(${YT("+",...t)})`,lF=(...t)=>`calc(${YT("-",...t)})`,cI=(...t)=>`calc(${YT("*",...t)})`,cF=(...t)=>`calc(${YT("/",...t)})`,uF=t=>{const e=ij(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:cI(e,-1)},kv=Object.assign(t=>({add:(...e)=>kv(aF(t,...e)),subtract:(...e)=>kv(lF(t,...e)),multiply:(...e)=>kv(cI(t,...e)),divide:(...e)=>kv(cF(t,...e)),negate:()=>kv(uF(t)),toString:()=>t.toString()}),{add:aF,subtract:lF,multiply:cI,divide:cF,negate:uF}),Kae={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:r,formatTokenName:i,registerToken:s}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const l=a.path.slice(),c=r(l,e);if(Cu(a.value)&&a.value==="0rem")return;const u=structuredClone(a);Object.assign(u.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:l}),u.value=kv.negate(c.ref);const d=u.path[u.path.length-1];d!=null&&(u.path[u.path.length-1]=`-${d}`),u.path&&(u.name=i(u.path)),s(u)})}},Zae=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),Qae={enforce:"post",transform(t){t.allTokens.filter(n=>Zae.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:H8(n.value)})})}},Jae={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:r}=t,i=e.filter(({extensions:a})=>a.category==="colors"),s=new Map,o=new Map;i.forEach(a=>{const{colorPalette:l}=a.extensions;l&&(l.keys.forEach(c=>{s.set(r(c),c)}),l.roots.forEach(c=>{var f;const u=r(c),d=o.get(u)||[];if(d.push(a),o.set(u,d),a.extensions.default&&c.length===1){const m=(f=l.keys[0])==null?void 0:f.filter(Boolean);if(!m.length)return;const v=c.concat(m);s.set(r(v),[])}}))}),s.forEach(a=>{const l=["colors","colorPalette",...a].filter(Boolean),c=r(l),u=r(l.slice(1));n({name:c,value:c,originalValue:c,path:l,extensions:{condition:"base",originalPath:l,category:"colors",prop:u,virtual:!0}},"pre")})}},ele={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},tle=[Kae,Jae,Qae,ele],nle={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:r}=e,{negative:i,originalPath:s}=t.extensions,o=i?s:t.path;return{cssVar:r(o.filter(Boolean),n)}}},rle={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:r}=e,i=nj(t.value);return i.length&&i.forEach(s=>{const o=r(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},ile={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const r=n.reduce((a,l,c,u)=>{const d=u.slice(0,c+1);return a.push(d),a},[]),i=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(i)+1).reduce((a,l,c,u)=>(a.push(u.slice(c)),a),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:r,keys:o}}}},sle=[nle,rle,ile],dF=t=>da(t)&&Object.prototype.hasOwnProperty.call(t,"value");function ole(t){return t?{breakpoints:B8(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function ale(t){const{prefix:e="",tokens:n={},semanticTokens:r={},breakpoints:i={}}=t,s=se=>se.join("."),o=(se,ve)=>z8(se.join("-"),{prefix:ve}),a=[],l=new Map,c=new Map,u=new Map,d=new Map,f=new Map,m=new Map,v=new Map,w=new Map,x=[];function y(se,ve){a.push(se),l.set(se.name,se),ve&&w.forEach(Se=>{Se.enforce===ve&&F(Se,se)})}const b=ole(i),S=Cw({...n,breakpoints:b.breakpoints,sizes:{...n.sizes,...b.sizes}});function T(){Hd(S,(se,ve)=>{const Se=ve.includes("DEFAULT");ve=fF(ve);const pe=ve[0],Z=s(ve),me=Cu(se)?{value:se}:se,ue={value:me.value,originalValue:me.value,name:Z,path:ve,extensions:{condition:"base",originalPath:ve,category:pe,prop:s(ve.slice(1))}};Se&&(ue.extensions.default=!0),y(ue)},{stop:dF}),Hd(r,(se,ve)=>{const Se=ve.includes("DEFAULT");ve=sj(fF(ve));const pe=ve[0],Z=s(ve),me=Cu(se.value)?{value:{base:se.value}}:se,ue={value:me.value.base||"",originalValue:me.value.base||"",name:Z,path:ve,extensions:{originalPath:ve,category:pe,conditions:me.value,condition:"base",prop:s(ve.slice(1))}};Se&&(ue.extensions.default=!0),y(ue)},{stop:dF})}function C(se){return l.get(se)}function M(se){const{condition:ve}=se.extensions;ve&&(c.has(ve)||c.set(ve,new Set),c.get(ve).add(se))}function I(se){const{category:ve,prop:Se}=se.extensions;ve&&(v.has(ve)||v.set(ve,new Map),v.get(ve).set(Se,se))}function O(se){const{condition:ve,negative:Se,virtual:pe,cssVar:Z}=se.extensions;Se||pe||!ve||!Z||(u.has(ve)||u.set(ve,new Map),u.get(ve).set(Z.var,se.value))}function R(se){const{category:ve,prop:Se,cssVar:pe,negative:Z}=se.extensions;if(!ve)return;m.has(ve)||m.set(ve,new Map);const me=Z?se.extensions.conditions?se.originalValue:se.value:pe.ref;m.get(ve).set(Se,me),f.set([ve,Se].join("."),me)}function D(se){const{colorPalette:ve,virtual:Se,default:pe}=se.extensions;!ve||Se||ve.roots.forEach(Z=>{var Ae;const me=s(Z);d.has(me)||d.set(me,new Map);const ue=cle([...se.path],[...Z]),_e=s(ue),ce=C(_e);if(!ce||!ce.extensions.cssVar)return;const{var:Xe}=ce.extensions.cssVar;if(d.get(me).set(Xe,se.extensions.cssVar.ref),pe&&Z.length===1){const Ge=s(["colors","colorPalette"]),je=C(Ge);if(!je)return;const ke=s(se.path),nt=C(ke);if(!nt)return;const ie=(Ae=ve.keys[0])==null?void 0:Ae.filter(Boolean);if(!ie.length)return;const J=s(Z.concat(ie));d.has(J)||d.set(J,new Map),d.get(J).set(je.extensions.cssVar.var,nt.extensions.cssVar.ref)}})}let j={};function $(){a.forEach(se=>{M(se),I(se),O(se),R(se),D(se)}),j=ej(m)}const B=(se,ve)=>{var ce;if(!se||typeof se!="string")return{invalid:!0,value:se};const[Se,pe]=se.split("/");if(!Se||!pe)return{invalid:!0,value:Se};const Z=ve(Se),me=(ce=C(`opacity.${pe}`))==null?void 0:ce.value;if(!me&&isNaN(Number(pe)))return{invalid:!0,value:Se};const ue=me?Number(me)*100+"%":`${pe}%`,_e=Z??Se;return{invalid:!1,color:_e,value:`color-mix(in srgb, ${_e} ${ue}, transparent)`}},Q=xc((se,ve)=>f.get(se)??ve),ne=xc(se=>j[se]||null),K=xc(se=>J8(se,ve=>{if(!ve)return;if(ve.includes("/")){const pe=B(ve,Z=>Q(Z));if(pe.invalid)throw new Error("Invalid color mix at "+ve+": "+pe.value);return pe.value}const Se=Q(ve);return Se||(Xae.test(ve)?Q8(ve):ve)})),V={prefix:e,allTokens:a,tokenMap:l,registerToken:y,getByName:C,formatTokenName:s,formatCssVar:o,flatMap:f,cssVarMap:u,categoryMap:v,colorPaletteMap:d,getVar:Q,getCategoryValues:ne,expandReferenceInValue:K};function G(...se){se.forEach(ve=>{w.set(ve.name,ve)})}function W(...se){x.push(...se)}function F(se,ve){if(ve.extensions.references||Ek(se.match)&&!se.match(ve))return;const pe=(Z=>se.transform(Z,V))(ve);switch(!0){case se.type==="extensions":Object.assign(ve.extensions,pe);break;case se.type==="value":ve.value=pe;break;default:ve[se.type]=pe;break}}function U(se){x.forEach(ve=>{ve.enforce===se&&ve.transform(V)})}function q(se){w.forEach(ve=>{ve.enforce===se&&a.forEach(Se=>{F(ve,Se)})})}function te(){a.forEach(se=>{const ve=lle(se);!ve||ve.length===0||ve.forEach(Se=>{y(Se)})})}function re(se){return nj(se).map(Se=>C(Se)).filter(Boolean)}function le(){a.forEach(se=>{if(!qae(se.value))return;const ve=re(se.value);se.extensions.references=ve.reduce((Se,pe)=>(Se[pe.name]=pe,Se),{})})}function fe(){a.forEach(se=>{rj(se)})}function ye(){U("pre"),q("pre"),te(),le(),fe(),U("post"),q("post"),$()}return T(),G(...sle),W(...tle),ye(),V}function fF(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function sj(t){return t.filter(e=>e!=="base")}function lle(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return Hd(e,(r,i)=>{const s=sj(i);if(!s.length)return;const o=structuredClone(t);o.value=r,o.extensions.condition=s.join(":"),n.push(o)}),n}function cle(t,e){const n=t.findIndex((r,i)=>e.every((s,o)=>t[i+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}Hae()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function ule(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function dle(t){const e=ule(t.config),n=t.tokens,r=new Map,i=new Map;function s(O,R){e[O]=R,o(O,R)}const o=(O,R)=>{const D=w(R);D&&(i.set(O,D),d(O,R))},a=()=>{for(const[O,R]of Object.entries(e))R&&o(O,R)},l=()=>{for(const[O,R]of Object.entries(e)){const{shorthand:D}=R??{};if(!D)continue;(Array.isArray(D)?D:[D]).forEach($=>r.set($,O))}},c=()=>{const O=ej(n.colorPaletteMap);s("colorPalette",{values:Object.keys(O),transform:xc(R=>O[R])})},u=new Map,d=(O,R)=>{if(!R)return;const D=w(R,$=>`type:Tokens["${$}"]`);if(typeof D=="object"&&D.type){u.set(O,new Set([`type:${D.type}`]));return}if(D){const $=new Set(Object.keys(D));u.set(O,$)}const j=u.get(O)??new Set;R.property&&u.set(O,j.add(`CssProperties["${R.property}"]`))},f=()=>{for(const[O,R]of Object.entries(e))R&&d(O,R)},m=(O,R)=>{const D=u.get(O)??new Set;u.set(O,new Set([...D,...R]))},v=()=>{const O=new Map;for(const[R,D]of u.entries()){if(D.size===0){O.set(R,["string"]);continue}const j=Array.from(D).map($=>$.startsWith("CssProperties")?$:$.startsWith("type:")?$.replace("type:",""):JSON.stringify($));O.set(R,j)}return O},w=(O,R)=>{const{values:D}=O,j=$=>{const B=R==null?void 0:R($);return B?{[B]:B}:void 0};return Cu(D)?(j==null?void 0:j(D))??n.getCategoryValues(D)??{}:Array.isArray(D)?D.reduce(($,B)=>($[B]=B,$),{}):Ek(D)?D(R?j:n.getCategoryValues):D},x=xc((O,R)=>({[O]:O.startsWith("--")?n.getVar(R,R):R})),y=Object.assign(n.getVar,{raw:O=>n.getByName(O)}),b=xc((O,R)=>{var Q;const D=C(O);Cu(R)&&!R.includes("_EMO_")&&(R=n.expandReferenceInValue(R));const j=e[D];if(!j)return x(D,R);const $=(Q=i.get(D))==null?void 0:Q[R];if(!j.transform)return x(O,$??R);const B=ne=>Uoe(ne,y);return j.transform($??R,{raw:R,token:y,utils:{colorMix:B}})});function S(){l(),c(),a(),f()}S();const T=r.size>0,C=xc(O=>r.get(O)??O);return{keys:()=>[...Array.from(r.keys()),...Object.keys(e)],hasShorthand:T,transform:b,shorthands:r,resolveShorthand:C,register:s,getTypes:v,addPropertyType:m}}function fle(...t){const e=U8(...t),{theme:n={},utilities:r={},globalCss:i={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:a}=e,l=Dae(e),c=ale({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),u=pae(n.breakpoints??{}),d=yae({conditions:e.conditions??{},breakpoints:u}),f=dle({config:r,tokens:c});function m(){const{textStyles:G,layerStyles:W,animationStyles:F}=n,U=Cw({textStyle:G,layerStyle:W,animationStyle:F});for(const[q,te]of Object.entries(U)){const re=cae(te??{},le=>da(le)&&"value"in le);f.register(q,{values:Object.keys(re),transform(le){return S(re[le])}})}}m(),f.addPropertyType("animationName",Object.keys(n.keyframes??{}));const v=new Set(["css",...f.keys(),...d.keys()]),w=xc(G=>v.has(G)||aae(G)),x=G=>Array.isArray(G)?G.reduce((W,F,U)=>{const q=d.breakpoints[U];return F!=null&&(W[q]=F),W},{}):G,y=Nae({utility:f,normalize:x}),b=Uae({conditions:d,isValidProperty:w}),S=q8({transform:f.transform,conditions:d,normalize:y}),T=kae({css:S,conditions:d,normalize:y,layers:l}),C=Gae({cva:T});function M(){const G={};for(const[W,F]of c.cssVarMap.entries()){const U=Object.fromEntries(F);if(Object.keys(U).length===0)continue;const q=W==="base"?s:d.resolve(W),te=S(b({[q]:U}));Uy(G,te)}return l.wrap("tokens",G)}function I(){const G=Object.fromEntries(Object.entries(n.keyframes??{}).map(([F,U])=>[`@keyframes ${F}`,U])),W=Object.assign({},G,S(b(i)));return l.wrap("base",W)}function O(G){return $v(G,w)}function R(){const G=Fae({preflight:a});return l.wrap("reset",G)}const D=hle(c),j=(G,W)=>{var F;return((F=D.get(G))==null?void 0:F.value)||W};j.var=(G,W)=>{var F;return((F=D.get(G))==null?void 0:F.variable)||W};function $(G,W){var F;return((F=n.recipes)==null?void 0:F[G])??W}function B(G,W){var F;return((F=n.slotRecipes)==null?void 0:F[G])??W}function Q(G){return Object.hasOwnProperty.call(n.recipes??{},G)}function ne(G){return Object.hasOwnProperty.call(n.slotRecipes??{},G)}function K(G){return Q(G)||ne(G)}const V=[R(),I(),M()];return{$$chakra:!0,_config:e,_global:V,breakpoints:u,tokens:c,conditions:d,utility:f,token:j,properties:v,layers:l,isValidProperty:w,splitCssProps:O,normalizeValue:x,getTokenCss:M,getGlobalCss:I,getPreflightCss:R,css:S,cva:T,sva:C,getRecipe:$,getSlotRecipe:B,hasRecipe:K,isRecipe:Q,isSlotRecipe:ne}}function hle(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:r,virtual:i,conditions:s}=n.extensions,o=s||i?r.ref:n.value;e.set(n.name,{value:o,variable:r.ref})}),e}const ple={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},fA="var(--chakra-empty,/*!*/ /*!*/)",mle=Voe({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":fA,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,fA])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,fA])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),gle=Woe({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),vle=Hoe({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),iO=hs({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),yle=hs({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),$s=hs({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:_le,defaultVariants:xle}=iO,wle=hs({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:_le,defaultVariants:xle}),oj=hs({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),ble=hs({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),Sle=hs({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),Ele=hs({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),Xi=hs({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Tle=hs({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:Xi.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),Cle=hs({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),Mle=hs({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),Ale=hs({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Ys=hs({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),Ple=hs({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),Rle=hs({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),Ile=hs({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),kle=hs({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),Ole=hs({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Lle={badge:iO,button:yle,code:wle,container:ble,heading:Sle,input:Xi,inputAddon:Tle,kbd:Cle,link:Mle,mark:Ale,separator:Ple,skeleton:Rle,skipNavLink:Ile,spinner:kle,textarea:Ole,icon:Ele,checkmark:$s,radiomark:Ys,colorSwatch:oj},Dle=nO.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),Nle=nO.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),Fle=nO.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),Ule=n6.extendWith("itemBody"),zle=xn("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),Ble=xn("alert").parts("title","description","root","indicator","content"),Vle=xn("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),Gle=xn("blockquote").parts("root","icon","content","caption"),Hle=xn("card").parts("root","header","body","footer","title","description"),Wle=xn("checkbox-card",["root","control","label","description","addon","indicator","content"]),jle=xn("data-list").parts("root","item","itemLabel","itemValue"),$le=Kk.extendWith("header","body","footer","backdrop"),Yle=Kk.extendWith("header","body","footer","backdrop"),Xle=O6.extendWith("textarea"),qle=xn("empty-state",["root","content","indicator","title","description"]),Kle=U6.extendWith("requiredIndicator"),Zle=B6.extendWith("content"),Qle=J6.extendWith("itemContent","dropzoneContent","fileText"),Jle=xn("list").parts("root","item","indicator"),ece=EW.extendWith("itemCommand"),tce=xn("select").parts("root","field","indicator"),nce=OW.extendWith("header","body","footer"),aj=eO.extendWith("itemAddon","itemIndicator"),rce=aj.extendWith("itemContent","itemDescription"),ice=WW.extendWith("itemIndicator"),sce=p8.extendWith("indicatorGroup"),oce=y8.extendWith("markerIndicator"),ace=xn("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),lce=xn("status").parts("root","indicator"),cce=xn("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),uce=w8.extendWith("indicator"),dce=xn("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),fce=xn("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),hce=xn("tabs").parts("root","trigger","list","content","contentGroup","indicator"),pce=xn("tag").parts("root","label","closeTrigger","startElement","endElement"),mce=xn("timeline").parts("root","item","content","separator","indicator","connector","title","description"),gce=bn({className:"chakra-accordion",slots:Ule.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),vce=bn({className:"chakra-action-bar",slots:zle.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),yce=bn({slots:Ble.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),_ce=bn({slots:y6.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),xce=bn({className:"chakra-blockquote",slots:Gle.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),wce=bn({className:"chakra-breadcrumb",slots:Vle.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),bce=bn({className:"chakra-card",slots:Hle.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var TV,CV,MV,AV,PV,RV,IV,kV,OV,LV,DV,NV,FV,UV;const Sce=bn({slots:yie.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:$s.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(CV=(TV=$s.variants)==null?void 0:TV.size)==null?void 0:CV.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(AV=(MV=$s.variants)==null?void 0:MV.size)==null?void 0:AV.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(RV=(PV=$s.variants)==null?void 0:PV.size)==null?void 0:RV.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(kV=(IV=$s.variants)==null?void 0:IV.size)==null?void 0:kV.lg}},variant:{outline:{control:(LV=(OV=$s.variants)==null?void 0:OV.variant)==null?void 0:LV.outline},solid:{control:(NV=(DV=$s.variants)==null?void 0:DV.variant)==null?void 0:NV.solid},subtle:{control:(UV=(FV=$s.variants)==null?void 0:FV.variant)==null?void 0:UV.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var zV,BV,VV,GV,HV,WV,jV;const Ece=bn({slots:Wle.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:$s.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(zV=$s.variants)==null?void 0:zV.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(BV=$s.variants)==null?void 0:BV.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(VV=$s.variants)==null?void 0:VV.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(GV=$s.variants)==null?void 0:GV.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(HV=$s.variants)==null?void 0:HV.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(WV=$s.variants)==null?void 0:WV.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(jV=$s.variants)==null?void 0:jV.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),Tce=bn({slots:r6.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var $V,YV,XV,qV,KV,ZV,QV,JV,eG,tG,nG,rG,iG,sG,oG,aG,lG,cG;const Cce=bn({className:"colorPicker",slots:xie.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm"},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...oj.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...Xi.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(YV=($V=Xi.variants)==null?void 0:$V.size)==null?void 0:YV["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(qV=(XV=Xi.variants)==null?void 0:XV.size)==null?void 0:qV.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(ZV=(KV=Xi.variants)==null?void 0:KV.size)==null?void 0:ZV.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(JV=(QV=Xi.variants)==null?void 0:QV.size)==null?void 0:JV.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(tG=(eG=Xi.variants)==null?void 0:eG.size)==null?void 0:tG.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(rG=(nG=Xi.variants)==null?void 0:nG.size)==null?void 0:rG.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(sG=(iG=Xi.variants)==null?void 0:iG.size)==null?void 0:sG["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(aG=(oG=Xi.variants)==null?void 0:oG.variant)==null?void 0:aG.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(cG=(lG=Xi.variants)==null?void 0:lG.variant)==null?void 0:cG.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),Mce=bn({slots:jle.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),Ace=bn({slots:$le.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),Pce=bn({slots:Yle.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),hF=D8({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),Rce=bn({slots:Xle.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...hF,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...hF,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),Ice=bn({slots:qle.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),kce=bn({className:"chakra-field",slots:Kle.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),Oce=bn({className:"fieldset",slots:Zle.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Lce=bn({className:"chakra-file-upload",slots:Qle.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),Dce=bn({className:"chakra-hover-card",slots:rW.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),Nce=bn({className:"chakra-list",slots:Jle.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),Fce=bn({className:"chakra-menu",slots:ece.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"}},itemText:{flex:"1"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),$S=bn({className:"chakra-select",slots:sce.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var uG,dG;const Uce=bn({className:"chakra-native-select",slots:tce.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(uG=$S.variants)==null?void 0:uG.variant.outline.trigger},subtle:{field:(dG=$S.variants)==null?void 0:dG.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:$S.defaultVariants});function uI(t,e){const n={};for(const r in t){const i=e(r,t[r]);n[i[0]]=i[1]}return n}const pF=D8({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),zce=bn({className:"chakra-number-input",slots:IW.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...Xi.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...pF,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...pF,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:Xi.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:Xi.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:Xi.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:Xi.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:uI(Xi.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:mF,defaultVariants:Bce}=Xi,Vce=bn({className:"chakra-pin-input",slots:kW.keys(),base:{input:{...Xi.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:uI(mF.size,(t,e)=>[t,{input:e}]),variant:uI(mF.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:Bce}),Gce=bn({className:"chakra-popover",slots:nce.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),Hce=bn({slots:Qk.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),Wce=bn({className:"chakra-progress-circle",slots:Qk.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),jce=bn({slots:VW.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var fG,hG,pG,mG,gG,vG,yG;const $ce=bn({className:"chakra-radio-card",slots:rce.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Ys.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(fG=Ys.variants)==null?void 0:fG.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(hG=Ys.variants)==null?void 0:hG.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(pG=Ys.variants)==null?void 0:pG.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(mG=Ys.variants)==null?void 0:mG.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(gG=Ys.variants)==null?void 0:gG.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(vG=Ys.variants)==null?void 0:vG.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(yG=Ys.variants)==null?void 0:yG.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var _G,xG,wG,bG,SG,EG,TG,CG,MG,AG,PG,RG,IG,kG;const Yce=bn({className:"chakra-radio-group",slots:aj.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Ys.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(xG=(_G=Ys.variants)==null?void 0:_G.variant)==null?void 0:xG.outline},subtle:{itemControl:(bG=(wG=Ys.variants)==null?void 0:wG.variant)==null?void 0:bG.subtle},solid:{itemControl:(EG=(SG=Ys.variants)==null?void 0:SG.variant)==null?void 0:EG.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(CG=(TG=Ys.variants)==null?void 0:TG.size)==null?void 0:CG.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(AG=(MG=Ys.variants)==null?void 0:MG.size)==null?void 0:AG.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(RG=(PG=Ys.variants)==null?void 0:PG.size)==null?void 0:RG.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(kG=(IG=Ys.variants)==null?void 0:IG.size)==null?void 0:kG.lg}}},defaultVariants:{size:"md",variant:"solid"}}),Xce=bn({className:"chakra-rating-group",slots:ice.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),qce=bn({className:"chakra-segment-group",slots:$W.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),Kce=bn({className:"chakra-slider",slots:oce.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),Zce=bn({className:"chakra-stat",slots:ace.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),Qce=bn({className:"chakra-status",slots:lce.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Jce=bn({className:"chakra-steps",slots:cce.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),eue=bn({slots:uce.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),tue=bn({className:"chakra-table",slots:dce.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),nue=bn({slots:hce.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var OG;const vl=(OG=iO.variants)==null?void 0:OG.variant,rue=bn({slots:pce.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:vl==null?void 0:vl.subtle},solid:{root:vl==null?void 0:vl.solid},outline:{root:vl==null?void 0:vl.outline},surface:{root:vl==null?void 0:vl.surface}}},defaultVariants:{size:"md",variant:"surface"}}),iue=bn({slots:mce.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),sue=bn({slots:fce.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),oue=bn({slots:O8.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),aue={accordion:gce,actionBar:vce,alert:yce,avatar:_ce,blockquote:xce,breadcrumb:wce,card:bce,checkbox:Sce,checkboxCard:Ece,collapsible:Tce,dataList:Mce,dialog:Ace,drawer:Pce,editable:Rce,emptyState:Ice,field:kce,fieldset:Oce,fileUpload:Lce,hoverCard:Dce,list:Nce,menu:Fce,nativeSelect:Uce,numberInput:zce,pinInput:Vce,popover:Gce,progress:Hce,progressCircle:Wce,radioCard:$ce,radioGroup:Yce,ratingGroup:Xce,segmentGroup:qce,select:$S,slider:Kce,stat:Zce,steps:Jce,switch:eue,table:tue,tabs:nue,tag:rue,toast:sue,tooltip:oue,status:Qce,timeline:iue,colorPicker:Cce,qrCode:jce},lue=Goe({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}}}),cue=ns.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),uue=ns.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),due=ns.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),fue=ns.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),hue=ns.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),pue=ns.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),mue=ns.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),gue=ns.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),vue=ns.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),yue=ns.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),gF='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',_ue=ns.fonts({heading:{value:`Inter, ${gF}`},body:{value:`Inter, ${gF}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),xue=Boe({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),wue=ns.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),bue=ns.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),Sue=ns.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),lj=ns.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),Eue=ns.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),Tue=ns.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),Cue=ns.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),Mue=ns.sizes({...Eue,...lj,...Cue,...Tue}),Aue=ns.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),Pue=F8({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:mle,theme:{breakpoints:ple,keyframes:xue,tokens:{aspectRatios:uue,animations:cue,blurs:due,borders:fue,colors:hue,durations:mue,easings:gue,fonts:_ue,fontSizes:vue,fontWeights:yue,letterSpacings:wue,lineHeights:bue,radii:Sue,spacing:lj,sizes:Mue,zIndex:Aue,cursor:pue},semanticTokens:{colors:Dle,shadows:Fle,radii:Nle},recipes:Lle,slotRecipes:aue,textStyles:lue,layerStyles:gle,animationStyles:vle}}),Rue=U8(Qoe,Pue),Iue=fle(Rue);function kue(t){const{key:e,recipe:n}=t,r=NT();return N.useMemo(()=>{const i=n||(e!=null?r.getSlotRecipe(e):{});return r.sva(structuredClone(i))},[e,n,r])}const Oue=t=>t.charAt(0).toUpperCase()+t.slice(1),Dl=t=>{const{key:e,recipe:n}=t,r=Oue(e||n.className||"Component"),[i,s]=K_({name:`${r}StylesContext`,errorMessage:`use${r}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `}),[o,a]=K_({name:`${r}ClassNameContext`,errorMessage:`use${r}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `,strict:!1}),[l,c]=K_({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`,defaultValue:{}});function u(v){const{unstyled:w,...x}=v,y=kue({key:e,recipe:x.recipe||n}),[b,S]=N.useMemo(()=>y.splitVariantProps(x),[x,y]);return{styles:N.useMemo(()=>w?fJ:y(b),[w,b,y]),classNames:y.classNameMap,props:S}}function d(v,w={}){const{defaultProps:x}=w,y=b=>{const S=c(),T=N.useMemo(()=>wx(x,S,b),[S,b]),{styles:C,classNames:M,props:I}=u(T);return Y.jsx(i,{value:C,children:Y.jsx(o,{value:M,children:Y.jsx(v,{...I})})})};return y.displayName=v.displayName||v.name,y}return{StylesProvider:i,ClassNamesProvider:o,PropsProvider:l,usePropsContext:c,useRecipeResult:u,withProvider:(v,w,x)=>{const{defaultProps:y,...b}=x??{},S=ui(v,{},b),T=N.forwardRef((C,M)=>{var Q;const I=c(),O=N.useMemo(()=>wx(y??{},I,C),[I,C]),{styles:R,props:D,classNames:j}=u(O),$=j[w],B=Y.jsx(i,{value:R,children:Y.jsx(o,{value:j,children:Y.jsx(S,{ref:M,...D,css:[R[w],O.css],className:zo(O.className,$)})})});return((Q=x==null?void 0:x.wrapElement)==null?void 0:Q.call(x,B,O))??B});return T.displayName=v.displayName||v.name,T},withContext:(v,w,x)=>{const y=ui(v,{},x),b=N.forwardRef((S,T)=>{const C=s(),M=a(),I=M==null?void 0:M[w];return Y.jsx(y,{...S,css:[w?C[w]:void 0,S.css],ref:T,className:zo(S.className,I)})});return b.displayName=v.displayName||v.name,b},withRootProvider:d,useStyles:s,useClassNames:a}},Lue=t=>Y.jsx(ui.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:Y.jsx("path",{d:"M20 6 9 17l-5-5"})}),Due=t=>Y.jsx(ui.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:Y.jsx("path",{d:"m6 9 6 6 6-6"})}),Nue=t=>Y.jsx(ui.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...t,children:Y.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),vF=t=>Y.jsx(ui.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...t,children:Y.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),sO=t=>Y.jsx(ui.svg,{viewBox:"0 0 24 24",fill:"currentColor",...t,children:Y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),Fue=t=>Y.jsxs(ui.svg,{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[Y.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),Y.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]}),Do=ui("div");Do.displayName="Box";const Uue=N.forwardRef(function(e,n){const{size:r,...i}=e;return Y.jsx(Do,{...i,ref:n,boxSize:r,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),zue=N.forwardRef(function(e,n){const{size:r,...i}=e;return Y.jsx(Uue,{size:r,ref:n,borderRadius:"9999px",...i})}),Xp=ui("span"),cj=ui("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});cj.displayName="AbsoluteCenter";const{withContext:Bue}=qd({key:"spinner"}),uj=Bue("span"),Vue=N.forwardRef(function(e,n){const{spinner:r=Y.jsx(uj,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:i="start",children:s,text:o,visible:a=!0,...l}=e;return a?o?Y.jsxs(Xp,{ref:n,display:"contents",...l,children:[i==="start"&&r,o,i==="end"&&r]}):r?Y.jsxs(Xp,{ref:n,display:"contents",...l,children:[Y.jsx(cj,{display:"inline-flex",children:r}),Y.jsx(Xp,{opacity:0,children:s})]}):Y.jsx(Xp,{ref:n,display:"contents",...l,children:s}):s}),{useRecipeResult:Gue,usePropsContext:Hue}=qd({key:"button"}),ym=N.forwardRef(function(e,n){const r=Hue(),i=N.useMemo(()=>wx(r,e),[r,e]),s=Gue(i),{loading:o,loadingText:a,children:l,spinner:c,spinnerPlacement:u,...d}=s.props;return Y.jsx(ui.button,{type:"button",ref:n,...d,disabled:o||d.disabled,className:zo(s.className,i.className),css:[s.styles,i.css],children:!i.asChild&&o?Y.jsx(Vue,{spinner:c,text:a,spinnerPlacement:u,children:l}):l})}),dj=N.forwardRef(function(e,n){return Y.jsx(ym,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})}),Wue=N.forwardRef(function(e,n){return Y.jsx(dj,{variant:"ghost","aria-label":"Close",ref:n,...e,children:e.children??Y.jsx(sO,{})})}),OE=ui("div",{base:{display:"flex",alignItems:"center",justifyContent:"center"},variants:{inline:{true:{display:"inline-flex"}}}});OE.displayName="Center";function jue(t){const{when:e,fallback:n,children:r}=t;let i;return e?i=typeof r=="function"?r(e):r:i=n,N.isValidElement(i)?i:Y.jsx(Y.Fragment,{children:i})}const $ue=t=>{const{children:e,fallback:n}=t,[r,i]=N.useState(!1);return N.useEffect(()=>{i(!0)},[]),Y.jsx(jue,{when:r,fallback:n,children:e})},{withContext:Yue}=qd({key:"container"}),XT=Yue("div"),{withProvider:Xue,withContext:oO}=Dl({key:"dataList"}),que=Xue("dl","root"),m1=oO("div","item"),g1=oO("dt","itemLabel"),v1=oO("dd","itemValue"),{withRootProvider:fj,withContext:zu}=Dl({key:"drawer"});fj(Xie,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const Kue=fj(Yie,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),Zue=zu(k6,"trigger",{forwardAsChild:!0}),Que=zu(R6,"positioner",{forwardAsChild:!0}),Jue=zu(A6,"content",{forwardAsChild:!0});zu(P6,"description",{forwardAsChild:!0});const ede=zu(I6,"title",{forwardAsChild:!0}),tde=zu(M6,"closeTrigger",{forwardAsChild:!0});N.forwardRef(function(e,n){const r=Dh();return Y.jsx(ui.button,{...e,ref:n,onClick:()=>r.setOpen(!1)})});const nde=zu(C6,"backdrop",{forwardAsChild:!0}),rde=zu("div","body");zu("div","footer");const ide=zu("div","header"),{useRecipeResult:sde}=qd({key:"icon"}),ode=N.forwardRef(function(e,n){const{styles:r,className:i,props:s}=sde({asChild:!e.as,...e});return Y.jsx(ui.svg,{ref:n,focusable:!1,"aria-hidden":"true",...s,css:[r,e.css],className:zo(i,e.className)})});function ade(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:i={}}=t,s=N.Children.toArray(t.path),o=N.forwardRef((a,l)=>Y.jsx(ode,{ref:l,asChild:!1,viewBox:e,...i,...a,children:s.length?s:Y.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}const{withProvider:lde,withContext:aO,useStyles:cde,useClassNames:ude}=Dl({key:"field"}),dde=lde(z6,"root",{forwardAsChild:!0}),fde=aO(F6,"label",{forwardAsChild:!0});aO(D6,"helperText",{forwardAsChild:!0});const hde=aO(L6,"errorText",{forwardAsChild:!0});ade({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});N.forwardRef(function(e,n){const{fallback:r,children:i="*",...s}=e,o=Qd(),a=ude(),l=cde();return o!=null&&o.required?Y.jsx(ui.span,{ref:n,"aria-hidden":"true",...s,className:zo(a.requiredIndicator,e.className),css:[l.requiredIndicator,e.css],children:i}):r});function hj(t){const{each:e,fallback:n,children:r}=t;return(e==null?void 0:e.length)===0?n||null:e==null?void 0:e.map(r)}const{withProvider:pj,withContext:Za,useStyles:pde}=Dl({key:"fileUpload"});pj(tW,"root",{forwardAsChild:!0});const mde=pj(eW,"root",{forwardAsChild:!0});Za(G6,"clearTrigger",{forwardAsChild:!0});Za(H6,"dropzone",{forwardAsChild:!0});Za("div","dropzoneContent");const gde=Za(j6,"item",{forwardAsChild:!0}),vde=Za("div","itemContent"),yde=Za($6,"itemDeleteTrigger",{forwardAsChild:!0,defaultProps:{children:Y.jsx(sO,{})}}),_de=Za(Y6,"itemGroup",{forwardAsChild:!0}),yF=Za(X6,"itemName",{forwardAsChild:!0}),xde=Za(q6,"itemPreview",{forwardAsChild:!0,defaultProps:{children:Y.jsx(Fue,{})}});Za(K6,"itemPreviewImage",{forwardAsChild:!0});const wde=Za(Z6,"itemSizeText",{forwardAsChild:!0});Za(Q6,"label",{forwardAsChild:!0});const bde=Za(nW,"trigger",{forwardAsChild:!0}),Sde=t=>{const{showSize:e,clearable:n,files:r,...i}=t,s=ya(),o=r??s.acceptedFiles;return Y.jsx(hj,{each:o,children:a=>Y.jsxs(gde,{file:a,...i,children:[Y.jsx(xde,{}),e?Y.jsxs(vde,{children:[Y.jsx(yF,{}),Y.jsx(wde,{})]}):Y.jsx(yF,{flex:"1"}),n&&Y.jsx(yde,{})]},a.name)})},Ede=N.forwardRef(function(e,n){const{showSize:r,clearable:i,files:s,...o}=e;return Y.jsx(_de,{ref:n,...o,children:Y.jsx(Sde,{showSize:r,clearable:i,files:s})})});N.forwardRef(function(e,n){const{fallback:r="Select file(s)",...i}=e,s=ya(),o=pde(),a=s.acceptedFiles,l=N.useMemo(()=>a.length===1?a[0].name:a.length>1?`${a.length} files`:r,[a,r]);return Y.jsx(Xp,{ref:n,"data-placeholder":l===r?"":void 0,...i,css:[o.fileText,e.css],children:l})});const Tde=W6,Cde=N.forwardRef(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,inline:u,...d}=e;return Y.jsx(ui.div,{ref:n,...d,css:{display:u?"inline-flex":"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c,...e.css}})}),Mde=N.forwardRef(function(e,n){const{align:r,fit:i="cover",...s}=e;return Y.jsx(ui.img,{ref:n,objectFit:i,objectPosition:r,className:zo("chakra-image",e.className),...s})}),{withContext:Ade}=qd({key:"input"}),lO=Ade(N6),{withContext:Pde}=qd({key:"link"}),Rde=Pde("a"),{withRootProvider:mj,withContext:Os}=Dl({key:"menu"});mj(wse);const Ide=mj(xse,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),kde=Os(PW,"trigger",{forwardAsChild:!0});Os(dW,"contextTrigger",{forwardAsChild:!0});const Ode=Os(xW,"positioner",{forwardAsChild:!0});Os(AW,"separator",{forwardAsChild:!0});const Lde=Os(uW,"content",{forwardAsChild:!0}),Dde=Os(oW,"arrowTip",{forwardAsChild:!0});Os(sW,"arrow",{forwardAsChild:!0,defaultProps:{children:Y.jsx(Dde,{})}});Os(fW,"indicator",{forwardAsChild:!0});Os(gW,"itemGroup",{forwardAsChild:!0});Os(vW,"itemGroupLabel",{forwardAsChild:!0});Os(hW,"item",{forwardAsChild:!0});Os(RW,"item",{forwardAsChild:!0});Os(_W,"itemText",{forwardAsChild:!0});Os("kbd","itemCommand");Os(yW,"itemIndicator",{forwardAsChild:!0});Os(cW,"item",{forwardAsChild:!0});Os(bW,"itemGroup",{forwardAsChild:!0});Os(wW,"item",{forwardAsChild:!0});const{withProvider:gj,withContext:qT}=Dl({key:"progress"});gj(UW,"root",{forwardAsChild:!0});const Nde=gj(FW,"root"),Fde=qT(DW,"label",{forwardAsChild:!0}),Ude=qT(zW,"track",{forwardAsChild:!0}),zde=qT(NW,"range",{forwardAsChild:!0}),Bde=qT(BW,"valueText",{forwardAsChild:!0}),{withProvider:vj,withContext:cO}=Dl({key:"segmentGroup"});vj(JW,"root",{forwardAsChild:!0});const Vde=vj(QW,"root",{forwardAsChild:!0}),Gde=cO(qW,"item",{forwardAsChild:!0}),Hde=cO(ZW,"itemText",{forwardAsChild:!0}),Wde=cO(YW,"indicator",{forwardAsChild:!0});function jde(t){return t.map(e=>typeof e=="string"?{value:e,label:e}:e)}const $de=t=>{const{items:e,...n}=t,r=N.useMemo(()=>jde(e),[e]);return Y.jsx(hj,{each:r,children:i=>Y.jsxs(Gde,{value:i.value,...n,children:[Y.jsx(Hde,{children:i.label}),Y.jsx(Yde,{})]},i.value)})},Yde=KW,{withProvider:yj,withContext:xa}=Dl({key:"select"});yj(ioe,"root",{forwardAsChild:!0});const Xde=yj(noe,"root",{forwardAsChild:!0}),qde=xa(g8,"trigger",{forwardAsChild:!0}),Kde=xa(h8,"positioner",{forwardAsChild:!0}),Zde=xa(n8,"content",{forwardAsChild:!0}),Qde=xa(v8,"valueText",{forwardAsChild:!0});xa(t8,"clearTrigger",{forwardAsChild:!0});xa(l8,"itemGroup",{forwardAsChild:!0});xa(c8,"itemGroupLabel",{forwardAsChild:!0});const Jde=xa(a8,"item",{forwardAsChild:!0});xa(d8,"itemText",{forwardAsChild:!0});const efe=xa(u8,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:Y.jsx(Lue,{})}}),tfe=xa("div","indicatorGroup"),nfe=xa(s8,"indicator",{forwardAsChild:!0,defaultProps:{children:Y.jsx(Due,{})}}),rfe=xa(r8,"control",{forwardAsChild:!0});xa(f8,"label",{forwardAsChild:!0});const ife=i8;function sfe(t){const{gap:e,direction:n}=t,r={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":B8(n,i=>r[i])}}function ofe(t){return N.Children.toArray(t).filter(e=>N.isValidElement(e))}const KT=N.forwardRef(function(e,n){const{direction:r="column",align:i,justify:s,gap:o="0.5rem",wrap:a,children:l,separator:c,className:u,...d}=e,f=N.useMemo(()=>sfe({gap:o,direction:r}),[o,r]),m=N.useMemo(()=>c?ofe(l).map((v,w,x)=>{const y=typeof v.key<"u"?v.key:w,b=N.cloneElement(c,{css:[f,c.props.css]});return Y.jsxs(N.Fragment,{children:[v,w===x.length-1?null:b]},y)}):l,[l,c,f]);return Y.jsx(ui.div,{ref:n,display:"flex",alignItems:i,justifyContent:s,flexDirection:r,flexWrap:a,gap:c?void 0:o,className:zo("chakra-stack",u),...d,children:m})}),{withContext:afe}=qd({key:"skeleton"}),uO=afe("div");N.forwardRef(function(e,n){const{size:r,...i}=e;return Y.jsx(zue,{size:r,asChild:!0,ref:n,children:Y.jsx(uO,{...i})})});N.forwardRef(function(e,n){const{noOfLines:r=3,gap:i,rootProps:s,...o}=e;return Y.jsx(KT,{gap:i,width:"full",ref:n,...s,children:Array.from({length:r}).map((a,l)=>Y.jsx(uO,{height:"4",_last:{maxW:r===1?"100%":"80%"},...o},l))})});const _j=N.forwardRef(function(e,n){return Y.jsx(KT,{align:"center",...e,direction:"row",ref:n})}),lfe=N.forwardRef(function(e,n){return Y.jsx(KT,{align:"center",...e,direction:"column",ref:n})}),{withProvider:cfe,withContext:ufe}=Dl({key:"status"}),V_=cfe("div","root"),G_=ufe("div","indicator"),{StylesProvider:dfe,ClassNamesProvider:ffe,useRecipeResult:hfe,withContext:Jd}=Dl({key:"table"}),pfe=N.forwardRef(function({native:e,...n},r){const{styles:i,props:s,classNames:o}=hfe(n),a=N.useMemo(()=>e?{...i.root,"& thead":i.header,"& tbody":i.body,"& tfoot":i.footer,"& thead th":i.columnHeader,"& tr":i.row,"& td":i.cell,"& caption":i.caption}:i.root,[i,e]);return Y.jsx(ffe,{value:o,children:Y.jsx(dfe,{value:i,children:Y.jsx(ui.table,{ref:r,...s,css:[a,n.css],className:zo(o==null?void 0:o.root,n.className)})})})}),hA=Jd("tr","row");ui("div",{base:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflow:"auto",maxWidth:"100%"}});const mfe=Jd("thead","header");Jd("tfoot","footer");const _F=Jd("th","columnHeader"),y1=Jd("td","cell");Jd("caption","caption",{defaultProps:{captionSide:"bottom"}});const gfe=Jd("tbody","body");Jd("colgroup");Jd("col");const{withProvider:vfe,withContext:ZT,useStyles:yfe}=Dl({key:"toast"}),_fe=ui(M8,{},{forwardAsChild:!0}),xfe=vfe(T8,"root",{forwardAsChild:!0}),wfe=ZT(S8,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:Y.jsx(sO,{})}}),bfe=ZT(C8,"title",{forwardAsChild:!0}),Sfe=ZT(E8,"description",{forwardAsChild:!0}),Efe=ZT(b8,"actionTrigger",{forwardAsChild:!0}),Tfe={warning:vF,success:Nue,error:vF},Cfe=N.forwardRef(function(e,n){const r=Fy(),i=yfe(),s=Tfe[r.type];return s?Y.jsx(s,{ref:n,...e,css:[i.indicator,e.css]}):null}),{withRootProvider:xj,withContext:Ow}=Dl({key:"tooltip"});xj(Foe);const Mfe=xj(Noe,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),Afe=Ow(L8,"trigger",{forwardAsChild:!0}),Pfe=Ow(k8,"positioner",{forwardAsChild:!0}),Rfe=Ow(I8,"content",{forwardAsChild:!0}),wj=Ow(R8,"arrowTip",{forwardAsChild:!0}),Ife=Ow(P8,"arrow",{forwardAsChild:!0,defaultProps:{children:Y.jsx(wj,{})}}),{withContext:kfe}=qd({key:"heading"}),Ofe=kfe("h2"),{withContext:Lfe}=qd({key:"text"}),_m=Lfe("p");var Dfe=(t,e,n,r,i,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(v=>{let w=v==="class",x=w&&s?i.map(y=>s[y]||y):i;w?(l.classList.remove(...x),l.classList.add(s&&s[m]?s[m]:m)):l.setAttribute(v,m)}),d(m)}function d(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let m=localStorage.getItem(e)||n,v=o&&m==="system"?f():m;u(v)}catch{}},xF=["light","dark"],bj="(prefers-color-scheme: dark)",Nfe=typeof window>"u",dO=N.createContext(void 0),Ffe={setTheme:t=>{},themes:[]},Ufe=()=>{var t;return(t=N.useContext(dO))!=null?t:Ffe},zfe=t=>N.useContext(dO)?N.createElement(N.Fragment,null,t.children):N.createElement(Vfe,{...t}),Bfe=["light","dark"],Vfe=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=Bfe,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u,scriptProps:d})=>{let[f,m]=N.useState(()=>Hfe(i,o)),[v,w]=N.useState(()=>f==="system"?pA():f),x=l?Object.values(l):s,y=N.useCallback(C=>{let M=C;if(!M)return;C==="system"&&n&&(M=pA());let I=l?l[M]:M,O=e?Wfe(u):null,R=document.documentElement,D=j=>{j==="class"?(R.classList.remove(...x),I&&R.classList.add(I)):j.startsWith("data-")&&(I?R.setAttribute(j,I):R.removeAttribute(j))};if(Array.isArray(a)?a.forEach(D):D(a),r){let j=xF.includes(o)?o:null,$=xF.includes(M)?M:j;R.style.colorScheme=$}O==null||O()},[u]),b=N.useCallback(C=>{let M=typeof C=="function"?C(f):C;m(M);try{localStorage.setItem(i,M)}catch{}},[f]),S=N.useCallback(C=>{let M=pA(C);w(M),f==="system"&&n&&!t&&y("system")},[f,t]);N.useEffect(()=>{let C=window.matchMedia(bj);return C.addListener(S),S(C),()=>C.removeListener(S)},[S]),N.useEffect(()=>{let C=M=>{M.key===i&&(M.newValue?m(M.newValue):b(o))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[b]),N.useEffect(()=>{y(t??f)},[t,f]);let T=N.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?v:f,themes:n?[...s,"system"]:s,systemTheme:n?v:void 0}),[f,b,t,v,n,s]);return N.createElement(dO.Provider,{value:T},N.createElement(Gfe,{forcedTheme:t,storageKey:i,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:l,themes:s,nonce:u,scriptProps:d}),c)},Gfe=N.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return N.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Dfe.toString()})(${u})`}})}),Hfe=(t,e)=>{if(Nfe)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Wfe=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},pA=t=>(t||(t=window.matchMedia(bj)),t.matches?"dark":"light"),Sj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wF=ts.createContext&&ts.createContext(Sj),jfe=["attr","size","title"];function $fe(t,e){if(t==null)return{};var n=Yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(this,arguments)}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){Xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xfe(t,e,n){return e=qfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ej(t){return t&&t.map((e,n)=>ts.createElement(e.tag,DE({key:n},e.attr),Ej(e.child)))}function Lw(t){return e=>ts.createElement(Zfe,LE({attr:DE({},t.attr)},e),Ej(t.child))}function Zfe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=$fe(t,jfe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ts.createElement("svg",LE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:DE(DE({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ts.createElement("title",null,s),t.children)};return wF!==void 0?ts.createElement(wF.Consumer,null,n=>e(n)):e(Sj)}function Qfe(t){return Lw({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function Jfe(t){return Lw({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"},child:[]},{tag:"path",attr:{d:"m21.854 2.147-10.94 10.939"},child:[]}]})(t)}function ehe(t){return Lw({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function the(t){return Y.jsx(zfe,{attribute:"class",disableTransitionOnChange:!0,...t})}function fO(){const{resolvedTheme:t,setTheme:e}=Ufe();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="dark"?"light":"dark")}}}function nhe(t,e){const{colorMode:n}=fO();return n==="dark"?e:t}function rhe(){const{colorMode:t}=fO();return t==="dark"?Y.jsx(Qfe,{}):Y.jsx(ehe,{})}const ihe=N.forwardRef(function(e,n){const{toggleColorMode:r}=fO();return Y.jsx($ue,{fallback:Y.jsx(uO,{boxSize:"8"}),children:Y.jsx(dj,{onClick:r,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:Y.jsx(rhe,{})})})});N.forwardRef(function(e,n){return Y.jsx(Xp,{color:"fg",display:"contents",className:"chakra-theme light",colorPalette:"gray",colorScheme:"light",ref:n,...e})});N.forwardRef(function(e,n){return Y.jsx(Xp,{color:"fg",display:"contents",className:"chakra-theme dark",colorPalette:"gray",colorScheme:"dark",ref:n,...e})});const she=({type:t})=>{if(t==="success")return Y.jsxs(V_,{colorPalette:"green",children:[Y.jsx(G_,{}),"Success"]});if(t==="info")return Y.jsxs(V_,{colorPalette:"white",children:[Y.jsx(G_,{}),"Info"]});if(t==="warn")return Y.jsxs(V_,{colorPalette:"orange",children:[Y.jsx(G_,{}),"Warning"]});if(t==="error")return Y.jsxs(V_,{colorPalette:"red",children:[Y.jsx(G_,{}),"Error"]})},ohe=()=>{};var SF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t=function(t,e){if(!t)throw zy(e)},zy=function(t){return new Error("Firebase Database ("+Tj.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ahe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ahe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new lhe;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mj=function(t){const e=Cj(t);return hO.encodeByteArray(e,!0)},NE=function(t){return Mj(t).replace(/\./g,"")},dI=function(t){try{return hO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t){return Aj(void 0,t)}function Aj(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!uhe(n)||(t[n]=Aj(t[n],e[n]));return t}function uhe(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=()=>dhe().__FIREBASE_DEFAULTS__,hhe=()=>{if(typeof process>"u"||typeof SF>"u")return;const t=SF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},phe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Pj=()=>{try{return ohe()||fhe()||hhe()||phe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mhe=t=>{var e,n;return(n=(e=Pj())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ghe=t=>{const e=mhe(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rj=()=>{var t;return(t=Pj())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vhe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[NE(JSON.stringify(n)),NE(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yhe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ij(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yhe())}function _he(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xhe(){return Tj.NODE_ADMIN===!0}function whe(){try{return typeof indexedDB=="object"}catch{return!1}}function bhe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She="FirebaseError";class Dw extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=She,Object.setPrototypeOf(this,Dw.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kj.prototype.create)}}class kj{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ehe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dw(i,a,r)}}function Ehe(t,e){return t.replace(The,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const The=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){return JSON.parse(t)}function us(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Rx(dI(s[0])||""),n=Rx(dI(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Che=function(t){const e=Oj(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Mhe=function(t){const e=Oj(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cy(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function FE(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function UE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EF(s)&&EF(o)){if(!UE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ahe(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function uy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rhe=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,_t(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QT=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return t&&t._delegate?t._delegate:t}class Ix{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ihe=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ohe(e))try{this.getOrInitializeService({instanceIdentifier:Np})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Np){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Np){return this.instances.has(e)}getOptions(e=Np){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:khe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Np){return this.component?this.component.multipleInstances?e:Np:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function khe(t){return t===Np?void 0:t}function Ohe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lhe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ihe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lr||(Lr={}));const Dhe={debug:Lr.DEBUG,verbose:Lr.VERBOSE,info:Lr.INFO,warn:Lr.WARN,error:Lr.ERROR,silent:Lr.SILENT},Nhe=Lr.INFO,Fhe={[Lr.DEBUG]:"log",[Lr.VERBOSE]:"log",[Lr.INFO]:"info",[Lr.WARN]:"warn",[Lr.ERROR]:"error"},Uhe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fhe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Lj=class{constructor(e){this.name=e,this._logLevel=Nhe,this._logHandler=Uhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dhe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lr.DEBUG,...e),this._logHandler(this,Lr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lr.VERBOSE,...e),this._logHandler(this,Lr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lr.INFO,...e),this._logHandler(this,Lr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lr.WARN,...e),this._logHandler(this,Lr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lr.ERROR,...e),this._logHandler(this,Lr.ERROR,...e)}};const zhe=(t,e)=>e.some(n=>t instanceof n);let TF,CF;function Bhe(){return TF||(TF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vhe(){return CF||(CF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dj=new WeakMap,hI=new WeakMap,Nj=new WeakMap,mA=new WeakMap,pO=new WeakMap;function Ghe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ch(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dj.set(n,t)}).catch(()=>{}),pO.set(e,t),e}function Hhe(t){if(hI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hI.set(t,e)}let pI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ch(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Whe(t){pI=t(pI)}function jhe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gA(this),e,...n);return Nj.set(r,e.sort?e.sort():[e]),ch(r)}:Vhe().includes(t)?function(...e){return t.apply(gA(this),e),ch(Dj.get(this))}:function(...e){return ch(t.apply(gA(this),e))}}function $he(t){return typeof t=="function"?jhe(t):(t instanceof IDBTransaction&&Hhe(t),zhe(t,Bhe())?new Proxy(t,pI):t)}function ch(t){if(t instanceof IDBRequest)return Ghe(t);if(mA.has(t))return mA.get(t);const e=$he(t);return e!==t&&(mA.set(t,e),pO.set(e,t)),e}const gA=t=>pO.get(t);function Yhe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ch(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ch(o.result),l.oldVersion,l.newVersion,ch(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Xhe=["get","getKey","getAll","getAllKeys","count"],qhe=["put","add","delete","clear"],vA=new Map;function MF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vA.get(e))return vA.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qhe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xhe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return vA.set(e,s),s}Whe(t=>({...t,get:(e,n,r)=>MF(e,n)||t.get(e,n,r),has:(e,n)=>!!MF(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zhe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zhe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mI="@firebase/app",AF="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Lj("@firebase/app"),Qhe="@firebase/app-compat",Jhe="@firebase/analytics-compat",epe="@firebase/analytics",tpe="@firebase/app-check-compat",npe="@firebase/app-check",rpe="@firebase/auth",ipe="@firebase/auth-compat",spe="@firebase/database",ope="@firebase/data-connect",ape="@firebase/database-compat",lpe="@firebase/functions",cpe="@firebase/functions-compat",upe="@firebase/installations",dpe="@firebase/installations-compat",fpe="@firebase/messaging",hpe="@firebase/messaging-compat",ppe="@firebase/performance",mpe="@firebase/performance-compat",gpe="@firebase/remote-config",vpe="@firebase/remote-config-compat",ype="@firebase/storage",_pe="@firebase/storage-compat",xpe="@firebase/firestore",wpe="@firebase/vertexai",bpe="@firebase/firestore-compat",Spe="firebase",Epe="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="[DEFAULT]",Tpe={[mI]:"fire-core",[Qhe]:"fire-core-compat",[epe]:"fire-analytics",[Jhe]:"fire-analytics-compat",[npe]:"fire-app-check",[tpe]:"fire-app-check-compat",[rpe]:"fire-auth",[ipe]:"fire-auth-compat",[spe]:"fire-rtdb",[ope]:"fire-data-connect",[ape]:"fire-rtdb-compat",[lpe]:"fire-fn",[cpe]:"fire-fn-compat",[upe]:"fire-iid",[dpe]:"fire-iid-compat",[fpe]:"fire-fcm",[hpe]:"fire-fcm-compat",[ppe]:"fire-perf",[mpe]:"fire-perf-compat",[gpe]:"fire-rc",[vpe]:"fire-rc-compat",[ype]:"fire-gcs",[_pe]:"fire-gcs-compat",[xpe]:"fire-fst",[bpe]:"fire-fst-compat",[wpe]:"fire-vertex","fire-js":"fire-js",[Spe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map,Cpe=new Map,vI=new Map;function PF(t,e){try{t.container.addComponent(e)}catch(n){Wd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function BE(t){const e=t.name;if(vI.has(e))return Wd.debug(`There were multiple attempts to register component ${e}.`),!1;vI.set(e,t);for(const n of zE.values())PF(n,t);for(const n of Cpe.values())PF(n,t);return!0}function Mpe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ape(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ppe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uh=new kj("app","Firebase",Ppe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ix("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ipe=Epe;function Fj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw uh.create("bad-app-name",{appName:String(i)});if(n||(n=Rj()),!n)throw uh.create("no-options");const s=zE.get(i);if(s){if(UE(n,s.options)&&UE(r,s.config))return s;throw uh.create("duplicate-app",{appName:i})}const o=new Lhe(i);for(const l of vI.values())o.addComponent(l);const a=new Rpe(n,r,o);return zE.set(i,a),a}function kpe(t=gI){const e=zE.get(t);if(!e&&t===gI&&Rj())return Fj();if(!e)throw uh.create("no-app",{appName:t});return e}function Zv(t,e,n){var r;let i=(r=Tpe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wd.warn(a.join(" "));return}BE(new Ix(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ope="firebase-heartbeat-database",Lpe=1,kx="firebase-heartbeat-store";let yA=null;function Uj(){return yA||(yA=Yhe(Ope,Lpe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kx)}catch(n){console.warn(n)}}}}).catch(t=>{throw uh.create("idb-open",{originalErrorMessage:t.message})})),yA}async function Dpe(t){try{const n=(await Uj()).transaction(kx),r=await n.objectStore(kx).get(zj(t));return await n.done,r}catch(e){if(e instanceof Dw)Wd.warn(e.message);else{const n=uh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wd.warn(n.message)}}}async function RF(t,e){try{const r=(await Uj()).transaction(kx,"readwrite");await r.objectStore(kx).put(e,zj(t)),await r.done}catch(n){if(n instanceof Dw)Wd.warn(n.message);else{const r=uh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wd.warn(r.message)}}}function zj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe=1024,Fpe=30;class Upe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bpe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IF();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Fpe){const o=Vpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IF(),{heartbeatsToSend:r,unsentEntries:i}=zpe(this._heartbeatsCache.heartbeats),s=NE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wd.warn(n),""}}}function IF(){return new Date().toISOString().substring(0,10)}function zpe(t,e=Npe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return whe()?bhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dpe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kF(t){return NE(JSON.stringify({version:2,heartbeats:t})).length}function Vpe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gpe(t){BE(new Ix("platform-logger",e=>new Khe(e),"PRIVATE")),BE(new Ix("heartbeat",e=>new Upe(e),"PRIVATE")),Zv(mI,AF,t),Zv(mI,AF,"esm2017"),Zv("fire-js","")}Gpe("");var Hpe="firebase",Wpe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zv(Hpe,Wpe,"app");var OF={};const LF="@firebase/database",DF="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bj="";function jpe(t){Bj=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),us(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Rx(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ype{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $pe(e)}}catch{}return new Ype},qp=Vj("localStorage"),Xpe=Vj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Lj("@firebase/database"),qpe=function(){let t=1;return function(){return t++}}(),Gj=function(t){const e=Rhe(t),n=new Phe;n.update(e);const r=n.digest();return hO.encodeByteArray(r)},Nw=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Nw.apply(null,r):typeof r=="object"?e+=us(r):e+=r,e+=" "}return e};let tx=null,NF=!0;const Kpe=function(t,e){_t(!0,"Can't turn on custom loggers persistently."),Qv.logLevel=Lr.VERBOSE,tx=Qv.log.bind(Qv)},qs=function(...t){if(NF===!0&&(NF=!1,tx===null&&Xpe.get("logging_enabled")===!0&&Kpe()),tx){const e=Nw.apply(null,t);tx(e)}},Fw=function(t){return function(...e){qs(t,...e)}},yI=function(...t){const e="FIREBASE INTERNAL ERROR: "+Nw(...t);Qv.error(e)},jd=function(...t){const e=`FIREBASE FATAL ERROR: ${Nw(...t)}`;throw Qv.error(e),new Error(e)},ga=function(...t){const e="FIREBASE WARNING: "+Nw(...t);Qv.warn(e)},Zpe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ga("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},JT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Qpe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dy="[MIN_NAME]",xm="[MAX_NAME]",Fm=function(t,e){if(t===e)return 0;if(t===dy||e===xm)return-1;if(e===dy||t===xm)return 1;{const n=FF(t),r=FF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Jpe=function(t,e){return t===e?0:t<e?-1:1},K0=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+us(e))},mO=function(t){if(typeof t!="object"||t===null)return us(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=us(e[r]),n+=":",n+=mO(t[e[r]]);return n+="}",n},Hj=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function xo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wj=function(t){_t(!JT(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},eme=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tme=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nme(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const rme=new RegExp("^-?(0*)\\d{1,10}$"),ime=-2147483648,sme=2147483647,FF=function(t){if(rme.test(t)){const e=Number(t);if(e>=ime&&e<=sme)return e}return null},By=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ga("Exception was thrown by user callback.",n),e},Math.floor(0))}},ome=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nx=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ape(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ga(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ga(e)}}class YS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}YS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="5",jj="v",$j="s",Yj="r",Xj="f",qj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kj="ls",Zj="p",_I="ac",Qj="websocket",Jj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qp.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cme(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function t$(t,e,n){_t(typeof e=="string","typeof type must == string"),_t(typeof n=="object","typeof params must == object");let r;if(e===Qj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Jj)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cme(t)&&(n.ns=t.namespace);const i=[];return xo(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(){this.counters_={}}incrementCounter(e,n=1){Bu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return che(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={},xA={};function vO(t){const e=t.toString();return _A[e]||(_A[e]=new ume),_A[e]}function dme(t,e){const n=t.toString();return xA[n]||(xA[n]=e()),xA[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&By(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="start",hme="close",pme="pLPCommand",mme="pRTLPCB",n$="id",r$="pw",i$="ser",gme="cb",vme="seg",yme="ts",_me="d",xme="dframe",s$=1870,o$=30,wme=s$-o$,bme=25e3,Sme=3e4;class Nv{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fw(e),this.stats_=vO(n),this.urlFn=l=>(this.appCheckToken&&(l[_I]=this.appCheckToken),t$(n,Jj,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fme(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sme)),Qpe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yO((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===UF)this.id=a,this.password=l;else if(o===hme)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[UF]="t",r[i$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gme]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jj]=gO,this.transportSessionId&&(r[$j]=this.transportSessionId),this.lastSessionId&&(r[Kj]=this.lastSessionId),this.applicationId&&(r[Zj]=this.applicationId),this.appCheckToken&&(r[_I]=this.appCheckToken),typeof location<"u"&&location.hostname&&qj.test(location.hostname)&&(r[Yj]=Xj);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nv.forceAllow_=!0}static forceDisallow(){Nv.forceDisallow_=!0}static isAvailable(){return Nv.forceAllow_?!0:!Nv.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eme()&&!tme()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=us(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Mj(n),i=Hj(r,wme);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[xme]="t",r[n$]=e,r[r$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=us(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yO{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qpe(),window[pme+this.uniqueCallbackIdentifier]=e,window[mme+this.uniqueCallbackIdentifier]=n,this.myIFrame=yO.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qs("frame writing exception"),a.stack&&qs(a.stack),qs(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qs("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[n$]=this.myID,e[r$]=this.myPW,e[i$]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+o$+r.length<=s$;){const o=this.pendingSegs.shift();r=r+"&"+vme+i+"="+o.seg+"&"+yme+i+"="+o.ts+"&"+_me+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bme)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eme=16384,Tme=45e3;let VE=null;typeof MozWebSocket<"u"?VE=MozWebSocket:typeof WebSocket<"u"&&(VE=WebSocket);class yc{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fw(this.connId),this.stats_=vO(n),this.connURL=yc.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[jj]=gO,typeof location<"u"&&location.hostname&&qj.test(location.hostname)&&(o[Yj]=Xj),n&&(o[$j]=n),r&&(o[Kj]=r),i&&(o[_I]=i),s&&(o[Zj]=s),t$(e,Qj,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qp.set("previous_websocket_failure",!0);try{let r;xhe(),this.mySock=new VE(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yc.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&VE!==null&&!yc.forceDisallow_}static previouslyFailed(){return qp.isInMemoryStorage||qp.get("previous_websocket_failure")===!0}markConnectionHealthy(){qp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Rx(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_t(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=us(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hj(n,Eme);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tme))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yc.responsesRequiredToBeHealthy=2;yc.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static get ALL_TRANSPORTS(){return[Nv,yc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=yc&&yc.isAvailable();let r=n&&!yc.previouslyFailed();if(e.webSocketOnly&&(n||ga("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yc];else{const i=this.transports_=[];for(const s of Ox.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ox.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ox.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme=6e4,Mme=5e3,Ame=10*1024,Pme=100*1024,wA="t",zF="d",Rme="s",BF="r",Ime="e",VF="o",GF="a",HF="n",WF="p",kme="h";class Ome{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fw("c:"+this.id+":"),this.transportManager_=new Ox(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=nx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pme?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ame?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wA in e){const n=e[wA];n===GF?this.upgradeIfSecondaryHealthy_():n===BF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=K0("t",e),r=K0("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:GF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=K0("t",e),r=K0("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=K0(wA,e);if(zF in e){const r=e[zF];if(n===kme){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===HF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Rme?this.onConnectionShutdown_(r):n===BF?this.onReset_(r):n===Ime?yI("Server Error: "+r):n===VF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yI("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gO!==r&&ga("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Cme))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mme))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.allowedEvents_=e,this.listeners_={},_t(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_t(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends l${static getInstance(){return new GE}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ij()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _t(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=32,$F=768;let vr=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ir(){return new vr("")}function Bn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eh(t){return t.pieces_.length-t.pieceNum_}function Mr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new vr(t.pieces_,e)}function _O(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lme(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function c$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new vr(e,0)}function ki(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof vr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new vr(n,0)}function Vn(t){return t.pieceNum_>=t.pieces_.length}function Uo(t,e){const n=Bn(t),r=Bn(e);if(n===null)return e;if(n===r)return Uo(Mr(t),Mr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dme(t,e){const n=Lx(t,0),r=Lx(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Fm(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function xO(t,e){if(Eh(t)!==Eh(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pl(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Eh(t)>Eh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nme{constructor(e,n){this.errorPrefix_=n,this.parts_=Lx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=QT(this.parts_[r]);u$(this)}}function Fme(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=QT(e),u$(t)}function Ume(t){const e=t.parts_.pop();t.byteLength_-=QT(e),t.parts_.length>0&&(t.byteLength_-=1)}function u$(t){if(t.byteLength_>$F)throw new Error(t.errorPrefix_+"has a key path longer than "+$F+" bytes ("+t.byteLength_+").");if(t.parts_.length>jF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jF+") or object contains a cycle "+Fp(t))}function Fp(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends l${static getInstance(){return new wO}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return _t(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=1e3,zme=60*5*1e3,YF=30*1e3,Bme=1.3,Vme=3e4,Gme="server_kill",XF=3;class Fd extends a${constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Fd.nextPersistentConnectionId_++,this.log_=Fw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Z0,this.maxReconnectDelay_=zme,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wO.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&GE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(us(s)),_t(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new kd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),_t(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_t(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Fd.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bu(e,"w")){const r=cy(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ga(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Mhe(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Che(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),_t(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+us(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):yI("Unrecognized action received from server: "+us(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_t(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vme&&(this.reconnectDelay_=Z0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bme)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fd.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){_t(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qs("getToken() completed but was canceled"):(qs("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Ome(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{ga(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gme)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ga(d),l())}}}interrupt(e){qs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fI(this.interruptReasons_)&&(this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>mO(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new vr(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){qs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=XF&&(this.reconnectDelay_=YF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=XF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Bj.replace(/\./g,"-")]=1,Ij()?e["framework.cordova"]=1:_he()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=GE.getInstance().currentlyOnline();return fI(this.interruptReasons_)&&e}}Fd.nextPersistentConnectionId_=0;Fd.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Hn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Hn(dy,e),i=new Hn(dy,n);return this.compare(r,i)!==0}minPost(){return Hn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _1;class d$ extends eC{static get __EMPTY_NODE(){return _1}static set __EMPTY_NODE(e){_1=e}compare(e,n){return Fm(e.name,n.name)}isDefinedOn(e){throw zy("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Hn.MIN}maxPost(){return new Hn(xm,_1)}makePost(e,n){return _t(typeof e=="string","KeyIndex indexValue must always be a string."),new Hn(e,_1)}toString(){return".key"}}const Jv=new d$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ts{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ts.RED,this.left=i??pa.EMPTY_NODE,this.right=s??pa.EMPTY_NODE}copy(e,n,r,i,s){return new Ts(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return pa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return pa.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ts.RED=!0;Ts.BLACK=!1;class Hme{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ts(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pa{constructor(e,n=pa.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pa(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ts.BLACK,null,null))}remove(e){return new pa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ts.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new x1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new x1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new x1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new x1(this.root_,null,this.comparator_,!0,e)}}pa.EMPTY_NODE=new Hme;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wme(t,e){return Fm(t.name,e.name)}function bO(t,e){return Fm(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xI;function jme(t){xI=t}const f$=function(t){return typeof t=="number"?"number:"+Wj(t):"string:"+t},h$=function(t){if(t.isLeafNode()){const e=t.val();_t(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bu(e,".sv"),"Priority must be a string or number.")}else _t(t===xI||t.isEmpty(),"priority of unexpected type.");_t(t===xI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qF;class Es{static set __childrenNodeConstructor(e){qF=e}static get __childrenNodeConstructor(){return qF}constructor(e,n=Es.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_t(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),h$(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Es(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Es.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Vn(e)?this:Bn(e)===".priority"?this.priorityNode_:Es.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Es.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Bn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(_t(r!==".priority"||Eh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Es.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wj(this.value_):e+=this.value_,this.lazyHash_=Gj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Es.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Es.__childrenNodeConstructor?-1:(_t(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Es.VALUE_TYPE_ORDER.indexOf(n),s=Es.VALUE_TYPE_ORDER.indexOf(r);return _t(i>=0,"Unknown leaf type: "+n),_t(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Es.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p$,m$;function $me(t){p$=t}function Yme(t){m$=t}class Xme extends eC{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fm(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Hn.MIN}maxPost(){return new Hn(xm,new Es("[PRIORITY-POST]",m$))}makePost(e,n){const r=p$(e);return new Hn(n,new Es("[PRIORITY-POST]",r))}toString(){return".priority"}}const si=new Xme;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme=Math.log(2);class Kme{constructor(e){const n=s=>parseInt(Math.log(s)/qme,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const HE=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ts(f,d.node,Ts.BLACK,null,null);{const m=parseInt(u/2,10)+l,v=i(l,m),w=i(m+1,c);return d=t[m],f=n?n(d):d,new Ts(f,d.node,Ts.BLACK,v,w)}},s=function(l){let c=null,u=null,d=t.length;const f=function(v,w){const x=d-v,y=d;d-=v;const b=i(x+1,y),S=t[x],T=n?n(S):S;m(new Ts(T,S.node,w,null,b))},m=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const w=l.nextBitIsOne(),x=Math.pow(2,l.count-(v+1));w?f(x,Ts.BLACK):(f(x,Ts.BLACK),f(x,Ts.RED))}return u},o=new Kme(t.length),a=s(o);return new pa(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bA;const Yg={};class Ld{static get Default(){return _t(Yg&&si,"ChildrenNode.ts has not been loaded"),bA=bA||new Ld({".priority":Yg},{".priority":si}),bA}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=cy(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pa?n:null}hasIndex(e){return Bu(this.indexSet_,e.toString())}addIndex(e,n){_t(e!==Jv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Hn.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=HE(r,e.getCompare()):a=Yg;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ld(u,c)}addToIndexes(e,n){const r=FE(this.indexes_,(i,s)=>{const o=cy(this.indexSet_,s);if(_t(o,"Missing index implementation for "+s),i===Yg)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Hn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),HE(a,o.getCompare())}else return Yg;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Hn(e.name,a))),l.insert(e,e.node)}});return new Ld(r,this.indexSet_)}removeFromIndexes(e,n){const r=FE(this.indexes_,i=>{if(i===Yg)return i;{const s=n.get(e.name);return s?i.remove(new Hn(e.name,s)):i}});return new Ld(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0;class hn{static get EMPTY_NODE(){return Q0||(Q0=new hn(new pa(bO),null,Ld.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&h$(this.priorityNode_),this.children_.isEmpty()&&_t(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Q0}updatePriority(e){return this.children_.isEmpty()?this:new hn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Q0:n}}getChild(e){const n=Bn(e);return n===null?this:this.getImmediateChild(n).getChild(Mr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(_t(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Hn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Q0:this.priorityNode_;return new hn(i,o,s)}}updateChild(e,n){const r=Bn(e);if(r===null)return n;{_t(Bn(e)!==".priority"||Eh(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Mr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(si,(o,a)=>{n[o]=a.val(e),r++,s&&hn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+f$(this.getPriority().val())+":"),this.forEachChild(si,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Gj(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Hn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Hn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Hn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Hn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Hn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uw?-1:0}withIndex(e){if(e===Jv||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new hn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(si),i=n.getIterator(si);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Jv?null:this.indexMap_.get(e.toString())}}hn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Zme extends hn{constructor(){super(new pa(bO),hn.EMPTY_NODE,Ld.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hn.EMPTY_NODE}isEmpty(){return!1}}const Uw=new Zme;Object.defineProperties(Hn,{MIN:{value:new Hn(dy,hn.EMPTY_NODE)},MAX:{value:new Hn(xm,Uw)}});d$.__EMPTY_NODE=hn.EMPTY_NODE;Es.__childrenNodeConstructor=hn;jme(Uw);Yme(Uw);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=!0;function Ri(t,e=null){if(t===null)return hn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_t(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Es(n,Ri(e))}if(!(t instanceof Array)&&Qme){const n=[];let r=!1;if(xo(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ri(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Hn(o,l)))}}),n.length===0)return hn.EMPTY_NODE;const s=HE(n,Wme,o=>o.name,bO);if(r){const o=HE(n,si.getCompare());return new hn(s,Ri(e),new Ld({".priority":o},{".priority":si}))}else return new hn(s,Ri(e),Ld.Default)}else{let n=hn.EMPTY_NODE;return xo(t,(r,i)=>{if(Bu(t,r)&&r.substring(0,1)!=="."){const s=Ri(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ri(e))}}$me(Ri);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jme extends eC{constructor(e){super(),this.indexPath_=e,_t(!Vn(e)&&Bn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fm(e.name,n.name):s}makePost(e,n){const r=Ri(e),i=hn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Hn(n,i)}maxPost(){const e=hn.EMPTY_NODE.updateChild(this.indexPath_,Uw);return new Hn(xm,e)}toString(){return Lx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ege extends eC{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fm(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Hn.MIN}maxPost(){return Hn.MAX}makePost(e,n){const r=Ri(e);return new Hn(n,r)}toString(){return".value"}}const tge=new ege;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){return{type:"value",snapshotNode:t}}function fy(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dx(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Nx(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nge(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){_t(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Dx(n,a)):_t(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(fy(n,r)):o.trackChildChange(Nx(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(si,(i,s)=>{n.hasChild(i)||r.trackChildChange(Dx(i,s))}),n.isLeafNode()||n.forEachChild(si,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Nx(i,s,o))}else r.trackChildChange(fy(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?hn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.indexedFilter_=new SO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fx.getStartPost_(e),this.endPost_=Fx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Hn(n,r))||(r=hn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=hn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(hn.EMPTY_NODE);const s=this;return n.forEachChild(si,(o,a)=>{s.matches(new Hn(o,a))||(i=i.updateImmediateChild(o,hn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rge{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Hn(n,r))||(r=hn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=hn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=hn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(hn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,hn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,m)=>d(m,f)}else o=this.index_.getCompare();const a=e;_t(a.numChildren()===this.limit_,"");const l=new Hn(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(u&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Nx(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Dx(n,d));const w=a.updateImmediateChild(n,hn.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(fy(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Dx(c.name,c.node)),s.trackChildChange(fy(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,hn.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _t(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _t(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dy}hasEnd(){return this.endSet_}getIndexEndValue(){return _t(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _t(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _t(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const e=new EO;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ige(t){return t.loadsAllData()?new SO(t.getIndex()):t.hasLimit()?new rge(t):new Fx(t)}function KF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===si?n="$priority":t.index_===tge?n="$value":t.index_===Jv?n="$key":(_t(t.index_ instanceof Jme,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=us(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=us(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+us(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=us(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+us(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ZF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==si&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends a${reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_t(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fw("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=WE.getListenId_(e,r),a={};this.listens_[o]=a;const l=KF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),cy(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=WE.getListenId_(e,n);delete this.listens_[r]}get(e){const n=KF(e._queryParams),r=e._path.toString(),i=new kd;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ahe(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Rx(a.responseText)}catch{ga("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ga("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sge{constructor(){this.rootNode_=hn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return{value:null,children:new Map}}function Vy(t,e,n){if(Vn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Bn(e);t.children.has(r)||t.children.set(r,jE());const i=t.children.get(r);e=Mr(e),Vy(i,e,n)}}function wI(t,e){if(Vn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(si,(r,i)=>{Vy(t,new vr(r),i)}),wI(t,e)}}else if(t.children.size>0){const n=Bn(e);return e=Mr(e),t.children.has(n)&&wI(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function bI(t,e,n){t.value!==null?n(e,t.value):oge(t,(r,i)=>{const s=new vr(e.toString()+"/"+r);bI(i,s,n)})}function oge(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class age{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xo(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=10*1e3,lge=30*1e3,cge=5*60*1e3;class uge{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new age(e);const r=QF+(lge-QF)*Math.random();nx(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xo(e,(i,s)=>{s>0&&Bu(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),nx(this.reportStats_.bind(this),Math.floor(Math.random()*2*cge))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wc||(wc={}));function v$(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function TO(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function CO(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wc.ACK_USER_WRITE,this.source=v$()}operationForChild(e){if(Vn(this.path)){if(this.affectedTree.value!=null)return _t(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new vr(e));return new $E(ir(),n,this.revert)}}else return _t(Bn(this.path)===e,"operationForChild called for unrelated child."),new $E(Mr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.source=e,this.path=n,this.type=wc.LISTEN_COMPLETE}operationForChild(e){return Vn(this.path)?new Ux(this.source,ir()):new Ux(this.source,Mr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wc.OVERWRITE}operationForChild(e){return Vn(this.path)?new wm(this.source,ir(),this.snap.getImmediateChild(e)):new wm(this.source,Mr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wc.MERGE}operationForChild(e){if(Vn(this.path)){const n=this.children.subtree(new vr(e));return n.isEmpty()?null:n.value?new wm(this.source,ir(),n.value):new zx(this.source,ir(),n)}else return _t(Bn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zx(this.source,Mr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Vn(e))return this.isFullyInitialized()&&!this.filtered_;const n=Bn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fge(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nge(o.childName,o.snapshotNode))}),J0(t,i,"child_removed",e,r,n),J0(t,i,"child_added",e,r,n),J0(t,i,"child_moved",s,r,n),J0(t,i,"child_changed",e,r,n),J0(t,i,"value",e,r,n),i}function J0(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>pge(t,a,l)),o.forEach(a=>{const l=hge(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function hge(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pge(t,e,n){if(e.childName==null||n.childName==null)throw zy("Should only compare child_ events.");const r=new Hn(e.childName,e.snapshotNode),i=new Hn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e){return{eventCache:t,serverCache:e}}function rx(t,e,n,r){return tC(new Th(e,n,r),t.serverCache)}function y$(t,e,n,r){return tC(t.eventCache,new Th(e,n,r))}function YE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bm(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SA;const mge=()=>(SA||(SA=new pa(Jpe)),SA);class Vr{static fromObject(e){let n=new Vr(null);return xo(e,(r,i)=>{n=n.set(new vr(r),i)}),n}constructor(e,n=mge()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ir(),value:this.value};if(Vn(e))return null;{const r=Bn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Mr(e),n);return s!=null?{path:ki(new vr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Vn(e))return this;{const n=Bn(e),r=this.children.get(n);return r!==null?r.subtree(Mr(e)):new Vr(null)}}set(e,n){if(Vn(e))return new Vr(n,this.children);{const r=Bn(e),s=(this.children.get(r)||new Vr(null)).set(Mr(e),n),o=this.children.insert(r,s);return new Vr(this.value,o)}}remove(e){if(Vn(e))return this.children.isEmpty()?new Vr(null):new Vr(null,this.children);{const n=Bn(e),r=this.children.get(n);if(r){const i=r.remove(Mr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Vr(null):new Vr(this.value,s)}else return this}}get(e){if(Vn(e))return this.value;{const n=Bn(e),r=this.children.get(n);return r?r.get(Mr(e)):null}}setTree(e,n){if(Vn(e))return n;{const r=Bn(e),s=(this.children.get(r)||new Vr(null)).setTree(Mr(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Vr(this.value,o)}}fold(e){return this.fold_(ir(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ki(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ir(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Vn(e))return null;{const s=Bn(e),o=this.children.get(s);return o?o.findOnPath_(Mr(e),ki(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ir(),n)}foreachOnPath_(e,n,r){if(Vn(e))return this;{this.value&&r(n,this.value);const i=Bn(e),s=this.children.get(i);return s?s.foreachOnPath_(Mr(e),ki(n,i),r):new Vr(null)}}foreach(e){this.foreach_(ir(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ki(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.writeTree_=e}static empty(){return new Sc(new Vr(null))}}function ix(t,e,n){if(Vn(e))return new Sc(new Vr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Uo(i,e);return s=s.updateChild(o,n),new Sc(t.writeTree_.set(i,s))}else{const i=new Vr(n),s=t.writeTree_.setTree(e,i);return new Sc(s)}}}function JF(t,e,n){let r=t;return xo(n,(i,s)=>{r=ix(r,ki(e,i),s)}),r}function eU(t,e){if(Vn(e))return Sc.empty();{const n=t.writeTree_.setTree(e,new Vr(null));return new Sc(n)}}function SI(t,e){return Um(t,e)!=null}function Um(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Uo(n.path,e)):null}function tU(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(si,(r,i)=>{e.push(new Hn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Hn(r,i.value))}),e}function dh(t,e){if(Vn(e))return t;{const n=Um(t,e);return n!=null?new Sc(new Vr(n)):new Sc(t.writeTree_.subtree(e))}}function EI(t){return t.writeTree_.isEmpty()}function hy(t,e){return _$(ir(),t.writeTree_,e)}function _$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_t(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_$(ki(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ki(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){return S$(e,t)}function gge(t,e,n,r,i){_t(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ix(t.visibleWrites,e,n)),t.lastWriteId=r}function vge(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function yge(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);_t(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_ge(a,r.path)?i=!1:Pl(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return xge(t),!0;if(r.snap)t.visibleWrites=eU(t.visibleWrites,r.path);else{const a=r.children;xo(a,l=>{t.visibleWrites=eU(t.visibleWrites,ki(r.path,l))})}return!0}else return!1}function _ge(t,e){if(t.snap)return Pl(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pl(ki(t.path,n),e))return!0;return!1}function xge(t){t.visibleWrites=x$(t.allWrites,wge,ir()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function wge(t){return t.visible}function x$(t,e,n){let r=Sc.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Pl(n,o)?(a=Uo(n,o),r=ix(r,a,s.snap)):Pl(o,n)&&(a=Uo(o,n),r=ix(r,ir(),s.snap.getChild(a)));else if(s.children){if(Pl(n,o))a=Uo(n,o),r=JF(r,a,s.children);else if(Pl(o,n))if(a=Uo(o,n),Vn(a))r=JF(r,ir(),s.children);else{const l=cy(s.children,Bn(a));if(l){const c=l.getChild(Mr(a));r=ix(r,ir(),c)}}}else throw zy("WriteRecord should have .snap or .children")}}return r}function w$(t,e,n,r,i){if(!r&&!i){const s=Um(t.visibleWrites,e);if(s!=null)return s;{const o=dh(t.visibleWrites,e);if(EI(o))return n;if(n==null&&!SI(o,ir()))return null;{const a=n||hn.EMPTY_NODE;return hy(o,a)}}}else{const s=dh(t.visibleWrites,e);if(!i&&EI(s))return n;if(!i&&n==null&&!SI(s,ir()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Pl(c.path,e)||Pl(e,c.path))},a=x$(t.allWrites,o,e),l=n||hn.EMPTY_NODE;return hy(a,l)}}}function bge(t,e,n){let r=hn.EMPTY_NODE;const i=Um(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(si,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=dh(t.visibleWrites,e);return n.forEachChild(si,(o,a)=>{const l=hy(dh(s,new vr(o)),a);r=r.updateImmediateChild(o,l)}),tU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=dh(t.visibleWrites,e);return tU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Sge(t,e,n,r,i){_t(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ki(e,n);if(SI(t.visibleWrites,s))return null;{const o=dh(t.visibleWrites,s);return EI(o)?i.getChild(n):hy(o,i.getChild(n))}}function Ege(t,e,n,r){const i=ki(e,n),s=Um(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=dh(t.visibleWrites,i);return hy(o,r.getNode().getImmediateChild(n))}else return null}function Tge(t,e){return Um(t.visibleWrites,e)}function Cge(t,e,n,r,i,s,o){let a;const l=dh(t.visibleWrites,e),c=Um(l,ir());if(c!=null)a=c;else if(n!=null)a=hy(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&u.length<i;)d(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function Mge(){return{visibleWrites:Sc.empty(),allWrites:[],lastWriteId:-1}}function XE(t,e,n,r){return w$(t.writeTree,t.treePath,e,n,r)}function MO(t,e){return bge(t.writeTree,t.treePath,e)}function nU(t,e,n,r){return Sge(t.writeTree,t.treePath,e,n,r)}function qE(t,e){return Tge(t.writeTree,ki(t.treePath,e))}function Age(t,e,n,r,i,s){return Cge(t.writeTree,t.treePath,e,n,r,i,s)}function AO(t,e,n){return Ege(t.writeTree,t.treePath,e,n)}function b$(t,e){return S$(ki(t.treePath,e),t.writeTree)}function S$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pge{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;_t(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_t(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Nx(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Dx(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,fy(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Nx(r,e.snapshotNode,i.oldSnap));else throw zy("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const E$=new Rge;class PO{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Th(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return AO(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bm(this.viewCache_),s=Age(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(t){return{filter:t}}function kge(t,e){_t(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_t(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Oge(t,e,n,r,i){const s=new Pge;let o,a;if(n.type===wc.OVERWRITE){const c=n;c.source.fromUser?o=TI(t,e,c.path,c.snap,r,i,s):(_t(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Vn(c.path),o=KE(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===wc.MERGE){const c=n;c.source.fromUser?o=Dge(t,e,c.path,c.children,r,i,s):(_t(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=CI(t,e,c.path,c.children,r,i,a,s))}else if(n.type===wc.ACK_USER_WRITE){const c=n;c.revert?o=Uge(t,e,c.path,r,i,s):o=Nge(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===wc.LISTEN_COMPLETE)o=Fge(t,e,n.path,r,s);else throw zy("Unknown operation type: "+n.type);const l=s.getChanges();return Lge(e,o,l),{viewCache:o,changes:l}}function Lge(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=YE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(g$(YE(e)))}}function T$(t,e,n,r,i,s){const o=e.eventCache;if(qE(r,n)!=null)return e;{let a,l;if(Vn(n))if(_t(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=bm(e),u=c instanceof hn?c:hn.EMPTY_NODE,d=MO(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=XE(r,bm(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Bn(n);if(c===".priority"){_t(Eh(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=nU(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Mr(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=nU(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=AO(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return rx(e,a,o.isFullyInitialized()||Vn(n),t.filter.filtersNodes())}}function KE(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Vn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Bn(n);if(!l.isCompleteForPath(n)&&Eh(n)>1)return e;const v=Mr(n),x=l.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),m,x,v,E$,null)}const d=y$(e,c,l.isFullyInitialized()||Vn(n),u.filtersNodes()),f=new PO(i,d,s);return T$(t,d,n,i,f,a)}function TI(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new PO(i,e,s);if(Vn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=rx(e,c,!0,t.filter.filtersNodes());else{const d=Bn(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=rx(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Mr(n),m=a.getNode().getImmediateChild(d);let v;if(Vn(f))v=r;else{const w=u.getCompleteChild(d);w!=null?_O(f)===".priority"&&w.getChild(c$(f)).isEmpty()?v=w:v=w.updateChild(f,r):v=hn.EMPTY_NODE}if(m.equals(v))l=e;else{const w=t.filter.updateChild(a.getNode(),d,v,f,u,o);l=rx(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function rU(t,e){return t.eventCache.isCompleteForChild(e)}function Dge(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=ki(n,l);rU(e,Bn(u))&&(a=TI(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=ki(n,l);rU(e,Bn(u))||(a=TI(t,a,u,c,i,s,o))}),a}function iU(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function CI(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Vn(n)?c=r:c=new Vr(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),v=iU(t,m,f);l=KE(t,l,new vr(d),v,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!m){const v=e.serverCache.getNode().getImmediateChild(d),w=iU(t,v,f);l=KE(t,l,new vr(d),w,i,s,o,a)}}),l}function Nge(t,e,n,r,i,s,o){if(qE(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Vn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return KE(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Vn(n)){let c=new Vr(null);return l.getNode().forEachChild(Jv,(u,d)=>{c=c.set(new vr(u),d)}),CI(t,e,n,c,i,s,a,o)}else return e}else{let c=new Vr(null);return r.foreach((u,d)=>{const f=ki(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),CI(t,e,n,c,i,s,a,o)}}function Fge(t,e,n,r,i){const s=e.serverCache,o=y$(e,s.getNode(),s.isFullyInitialized()||Vn(n),s.isFiltered());return T$(t,o,n,r,E$,i)}function Uge(t,e,n,r,i,s){let o;if(qE(r,n)!=null)return e;{const a=new PO(r,e,i),l=e.eventCache.getNode();let c;if(Vn(n)||Bn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=XE(r,bm(e));else{const d=e.serverCache.getNode();_t(d instanceof hn,"serverChildren would be complete if leaf node"),u=MO(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Bn(n);let d=AO(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Mr(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,hn.EMPTY_NODE,Mr(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=XE(r,bm(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||qE(r,ir())!=null,rx(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new SO(r.getIndex()),s=ige(r);this.processor_=Ige(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(hn.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(hn.EMPTY_NODE,a.getNode(),null),u=new Th(l,o.isFullyInitialized(),i.filtersNodes()),d=new Th(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=tC(d,u),this.eventGenerator_=new dge(this.query_)}get query(){return this.query_}}function Bge(t){return t.viewCache_.serverCache.getNode()}function Vge(t){return YE(t.viewCache_)}function Gge(t,e){const n=bm(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Vn(e)&&!n.getImmediateChild(Bn(e)).isEmpty())?n.getChild(e):null}function sU(t){return t.eventRegistrations_.length===0}function Hge(t,e){t.eventRegistrations_.push(e)}function oU(t,e,n){const r=[];if(n){_t(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function aU(t,e,n,r){e.type===wc.MERGE&&e.source.queryId!==null&&(_t(bm(t.viewCache_),"We should always have a full cache before handling merges"),_t(YE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Oge(t.processor_,i,e,n,r);return kge(t.processor_,s.viewCache),_t(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,C$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Wge(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(si,(s,o)=>{r.push(fy(s,o))}),n.isFullyInitialized()&&r.push(g$(n.getNode())),C$(t,r,n.getNode(),e)}function C$(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return fge(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE;class M${constructor(){this.views=new Map}}function jge(t){_t(!ZE,"__referenceConstructor has already been defined"),ZE=t}function $ge(){return _t(ZE,"Reference.ts has not been loaded"),ZE}function Yge(t){return t.views.size===0}function RO(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return _t(s!=null,"SyncTree gave us an op for an invalid query."),aU(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(aU(o,e,n,r));return s}}function A$(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=XE(n,i?r:null),l=!1;a?l=!0:r instanceof hn?(a=MO(n,r),l=!1):(a=hn.EMPTY_NODE,l=!1);const c=tC(new Th(a,l,!1),new Th(r,i,!1));return new zge(e,c)}return o}function Xge(t,e,n,r,i,s){const o=A$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Hge(o,n),Wge(o,n)}function qge(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ch(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(oU(c,n,r)),sU(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(oU(l,n,r)),sU(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ch(t)&&s.push(new($ge())(e._repo,e._path)),{removed:s,events:o}}function P$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fh(t,e){let n=null;for(const r of t.views.values())n=n||Gge(r,e);return n}function R$(t,e){if(e._queryParams.loadsAllData())return rC(t);{const r=e._queryIdentifier;return t.views.get(r)}}function I$(t,e){return R$(t,e)!=null}function Ch(t){return rC(t)!=null}function rC(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QE;function Kge(t){_t(!QE,"__referenceConstructor has already been defined"),QE=t}function Zge(){return _t(QE,"Reference.ts has not been loaded"),QE}let Qge=1;class lU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vr(null),this.pendingWriteTree_=Mge(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k$(t,e,n,r,i){return gge(t.pendingWriteTree_,e,n,r,i),i?Bw(t,new wm(v$(),e,n)):[]}function Kp(t,e,n=!1){const r=vge(t.pendingWriteTree_,e);if(yge(t.pendingWriteTree_,e)){let s=new Vr(null);return r.snap!=null?s=s.set(ir(),!0):xo(r.children,o=>{s=s.set(new vr(o),!0)}),Bw(t,new $E(r.path,s,n))}else return[]}function zw(t,e,n){return Bw(t,new wm(TO(),e,n))}function Jge(t,e,n){const r=Vr.fromObject(n);return Bw(t,new zx(TO(),e,r))}function eve(t,e){return Bw(t,new Ux(TO(),e))}function tve(t,e,n){const r=kO(t,n);if(r){const i=OO(r),s=i.path,o=i.queryId,a=Uo(s,e),l=new Ux(CO(o),a);return LO(t,s,l)}else return[]}function JE(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||I$(o,e))){const l=qge(o,e,n,r);Yge(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,m)=>Ch(m));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=ive(f);for(let v=0;v<m.length;++v){const w=m[v],x=w.query,y=N$(t,w);t.listenProvider_.startListening(sx(x),Bx(t,x),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(sx(e),null):c.forEach(f=>{const m=t.queryToTagMap.get(iC(f));t.listenProvider_.stopListening(sx(f),m)}))}sve(t,c)}return a}function O$(t,e,n,r){const i=kO(t,r);if(i!=null){const s=OO(i),o=s.path,a=s.queryId,l=Uo(o,e),c=new wm(CO(a),l,n);return LO(t,o,c)}else return[]}function nve(t,e,n,r){const i=kO(t,r);if(i){const s=OO(i),o=s.path,a=s.queryId,l=Uo(o,e),c=Vr.fromObject(n),u=new zx(CO(a),l,c);return LO(t,o,u)}else return[]}function MI(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const v=Uo(f,i);s=s||fh(m,v),o=o||Ch(m)});let a=t.syncPointTree_.get(i);a?(o=o||Ch(a),s=s||fh(a,ir())):(a=new M$,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=hn.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,v)=>{const w=fh(v,ir());w&&(s=s.updateImmediateChild(m,w))}));const c=I$(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=iC(e);_t(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=ove();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const u=nC(t.pendingWriteTree_,i);let d=Xge(a,e,n,u,s,l);if(!c&&!o&&!r){const f=R$(a,e);d=d.concat(ave(t,e,f))}return d}function IO(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Uo(o,e),c=fh(a,l);if(c)return c});return w$(i,e,s,n,!0)}function rve(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Uo(c,n);r=r||fh(u,d)});let i=t.syncPointTree_.get(n);i?r=r||fh(i,ir()):(i=new M$,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Th(r,!0,!1):null,a=nC(t.pendingWriteTree_,e._path),l=A$(i,e,a,s?o.getNode():hn.EMPTY_NODE,s);return Vge(l)}function Bw(t,e){return L$(e,t.syncPointTree_,null,nC(t.pendingWriteTree_,ir()))}function L$(t,e,n,r){if(Vn(t.path))return D$(t,e,n,r);{const i=e.get(ir());n==null&&i!=null&&(n=fh(i,ir()));let s=[];const o=Bn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=b$(r,o);s=s.concat(L$(a,l,c,u))}return i&&(s=s.concat(RO(i,t,r,n))),s}}function D$(t,e,n,r){const i=e.get(ir());n==null&&i!=null&&(n=fh(i,ir()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=b$(r,o),u=t.operationForChild(o);u&&(s=s.concat(D$(u,a,l,c)))}),i&&(s=s.concat(RO(i,t,r,n))),s}function N$(t,e){const n=e.query,r=Bx(t,n);return{hashFn:()=>(Bge(e)||hn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?tve(t,n._path,r):eve(t,n._path);{const s=nme(i,n);return JE(t,n,null,s)}}}}function Bx(t,e){const n=iC(e);return t.queryToTagMap.get(n)}function iC(t){return t._path.toString()+"$"+t._queryIdentifier}function kO(t,e){return t.tagToQueryMap.get(e)}function OO(t){const e=t.indexOf("$");return _t(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new vr(t.substr(0,e))}}function LO(t,e,n){const r=t.syncPointTree_.get(e);_t(r,"Missing sync point for query tag that we're tracking");const i=nC(t.pendingWriteTree_,e);return RO(r,n,i,null)}function ive(t){return t.fold((e,n,r)=>{if(n&&Ch(n))return[rC(n)];{let i=[];return n&&(i=P$(n)),xo(r,(s,o)=>{i=i.concat(o)}),i}})}function sx(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Zge())(t._repo,t._path):t}function sve(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=iC(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function ove(){return Qge++}function ave(t,e,n){const r=e._path,i=Bx(t,e),s=N$(t,n),o=t.listenProvider_.startListening(sx(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)_t(!Ch(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Vn(c)&&u&&Ch(u))return[rC(u).query];{let f=[];return u&&(f=f.concat(P$(u).map(m=>m.query))),xo(d,(m,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(sx(u),Bx(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new DO(n)}node(){return this.node_}}class NO{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ki(this.path_,e);return new NO(this.syncTree_,n)}node(){return IO(this.syncTree_,this.path_)}}const lve=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cU=function(t,e,n){if(!t||typeof t!="object")return t;if(_t(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cve(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uve(t[".sv"],e);_t(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cve=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_t(!1,"Unexpected server value: "+t)}},uve=function(t,e,n){t.hasOwnProperty("increment")||_t(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&_t(!1,"Unexpected increment value: "+r);const i=e.node();if(_t(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},dve=function(t,e,n,r){return FO(e,new NO(n,t),r)},F$=function(t,e,n){return FO(t,new DO(e),n)};function FO(t,e,n){const r=t.getPriority().val(),i=cU(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=cU(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Es(a,Ri(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Es(i))),o.forEachChild(si,(a,l)=>{const c=FO(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zO(t,e){let n=e instanceof vr?e:new vr(e),r=t,i=Bn(n);for(;i!==null;){const s=cy(r.node.children,i)||{children:{},childCount:0};r=new UO(i,r,s),n=Mr(n),i=Bn(n)}return r}function Gy(t){return t.node.value}function U$(t,e){t.node.value=e,AI(t)}function z$(t){return t.node.childCount>0}function fve(t){return Gy(t)===void 0&&!z$(t)}function sC(t,e){xo(t.node.children,(n,r)=>{e(new UO(n,t,r))})}function B$(t,e,n,r){n&&e(t),sC(t,i=>{B$(i,e,!0)})}function hve(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vw(t){return new vr(t.parent===null?t.name:Vw(t.parent)+"/"+t.name)}function AI(t){t.parent!==null&&pve(t.parent,t.name,t)}function pve(t,e,n){const r=fve(n),i=Bu(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,AI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,AI(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mve=/[\[\].#$\/\u0000-\u001F\u007F]/,gve=/[\[\].#$\u0000-\u001F\u007F]/,EA=10*1024*1024,BO=function(t){return typeof t=="string"&&t.length!==0&&!mve.test(t)},V$=function(t){return typeof t=="string"&&t.length!==0&&!gve.test(t)},vve=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),V$(t)},G$=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!JT(t)||t&&typeof t=="object"&&Bu(t,".sv")},eT=function(t,e,n,r){r&&e===void 0||oC(uy(t,"value"),e,n)},oC=function(t,e,n){const r=n instanceof vr?new Nme(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fp(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fp(r)+" with contents = "+e.toString());if(JT(e))throw new Error(t+"contains "+e.toString()+" "+Fp(r));if(typeof e=="string"&&e.length>EA/3&&QT(e)>EA)throw new Error(t+"contains a string greater than "+EA+" utf8 bytes "+Fp(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(xo(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!BO(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fp(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fme(r,o),oC(t,a,r),Ume(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fp(r)+" in addition to actual children.")}},yve=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Lx(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!BO(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Dme);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Pl(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},_ve=function(t,e,n,r){const i=uy(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];xo(e,(o,a)=>{const l=new vr(o);if(oC(i,a,ki(n,l)),_O(l)===".priority"&&!G$(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),yve(i,s)},xve=function(t,e,n){if(JT(e))throw new Error(uy(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!G$(e))throw new Error(uy(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},H$=function(t,e,n,r){if(!V$(n))throw new Error(uy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wve=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),H$(t,e,n)},Zp=function(t,e){if(Bn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},bve=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!BO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vve(n))throw new Error(uy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function VO(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!xO(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function W$(t,e,n){VO(t,n),j$(t,r=>xO(r,e))}function Pu(t,e,n){VO(t,n),j$(t,r=>Pl(r,e)||Pl(e,r))}function j$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Eve(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Eve(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();tx&&qs("event: "+n.toString()),By(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tve="repo_interrupt",Cve=25;class Mve{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jE(),this.transactionQueueTree_=new UO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ave(t,e,n){if(t.stats_=vO(t.repoInfo_),t.forceRestClient_||ome())t.server_=new WE(t.repoInfo_,(r,i,s,o)=>{uU(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dU(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{us(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Fd(t.repoInfo_,e,(r,i,s,o)=>{uU(t,r,i,s,o)},r=>{dU(t,r)},r=>{Pve(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dme(t.repoInfo_,()=>new uge(t.stats_,t.server_)),t.infoData_=new sge,t.infoSyncTree_=new lU({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zw(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),HO(t,"connected",!1),t.serverSyncTree_=new lU({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Pu(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $$(t){const n=t.infoData_.getNode(new vr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function GO(t){return lve({timestamp:$$(t)})}function uU(t,e,n,r,i){t.dataUpdateCount++;const s=new vr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=FE(n,c=>Ri(c));o=nve(t.serverSyncTree_,s,l,i)}else{const l=Ri(n);o=O$(t.serverSyncTree_,s,l,i)}else if(r){const l=FE(n,c=>Ri(c));o=Jge(t.serverSyncTree_,s,l)}else{const l=Ri(n);o=zw(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=lC(t,s)),Pu(t.eventQueue_,a,o)}function dU(t,e){HO(t,"connected",e),e===!1&&kve(t)}function Pve(t,e){xo(e,(n,r)=>{HO(t,n,r)})}function HO(t,e,n){const r=new vr("/.info/"+e),i=Ri(n);t.infoData_.updateSnapshot(r,i);const s=zw(t.infoSyncTree_,r,i);Pu(t.eventQueue_,r,s)}function Y$(t){return t.nextWriteId_++}function Rve(t,e,n){const r=rve(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ri(i).withIndex(e._queryParams.getIndex());MI(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=zw(t.serverSyncTree_,e._path,s);else{const a=Bx(t.serverSyncTree_,e);o=O$(t.serverSyncTree_,e._path,s,a)}return Pu(t.eventQueue_,e._path,o),JE(t.serverSyncTree_,e,n,null,!0),s},i=>(aC(t,"get for query "+us(e)+" failed: "+i),Promise.reject(new Error(i))))}function Ive(t,e,n,r,i){aC(t,"set",{path:e.toString(),value:n,priority:r});const s=GO(t),o=Ri(n,r),a=IO(t.serverSyncTree_,e),l=F$(o,a,s),c=Y$(t),u=k$(t.serverSyncTree_,e,l,c,!0);VO(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const v=f==="ok";v||ga("set at "+e+" failed: "+f);const w=Kp(t.serverSyncTree_,c,!v);Pu(t.eventQueue_,e,w),py(t,i,f,m)});const d=J$(t,e);lC(t,d),Pu(t.eventQueue_,d,[])}function kve(t){aC(t,"onDisconnectEvents");const e=GO(t),n=jE();bI(t.onDisconnect_,ir(),(i,s)=>{const o=dve(i,s,t.serverSyncTree_,e);Vy(n,i,o)});let r=[];bI(n,ir(),(i,s)=>{r=r.concat(zw(t.serverSyncTree_,i,s));const o=J$(t,i);lC(t,o)}),t.onDisconnect_=jE(),Pu(t.eventQueue_,ir(),r)}function Ove(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&wI(t.onDisconnect_,e),py(t,n,r,i)})}function fU(t,e,n,r){const i=Ri(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Vy(t.onDisconnect_,e,i),py(t,r,s,o)})}function Lve(t,e,n,r,i){const s=Ri(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Vy(t.onDisconnect_,e,s),py(t,i,o,a)})}function Dve(t,e,n,r){if(fI(n)){qs("onDisconnect().update() called with empty data.  Don't do anything."),py(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&xo(n,(o,a)=>{const l=Ri(a);Vy(t.onDisconnect_,ki(e,o),l)}),py(t,r,i,s)})}function Nve(t,e,n){let r;Bn(e._path)===".info"?r=MI(t.infoSyncTree_,e,n):r=MI(t.serverSyncTree_,e,n),W$(t.eventQueue_,e._path,r)}function X$(t,e,n){let r;Bn(e._path)===".info"?r=JE(t.infoSyncTree_,e,n):r=JE(t.serverSyncTree_,e,n),W$(t.eventQueue_,e._path,r)}function Fve(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Tve)}function aC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qs(n,...e)}function py(t,e,n,r){e&&By(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function q$(t,e,n){return IO(t.serverSyncTree_,e,n)||hn.EMPTY_NODE}function WO(t,e=t.transactionQueueTree_){if(e||cC(t,e),Gy(e)){const n=Z$(t,e);_t(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Uve(t,Vw(e),n)}else z$(e)&&sC(e,n=>{WO(t,n)})}function Uve(t,e,n){const r=n.map(c=>c.currentWriteId),i=q$(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];_t(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Uo(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{aC(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Kp(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();cC(t,zO(t.transactionQueueTree_,e)),WO(t,t.transactionQueueTree_),Pu(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)By(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ga("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}lC(t,e)}},o)}function lC(t,e){const n=K$(t,e),r=Vw(n),i=Z$(t,n);return zve(t,i,r),r}function zve(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Uo(n,l.path);let u=!1,d;if(_t(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Kp(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Cve)u=!0,d="maxretry",i=i.concat(Kp(t.serverSyncTree_,l.currentWriteId,!0));else{const f=q$(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){oC("transaction failed: Data returned ",m,l.path);let v=Ri(m);typeof m=="object"&&m!=null&&Bu(m,".priority")||(v=v.updatePriority(f.getPriority()));const x=l.currentWriteId,y=GO(t),b=F$(v,f,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=b,l.currentWriteId=Y$(t),o.splice(o.indexOf(x),1),i=i.concat(k$(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(Kp(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(Kp(t.serverSyncTree_,l.currentWriteId,!0))}Pu(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}cC(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)By(r[a]);WO(t,t.transactionQueueTree_)}function K$(t,e){let n,r=t.transactionQueueTree_;for(n=Bn(e);n!==null&&Gy(r)===void 0;)r=zO(r,n),e=Mr(e),n=Bn(e);return r}function Z$(t,e){const n=[];return Q$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Q$(t,e,n){const r=Gy(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);sC(e,i=>{Q$(t,i,n)})}function cC(t,e){const n=Gy(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,U$(e,n.length>0?n:void 0)}sC(e,r=>{cC(t,r)})}function J$(t,e){const n=Vw(K$(t,e)),r=zO(t.transactionQueueTree_,e);return hve(r,i=>{TA(t,i)}),TA(t,r),B$(r,i=>{TA(t,i)}),n}function TA(t,e){const n=Gy(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(_t(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(_t(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Kp(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?U$(e,void 0):n.length=s+1,Pu(t.eventQueue_,Vw(e),i);for(let o=0;o<r.length;o++)By(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bve(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Vve(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ga(`Invalid query segment '${n}' in query '${t}'`)}return e}const hU=function(t,e){const n=Gve(t),r=n.namespace;n.domain==="firebase.com"&&jd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Zpe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new e$(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new vr(n.pathString)}},Gve=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Bve(t.substring(u,d)));const f=Vve(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hve=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=pU.charAt(n%64),n=Math.floor(n/64);_t(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=pU.charAt(e[i]);return _t(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+us(this.snapshot.exportVal())}}class t9{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _t(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wve{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new kd;return Ove(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Zp("OnDisconnect.remove",this._path);const e=new kd;return fU(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Zp("OnDisconnect.set",this._path),eT("OnDisconnect.set",e,this._path,!1);const n=new kd;return fU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Zp("OnDisconnect.setWithPriority",this._path),eT("OnDisconnect.setWithPriority",e,this._path,!1),xve("OnDisconnect.setWithPriority",n);const r=new kd;return Lve(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Zp("OnDisconnect.update",this._path),_ve("OnDisconnect.update",e,this._path);const n=new kd;return Dve(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Vn(this._path)?null:_O(this._path)}get ref(){return new Vu(this._repo,this._path)}get _queryIdentifier(){const e=ZF(this._queryParams),n=mO(e);return n==="{}"?"default":n}get _queryObject(){return ZF(this._queryParams)}isEqual(e){if(e=Nh(e),!(e instanceof jO))return!1;const n=this._repo===e._repo,r=xO(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lme(this._path)}}class Vu extends jO{constructor(e,n){super(e,n,new EO,!1)}get parent(){const e=c$(this._path);return e===null?null:new Vu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class my{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new vr(e),r=gy(this.ref,e);return new my(this._node.getChild(n),r,si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new my(i,gy(this.ref,r),si)))}hasChild(e){const n=new vr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ou(t,e){return t=Nh(t),t._checkNotDeleted("ref"),e!==void 0?gy(t._root,e):t._root}function gy(t,e){return t=Nh(t),Bn(t._path)===null?wve("child","path",e):H$("child","path",e),new Vu(t._repo,ki(t._path,e))}function jve(t){return t=Nh(t),new Wve(t._repo,t._path)}function $ve(t,e){t=Nh(t),Zp("push",t._path),eT("push",e,t._path,!0);const n=$$(t._repo),r=Hve(n),i=gy(t,r),s=gy(t,r);let o;return e!=null?o=tT(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Yve(t){return Zp("remove",t._path),tT(t,null)}function tT(t,e){t=Nh(t),Zp("set",t._path),eT("set",e,t._path,!1);const n=new kd;return Ive(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Xve(t){t=Nh(t);const e=new n9(()=>{}),n=new Gw(e);return Rve(t._repo,t,n).then(r=>new my(r,new Vu(t._repo,t._path),t._queryParams.getIndex()))}class Gw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new e9("value",this,new my(e.snapshotNode,new Vu(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new t9(this,e,n):null}matches(e){return e instanceof Gw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class uC{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new t9(this,e,n):null}createEvent(e,n){_t(e.childName!=null,"Child events should have a childName.");const r=gy(new Vu(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new e9(e.type,this,new my(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uC?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $O(t,e,n,r,i){const s=new n9(n,void 0),o=e==="value"?new Gw(s):new uC(e,s);return Nve(t._repo,t,o),()=>X$(t._repo,t,o)}function qve(t,e,n,r){return $O(t,"value",e)}function mU(t,e,n,r){return $O(t,"child_added",e)}function Kve(t,e,n,r){return $O(t,"child_removed",e)}function CA(t,e,n){let r=null;const i=null;e==="value"?r=new Gw(i):e&&(r=new uC(e,i)),X$(t._repo,t,r)}jge(Vu);Kge(Vu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zve="FIREBASE_DATABASE_EMULATOR_HOST",PI={};let Qve=!1;function Jve(t,e,n,r){t.repoInfo_=new e$(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function eye(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||jd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qs("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hU(s,i),a=o.repoInfo,l;typeof process<"u"&&OF&&(l=OF[Zve]),l?(s=`http://${l}?ns=${a.namespace}`,o=hU(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new lme(t.name,t.options,e);bve("Invalid Firebase Database URL",o),Vn(o.path)||jd("Database URL must point to the root of a Firebase Database (not including a child path).");const u=nye(a,t,c,new ame(t,n));return new rye(u,t)}function tye(t,e){const n=PI[e];(!n||n[t.key]!==t)&&jd(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fve(t),delete n[t.key]}function nye(t,e,n,r){let i=PI[e.name];i||(i={},PI[e.name]=i);let s=i[t.toURLString()];return s&&jd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Mve(t,Qve,n,r),i[t.toURLString()]=s,s}class rye{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ave(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vu(this._repo,ir())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jd("Cannot call "+e+" on a deleted database.")}}function iye(t=kpe(),e){const n=Mpe(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ghe("database");r&&sye(n,...r)}return n}function sye(t,e,n,r={}){t=Nh(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&UE(r,s.repoInfo_.emulatorOptions))return;jd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&jd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new YS(YS.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:vhe(r.mockUserToken,t.app.options.projectId);o=new YS(a)}Jve(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oye(t){jpe(Ipe),BE(new Ix("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return eye(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Zv(LF,DF,t),Zv(LF,DF,"esm2017")}Fd.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fd.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};oye();const aye={databaseURL:"https://meshmurmur-default-rtdb.europe-west1.firebasedatabase.app/"},lye={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun.stunprotocol.org:3478"},{urls:"turn:relay1.expressturn.com:3478",username:"efQUQ79N77B5BNVVKF",credential:"N4EAUgpjMzPLrxSS"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:turn.bistri.com:80",credential:"homeo",username:"homeo"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",credential:"webrtc",username:"webrtc"}]},MA={maxNumberOfOutgoingConnections:5,maxNumberOfPeers:10},YO={maxNameLength:10};class cye{}class Hy{constructor(e,n){this.conn=e,this.logger=n}async init(e){}call(e){return!0}isBlocked(){return!1}}class uye extends cye{constructor(n){super();zt(this,"firebaseApp");zt(this,"db");this.peerId=n,this.firebaseApp=Fj(aye),this.db=iye(this.firebaseApp)}async registerPeer(){const n=ou(this.db,`peers/${this.peerId}`);await tT(n,{ready:!0}),jve(n).remove().catch(r=>{r&&console.error("could not establish onDisconnect event",r)})}async getAvailablePeers(){const n=ou(this.db,"peers"),r=await Xve(n);return r.exists()?Object.keys(r.val()).filter(i=>i!==this.peerId):[]}subscribeToPeers(n,r){const i=ou(this.db,"peers");mU(i,s=>{const o=s.key;o&&o!==this.peerId&&n(o)}),Kve(i,s=>{const o=s.key;o&&o!==this.peerId&&r(o)})}unsubscribeFromNewPeers(){const n=ou(this.db,"peers");CA(n,"child_added"),CA(n,"child_removed")}async sendInvite(n){const r=ou(this.db,`peers/${n}/invite`);await tT(r,this.peerId)}async send(n,r){const i=ou(this.db,`peers/${n}/connections/${this.peerId}`);await $ve(i,r)}onInvite(n){const r=ou(this.db,`peers/${this.peerId}/invite`);qve(r,i=>{const s=i.val();s&&n(s)})}on(n,r){const i=ou(this.db,`peers/${this.peerId}/connections/${n}`);mU(i,s=>{const o=s.val();o&&r(o)})}off(n){const r=ou(this.db,`peers/${this.peerId}/connections/${n}`);CA(r,"child_added")}cleanup(n){const r=ou(this.db,`peers/${this.peerId}/connections/${n}`);Yve(r)}}function dye(t){let e=null;return t.forEach(n=>{if(n.type==="candidate-pair"&&n.nominated){const r=t.get(n.localCandidateId),i=t.get(n.remoteCandidateId);if(!r||!i)return;e={type:r.candidateType==="relay"||i.candidateType==="relay"?"TURN":"STUN",local:{type:r.candidateType,address:r.address,ip:r.ip},remote:{type:i.candidateType,address:r.address,ip:i.ip}}}}),{info:e}}function fye(t,e,n,r){if(t.byteLength>n-r)throw new Error(`Payload must be less or equal ${n-r} bytes`);const i=new TextEncoder,s=JSON.stringify(e),o=i.encode(s);if(o.byteLength>r)throw new Error(`Metadata (${o.byteLength} bytes) exceeds ${r} byte limit`);const a=new ArrayBuffer(n),l=new Uint8Array(a);return l.set(o,0),l.set(new Uint8Array(t),r),a}function hye(t,e,n){if(t.byteLength!==e)throw new Error(`Chunk must be exactly ${e} bytes`);const r=new Uint8Array(t,0,n);let i=0;for(;i<n&&r[i]!==0;)i++;const o=new TextDecoder().decode(r.subarray(0,i)),a=JSON.parse(o),l=t.slice(n);return{metadata:a,payload:l}}function pye(t){return typeof t.data=="string"}function mye(t){return typeof t.data=="object"&&"url"in t.data}function vy(t,e=YO.maxNameLength){return t.slice(0,e)}class r9{constructor(e,n,r){zt(this,"channel");if(this.channelType=n,n==="reliable")this.channel=this.createReliable(e);else if(n==="unordered")this.channel=this.createUnordered(e);else if(n==="unreliable")this.channel=this.createUnreliable(e);else throw new Error(`Impossible channel type: ${n}`);this.channel.onopen=()=>r.onopen({channelType:n}),this.channel.onmessage=i=>r.ondata(this.processMessage(i.data)),this.channel.onclose=()=>r.onclose({channelType:n}),this.channel.onerror=i=>r.onerror({channelType:n,error:i})}send(e){this.channel.readyState==="open"&&this.__send(e)}createReliable(e){const n=e.createDataChannel("reliable",{id:1,negotiated:!0,ordered:!0,protocol:"data"});return n.binaryType="arraybuffer",n.bufferedAmountLowThreshold=0,n}createUnordered(e){const n=e.createDataChannel("unordered",{id:2,negotiated:!0,ordered:!1,protocol:"data"});return n.binaryType="arraybuffer",n.bufferedAmountLowThreshold=512*1024*8,n}createUnreliable(e){const n=e.createDataChannel("unreliable",{id:3,negotiated:!0,ordered:!1,protocol:"data",maxRetransmits:0});return n.binaryType="arraybuffer",n.bufferedAmountLowThreshold=0,n}}class gU extends r9{__send(e){this.channel.send(JSON.stringify(e))}processMessage(e){const n=JSON.parse(e);return{channelType:this.channelType,datatype:"json",type:n.type,data:n.data}}}class gye extends r9{constructor(){super(...arguments);zt(this,"CHUNK_SIZE",16*1024);zt(this,"METADATA_SIZE",100)}__send(n){this.channel.send(fye(n.data,n.metadata,this.CHUNK_SIZE,this.METADATA_SIZE))}processMessage(n){const r=hye(n,this.CHUNK_SIZE,this.METADATA_SIZE);return{channelType:this.channelType,datatype:"byte",metadata:r.metadata,data:r.payload}}}class vye{constructor(e,n){zt(this,"reliable");zt(this,"unordered");zt(this,"unreliable");this.reliable=new gU(e,"reliable",n),this.unordered=new gye(e,"unordered",n),this.unreliable=new gU(e,"unreliable",n)}}class yye{constructor(e,n,r,i,s,o,a){zt(this,"pc");zt(this,"polite",!1);zt(this,"makingOffer",!1);zt(this,"ignoreOffer",!1);zt(this,"channel");this.targetPeerId=n,this.signaler=r,this.logger=i,this.onFinalState=s,this.polite=e<this.targetPeerId,this.pc=new RTCPeerConnection(lye),this.channel=new vye(this.pc,{onopen:a,ondata:o,onclose:({channelType:l})=>this.logger.info(`${l} channel closed`),onerror:({error:l})=>this.logger.info(l)}),this.connect()}connect(){this.logger.info(`START CONNECTION AS ${this.polite?"POLITE":"IMPOLITE"} PEER`),this.pc.onconnectionstatechange=()=>{this.pc.connectionState==="connecting"||this.pc.connectionState==="new"||this.onFinalState(this.pc.connectionState)},this.pc.onicecandidateerror=e=>{this.logger.info("Ice candidate error: ",e.errorText)},this.pc.onicecandidate=({candidate:e})=>{e&&(this.signaler.send(this.targetPeerId,{candidate:e.toJSON()}),this.logger.info("Send ice candidate: ",e))},this.pc.onnegotiationneeded=async()=>{var e;try{this.makingOffer=!0,await this.pc.setLocalDescription(),this.signaler.send(this.targetPeerId,{description:(e=this.pc.localDescription)==null?void 0:e.toJSON()}),this.logger.info("Send offer: ",this.pc.localDescription)}catch(n){this.logger.error("Error sending offer:",n)}finally{this.makingOffer=!1}},this.signaler.on(this.targetPeerId,async({description:e,candidate:n})=>{var r;try{if(e){const i=e.type==="offer"&&(this.makingOffer||this.pc.signalingState!=="stable");if(this.ignoreOffer=!this.polite&&i,this.ignoreOffer){this.logger.info("Ignore offer: ",e);return}await this.pc.setRemoteDescription(e),this.logger.info(`Receive ${e.type}: `,e),e.type==="offer"&&(await this.pc.setLocalDescription(),this.signaler.send(this.targetPeerId,{description:(r=this.pc.localDescription)==null?void 0:r.toJSON()}),this.logger.info("Send answer: ",this.pc.localDescription))}else if(n)try{await this.pc.addIceCandidate(n),this.logger.info("Receive ice candidate: ",n)}catch(i){this.ignoreOffer||this.logger.error("Error adding candidate: ",i)}}catch(i){this.logger.error("Error with description receiving: ",i)}})}startDebugListeners(){this.pc.onconnectionstatechange=()=>{this.logger.info("Connection state changed:",this.pc.connectionState)},this.pc.onsignalingstatechange=()=>{this.logger.info("Signaling state changed:",this.pc.signalingState)},this.pc.onicegatheringstatechange=()=>{this.logger.info("ICE gathering state changed:",this.pc.iceGatheringState)}}async getStats(){return await this.pc.getStats(null)}cleanup(){this.pc.close(),this.signaler.off(this.targetPeerId),this.signaler.cleanup(this.targetPeerId)}}class _ye extends Hy{constructor(){super(...arguments);zt(this,"middlewares",{});zt(this,"prioritizedList",[]);zt(this,"initialized",!1)}add(n,r){const i=n.name,s=new n(this.conn,this.logger);return this.middlewares[i]={middleware:s,priority:r},this.updateList(),s}get(n){return this.middlewares[n.name].middleware||null}async init(n){for(const r of this.prioritizedList)await r.init(n);this.initialized=!0}call(n){for(const r of this.prioritizedList)if(!r.call(n))return!1;return!0}isBlocked(){for(const n of this.prioritizedList)if(n.isBlocked())return!0;return!1}updateList(){this.prioritizedList=Object.values(this.middlewares).sort((n,r)=>n.priority-r.priority).map(n=>n.middleware)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XO=BigInt(0),i9=BigInt(1),xye=BigInt(2);function qO(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function KO(t){if(!qO(t))throw new Error("Uint8Array expected")}function AA(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const wye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ZO(t){KO(t);let e="";for(let n=0;n<t.length;n++)e+=wye[t[n]];return e}function s9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?XO:BigInt("0x"+t)}const pd={_0:48,_9:57,A:65,F:70,a:97,f:102};function vU(t){if(t>=pd._0&&t<=pd._9)return t-pd._0;if(t>=pd.A&&t<=pd.F)return t-(pd.A-10);if(t>=pd.a&&t<=pd.f)return t-(pd.a-10)}function o9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=vU(t.charCodeAt(s)),a=vU(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function a9(t){return s9(ZO(t))}function XS(t){return KO(t),s9(ZO(Uint8Array.from(t).reverse()))}function l9(t,e){return o9(t.toString(16).padStart(e*2,"0"))}function RI(t,e){return l9(t,e).reverse()}function md(t,e,n){let r;if(typeof e=="string")try{r=o9(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(qO(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function yU(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];KO(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const PA=t=>typeof t=="bigint"&&XO<=t;function bye(t,e,n){return PA(t)&&PA(e)&&PA(n)&&e<=t&&t<n}function e_(t,e,n,r){if(!bye(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Sye(t){let e;for(e=0;t>XO;t>>=i9,e+=1);return e}const Eye=t=>(xye<<BigInt(t-1))-i9,Tye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||qO(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function QO(t,e,n={}){const r=(i,s,o)=>{const a=Tye[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function _U(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function sm(t){return btoa(String.fromCharCode(...new Uint8Array(t)))}function om(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function nT(t=16){return window.crypto.getRandomValues(new Uint8Array(t))}const JO="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",II=BigInt(JO.length);function xU(t){let e="",n=a9(t);for(;n;)e+=JO[Number(n%II)],n/=II;return e.split("").reverse().join("")||"0"}function Cye(t){let e=0n;for(const i of t)e=e*II+BigInt(JO.indexOf(i));let n=e.toString(16);n=n.length%2!=0?"0"+n:n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length;i+=2)r[i/2]=parseInt(n.slice(i,i+2),16);return r}function Mye(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function c9(t,...e){if(!Mye(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wU(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Aye(t,e){c9(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Xg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function RA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pye(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function u9(t){return typeof t=="string"&&(t=Pye(t)),c9(t),t}class Rye{clone(){return this._cloneInto()}}function Iye(t){const e=r=>t().update(u9(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function kye(t=32){if(Xg&&typeof Xg.getRandomValues=="function")return Xg.getRandomValues(new Uint8Array(t));if(Xg&&typeof Xg.randomBytes=="function")return Xg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Oye(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class Lye extends Rye{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RA(this.buffer)}update(e){wU(this);const{view:n,buffer:r,blockLen:i}=this;e=u9(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=RA(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wU(this),Aye(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Oye(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=RA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const w1=BigInt(2**32-1),kI=BigInt(32);function d9(t,e=!1){return e?{h:Number(t&w1),l:Number(t>>kI&w1)}:{h:Number(t>>kI&w1)|0,l:Number(t&w1)|0}}function Dye(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=d9(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Nye=(t,e)=>BigInt(t>>>0)<<kI|BigInt(e>>>0),Fye=(t,e,n)=>t>>>n,Uye=(t,e,n)=>t<<32-n|e>>>n,zye=(t,e,n)=>t>>>n|e<<32-n,Bye=(t,e,n)=>t<<32-n|e>>>n,Vye=(t,e,n)=>t<<64-n|e>>>n-32,Gye=(t,e,n)=>t>>>n-32|e<<64-n,Hye=(t,e)=>e,Wye=(t,e)=>t,jye=(t,e,n)=>t<<n|e>>>32-n,$ye=(t,e,n)=>e<<n|t>>>32-n,Yye=(t,e,n)=>e<<n-32|t>>>64-n,Xye=(t,e,n)=>t<<n-32|e>>>64-n;function qye(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Kye=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Zye=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Qye=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Jye=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,e0e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),t0e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Dn={fromBig:d9,split:Dye,toBig:Nye,shrSH:Fye,shrSL:Uye,rotrSH:zye,rotrSL:Bye,rotrBH:Vye,rotrBL:Gye,rotr32H:Hye,rotr32L:Wye,rotlSH:jye,rotlSL:$ye,rotlBH:Yye,rotlBL:Xye,add:qye,add3L:Kye,add3H:Zye,add4L:Qye,add4H:Jye,add5H:t0e,add5L:e0e},[n0e,r0e]=Dn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Wf=new Uint32Array(80),jf=new Uint32Array(80);class i0e extends Lye{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:m,Gl:v,Hh:w,Hl:x}=this;return[e,n,r,i,s,o,a,l,c,u,d,f,m,v,w,x]}set(e,n,r,i,s,o,a,l,c,u,d,f,m,v,w,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=m|0,this.Gl=v|0,this.Hh=w|0,this.Hl=x|0}process(e,n){for(let S=0;S<16;S++,n+=4)Wf[S]=e.getUint32(n),jf[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const T=Wf[S-15]|0,C=jf[S-15]|0,M=Dn.rotrSH(T,C,1)^Dn.rotrSH(T,C,8)^Dn.shrSH(T,C,7),I=Dn.rotrSL(T,C,1)^Dn.rotrSL(T,C,8)^Dn.shrSL(T,C,7),O=Wf[S-2]|0,R=jf[S-2]|0,D=Dn.rotrSH(O,R,19)^Dn.rotrBH(O,R,61)^Dn.shrSH(O,R,6),j=Dn.rotrSL(O,R,19)^Dn.rotrBL(O,R,61)^Dn.shrSL(O,R,6),$=Dn.add4L(I,j,jf[S-7],jf[S-16]),B=Dn.add4H($,M,D,Wf[S-7],Wf[S-16]);Wf[S]=B|0,jf[S]=$|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:m,Fl:v,Gh:w,Gl:x,Hh:y,Hl:b}=this;for(let S=0;S<80;S++){const T=Dn.rotrSH(d,f,14)^Dn.rotrSH(d,f,18)^Dn.rotrBH(d,f,41),C=Dn.rotrSL(d,f,14)^Dn.rotrSL(d,f,18)^Dn.rotrBL(d,f,41),M=d&m^~d&w,I=f&v^~f&x,O=Dn.add5L(b,C,I,r0e[S],jf[S]),R=Dn.add5H(O,y,T,M,n0e[S],Wf[S]),D=O|0,j=Dn.rotrSH(r,i,28)^Dn.rotrBH(r,i,34)^Dn.rotrBH(r,i,39),$=Dn.rotrSL(r,i,28)^Dn.rotrBL(r,i,34)^Dn.rotrBL(r,i,39),B=r&s^r&a^s&a,Q=i&o^i&l^o&l;y=w|0,b=x|0,w=m|0,x=v|0,m=d|0,v=f|0,{h:d,l:f}=Dn.add(c|0,u|0,R|0,D|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const ne=Dn.add3L(D,$,Q);r=Dn.add3H(ne,R,j,B),i=ne|0}({h:r,l:i}=Dn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Dn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Dn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Dn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Dn.add(this.Eh|0,this.El|0,d|0,f|0),{h:m,l:v}=Dn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:w,l:x}=Dn.add(this.Gh|0,this.Gl|0,w|0,x|0),{h:y,l:b}=Dn.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,l,c,u,d,f,m,v,w,x,y,b)}roundClean(){Wf.fill(0),jf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const s0e=Iye(()=>new i0e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=BigInt(0),Ii=BigInt(1),Gp=BigInt(2),o0e=BigInt(3),OI=BigInt(4),bU=BigInt(5),SU=BigInt(8);function ls(t,e){const n=t%e;return n>=Ps?n:e+n}function a0e(t,e,n){if(e<Ps)throw new Error("invalid exponent, negatives unsupported");if(n<=Ps)throw new Error("invalid modulus");if(n===Ii)return Ps;let r=Ii;for(;e>Ps;)e&Ii&&(r=r*t%n),t=t*t%n,e>>=Ii;return r}function au(t,e,n){let r=t;for(;e-- >Ps;)r*=r,r%=n;return r}function EU(t,e){if(t===Ps)throw new Error("invert: expected non-zero number");if(e<=Ps)throw new Error("invert: expected positive modulus, got "+e);let n=ls(t,e),r=e,i=Ps,s=Ii;for(;n!==Ps;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==Ii)throw new Error("invert: does not exist");return ls(i,e)}function l0e(t){const e=(t-Ii)/Gp;let n,r,i;for(n=t-Ii,r=0;n%Gp===Ps;n/=Gp,r++);for(i=Gp;i<t&&a0e(i,e,t)!==t-Ii;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Ii)/OI;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Ii)/Gp;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let m=1;for(let w=a.sqr(f);m<c&&!a.eql(w,a.ONE);m++)w=a.sqr(w);const v=a.pow(u,Ii<<BigInt(c-m-1));u=a.sqr(v),d=a.mul(d,v),f=a.mul(f,u),c=m}return d}}function c0e(t){if(t%OI===o0e){const e=(t+Ii)/OI;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%SU===bU){const e=(t-bU)/SU;return function(r,i){const s=r.mul(i,Gp),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Gp),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return l0e(t)}const u0e=(t,e)=>(ls(t,e)&Ii)===Ii,d0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function f0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=d0e.reduce((r,i)=>(r[i]="function",r),e);return QO(t,n)}function h0e(t,e,n){if(n<Ps)throw new Error("invalid exponent, negatives unsupported");if(n===Ps)return t.ONE;if(n===Ii)return e;let r=t.ONE,i=e;for(;n>Ps;)n&Ii&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ii;return r}function p0e(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function f9(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function h9(t,e,n=!1,r={}){if(t<=Ps)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=f9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Eye(i),ZERO:Ps,ONE:Ii,create:l=>ls(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ps<=l&&l<t},is0:l=>l===Ps,isOdd:l=>(l&Ii)===Ii,neg:l=>ls(-l,t),eql:(l,c)=>l===c,sqr:l=>ls(l*l,t),add:(l,c)=>ls(l+c,t),sub:(l,c)=>ls(l-c,t),mul:(l,c)=>ls(l*c,t),pow:(l,c)=>h0e(a,l,c),div:(l,c)=>ls(l*EU(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>EU(l,t),sqrt:r.sqrt||(l=>(o||(o=c0e(t)),o(a,l))),invertBatch:l=>p0e(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?RI(l,s):l9(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?XS(l):a9(l)}});return Object.freeze(a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TU=BigInt(0),b1=BigInt(1);function IA(t,e){const n=e.negate();return t?n:e}function p9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function kA(t,e){p9(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function m0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function g0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const OA=new WeakMap,m9=new WeakMap;function LA(t){return m9.get(t)||1}function v0e(t,e){return{constTimeNegate:IA,hasPrecomputes(n){return LA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>TU;)r&b1&&(i=i.add(s)),s=s.double(),r>>=b1;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=kA(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=kA(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<s;f++){const m=f*o;let v=Number(i&c);i>>=d,v>o&&(v-=u,i+=b1);const w=m,x=m+Math.abs(v)-1,y=f%2!==0,b=v<0;v===0?l=l.add(IA(y,r[w])):a=a.add(IA(b,r[x]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=kA(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(i===TU)break;let m=Number(i&l);if(i>>=u,m>a&&(m-=c,i+=b1),m===0)continue;let v=r[f+Math.abs(m)-1];m<0&&(v=v.negate()),s=s.add(v)}return s},getPrecomputes(n,r,i){let s=OA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&OA.set(r,i(s))),s},wNAFCached(n,r,i){const s=LA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=LA(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){p9(r,e),m9.set(n,r),OA.delete(n)}}}function y0e(t,e,n,r){if(m0e(n,t),g0e(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Sye(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=c;d>=0;d-=o){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],w=Number(v>>BigInt(d)&BigInt(a));l[w]=l[w].add(n[m])}let f=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),f=f.add(v);if(u=u.add(f),d!==0)for(let m=0;m<o;m++)u=u.double()}return u}function _0e(t){return f0e(t.Fp),QO(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...f9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oc=BigInt(0),aa=BigInt(1),S1=BigInt(2),x0e=BigInt(8),w0e={zip215:!0};function b0e(t){const e=_0e(t);return QO(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function S0e(t){const e=b0e(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=S1<<BigInt(a*8)-aa,u=n.create,d=h9(e.n,e.nBitLength),f=e.uvRatio||((K,V)=>{try{return{isValid:!0,value:n.sqrt(K*n.inv(V))}}catch{return{isValid:!1,value:oc}}}),m=e.adjustScalarBytes||(K=>K),v=e.domain||((K,V,G)=>{if(AA("phflag",G),V.length||G)throw new Error("Contexts/pre-hash are not supported");return K});function w(K,V){e_("coordinate "+K,V,oc,c)}function x(K){if(!(K instanceof S))throw new Error("ExtendedPoint expected")}const y=_U((K,V)=>{const{ex:G,ey:W,ez:F}=K,U=K.is0();V==null&&(V=U?x0e:n.inv(F));const q=u(G*V),te=u(W*V),re=u(F*V);if(U)return{x:oc,y:aa};if(re!==aa)throw new Error("invZ was invalid");return{x:q,y:te}}),b=_U(K=>{const{a:V,d:G}=e;if(K.is0())throw new Error("bad point: ZERO");const{ex:W,ey:F,ez:U,et:q}=K,te=u(W*W),re=u(F*F),le=u(U*U),fe=u(le*le),ye=u(te*V),se=u(le*u(ye+re)),ve=u(fe+u(G*u(te*re)));if(se!==ve)throw new Error("bad point: equation left != right (1)");const Se=u(W*F),pe=u(U*q);if(Se!==pe)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(V,G,W,F){this.ex=V,this.ey=G,this.ez=W,this.et=F,w("x",V),w("y",G),w("z",W),w("t",F),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(V){if(V instanceof S)throw new Error("extended point not allowed");const{x:G,y:W}=V||{};return w("x",G),w("y",W),new S(G,W,aa,u(G*W))}static normalizeZ(V){const G=n.invertBatch(V.map(W=>W.ez));return V.map((W,F)=>W.toAffine(G[F])).map(S.fromAffine)}static msm(V,G){return y0e(S,d,V,G)}_setWindowSize(V){M.setWindowSize(this,V)}assertValidity(){b(this)}equals(V){x(V);const{ex:G,ey:W,ez:F}=this,{ex:U,ey:q,ez:te}=V,re=u(G*te),le=u(U*F),fe=u(W*te),ye=u(q*F);return re===le&&fe===ye}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:V}=e,{ex:G,ey:W,ez:F}=this,U=u(G*G),q=u(W*W),te=u(S1*u(F*F)),re=u(V*U),le=G+W,fe=u(u(le*le)-U-q),ye=re+q,se=ye-te,ve=re-q,Se=u(fe*se),pe=u(ye*ve),Z=u(fe*ve),me=u(se*ye);return new S(Se,pe,me,Z)}add(V){x(V);const{a:G,d:W}=e,{ex:F,ey:U,ez:q,et:te}=this,{ex:re,ey:le,ez:fe,et:ye}=V;if(G===BigInt(-1)){const je=u((U-F)*(le+re)),ke=u((U+F)*(le-re)),nt=u(ke-je);if(nt===oc)return this.double();const ie=u(q*S1*ye),J=u(te*S1*fe),he=J+ie,Ne=ke+je,ze=J-ie,He=u(he*nt),et=u(Ne*ze),Ze=u(he*ze),Oe=u(nt*Ne);return new S(He,et,Oe,Ze)}const se=u(F*re),ve=u(U*le),Se=u(te*W*ye),pe=u(q*fe),Z=u((F+U)*(re+le)-se-ve),me=pe-Se,ue=pe+Se,_e=u(ve-G*se),ce=u(Z*me),Xe=u(ue*_e),Ae=u(Z*_e),Ge=u(me*ue);return new S(ce,Xe,Ge,Ae)}subtract(V){return this.add(V.negate())}wNAF(V){return M.wNAFCached(this,V,S.normalizeZ)}multiply(V){const G=V;e_("scalar",G,aa,r);const{p:W,f:F}=this.wNAF(G);return S.normalizeZ([W,F])[0]}multiplyUnsafe(V,G=S.ZERO){const W=V;return e_("scalar",W,oc,r),W===oc?C:this.is0()||W===aa?this:M.wNAFCachedUnsafe(this,W,S.normalizeZ,G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(V){return y(this,V)}clearCofactor(){const{h:V}=e;return V===aa?this:this.multiplyUnsafe(V)}static fromHex(V,G=!1){const{d:W,a:F}=e,U=n.BYTES;V=md("pointHex",V,U),AA("zip215",G);const q=V.slice(),te=V[U-1];q[U-1]=te&-129;const re=XS(q),le=G?c:n.ORDER;e_("pointHex.y",re,oc,le);const fe=u(re*re),ye=u(fe-aa),se=u(W*fe-F);let{isValid:ve,value:Se}=f(ye,se);if(!ve)throw new Error("Point.fromHex: invalid y coordinate");const pe=(Se&aa)===aa,Z=(te&128)!==0;if(!G&&Se===oc&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==pe&&(Se=u(-Se)),S.fromAffine({x:Se,y:re})}static fromPrivateKey(V){return R(V).point}toRawBytes(){const{x:V,y:G}=this.toAffine(),W=RI(G,n.BYTES);return W[W.length-1]|=V&aa?128:0,W}toHex(){return ZO(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,aa,u(e.Gx*e.Gy)),S.ZERO=new S(oc,aa,aa,oc);const{BASE:T,ZERO:C}=S,M=v0e(S,a*8);function I(K){return ls(K,r)}function O(K){return I(XS(K))}function R(K){const V=n.BYTES;K=md("private key",K,V);const G=md("hashed private key",s(K),2*V),W=m(G.slice(0,V)),F=G.slice(V,2*V),U=O(W),q=T.multiply(U),te=q.toRawBytes();return{head:W,prefix:F,scalar:U,point:q,pointBytes:te}}function D(K){return R(K).pointBytes}function j(K=new Uint8Array,...V){const G=yU(...V);return O(s(v(G,md("context",K),!!i)))}function $(K,V,G={}){K=md("message",K),i&&(K=i(K));const{prefix:W,scalar:F,pointBytes:U}=R(V),q=j(G.context,W,K),te=T.multiply(q).toRawBytes(),re=j(G.context,te,U,K),le=I(q+re*F);e_("signature.s",le,oc,r);const fe=yU(te,RI(le,n.BYTES));return md("result",fe,n.BYTES*2)}const B=w0e;function Q(K,V,G,W=B){const{context:F,zip215:U}=W,q=n.BYTES;K=md("signature",K,2*q),V=md("message",V),G=md("publicKey",G,q),U!==void 0&&AA("zip215",U),i&&(V=i(V));const te=XS(K.slice(q,2*q));let re,le,fe;try{re=S.fromHex(G,U),le=S.fromHex(K.slice(0,q),U),fe=T.multiplyUnsafe(te)}catch{return!1}if(!U&&re.isSmallOrder())return!1;const ye=j(F,le.toRawBytes(),re.toRawBytes(),V);return le.add(re.multiplyUnsafe(ye)).subtract(fe).clearCofactor().equals(S.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:D,sign:$,verify:Q,ExtendedPoint:S,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>o(n.BYTES),precompute(K=8,V=S.BASE){return V._setWindowSize(K),V.multiply(BigInt(3)),V}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eL=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),CU=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const E0e=BigInt(1),MU=BigInt(2);BigInt(3);const T0e=BigInt(5),C0e=BigInt(8);function M0e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=eL,a=t*t%s*t%s,l=au(a,MU,s)*a%s,c=au(l,E0e,s)*t%s,u=au(c,T0e,s)*c%s,d=au(u,e,s)*u%s,f=au(d,n,s)*d%s,m=au(f,r,s)*f%s,v=au(m,i,s)*m%s,w=au(v,i,s)*m%s,x=au(w,e,s)*u%s;return{pow_p_5_8:au(x,MU,s)*t%s,b2:a}}function A0e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function P0e(t,e){const n=eL,r=ls(e*e*e,n),i=ls(r*r*e,n),s=M0e(t*i).pow_p_5_8;let o=ls(t*r*s,n);const a=ls(e*o*o,n),l=o,c=ls(o*CU,n),u=a===t,d=a===ls(-t,n),f=a===ls(-t*CU,n);return u&&(o=l),(d||f)&&(o=c),u0e(o,n)&&(o=ls(-o,n)),{isValid:u||d,value:o}}const R0e=h9(eL,void 0,!0),I0e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:R0e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:C0e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:s0e,randomBytes:kye,adjustScalarBytes:A0e,uvRatio:P0e},rT=S0e(I0e);function k0e(t){return xU(typeof t=="string"?om(t):t)}class g9{constructor(e){zt(this,"key");this.key=typeof e=="string"?this.importKey(e):e}importKey(e){return om(e)}exportKey(){return sm(this.key)}}class v9 extends g9{constructor(e){super(e)}verify(e,n){return rT.verify(typeof e=="string"?om(e):e,typeof n=="string"?new TextEncoder().encode(n):n,this.key)}}class O0e extends g9{constructor(e){super(e)}sign(e){return rT.sign(typeof e=="string"?new TextEncoder().encode(e):e,this.key)}}class AU{constructor(e){zt(this,"publicKey");zt(this,"privateKey");const{publicKey:n,privateKey:r}=e?JSON.parse(e):this.generateKeyPair();this.publicKey=new v9(n),this.privateKey=new O0e(r)}generateKeyPair(){const e=rT.utils.randomPrivateKey(),n=rT.getPublicKey(e);return{privateKey:e,publicKey:n}}exportKeyPair(){return JSON.stringify({publicKey:this.publicKey.exportKey(),privateKey:this.privateKey.exportKey()})}sign(e){return this.privateKey.sign(e)}}class L0e extends Hy{constructor(){super(...arguments);zt(this,"randomNonce",nT());zt(this,"publicKeyManager",new v9(Cye(this.conn.targetPeerId)));zt(this,"timeout",4e3);zt(this,"timeoutId",0);zt(this,"resolveInit",null);zt(this,"initPromise",null);zt(this,"verified",!1)}async init(n){if(n.channelType==="reliable"){this.timeoutId=Number(setTimeout(()=>this.blockPeer(),this.timeout));const r=sm(this.randomNonce);this.logger.info("Signature request sent: ",r),this.conn.channel.reliable.send({data:r,type:"signature-request"})}return this.initPromise||(this.initPromise=new Promise(r=>this.resolveInit=r)),this.initPromise}blockPeer(){this.verified||(clearInterval(this.timeoutId),this.logger.warn("Signature verification failed!"),this.conn.disconnect(!0))}call(n){if(this.verified)return!0;if(n.datatype!=="json"||n.channelType!=="reliable")return!1;if(n.type==="signature-request"){this.logger.info("Signature request received: ",n.data);const r=sm(tL.sign(om(n.data)));this.logger.info("Signature response sent: ",r),this.conn.channel.reliable.send({data:r,type:"signature-response"})}else if(n.type==="signature-response")this.logger.info("Signature response received: ",n.data),this.verified=this.publicKeyManager.verify(n.data,this.randomNonce),this.verified?(this.resolveInit?this.resolveInit():console.error("Signature verification succeeded before initialization!"),this.logger.success("Signature verification succeeded!")):this.blockPeer();else return this.verified;return!1}isBlocked(){return!this.verified}}class LI extends Hy{constructor(){super(...arguments);zt(this,"chunkSize",0);zt(this,"state","idle");zt(this,"received",{chunks:[],percent:0,timestamp:0});zt(this,"fileMetadata",null);zt(this,"onFileComplete");zt(this,"onFileProgress")}async init(n){n.channelType==="reliable"&&(this.chunkSize=this.conn.channel.unordered.CHUNK_SIZE-this.conn.channel.unordered.METADATA_SIZE)}call(n){if(n.datatype==="json"&&n.channelType==="reliable"){if(n.type==="file-metadata")return this.handleFileMetadata(n),!1}else if(n.datatype==="byte"&&n.channelType==="unordered")return this.handleFileChunk(n),!1;return!0}handleFileMetadata(n){var r;this.state==="idle"&&(this.fileMetadata=n.data,this.received={chunks:[],percent:0,timestamp:new Date().getTime()},(r=this.onFileProgress)==null||r.call(this,{title:`Receiving from ${vy(this.conn.targetPeerId)} (Chunking)`,progress:0,bitrate:0}),this.state="receiving",this.logger.info(`Receiving file: ${n.data.fileName}`))}showProgress(n,r,i,s,o,a=!1){var c;const l=Math.round(r/i*100);return l>n&&((c=this.onFileProgress)==null||c.call(this,{title:`${o?"Sending to":"Receiving from"} ${vy(this.conn.targetPeerId)} ${r}/${i} ${a?"(Chunking)":""}`,progress:l,bitrate:Math.round(r*this.chunkSize/1024/8/((new Date().getTime()-s)/1e3))})),l}addChunk(n){this.fileMetadata&&(this.received.chunks.push(n),this.received.percent=this.showProgress(this.received.percent,this.received.chunks.length,this.fileMetadata.chunks,this.received.timestamp,!1))}handleFileChunk(n){this.state!=="receiving"||!this.fileMetadata||(this.addChunk(n),this.received.chunks.length===this.fileMetadata.chunks&&this.assembleFile())}assembleFile(){var i;if(!this.fileMetadata)return;this.received.chunks.sort((s,o)=>s.metadata.chunkId-o.metadata.chunkId);const n=new Blob(this.received.chunks.map(s=>s.data),{type:this.fileMetadata.fileType}),r=URL.createObjectURL(n);(i=this.onFileComplete)==null||i.call(this,{data:{...this.fileMetadata,url:r}}),this.state="idle",this.logger.info(`File ${this.fileMetadata.fileName} received`)}splitToChunks(n){return new Promise((r,i)=>{var f;let s=0;const o=new Date().getTime();(f=this.onFileProgress)==null||f.call(this,{title:"Chunking",progress:0,bitrate:0});let a=0;const l=[],c=Math.ceil(n.size/this.chunkSize),u=new FileReader;u.onload=m=>{var v;((v=m.target)==null?void 0:v.result)instanceof ArrayBuffer&&(l.push(m.target.result),a+=m.target.result.byteLength,s=this.showProgress(s,l.length,c,o,!0,!0),a<n.size?d():r(l))};const d=()=>{const m=n.slice(a,a+this.chunkSize);u.readAsArrayBuffer(m)};d()})}sendLargeData(n){return new Promise((r,i)=>{var c;let s=0,o=0;const a=new Date().getTime();(c=this.onFileProgress)==null||c.call(this,{title:"Sending",progress:0,bitrate:0}),this.conn.channel.unordered.channel.onbufferedamountlow=()=>l();const l=()=>{s<n.length?(this.conn.channel.unordered.send({data:n[s],metadata:{chunkId:s}}),++s,o=this.showProgress(o,s,n.length,a,!0),this.conn.channel.unordered.channel.bufferedAmount<=this.conn.channel.unordered.channel.bufferedAmountLowThreshold&&l()):(this.conn.channel.unordered.channel.onbufferedamountlow=null,r())};l()})}async sendFile(n){if(this.state!=="idle")return this.logger.warn("Cannot send file while receiving!");this.logger.info(`Sending file: ${n.name}, Size: ${n.size} bytes`);const r={type:"file-metadata",data:{fileName:n.name,fileSize:n.size,fileType:n.type,chunks:Math.ceil(n.size/this.chunkSize)}};this.conn.channel.reliable.send(r),await this.sendLargeData(await this.splitToChunks(n)),this.logger.info("File transfer completed!")}}class DI extends Hy{constructor(){super(...arguments);zt(this,"onText")}call(n){var r;return n.datatype!=="json"||n.channelType!=="reliable"?!0:n.type==="text"?((r=this.onText)==null||r.call(this,{data:n.data}),!1):!0}sendText(n){this.conn.channel.reliable.send({data:n,type:"text"})}}class NI extends Hy{constructor(){super(...arguments);zt(this,"lastTypingEventSent",0);zt(this,"typingDebounceDelay",300);zt(this,"typingTimeout",2e3);zt(this,"typingTimeoutId",null);zt(this,"isTargetPeerTyping",!1);zt(this,"onTyping")}call(n){return n.datatype!=="json"||n.channelType!=="unreliable"?!0:n.type==="typing-event"?(this.handleTypingEvent(),!1):!0}handleTypingEvent(){var n;this.resetTypingTimeout(),this.isTargetPeerTyping||(this.isTargetPeerTyping=!0,(n=this.onTyping)==null||n.call(this,{peerId:this.conn.targetPeerId,typing:this.isTargetPeerTyping}))}resetTypingTimeout(){this.typingTimeoutId&&clearTimeout(this.typingTimeoutId),this.typingTimeoutId=setTimeout(()=>{var n;this.isTargetPeerTyping=!1,(n=this.onTyping)==null||n.call(this,{peerId:this.conn.targetPeerId,typing:this.isTargetPeerTyping})},this.typingTimeout)}emitTypingEvent(){const n=Date.now();n-this.lastTypingEventSent>this.typingDebounceDelay&&(this.sendTypingNotification(),this.lastTypingEventSent=n)}sendTypingNotification(){this.conn.channel.unreliable.send({type:"typing-event",data:null})}}class qS extends Hy{constructor(){super(...arguments);zt(this,"initialized",!1);zt(this,"peerNickname","");zt(this,"targetPeerNickname","")}async init(n){n.channelType==="reliable"&&(this.sendNickname(),this.initialized=!0)}sendNickname(){this.peerNickname&&this.conn.channel.reliable.send({type:"nickname",data:this.peerNickname})}call(n){return n.datatype!=="json"||n.channelType!=="reliable"?!0:n.type==="nickname"?(this.targetPeerNickname=n.data,!1):!0}setNickname(n){this.peerNickname!==n&&(this.peerNickname=n,this.initialized&&this.sendNickname())}}class D0e{constructor(e,n,r,i,s,o=3e4){zt(this,"connection");zt(this,"managerMiddleware");zt(this,"connected",!1);zt(this,"connectionType","");zt(this,"onData",e=>{this.managerMiddleware.call(e)&&this.logger.warn("Not handled data:",e)});zt(this,"onChannelOpen",async e=>{this.logger.info(`${e.channelType} data channel opened!`),await this.managerMiddleware.init(e)});zt(this,"onFinalState",async e=>{if(this.signaler.cleanup(this.targetPeerId),e==="connected"){this.connected=!0;const n=await this.connection.getStats(),{info:r}=dye(n);r&&(this.logger.info("Candidates info: ",r),this.logger.success(`Connection is using ${r.type} server.`),this.connectionType=r.type),this.logger.success("Successfully connected to peer!")}else this.disconnect(),this.logger.error(`Error in connection to peer: ${e}!`)});this.peerId=e,this.targetPeerId=n,this.logger=r,this.signaler=i,this.onClose=s,this.timeout=o,this.managerMiddleware=new _ye(this,this.logger),this.managerMiddleware.add(L0e,1),this.managerMiddleware.add(LI,2),this.managerMiddleware.add(DI,3),this.managerMiddleware.add(NI,4),this.managerMiddleware.add(qS,5),this.connection=this.connect()}connect(){return setTimeout(()=>{this.connected||this.onFinalState("timeout")},this.timeout),new yye(this.peerId,this.targetPeerId,this.signaler,this.logger,this.onFinalState,this.onData,this.onChannelOpen)}get channel(){return this.connection.channel}disconnect(e=!1){this.connection.cleanup(),this.onClose(e)}}function N0e(t,e){return Array.from(t).sort(()=>Math.random()-.5).slice(0,Math.min(e,t.size))}class F0e{constructor(e){zt(this,"onCompleteData");zt(this,"onFileProgress");zt(this,"onTyping");zt(this,"nickname","");zt(this,"associatedNicknames",{});this.connector=e}registerCallbacksAndData(e){const n=this.connector.connections[e].managerMiddleware.get(DI),r=this.connector.connections[e].managerMiddleware.get(LI),i=this.connector.connections[e].managerMiddleware.get(NI),s=this.connector.connections[e].managerMiddleware.get(qS),o=this.targetPeerNickname(e);n&&(n.onText=a=>{var l;(l=this.onCompleteData)==null||l.call(this,{...a,peerId:e,nickname:o})}),r&&(r.onFileComplete=a=>{var l;(l=this.onCompleteData)==null||l.call(this,{...a,peerId:e,nickname:o})},r.onFileProgress=a=>{var l;return(l=this.onFileProgress)==null?void 0:l.call(this,a)}),i&&(i.onTyping=a=>{var l;return(l=this.onTyping)==null?void 0:l.call(this,a)}),s&&this.nickname&&s.setNickname(this.nickname)}sendText(e){var n;for(const r of this.connector.connectedPeers)(n=r.managerMiddleware.get(DI))==null||n.sendText(e)}sendFile(e){return Promise.all(this.connector.connectedPeers.map(async n=>{var r;return(r=n.managerMiddleware.get(LI))==null?void 0:r.sendFile(e)}))}emitTypingEvent(){var e;for(const n of this.connector.connectedPeers)(e=n.managerMiddleware.get(NI))==null||e.emitTypingEvent()}sendNickname(e){var n;this.nickname=e;for(const r of this.connector.peers)(n=r.managerMiddleware.get(qS))==null||n.setNickname(this.nickname)}targetPeerNickname(e){var i;if(!(e in this.connector.connections))return vy(e);const n=(i=this.connector.connections[e].managerMiddleware.get(qS))==null?void 0:i.targetPeerNickname,r=this.associatedNicknames[e];return n&&r?`${n}#${r}`:n?`${n}`:r?`${r}`:vy(e)}}class U0e{constructor(e,n){zt(this,"signaler");zt(this,"connections",{});zt(this,"actions");zt(this,"blackList",new Set);zt(this,"potentialPeers",new Set);this.peerId=e,this.logger=n,this.actions=new F0e(this),this.signaler=new uye(e)}async init(){await this.signaler.registerPeer(),this.logger.info("Registered peer:",this.peerId);for(const e of await this.signaler.getAvailablePeers())this.potentialPeers.add(e);for(const e of N0e(this.potentialPeers,MA.maxNumberOfPeers))this.createConnection(e);this.signaler.onInvite(e=>{this.createConnection(e,!1)}),this.signaler.subscribeToPeers(e=>{this.createConnection(e)},e=>{this.potentialPeers.delete(e)})}createConnection(e,n=!0){this.blackList.has(e)||e in this.connections||this.peers.length>=MA.maxNumberOfPeers||n&&this.peers.length>=MA.maxNumberOfOutgoingConnections||(this.potentialPeers.add(e),n?(this.signaler.sendInvite(e),this.logger.info("Send invite to:",e)):this.logger.info("Received invite from:",e),this.connections[e]=new D0e(this.peerId,e,this.logger,this.signaler,this.createOnClose(e)),this.actions.registerCallbacksAndData(e))}createOnClose(e){return n=>{delete this.connections[e],n&&this.blackList.add(e)}}get peers(){return Object.values(this.connections)}get connectedPeers(){return this.peers.filter(e=>e.connected)}get potentialPeersCount(){return this.potentialPeers.size}cleanup(){}}function E1(...t){return t.map(e=>{if(typeof e=="object"&&e!==null)try{return JSON.stringify(e,null,2)}catch{return"[Circular Object]"}return String(e)}).join(" ")}class z0e{constructor(){zt(this,"logs",[]);zt(this,"onLog")}success(...e){var n;this.logs.push({text:E1(...e),type:"success"}),(n=this.onLog)==null||n.call(this,this.logs[this.logs.length-1])}info(...e){var n;this.logs.push({text:E1(...e),type:"info"}),(n=this.onLog)==null||n.call(this,this.logs[this.logs.length-1])}warn(...e){var n;this.logs.push({text:E1(...e),type:"warn"}),(n=this.onLog)==null||n.call(this,this.logs[this.logs.length-1])}error(...e){var n;this.logs.push({text:E1(...e),type:"error"}),(n=this.onLog)==null||n.call(this,this.logs[this.logs.length-1])}setOnLog(e){this.onLog=e;for(const n of this.logs)this.onLog(n)}}function B0e(){if("Notification"in window){if(Notification.permission==="granted")return;Notification.permission!=="denied"&&Notification.requestPermission()}}function V0e(t){"Notification"in window&&Notification.permission==="granted"&&new Notification(t)}class G0e{constructor(e="SecureStore",n="EncryptedData"){zt(this,"dbVersion",1);this.dbName=e,this.storeName=n}async openDB(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=i=>{const s=i.target.result;s.objectStoreNames.contains(this.storeName)||s.createObjectStore(this.storeName,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>n(new Error("IndexedDB initialization failed"))})}async storeData(e,n){const r=await this.openDB();return new Promise((i,s)=>{const l=r.transaction(this.storeName,"readwrite").objectStore(this.storeName).put({key:e,...n});l.onsuccess=()=>i(),l.onerror=()=>s(new Error("Data storage failed"))})}async retrieveData(e){const n=await this.openDB();return new Promise((r,i)=>{const a=n.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);a.onsuccess=()=>r(a.result||null),a.onerror=()=>i(new Error("Data retrieval failed"))})}async deleteData(e){const n=await this.openDB();return new Promise((r,i)=>{const a=n.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);a.onsuccess=()=>r("success"),a.onerror=()=>i(new Error("Data deletion failed"))})}async deleteDB(){indexedDB.deleteDatabase("SecureStore")}}class H0e{constructor(e){zt(this,"pbkdf2Iterations",6e5);zt(this,"saltLength",32);zt(this,"ivLength",16);this.passphrase=e}async deriveKey(e){const n=new TextEncoder,r=await window.crypto.subtle.importKey("raw",n.encode(this.passphrase),"PBKDF2",!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:this.pbkdf2Iterations,hash:"SHA-384"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encrypt(e){const n=nT(this.saltLength),r=nT(this.ivLength),i=await this.deriveKey(n),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e));return{salt:sm(n),iv:sm(r),ciphertext:sm(o)}}async decrypt(e){const n=om(e.salt),r=om(e.iv),i=om(e.ciphertext),s=await this.deriveKey(new Uint8Array(n)),o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},s,i);return new TextDecoder().decode(o)}}class W0e{constructor(e){zt(this,"db");zt(this,"crypto");this.passphrase=e,this.db=new G0e,this.crypto=new H0e(e)}async storeSecureData(e,n){const r=await this.crypto.encrypt(n);await this.db.storeData(e,{encrypted:r,created:Date.now()})}async retrieveSecureData(e){const n=await this.db.retrieveData(e);return!n||!("encrypted"in n)?null:this.crypto.decrypt(n.encrypted)}async deleteSecureData(e){await this.db.deleteData(e)}async deleteDB(){await this.db.deleteDB()}}class j0e{constructor(e){zt(this,"storage");this.storage=new W0e(e)}async retrievePeerKeys(){try{return await this.storage.retrieveSecureData("peer-keys")}catch{return null}}async storePeerKeys(e){await this.storage.storeSecureData("peer-keys",e)}}window.DOCUMENT_VISIBLE=!0;window.SCROLL_TO_BOTTOM=!0;document.addEventListener("visibilitychange",()=>{window.DOCUMENT_VISIBLE=!document.hidden});const $0e="Alpha v1.1.0";B0e();let KS=localStorage.getItem("passphrase");KS||(KS=sm(nT()),localStorage.setItem("passphrase",KS));const y9=new j0e(KS),iT=await y9.retrievePeerKeys();iT||console.log("WRONG PASSPHRASE");const tL=iT?new AU(iT):new AU;iT||await y9.storePeerKeys(tL.exportKeyPair());const Vx=k0e(tL.publicKey.exportKey()),_9=new z0e,As=new U0e(Vx,_9);await As.init();const Y0e=()=>Y.jsxs(que,{marginLeft:"20px",orientation:"horizontal",maxW:"15",children:[Y.jsxs(m1,{children:[Y.jsx(g1,{children:"App version"}),Y.jsx(v1,{children:$0e})]}),Y.jsxs(m1,{children:[Y.jsx(g1,{children:"PeerId"}),Y.jsx(v1,{children:Vx})]}),Y.jsxs(m1,{children:[Y.jsx(g1,{children:"Potential peers"}),Y.jsx(v1,{children:As.potentialPeersCount})]}),Y.jsxs(m1,{children:[Y.jsx(g1,{children:"Connected peers"}),Y.jsx(v1,{children:As.connectedPeers.length})]})]});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const dC="154",x9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},X0e={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},w9=0,FI=1,b9=2,q0e=3,S9=0,fC=1,ox=2,pc=3,Ru=0,yo=1,ri=2,K0e=2,Ud=0,am=1,UI=2,zI=3,BI=4,E9=5,Hp=100,T9=101,C9=102,VI=103,GI=104,M9=200,A9=201,P9=202,R9=203,nL=204,rL=205,I9=206,k9=207,O9=208,L9=209,D9=210,N9=0,F9=1,U9=2,sT=3,z9=4,B9=5,V9=6,G9=7,Hw=0,H9=1,W9=2,Ec=0,j9=1,$9=2,Y9=3,iL=4,X9=5,hC=300,Mh=301,Ah=302,Gx=303,Hx=304,Wy=306,Wx=1e3,go=1001,jx=1002,Pi=1003,oT=1004,Z0e=1004,ax=1005,Q0e=1005,Xr=1006,sL=1007,J0e=1007,Ph=1008,e_e=1008,Su=1009,q9=1010,K9=1011,pC=1012,oL=1013,Dd=1014,yu=1015,yy=1016,aL=1017,lL=1018,hh=1020,Z9=1021,ha=1023,Q9=1024,J9=1025,ph=1026,Sm=1027,e7=1028,cL=1029,t7=1030,uL=1031,dL=1033,ZS=33776,QS=33777,JS=33778,eE=33779,HI=35840,WI=35841,jI=35842,$I=35843,n7=36196,YI=37492,XI=37496,qI=37808,KI=37809,ZI=37810,QI=37811,JI=37812,e2=37813,t2=37814,n2=37815,r2=37816,i2=37817,s2=37818,o2=37819,a2=37820,l2=37821,tE=36492,r7=36283,c2=36284,u2=36285,d2=36286,i7=2200,s7=2201,o7=2202,$x=2300,Yx=2301,nE=2302,Qp=2400,Jp=2401,Xx=2402,mC=2500,fL=2501,t_e=0,n_e=1,r_e=2,hL=3e3,mh=3001,a7=3200,pL=3201,Fh=0,l7=1,gh="",An="srgb",Pc="srgb-linear",mL="display-p3",i_e=0,rE=7680,s_e=7681,o_e=7682,a_e=7683,l_e=34055,c_e=34056,u_e=5386,d_e=512,f_e=513,h_e=514,p_e=515,m_e=516,g_e=517,v_e=518,c7=519,u7=512,d7=513,f7=514,h7=515,p7=516,m7=517,g7=518,v7=519,qx=35044,y_e=35048,__e=35040,x_e=35045,w_e=35049,b_e=35041,S_e=35046,E_e=35050,T_e=35042,C_e="100",f2="300 es",aT=1035,_u=2e3,Kx=2001;let ef=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const fo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PU=1234567;const lm=Math.PI/180,_y=180/Math.PI;function $a(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fo[t&255]+fo[t>>8&255]+fo[t>>16&255]+fo[t>>24&255]+"-"+fo[e&255]+fo[e>>8&255]+"-"+fo[e>>16&15|64]+fo[e>>24&255]+"-"+fo[n&63|128]+fo[n>>8&255]+"-"+fo[n>>16&255]+fo[n>>24&255]+fo[r&255]+fo[r>>8&255]+fo[r>>16&255]+fo[r>>24&255]).toLowerCase()}function vi(t,e,n){return Math.max(e,Math.min(n,t))}function gL(t,e){return(t%e+e)%e}function M_e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function A_e(t,e,n){return t!==e?(n-t)/(e-t):0}function lx(t,e,n){return(1-n)*t+n*e}function P_e(t,e,n,r){return lx(t,e,1-Math.exp(-n*r))}function R_e(t,e=1){return e-Math.abs(gL(t,e*2)-e)}function I_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function k_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function O_e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function L_e(t,e){return t+Math.random()*(e-t)}function D_e(t){return t*(.5-Math.random())}function N_e(t){t!==void 0&&(PU=t);let e=PU+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function F_e(t){return t*lm}function U_e(t){return t*_y}function h2(t){return(t&t-1)===0&&t!==0}function y7(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function lT(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function z_e(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),f=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ha(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const cT={DEG2RAD:lm,RAD2DEG:_y,generateUUID:$a,clamp:vi,euclideanModulo:gL,mapLinear:M_e,inverseLerp:A_e,lerp:lx,damp:P_e,pingpong:R_e,smoothstep:I_e,smootherstep:k_e,randInt:O_e,randFloat:L_e,randFloatSpread:D_e,seededRandom:N_e,degToRad:F_e,radToDeg:U_e,isPowerOfTwo:h2,ceilPowerOfTwo:y7,floorPowerOfTwo:lT,setQuaternionFromProperEuler:z_e,normalize:Fn,denormalize:Ha};class Je{constructor(e=0,n=0){Je.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(vi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kn{constructor(e,n,r,i,s,o,a,l,c){kn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],m=r[5],v=r[8],w=i[0],x=i[3],y=i[6],b=i[1],S=i[4],T=i[7],C=i[2],M=i[5],I=i[8];return s[0]=o*w+a*b+l*C,s[3]=o*x+a*S+l*M,s[6]=o*y+a*T+l*I,s[1]=c*w+u*b+d*C,s[4]=c*x+u*S+d*M,s[7]=c*y+u*T+d*I,s[2]=f*w+m*b+v*C,s[5]=f*x+m*S+v*M,s[8]=f*y+m*T+v*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,m=c*s-o*l,v=n*d+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/v;return e[0]=d*w,e[1]=(i*c-u*r)*w,e[2]=(a*r-i*o)*w,e[3]=f*w,e[4]=(u*n-i*l)*w,e[5]=(i*s-a*n)*w,e[6]=m*w,e[7]=(r*l-c*n)*w,e[8]=(o*n-r*s)*w,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(DA.makeScale(e,n)),this}rotate(e){return this.premultiply(DA.makeRotation(-e)),this}translate(e,n){return this.premultiply(DA.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const DA=new kn;function _7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const B_e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Fv(t,e){return new B_e[t](e)}function Zx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const RU={};function cx(t){t in RU||(RU[t]=!0,console.warn(t))}function ey(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function NA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const V_e=new kn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),G_e=new kn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function H_e(t){return t.convertSRGBToLinear().applyMatrix3(G_e)}function W_e(t){return t.applyMatrix3(V_e).convertLinearToSRGB()}const j_e={[Pc]:t=>t,[An]:t=>t.convertSRGBToLinear(),[mL]:H_e},$_e={[Pc]:t=>t,[An]:t=>t.convertLinearToSRGB(),[mL]:W_e},wl={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Pc},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=j_e[e],i=$_e[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let qg;class vL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{qg===void 0&&(qg=Zx("canvas")),qg.width=e.width,qg.height=e.height;const r=qg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=qg}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Zx("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ey(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ey(n[r]/255)*255):n[r]=ey(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Y_e=0;class em{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Y_e++}),this.uuid=$a(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(FA(i[o].image)):s.push(FA(i[o]))}else s=FA(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function FA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?vL.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let X_e=0;class ci extends ef{constructor(e=ci.DEFAULT_IMAGE,n=ci.DEFAULT_MAPPING,r=go,i=go,s=Xr,o=Ph,a=ha,l=Su,c=ci.DEFAULT_ANISOTROPY,u=gh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:X_e++}),this.uuid=$a(),this.name="",this.source=new em(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Je(0,0),this.repeat=new Je(1,1),this.center=new Je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(cx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===mh?An:gh),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==hC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wx:e.x=e.x-Math.floor(e.x);break;case go:e.x=e.x<0?0:1;break;case jx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wx:e.y=e.y-Math.floor(e.y);break;case go:e.y=e.y<0?0:1;break;case jx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return cx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===An?mh:hL}set encoding(e){cx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===mh?An:gh}}ci.DEFAULT_IMAGE=null;ci.DEFAULT_MAPPING=hC;ci.DEFAULT_ANISOTROPY=1;class rr{constructor(e=0,n=0,r=0,i=1){rr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],v=l[9],w=l[2],x=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-w)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+w)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,T=(m+1)/2,C=(y+1)/2,M=(u+f)/4,I=(d+w)/4,O=(v+x)/4;return S>T&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=M/r,s=I/r):T>C?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=M/i,s=O/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=I/s,i=O/s),this.set(r,i,s,n),this}let b=Math.sqrt((x-v)*(x-v)+(d-w)*(d-w)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(x-v)/b,this.y=(d-w)/b,this.z=(f-u)/b,this.w=Math.acos((c+m+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Rc extends ef{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new rr(0,0,e,n),this.scissorTest=!1,this.viewport=new rr(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(cx("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===mh?An:gh),this.texture=new ci(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Xr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new em(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gC extends ci{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Pi,this.minFilter=Pi,this.wrapR=go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class q_e extends Rc{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new gC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class yL extends ci{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Pi,this.minFilter=Pi,this.wrapR=go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class K_e extends Rc{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yL(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Z_e extends Rc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Zs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=s[o+0],m=s[o+1],v=s[o+2],w=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=m,e[n+2]=v,e[n+3]=w;return}if(d!==w||l!==f||c!==m||u!==v){let x=1-a;const y=l*f+c*m+u*v+d*w,b=y>=0?1:-1,S=1-y*y;if(S>Number.EPSILON){const C=Math.sqrt(S),M=Math.atan2(C,y*b);x=Math.sin(x*M)/C,a=Math.sin(a*M)/C}const T=a*b;if(l=l*x+f*T,c=c*x+m*T,u=u*x+v*T,d=d*x+w*T,x===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],f=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+u*d+l*m-c*f,e[n+1]=l*v+u*f+c*d-a*m,e[n+2]=c*v+u*m+a*f-l*d,e[n+3]=u*v-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),f=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"YXZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"ZXY":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"ZYX":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"YZX":this._x=f*u*d+c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d-f*m*v;break;case"XZY":this._x=f*u*d-c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,n=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(IU.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(IU.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,d=l*i+s*r-o*n,f=-s*n-o*r-a*i;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return UA.copy(this).projectOnVector(e),this.sub(UA)}reflect(e){return this.sub(UA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(vi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const UA=new oe,IU=new Zs;class Qa{constructor(e=new oe(1/0,1/0,1/0),n=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(vd.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(vd.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=vd.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Kg.copy(e.boundingBox),Kg.applyMatrix4(e.matrixWorld),this.union(Kg);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)vd.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(vd)}else i.boundingBox===null&&i.computeBoundingBox(),Kg.copy(i.boundingBox),Kg.applyMatrix4(e.matrixWorld),this.union(Kg)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vd),vd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(t_),T1.subVectors(this.max,t_),Zg.subVectors(e.a,t_),Qg.subVectors(e.b,t_),Jg.subVectors(e.c,t_),$f.subVectors(Qg,Zg),Yf.subVectors(Jg,Qg),_p.subVectors(Zg,Jg);let n=[0,-$f.z,$f.y,0,-Yf.z,Yf.y,0,-_p.z,_p.y,$f.z,0,-$f.x,Yf.z,0,-Yf.x,_p.z,0,-_p.x,-$f.y,$f.x,0,-Yf.y,Yf.x,0,-_p.y,_p.x,0];return!zA(n,Zg,Qg,Jg,T1)||(n=[1,0,0,0,1,0,0,0,1],!zA(n,Zg,Qg,Jg,T1))?!1:(C1.crossVectors($f,Yf),n=[C1.x,C1.y,C1.z],zA(n,Zg,Qg,Jg,T1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vd).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vd).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gd=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],vd=new oe,Kg=new Qa,Zg=new oe,Qg=new oe,Jg=new oe,$f=new oe,Yf=new oe,_p=new oe,t_=new oe,T1=new oe,C1=new oe,xp=new oe;function zA(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){xp.fromArray(t,s);const a=i.x*Math.abs(xp.x)+i.y*Math.abs(xp.y)+i.z*Math.abs(xp.z),l=e.dot(xp),c=n.dot(xp),u=r.dot(xp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Q_e=new Qa,n_=new oe,BA=new oe;let Ja=class{constructor(e=new oe,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Q_e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;n_.subVectors(e,this.center);const n=n_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(n_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(n_.copy(e.center).add(BA)),this.expandByPoint(n_.copy(e.center).sub(BA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const yd=new oe,VA=new oe,M1=new oe,Xf=new oe,GA=new oe,A1=new oe,HA=new oe;class jy{constructor(e=new oe,n=new oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yd)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=yd.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(yd.copy(this.origin).addScaledVector(this.direction,n),yd.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){VA.copy(e).add(n).multiplyScalar(.5),M1.copy(n).sub(e).normalize(),Xf.copy(this.origin).sub(VA);const s=e.distanceTo(n)*.5,o=-this.direction.dot(M1),a=Xf.dot(this.direction),l=-Xf.dot(M1),c=Xf.lengthSq(),u=Math.abs(1-o*o);let d,f,m,v;if(u>0)if(d=o*l-a,f=o*a-l,v=s*u,d>=0)if(f>=-v)if(f<=v){const w=1/u;d*=w,f*=w,m=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-v?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=v?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(VA).addScaledVector(M1,f),m}intersectSphere(e,n){yd.subVectors(e.center,this.origin);const r=yd.dot(this.direction),i=yd.dot(yd)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,yd)!==null}intersectTriangle(e,n,r,i,s){GA.subVectors(n,e),A1.subVectors(r,e),HA.crossVectors(GA,A1);let o=this.direction.dot(HA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Xf.subVectors(this.origin,e);const l=a*this.direction.dot(A1.crossVectors(Xf,A1));if(l<0)return null;const c=a*this.direction.dot(GA.cross(Xf));if(c<0||l+c>o)return null;const u=-a*Xf.dot(HA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wn{constructor(e,n,r,i,s,o,a,l,c,u,d,f,m,v,w,x){wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,d,f,m,v,w,x)}set(e,n,r,i,s,o,a,l,c,u,d,f,m,v,w,x){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=m,y[7]=v,y[11]=w,y[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ev.setFromMatrixColumn(e,0).length(),s=1/ev.setFromMatrixColumn(e,1).length(),o=1/ev.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,m=o*d,v=a*u,w=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+v*c,n[5]=f-w*c,n[9]=-a*l,n[2]=w-f*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,v=c*u,w=c*d;n[0]=f+w*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=m*a-v,n[6]=w+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,v=c*u,w=c*d;n[0]=f-w*a,n[4]=-o*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*u,n[9]=w-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,m=o*d,v=a*u,w=a*d;n[0]=l*u,n[4]=v*c-m,n[8]=f*c+w,n[1]=l*d,n[5]=w*c+f,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,v=a*l,w=a*c;n[0]=l*u,n[4]=w-f*d,n[8]=v*d+m,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+v,n[10]=f-w*d}else if(e.order==="XZY"){const f=o*l,m=o*c,v=a*l,w=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+w,n[5]=o*u,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*u,n[10]=w*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(J_e,e,exe)}lookAt(e,n,r){const i=this.elements;return Na.subVectors(e,n),Na.lengthSq()===0&&(Na.z=1),Na.normalize(),qf.crossVectors(r,Na),qf.lengthSq()===0&&(Math.abs(r.z)===1?Na.x+=1e-4:Na.z+=1e-4,Na.normalize(),qf.crossVectors(r,Na)),qf.normalize(),P1.crossVectors(Na,qf),i[0]=qf.x,i[4]=P1.x,i[8]=Na.x,i[1]=qf.y,i[5]=P1.y,i[9]=Na.y,i[2]=qf.z,i[6]=P1.z,i[10]=Na.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],m=r[13],v=r[2],w=r[6],x=r[10],y=r[14],b=r[3],S=r[7],T=r[11],C=r[15],M=i[0],I=i[4],O=i[8],R=i[12],D=i[1],j=i[5],$=i[9],B=i[13],Q=i[2],ne=i[6],K=i[10],V=i[14],G=i[3],W=i[7],F=i[11],U=i[15];return s[0]=o*M+a*D+l*Q+c*G,s[4]=o*I+a*j+l*ne+c*W,s[8]=o*O+a*$+l*K+c*F,s[12]=o*R+a*B+l*V+c*U,s[1]=u*M+d*D+f*Q+m*G,s[5]=u*I+d*j+f*ne+m*W,s[9]=u*O+d*$+f*K+m*F,s[13]=u*R+d*B+f*V+m*U,s[2]=v*M+w*D+x*Q+y*G,s[6]=v*I+w*j+x*ne+y*W,s[10]=v*O+w*$+x*K+y*F,s[14]=v*R+w*B+x*V+y*U,s[3]=b*M+S*D+T*Q+C*G,s[7]=b*I+S*j+T*ne+C*W,s[11]=b*O+S*$+T*K+C*F,s[15]=b*R+S*B+T*V+C*U,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],v=e[3],w=e[7],x=e[11],y=e[15];return v*(+s*l*d-i*c*d-s*a*f+r*c*f+i*a*m-r*l*m)+w*(+n*l*m-n*c*f+s*o*f-i*o*m+i*c*u-s*l*u)+x*(+n*c*d-n*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+y*(-i*a*u-n*l*d+n*a*f+i*o*d-r*o*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],v=e[12],w=e[13],x=e[14],y=e[15],b=d*x*c-w*f*c+w*l*m-a*x*m-d*l*y+a*f*y,S=v*f*c-u*x*c-v*l*m+o*x*m+u*l*y-o*f*y,T=u*w*c-v*d*c+v*a*m-o*w*m-u*a*y+o*d*y,C=v*d*l-u*w*l-v*a*f+o*w*f+u*a*x-o*d*x,M=n*b+r*S+i*T+s*C;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/M;return e[0]=b*I,e[1]=(w*f*s-d*x*s-w*i*m+r*x*m+d*i*y-r*f*y)*I,e[2]=(a*x*s-w*l*s+w*i*c-r*x*c-a*i*y+r*l*y)*I,e[3]=(d*l*s-a*f*s-d*i*c+r*f*c+a*i*m-r*l*m)*I,e[4]=S*I,e[5]=(u*x*s-v*f*s+v*i*m-n*x*m-u*i*y+n*f*y)*I,e[6]=(v*l*s-o*x*s-v*i*c+n*x*c+o*i*y-n*l*y)*I,e[7]=(o*f*s-u*l*s+u*i*c-n*f*c-o*i*m+n*l*m)*I,e[8]=T*I,e[9]=(v*d*s-u*w*s-v*r*m+n*w*m+u*r*y-n*d*y)*I,e[10]=(o*w*s-v*a*s+v*r*c-n*w*c-o*r*y+n*a*y)*I,e[11]=(u*a*s-o*d*s-u*r*c+n*d*c+o*r*m-n*a*m)*I,e[12]=C*I,e[13]=(u*w*i-v*d*i+v*r*f-n*w*f-u*r*x+n*d*x)*I,e[14]=(v*a*i-o*w*i-v*r*l+n*w*l+o*r*x-n*a*x)*I,e[15]=(o*d*i-u*a*i+u*r*l-n*d*l-o*r*f+n*a*f)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,f=s*c,m=s*u,v=s*d,w=o*u,x=o*d,y=a*d,b=l*c,S=l*u,T=l*d,C=r.x,M=r.y,I=r.z;return i[0]=(1-(w+y))*C,i[1]=(m+T)*C,i[2]=(v-S)*C,i[3]=0,i[4]=(m-T)*M,i[5]=(1-(f+y))*M,i[6]=(x+b)*M,i[7]=0,i[8]=(v+S)*I,i[9]=(x-b)*I,i[10]=(1-(f+w))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=ev.set(i[0],i[1],i[2]).length();const o=ev.set(i[4],i[5],i[6]).length(),a=ev.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ac.copy(this);const c=1/s,u=1/o,d=1/a;return ac.elements[0]*=c,ac.elements[1]*=c,ac.elements[2]*=c,ac.elements[4]*=u,ac.elements[5]*=u,ac.elements[6]*=u,ac.elements[8]*=d,ac.elements[9]*=d,ac.elements[10]*=d,n.setFromRotationMatrix(ac),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=_u){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let m,v;if(a===_u)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Kx)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=_u){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(o-s),f=(n+e)*c,m=(r+i)*u;let v,w;if(a===_u)v=(o+s)*d,w=-2*d;else if(a===Kx)v=s*d,w=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=w,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ev=new oe,ac=new wn,J_e=new oe(0,0,0),exe=new oe(1,1,1),qf=new oe,P1=new oe,Na=new oe,kU=new wn,OU=new Zs;class Rh{constructor(e=0,n=0,r=0,i=Rh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(vi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-vi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(vi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-vi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(vi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-vi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return kU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kU,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return OU.setFromEuler(this),this.setFromQuaternion(OU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Rh.DEFAULT_ORDER="XYZ";class cm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let txe=0;const LU=new oe,tv=new Zs,_d=new wn,R1=new oe,r_=new oe,nxe=new oe,rxe=new Zs,DU=new oe(1,0,0),NU=new oe(0,1,0),FU=new oe(0,0,1),ixe={type:"added"},UU={type:"removed"};class sr extends ef{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:txe++}),this.uuid=$a(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sr.DEFAULT_UP.clone();const e=new oe,n=new Rh,r=new Zs,i=new oe(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new wn},normalMatrix:{value:new kn}}),this.matrix=new wn,this.matrixWorld=new wn,this.matrixAutoUpdate=sr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return tv.setFromAxisAngle(e,n),this.quaternion.multiply(tv),this}rotateOnWorldAxis(e,n){return tv.setFromAxisAngle(e,n),this.quaternion.premultiply(tv),this}rotateX(e){return this.rotateOnAxis(DU,e)}rotateY(e){return this.rotateOnAxis(NU,e)}rotateZ(e){return this.rotateOnAxis(FU,e)}translateOnAxis(e,n){return LU.copy(e).applyQuaternion(this.quaternion),this.position.add(LU.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(DU,e)}translateY(e){return this.translateOnAxis(NU,e)}translateZ(e){return this.translateOnAxis(FU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_d.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?R1.copy(e):R1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),r_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_d.lookAt(r_,R1,this.up):_d.lookAt(R1,r_,this.up),this.quaternion.setFromRotationMatrix(_d),i&&(_d.extractRotation(i.matrixWorld),tv.setFromRotationMatrix(_d),this.quaternion.premultiply(tv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ixe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(UU)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(UU)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_d.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_d.multiply(e.parent.matrixWorld)),e.applyMatrix4(_d),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r_,e,nxe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r_,rxe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}sr.DEFAULT_UP=new oe(0,1,0);sr.DEFAULT_MATRIX_AUTO_UPDATE=!0;sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lc=new oe,xd=new oe,WA=new oe,wd=new oe,nv=new oe,rv=new oe,zU=new oe,jA=new oe,$A=new oe,YA=new oe;let I1=!1;class ua{constructor(e=new oe,n=new oe,r=new oe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),lc.subVectors(e,n),i.cross(lc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){lc.subVectors(i,n),xd.subVectors(r,n),WA.subVectors(e,n);const o=lc.dot(lc),a=lc.dot(xd),l=lc.dot(WA),c=xd.dot(xd),u=xd.dot(WA),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,m=(c*l-a*u)*f,v=(o*u-a*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,wd),wd.x>=0&&wd.y>=0&&wd.x+wd.y<=1}static getUV(e,n,r,i,s,o,a,l){return I1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),I1=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,wd),l.setScalar(0),l.addScaledVector(s,wd.x),l.addScaledVector(o,wd.y),l.addScaledVector(a,wd.z),l}static isFrontFacing(e,n,r,i){return lc.subVectors(r,n),xd.subVectors(e,n),lc.cross(xd).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lc.subVectors(this.c,this.b),xd.subVectors(this.a,this.b),lc.cross(xd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ua.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ua.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return I1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),I1=!0),ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ua.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ua.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;nv.subVectors(i,r),rv.subVectors(s,r),jA.subVectors(e,r);const l=nv.dot(jA),c=rv.dot(jA);if(l<=0&&c<=0)return n.copy(r);$A.subVectors(e,i);const u=nv.dot($A),d=rv.dot($A);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(nv,o);YA.subVectors(e,s);const m=nv.dot(YA),v=rv.dot(YA);if(v>=0&&m<=v)return n.copy(s);const w=m*c-l*v;if(w<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(rv,a);const x=u*v-m*d;if(x<=0&&d-u>=0&&m-v>=0)return zU.subVectors(s,i),a=(d-u)/(d-u+(m-v)),n.copy(i).addScaledVector(zU,a);const y=1/(x+w+f);return o=w*y,a=f*y,n.copy(r).addScaledVector(nv,o).addScaledVector(rv,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let sxe=0;class Js extends ef{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sxe++}),this.uuid=$a(),this.name="",this.type="Material",this.blending=am,this.side=Ru,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=nL,this.blendDst=rL,this.blendEquation=Hp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=sT,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=c7,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rE,this.stencilZFail=rE,this.stencilZPass=rE,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==am&&(r.blending=this.blending),this.side!==Ru&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const x7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cc={h:0,s:0,l:0},k1={h:0,s:0,l:0};function XA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Mt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=An){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wl.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=wl.workingColorSpace){return this.r=e,this.g=n,this.b=r,wl.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=wl.workingColorSpace){if(e=gL(e,1),n=vi(n,0,1),r=vi(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=XA(o,s,e+1/3),this.g=XA(o,s,e),this.b=XA(o,s,e-1/3)}return wl.toWorkingColorSpace(this,i),this}setStyle(e,n=An){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=An){const r=x7[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ey(e.r),this.g=ey(e.g),this.b=ey(e.b),this}copyLinearToSRGB(e){return this.r=NA(e.r),this.g=NA(e.g),this.b=NA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=An){return wl.fromWorkingColorSpace(ho.copy(this),e),Math.round(vi(ho.r*255,0,255))*65536+Math.round(vi(ho.g*255,0,255))*256+Math.round(vi(ho.b*255,0,255))}getHexString(e=An){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wl.workingColorSpace){wl.fromWorkingColorSpace(ho.copy(this),n);const r=ho.r,i=ho.g,s=ho.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=wl.workingColorSpace){return wl.fromWorkingColorSpace(ho.copy(this),n),e.r=ho.r,e.g=ho.g,e.b=ho.b,e}getStyle(e=An){wl.fromWorkingColorSpace(ho.copy(this),e);const n=ho.r,r=ho.g,i=ho.b;return e!==An?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(cc),cc.h+=e,cc.s+=n,cc.l+=r,this.setHSL(cc.h,cc.s,cc.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(cc),e.getHSL(k1);const r=lx(cc.h,k1.h,n),i=lx(cc.s,k1.s,n),s=lx(cc.l,k1.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ho=new Mt;Mt.NAMES=x7;class tf extends Js{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Od=oxe();function oxe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ca(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=vi(t,-65504,65504),Od.floatView[0]=t;const e=Od.uint32View[0],n=e>>23&511;return Od.baseTable[n]+((e&8388607)>>Od.shiftTable[n])}function H_(t){const e=t>>10;return Od.uint32View[0]=Od.mantissaTable[Od.offsetTable[e]+(t&1023)]+Od.exponentTable[e],Od.floatView[0]}const axe={toHalfFloat:ca,fromHalfFloat:H_},Yi=new oe,O1=new Je;class gr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=qx,this.updateRange={offset:0,count:-1},this.gpuType=yu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)O1.fromBufferAttribute(this,n),O1.applyMatrix3(e),this.setXY(n,O1.x,O1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyMatrix3(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyMatrix4(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.applyNormalMatrix(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Yi.fromBufferAttribute(this,n),Yi.transformDirection(e),this.setXYZ(n,Yi.x,Yi.y,Yi.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ha(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ha(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ha(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ha(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qx&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class lxe extends gr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class cxe extends gr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class uxe extends gr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class dxe extends gr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class _L extends gr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class fxe extends gr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class xL extends gr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class hxe extends gr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=H_(this.array[e*this.itemSize]);return this.normalized&&(n=Ha(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=ca(n),this}getY(e){let n=H_(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ha(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=ca(n),this}getZ(e){let n=H_(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ha(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=ca(n),this}getW(e){let n=H_(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ha(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=ca(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this.array[e+2]=ca(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this.array[e+2]=ca(i),this.array[e+3]=ca(s),this}}class qt extends gr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class pxe extends gr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let mxe=0;const yl=new wn,qA=new sr,iv=new oe,Fa=new Qa,i_=new Qa,bs=new oe;class Pn extends ef{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mxe++}),this.uuid=$a(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(_7(e)?xL:_L)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new kn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yl.makeRotationFromQuaternion(e),this.applyMatrix4(yl),this}rotateX(e){return yl.makeRotationX(e),this.applyMatrix4(yl),this}rotateY(e){return yl.makeRotationY(e),this.applyMatrix4(yl),this}rotateZ(e){return yl.makeRotationZ(e),this.applyMatrix4(yl),this}translate(e,n,r){return yl.makeTranslation(e,n,r),this.applyMatrix4(yl),this}scale(e,n,r){return yl.makeScale(e,n,r),this.applyMatrix4(yl),this}lookAt(e){return qA.lookAt(e),qA.updateMatrix(),this.applyMatrix4(qA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iv).negate(),this.translate(iv.x,iv.y,iv.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new qt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Fa.setFromBufferAttribute(s),this.morphTargetsRelative?(bs.addVectors(this.boundingBox.min,Fa.min),this.boundingBox.expandByPoint(bs),bs.addVectors(this.boundingBox.max,Fa.max),this.boundingBox.expandByPoint(bs)):(this.boundingBox.expandByPoint(Fa.min),this.boundingBox.expandByPoint(Fa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(Fa.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];i_.setFromBufferAttribute(a),this.morphTargetsRelative?(bs.addVectors(Fa.min,i_.min),Fa.expandByPoint(bs),bs.addVectors(Fa.max,i_.max),Fa.expandByPoint(bs)):(Fa.expandByPoint(i_.min),Fa.expandByPoint(i_.max))}Fa.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)bs.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(bs));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)bs.fromBufferAttribute(a,c),l&&(iv.fromBufferAttribute(e,c),bs.add(iv)),i=Math.max(i,r.distanceToSquared(bs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new gr(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new oe,u[D]=new oe;const d=new oe,f=new oe,m=new oe,v=new Je,w=new Je,x=new Je,y=new oe,b=new oe;function S(D,j,$){d.fromArray(i,D*3),f.fromArray(i,j*3),m.fromArray(i,$*3),v.fromArray(o,D*2),w.fromArray(o,j*2),x.fromArray(o,$*2),f.sub(d),m.sub(d),w.sub(v),x.sub(v);const B=1/(w.x*x.y-x.x*w.y);isFinite(B)&&(y.copy(f).multiplyScalar(x.y).addScaledVector(m,-w.y).multiplyScalar(B),b.copy(m).multiplyScalar(w.x).addScaledVector(f,-x.x).multiplyScalar(B),c[D].add(y),c[j].add(y),c[$].add(y),u[D].add(b),u[j].add(b),u[$].add(b))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let D=0,j=T.length;D<j;++D){const $=T[D],B=$.start,Q=$.count;for(let ne=B,K=B+Q;ne<K;ne+=3)S(r[ne+0],r[ne+1],r[ne+2])}const C=new oe,M=new oe,I=new oe,O=new oe;function R(D){I.fromArray(s,D*3),O.copy(I);const j=c[D];C.copy(j),C.sub(I.multiplyScalar(I.dot(j))).normalize(),M.crossVectors(O,j);const B=M.dot(u[D])<0?-1:1;l[D*4]=C.x,l[D*4+1]=C.y,l[D*4+2]=C.z,l[D*4+3]=B}for(let D=0,j=T.length;D<j;++D){const $=T[D],B=$.start,Q=$.count;for(let ne=B,K=B+Q;ne<K;ne+=3)R(r[ne+0]),R(r[ne+1]),R(r[ne+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new gr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new oe,s=new oe,o=new oe,a=new oe,l=new oe,c=new oe,u=new oe,d=new oe;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),w=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,w),o.fromBufferAttribute(n,x),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,w),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(w,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)bs.fromBufferAttribute(e,n),bs.normalize(),e.setXYZ(n,bs.x,bs.y,bs.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let m=0,v=0;for(let w=0,x=l.length;w<x;w++){a.isInterleavedBufferAttribute?m=l[w]*a.data.stride+a.offset:m=l[w]*u;for(let y=0;y<u;y++)f[v++]=c[m++]}return new gr(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Pn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const BU=new wn,wp=new jy,L1=new Ja,VU=new oe,sv=new oe,ov=new oe,av=new oe,KA=new oe,D1=new oe,N1=new Je,F1=new Je,U1=new Je,GU=new oe,HU=new oe,WU=new oe,z1=new oe,B1=new oe;class oi extends sr{constructor(e=new Pn,n=new tf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){D1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(KA.fromBufferAttribute(d,e),o?D1.addScaledVector(KA,u):D1.addScaledVector(KA.sub(n),u))}n.add(D1)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),L1.copy(r.boundingSphere),L1.applyMatrix4(s),wp.copy(e.ray).recast(e.near),!(L1.containsPoint(wp.origin)===!1&&(wp.intersectSphere(L1,VU)===null||wp.origin.distanceToSquared(VU)>(e.far-e.near)**2))&&(BU.copy(s).invert(),wp.copy(e.ray).applyMatrix4(BU),!(r.boundingBox!==null&&wp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,wp)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,w=f.length;v<w;v++){const x=f[v],y=o[x.materialIndex],b=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let T=b,C=S;T<C;T+=3){const M=a.getX(T),I=a.getX(T+1),O=a.getX(T+2);i=V1(this,y,e,r,c,u,d,M,I,O),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),w=Math.min(a.count,m.start+m.count);for(let x=v,y=w;x<y;x+=3){const b=a.getX(x),S=a.getX(x+1),T=a.getX(x+2);i=V1(this,o,e,r,c,u,d,b,S,T),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,w=f.length;v<w;v++){const x=f[v],y=o[x.materialIndex],b=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let T=b,C=S;T<C;T+=3){const M=T,I=T+1,O=T+2;i=V1(this,y,e,r,c,u,d,M,I,O),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),w=Math.min(l.count,m.start+m.count);for(let x=v,y=w;x<y;x+=3){const b=x,S=x+1,T=x+2;i=V1(this,o,e,r,c,u,d,b,S,T),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function gxe(t,e,n,r,i,s,o,a){let l;if(e.side===yo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ru,a),l===null)return null;B1.copy(a),B1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(B1);return c<n.near||c>n.far?null:{distance:c,point:B1.clone(),object:t}}function V1(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,sv),t.getVertexPosition(l,ov),t.getVertexPosition(c,av);const u=gxe(t,e,n,r,sv,ov,av,z1);if(u){i&&(N1.fromBufferAttribute(i,a),F1.fromBufferAttribute(i,l),U1.fromBufferAttribute(i,c),u.uv=ua.getInterpolation(z1,sv,ov,av,N1,F1,U1,new Je)),s&&(N1.fromBufferAttribute(s,a),F1.fromBufferAttribute(s,l),U1.fromBufferAttribute(s,c),u.uv1=ua.getInterpolation(z1,sv,ov,av,N1,F1,U1,new Je),u.uv2=u.uv1),o&&(GU.fromBufferAttribute(o,a),HU.fromBufferAttribute(o,l),WU.fromBufferAttribute(o,c),u.normal=ua.getInterpolation(z1,sv,ov,av,GU,HU,WU,new oe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new oe,materialIndex:0};ua.getNormal(sv,ov,av,d.normal),u.face=d}return u}class nf extends Pn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new qt(c,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(d,2));function v(w,x,y,b,S,T,C,M,I,O,R){const D=T/I,j=C/O,$=T/2,B=C/2,Q=M/2,ne=I+1,K=O+1;let V=0,G=0;const W=new oe;for(let F=0;F<K;F++){const U=F*j-B;for(let q=0;q<ne;q++){const te=q*D-$;W[w]=te*b,W[x]=U*S,W[y]=Q,c.push(W.x,W.y,W.z),W[w]=0,W[x]=0,W[y]=M>0?1:-1,u.push(W.x,W.y,W.z),d.push(q/I),d.push(1-F/O),V+=1}}for(let F=0;F<O;F++)for(let U=0;U<I;U++){const q=f+U+ne*F,te=f+U+ne*(F+1),re=f+(U+1)+ne*(F+1),le=f+(U+1)+ne*F;l.push(q,te,le),l.push(te,re,le),G+=6}a.addGroup(m,G,R),m+=G,f+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xy(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Lo(t){const e={};for(let n=0;n<t.length;n++){const r=xy(t[n]);for(const i in r)e[i]=r[i]}return e}function vxe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function w7(t){return t.getRenderTarget()===null?t.outputColorSpace:Pc}const wL={clone:xy,merge:Lo};var yxe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_xe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Iu extends Js{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yxe,this.fragmentShader=_xe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xy(e.uniforms),this.uniformsGroups=vxe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Ww extends sr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wn,this.projectionMatrix=new wn,this.projectionMatrixInverse=new wn,this.coordinateSystem=_u}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Qi extends Ww{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=_y*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _y*2*Math.atan(Math.tan(lm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(lm*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const lv=-90,cv=1;class b7 extends sr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Qi(lv,cv,e,n);i.layers=this.layers,this.add(i);const s=new Qi(lv,cv,e,n);s.layers=this.layers,this.add(s);const o=new Qi(lv,cv,e,n);o.layers=this.layers,this.add(o);const a=new Qi(lv,cv,e,n);a.layers=this.layers,this.add(a);const l=new Qi(lv,cv,e,n);l.layers=this.layers,this.add(l);const c=new Qi(lv,cv,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===_u)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Kx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Ec,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class jw extends ci{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Mh,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class S7 extends Rc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(cx("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===mh?An:gh),this.texture=new jw(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Xr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new nf(5,5,5),s=new Iu({name:"CubemapFromEquirect",uniforms:xy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yo,blending:Ud});s.uniforms.tEquirect.value=n;const o=new oi(i,s),a=n.minFilter;return n.minFilter===Ph&&(n.minFilter=Xr),new b7(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const ZA=new oe,xxe=new oe,wxe=new kn;class Id{constructor(e=new oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=ZA.subVectors(r,n).cross(xxe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(ZA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||wxe.getNormalMatrix(e),i=this.coplanarPoint(ZA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bp=new Ja,G1=new oe;class $w{constructor(e=new Id,n=new Id,r=new Id,i=new Id,s=new Id,o=new Id){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=_u){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],m=i[8],v=i[9],w=i[10],x=i[11],y=i[12],b=i[13],S=i[14],T=i[15];if(r[0].setComponents(l-s,f-c,x-m,T-y).normalize(),r[1].setComponents(l+s,f+c,x+m,T+y).normalize(),r[2].setComponents(l+o,f+u,x+v,T+b).normalize(),r[3].setComponents(l-o,f-u,x-v,T-b).normalize(),r[4].setComponents(l-a,f-d,x-w,T-S).normalize(),n===_u)r[5].setComponents(l+a,f+d,x+w,T+S).normalize();else if(n===Kx)r[5].setComponents(a,d,w,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),bp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bp)}intersectsSprite(e){return bp.center.set(0,0,0),bp.radius=.7071067811865476,bp.applyMatrix4(e.matrixWorld),this.intersectsSphere(bp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(G1.x=i.normal.x>0?e.max.x:e.min.x,G1.y=i.normal.y>0?e.max.y:e.min.y,G1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(G1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function E7(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function bxe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,d,f),c.onUploadCallback();let v;if(d instanceof Float32Array)v=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=t.SHORT;else if(d instanceof Uint32Array)v=t.UNSIGNED_INT;else if(d instanceof Int32Array)v=t.INT;else if(d instanceof Int8Array)v=t.BYTE;else if(d instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const f=u.array,m=u.updateRange;t.bindBuffer(d,c),m.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):t.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class Uh extends Pn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,m=[],v=[],w=[],x=[];for(let y=0;y<u;y++){const b=y*f-o;for(let S=0;S<c;S++){const T=S*d-s;v.push(T,-b,0),w.push(0,0,1),x.push(S/a),x.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<a;b++){const S=b+c*y,T=b+c*(y+1),C=b+1+c*(y+1),M=b+1+c*y;m.push(S,T,M),m.push(T,C,M)}this.setIndex(m),this.setAttribute("position",new qt(v,3)),this.setAttribute("normal",new qt(w,3)),this.setAttribute("uv",new qt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uh(e.width,e.height,e.widthSegments,e.heightSegments)}}var Sxe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Exe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Txe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Cxe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mxe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Axe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Pxe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Rxe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ixe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kxe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Oxe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Lxe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Dxe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Nxe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Fxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Uxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zxe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Bxe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vxe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gxe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Hxe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Wxe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jxe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$xe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Yxe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xxe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qxe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kxe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Zxe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Qxe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Jxe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ewe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,twe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,iwe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,swe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,owe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,awe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,lwe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cwe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,uwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,dwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,fwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,hwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pwe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,mwe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gwe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,vwe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ywe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_we=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,xwe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wwe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,bwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Swe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Ewe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Twe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Cwe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Mwe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Awe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Pwe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Rwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Iwe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kwe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Owe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Lwe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Dwe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Nwe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Fwe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Uwe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,zwe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Bwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Gwe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Hwe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Wwe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,jwe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,$we=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ywe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Xwe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,qwe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Kwe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Zwe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Qwe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Jwe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ebe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tbe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nbe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,rbe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ibe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sbe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,obe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,abe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,lbe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cbe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ube=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dbe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fbe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hbe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pbe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mbe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,gbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ybe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_be=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xbe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wbe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Sbe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ebe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tbe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cbe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mbe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Abe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Pbe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Rbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ibe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kbe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Obe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lbe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dbe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ube=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zbe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bbe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Vbe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Gbe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hbe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wbe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jbe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$be=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ybe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xbe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kbe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zbe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qbe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mn={alphahash_fragment:Sxe,alphahash_pars_fragment:Exe,alphamap_fragment:Txe,alphamap_pars_fragment:Cxe,alphatest_fragment:Mxe,alphatest_pars_fragment:Axe,aomap_fragment:Pxe,aomap_pars_fragment:Rxe,begin_vertex:Ixe,beginnormal_vertex:kxe,bsdfs:Oxe,iridescence_fragment:Lxe,bumpmap_pars_fragment:Dxe,clipping_planes_fragment:Nxe,clipping_planes_pars_fragment:Fxe,clipping_planes_pars_vertex:Uxe,clipping_planes_vertex:zxe,color_fragment:Bxe,color_pars_fragment:Vxe,color_pars_vertex:Gxe,color_vertex:Hxe,common:Wxe,cube_uv_reflection_fragment:jxe,defaultnormal_vertex:$xe,displacementmap_pars_vertex:Yxe,displacementmap_vertex:Xxe,emissivemap_fragment:qxe,emissivemap_pars_fragment:Kxe,colorspace_fragment:Zxe,colorspace_pars_fragment:Qxe,envmap_fragment:Jxe,envmap_common_pars_fragment:ewe,envmap_pars_fragment:twe,envmap_pars_vertex:nwe,envmap_physical_pars_fragment:pwe,envmap_vertex:rwe,fog_vertex:iwe,fog_pars_vertex:swe,fog_fragment:owe,fog_pars_fragment:awe,gradientmap_pars_fragment:lwe,lightmap_fragment:cwe,lightmap_pars_fragment:uwe,lights_lambert_fragment:dwe,lights_lambert_pars_fragment:fwe,lights_pars_begin:hwe,lights_toon_fragment:mwe,lights_toon_pars_fragment:gwe,lights_phong_fragment:vwe,lights_phong_pars_fragment:ywe,lights_physical_fragment:_we,lights_physical_pars_fragment:xwe,lights_fragment_begin:wwe,lights_fragment_maps:bwe,lights_fragment_end:Swe,logdepthbuf_fragment:Ewe,logdepthbuf_pars_fragment:Twe,logdepthbuf_pars_vertex:Cwe,logdepthbuf_vertex:Mwe,map_fragment:Awe,map_pars_fragment:Pwe,map_particle_fragment:Rwe,map_particle_pars_fragment:Iwe,metalnessmap_fragment:kwe,metalnessmap_pars_fragment:Owe,morphcolor_vertex:Lwe,morphnormal_vertex:Dwe,morphtarget_pars_vertex:Nwe,morphtarget_vertex:Fwe,normal_fragment_begin:Uwe,normal_fragment_maps:zwe,normal_pars_fragment:Bwe,normal_pars_vertex:Vwe,normal_vertex:Gwe,normalmap_pars_fragment:Hwe,clearcoat_normal_fragment_begin:Wwe,clearcoat_normal_fragment_maps:jwe,clearcoat_pars_fragment:$we,iridescence_pars_fragment:Ywe,opaque_fragment:Xwe,packing:qwe,premultiplied_alpha_fragment:Kwe,project_vertex:Zwe,dithering_fragment:Qwe,dithering_pars_fragment:Jwe,roughnessmap_fragment:ebe,roughnessmap_pars_fragment:tbe,shadowmap_pars_fragment:nbe,shadowmap_pars_vertex:rbe,shadowmap_vertex:ibe,shadowmask_pars_fragment:sbe,skinbase_vertex:obe,skinning_pars_vertex:abe,skinning_vertex:lbe,skinnormal_vertex:cbe,specularmap_fragment:ube,specularmap_pars_fragment:dbe,tonemapping_fragment:fbe,tonemapping_pars_fragment:hbe,transmission_fragment:pbe,transmission_pars_fragment:mbe,uv_pars_fragment:gbe,uv_pars_vertex:vbe,uv_vertex:ybe,worldpos_vertex:_be,background_vert:xbe,background_frag:wbe,backgroundCube_vert:bbe,backgroundCube_frag:Sbe,cube_vert:Ebe,cube_frag:Tbe,depth_vert:Cbe,depth_frag:Mbe,distanceRGBA_vert:Abe,distanceRGBA_frag:Pbe,equirect_vert:Rbe,equirect_frag:Ibe,linedashed_vert:kbe,linedashed_frag:Obe,meshbasic_vert:Lbe,meshbasic_frag:Dbe,meshlambert_vert:Nbe,meshlambert_frag:Fbe,meshmatcap_vert:Ube,meshmatcap_frag:zbe,meshnormal_vert:Bbe,meshnormal_frag:Vbe,meshphong_vert:Gbe,meshphong_frag:Hbe,meshphysical_vert:Wbe,meshphysical_frag:jbe,meshtoon_vert:$be,meshtoon_frag:Ybe,points_vert:Xbe,points_frag:qbe,shadow_vert:Kbe,shadow_frag:Zbe,sprite_vert:Qbe,sprite_frag:Jbe},Pt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kn},normalScale:{value:new Je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0},uvTransform:{value:new kn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new Je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kn},alphaMap:{value:null},alphaMapTransform:{value:new kn},alphaTest:{value:0}}},gc={basic:{uniforms:Lo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:Lo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:Lo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:Lo([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},toon:{uniforms:Lo([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:Mn.meshtoon_vert,fragmentShader:Mn.meshtoon_frag},matcap:{uniforms:Lo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:Lo([Pt.points,Pt.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:Lo([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:Lo([Pt.common,Pt.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:Lo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.meshnormal_vert,fragmentShader:Mn.meshnormal_frag},sprite:{uniforms:Lo([Pt.sprite,Pt.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new kn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mn.backgroundCube_vert,fragmentShader:Mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:Lo([Pt.common,Pt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:Lo([Pt.lights,Pt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};gc.physical={uniforms:Lo([gc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kn},clearcoatNormalScale:{value:new Je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kn},transmissionSamplerSize:{value:new Je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kn},anisotropyVector:{value:new Je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kn}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag};const H1={r:0,b:0,g:0};function e1e(t,e,n,r,i,s,o){const a=new Mt(0);let l=s===!0?0:1,c,u,d=null,f=0,m=null;function v(x,y){let b=!1,S=y.isScene===!0?y.background:null;switch(S&&S.isTexture&&(S=(y.backgroundBlurriness>0?n:e).get(S)),S===null?w(a,l):S&&S.isColor&&(w(S,1),b=!0),t.xr.getEnvironmentBlendMode()){case"opaque":b=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),b=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),b=!0;break}(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Wy)?(u===void 0&&(u=new oi(new nf(1,1,1),new Iu({name:"BackgroundCubeMaterial",uniforms:xy(gc.backgroundCube.uniforms),vertexShader:gc.backgroundCube.vertexShader,fragmentShader:gc.backgroundCube.fragmentShader,side:yo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,I,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,u.material.toneMapped=S.colorSpace!==An,(d!==S||f!==S.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new oi(new Uh(2,2),new Iu({name:"BackgroundMaterial",uniforms:xy(gc.background.uniforms),vertexShader:gc.background.vertexShader,fragmentShader:gc.background.fragmentShader,side:Ru,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=S.colorSpace!==An,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=S,f=S.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function w(x,y){x.getRGB(H1,w7(t)),r.buffers.color.setClear(H1.r,H1.g,H1.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(x,y=1){a.set(x),l=y,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,w(a,l)},render:v}}function t1e(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function d(Q,ne,K,V,G){let W=!1;if(o){const F=w(V,K,ne);c!==F&&(c=F,m(c.object)),W=y(Q,V,K,G),W&&b(Q,V,K,G)}else{const F=ne.wireframe===!0;(c.geometry!==V.id||c.program!==K.id||c.wireframe!==F)&&(c.geometry=V.id,c.program=K.id,c.wireframe=F,W=!0)}G!==null&&n.update(G,t.ELEMENT_ARRAY_BUFFER),(W||u)&&(u=!1,O(Q,ne,K,V),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(G).buffer))}function f(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(Q){return r.isWebGL2?t.bindVertexArray(Q):s.bindVertexArrayOES(Q)}function v(Q){return r.isWebGL2?t.deleteVertexArray(Q):s.deleteVertexArrayOES(Q)}function w(Q,ne,K){const V=K.wireframe===!0;let G=a[Q.id];G===void 0&&(G={},a[Q.id]=G);let W=G[ne.id];W===void 0&&(W={},G[ne.id]=W);let F=W[V];return F===void 0&&(F=x(f()),W[V]=F),F}function x(Q){const ne=[],K=[],V=[];for(let G=0;G<i;G++)ne[G]=0,K[G]=0,V[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:K,attributeDivisors:V,object:Q,attributes:{},index:null}}function y(Q,ne,K,V){const G=c.attributes,W=ne.attributes;let F=0;const U=K.getAttributes();for(const q in U)if(U[q].location>=0){const re=G[q];let le=W[q];if(le===void 0&&(q==="instanceMatrix"&&Q.instanceMatrix&&(le=Q.instanceMatrix),q==="instanceColor"&&Q.instanceColor&&(le=Q.instanceColor)),re===void 0||re.attribute!==le||le&&re.data!==le.data)return!0;F++}return c.attributesNum!==F||c.index!==V}function b(Q,ne,K,V){const G={},W=ne.attributes;let F=0;const U=K.getAttributes();for(const q in U)if(U[q].location>=0){let re=W[q];re===void 0&&(q==="instanceMatrix"&&Q.instanceMatrix&&(re=Q.instanceMatrix),q==="instanceColor"&&Q.instanceColor&&(re=Q.instanceColor));const le={};le.attribute=re,re&&re.data&&(le.data=re.data),G[q]=le,F++}c.attributes=G,c.attributesNum=F,c.index=V}function S(){const Q=c.newAttributes;for(let ne=0,K=Q.length;ne<K;ne++)Q[ne]=0}function T(Q){C(Q,0)}function C(Q,ne){const K=c.newAttributes,V=c.enabledAttributes,G=c.attributeDivisors;K[Q]=1,V[Q]===0&&(t.enableVertexAttribArray(Q),V[Q]=1),G[Q]!==ne&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,ne),G[Q]=ne)}function M(){const Q=c.newAttributes,ne=c.enabledAttributes;for(let K=0,V=ne.length;K<V;K++)ne[K]!==Q[K]&&(t.disableVertexAttribArray(K),ne[K]=0)}function I(Q,ne,K,V,G,W,F){F===!0?t.vertexAttribIPointer(Q,ne,K,G,W):t.vertexAttribPointer(Q,ne,K,V,G,W)}function O(Q,ne,K,V){if(r.isWebGL2===!1&&(Q.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const G=V.attributes,W=K.getAttributes(),F=ne.defaultAttributeValues;for(const U in W){const q=W[U];if(q.location>=0){let te=G[U];if(te===void 0&&(U==="instanceMatrix"&&Q.instanceMatrix&&(te=Q.instanceMatrix),U==="instanceColor"&&Q.instanceColor&&(te=Q.instanceColor)),te!==void 0){const re=te.normalized,le=te.itemSize,fe=n.get(te);if(fe===void 0)continue;const ye=fe.buffer,se=fe.type,ve=fe.bytesPerElement,Se=r.isWebGL2===!0&&(se===t.INT||se===t.UNSIGNED_INT||te.gpuType===oL);if(te.isInterleavedBufferAttribute){const pe=te.data,Z=pe.stride,me=te.offset;if(pe.isInstancedInterleavedBuffer){for(let ue=0;ue<q.locationSize;ue++)C(q.location+ue,pe.meshPerAttribute);Q.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ue=0;ue<q.locationSize;ue++)T(q.location+ue);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let ue=0;ue<q.locationSize;ue++)I(q.location+ue,le/q.locationSize,se,re,Z*ve,(me+le/q.locationSize*ue)*ve,Se)}else{if(te.isInstancedBufferAttribute){for(let pe=0;pe<q.locationSize;pe++)C(q.location+pe,te.meshPerAttribute);Q.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let pe=0;pe<q.locationSize;pe++)T(q.location+pe);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let pe=0;pe<q.locationSize;pe++)I(q.location+pe,le/q.locationSize,se,re,le*ve,le/q.locationSize*pe*ve,Se)}}else if(F!==void 0){const re=F[U];if(re!==void 0)switch(re.length){case 2:t.vertexAttrib2fv(q.location,re);break;case 3:t.vertexAttrib3fv(q.location,re);break;case 4:t.vertexAttrib4fv(q.location,re);break;default:t.vertexAttrib1fv(q.location,re)}}}}M()}function R(){$();for(const Q in a){const ne=a[Q];for(const K in ne){const V=ne[K];for(const G in V)v(V[G].object),delete V[G];delete ne[K]}delete a[Q]}}function D(Q){if(a[Q.id]===void 0)return;const ne=a[Q.id];for(const K in ne){const V=ne[K];for(const G in V)v(V[G].object),delete V[G];delete ne[K]}delete a[Q.id]}function j(Q){for(const ne in a){const K=a[ne];if(K[Q.id]===void 0)continue;const V=K[Q.id];for(const G in V)v(V[G].object),delete V[G];delete K[Q.id]}}function $(){B(),u=!0,c!==l&&(c=l,m(c.object))}function B(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:$,resetDefaultState:B,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:j,initAttributes:S,enableAttribute:T,disableUnusedAttributes:M}}function n1e(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let f,m;if(i)f=t,m="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[m](s,c,u,d),n.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function r1e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=f>0,T=o||e.has("OES_texture_float"),C=S&&T,M=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:v,maxAttributes:w,maxVertexUniforms:x,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:S,floatFragmentTextures:T,floatVertexTextures:C,maxSamples:M}}function i1e(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Id,a=new kn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||r!==0||i;return i=f,r=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,w=d.clipIntersection,x=d.clipShadows,y=t.get(d);if(!i||v===null||v.length===0||s&&!x)s?u(null):c();else{const b=s?0:r,S=b*4;let T=y.clippingState||null;l.value=T,T=u(v,f,S,m);for(let C=0;C!==S;++C)T[C]=n[C];y.clippingState=T,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,m,v){const w=d!==null?d.length:0;let x=null;if(w!==0){if(x=l.value,v!==!0||x===null){const y=m+w*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<y)&&(x=new Float32Array(y));for(let S=0,T=m;S!==w;++S,T+=4)o.copy(d[S]).applyMatrix4(b,a),o.normal.toArray(x,T),x[T+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,x}}function s1e(t){let e=new WeakMap;function n(o,a){return a===Gx?o.mapping=Mh:a===Hx&&(o.mapping=Ah),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Gx||a===Hx)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new S7(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class zm extends Ww{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Uv=4,jU=[.125,.215,.35,.446,.526,.582],Wp=20,QA=new zm,$U=new Mt;let JA=null;const Up=(1+Math.sqrt(5))/2,uv=1/Up,YU=[new oe(1,1,1),new oe(-1,1,1),new oe(1,1,-1),new oe(-1,1,-1),new oe(0,Up,uv),new oe(0,Up,-uv),new oe(uv,0,Up),new oe(-uv,0,Up),new oe(Up,uv,0),new oe(-Up,uv,0)];class p2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){JA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=KU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(JA),e.scissorTest=!1,W1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Mh||e.mapping===Ah?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),JA=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Xr,minFilter:Xr,generateMipmaps:!1,type:yy,format:ha,colorSpace:Pc,depthBuffer:!1},i=XU(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=XU(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=o1e(s)),this._blurMaterial=a1e(s,e,n)}return i}_compileMaterial(e){const n=new oi(this._lodPlanes[0],e);this._renderer.compile(n,QA)}_sceneToCubeUV(e,n,r,i){const a=new Qi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor($U),u.toneMapping=Ec,u.autoClear=!1;const m=new tf({name:"PMREM.Background",side:yo,depthWrite:!1,depthTest:!1}),v=new oi(new nf,m);let w=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,w=!0):(m.color.copy($U),w=!0);for(let y=0;y<6;y++){const b=y%3;b===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):b===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const S=this._cubeSize;W1(i,b*S,y>2?S:0,S,S),u.setRenderTarget(i),w&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Mh||e.mapping===Ah;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=KU()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qU());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new oi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;W1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,QA)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=YU[(i-1)%YU.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new oi(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Wp-1),w=s/v,x=isFinite(s)?1+Math.floor(u*w):Wp;x>Wp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Wp}`);const y=[];let b=0;for(let I=0;I<Wp;++I){const O=I/w,R=Math.exp(-O*O/2);y.push(R),I===0?b+=R:I<x&&(b+=2*R)}for(let I=0;I<y.length;I++)y[I]=y[I]/b;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=v,f.mipInt.value=S-r;const T=this._sizeLods[i],C=3*T*(i>S-Uv?i-S+Uv:0),M=4*(this._cubeSize-T);W1(n,C,M,3*T,2*T),l.setRenderTarget(n),l.render(d,QA)}}function o1e(t){const e=[],n=[],r=[];let i=t;const s=t-Uv+1+jU.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Uv?l=jU[o-t+Uv-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,w=3,x=2,y=1,b=new Float32Array(w*v*m),S=new Float32Array(x*v*m),T=new Float32Array(y*v*m);for(let M=0;M<m;M++){const I=M%3*2/3-1,O=M>2?0:-1,R=[I,O,0,I+2/3,O,0,I+2/3,O+1,0,I,O,0,I+2/3,O+1,0,I,O+1,0];b.set(R,w*v*M),S.set(f,x*v*M);const D=[M,M,M,M,M,M];T.set(D,y*v*M)}const C=new Pn;C.setAttribute("position",new gr(b,w)),C.setAttribute("uv",new gr(S,x)),C.setAttribute("faceIndex",new gr(T,y)),e.push(C),i>Uv&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function XU(t,e,n){const r=new Rc(t,e,n);return r.texture.mapping=Wy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function W1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function a1e(t,e,n){const r=new Float32Array(Wp),i=new oe(0,1,0);return new Iu({name:"SphericalGaussianBlur",defines:{n:Wp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:bL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ud,depthTest:!1,depthWrite:!1})}function qU(){return new Iu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:bL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ud,depthTest:!1,depthWrite:!1})}function KU(){return new Iu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:bL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ud,depthTest:!1,depthWrite:!1})}function bL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function l1e(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Gx||l===Hx,u=l===Mh||l===Ah;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new p2(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new p2(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function c1e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function u1e(t,e,n,r){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);for(const v in f.morphAttributes){const w=f.morphAttributes[v];for(let x=0,y=w.length;x<y;x++)e.remove(w[x])}f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const v in f)e.update(f[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const w=m[v];for(let x=0,y=w.length;x<y;x++)e.update(w[x],t.ARRAY_BUFFER)}}function c(d){const f=[],m=d.index,v=d.attributes.position;let w=0;if(m!==null){const b=m.array;w=m.version;for(let S=0,T=b.length;S<T;S+=3){const C=b[S+0],M=b[S+1],I=b[S+2];f.push(C,M,M,I,I,C)}}else{const b=v.array;w=v.version;for(let S=0,T=b.length/3-1;S<T;S+=3){const C=S+0,M=S+1,I=S+2;f.push(C,M,M,I,I,C)}}const x=new(_7(f)?xL:_L)(f,1);x.version=w;const y=s.get(d);y&&e.remove(y),s.set(d,x)}function u(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function d1e(t,e,n,r){const i=r.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,m){t.drawElements(s,m,a,f*l),n.update(m,s,1)}function d(f,m,v){if(v===0)return;let w,x;if(i)w=t,x="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[x](s,m,a,f*l,v),n.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function f1e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function h1e(t,e){return t[0]-e[0]}function p1e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function m1e(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new rr,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let w=s.get(u);if(w===void 0||w.count!==v){let Q=function(){$.dispose(),s.delete(u),u.removeEventListener("dispose",Q)};w!==void 0&&w.texture.dispose();const b=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let O=0;b===!0&&(O=1),S===!0&&(O=2),T===!0&&(O=3);let R=u.attributes.position.count*O,D=1;R>e.maxTextureSize&&(D=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const j=new Float32Array(R*D*4*v),$=new gC(j,R,D,v);$.type=yu,$.needsUpdate=!0;const B=O*4;for(let ne=0;ne<v;ne++){const K=C[ne],V=M[ne],G=I[ne],W=R*D*4*ne;for(let F=0;F<K.count;F++){const U=F*B;b===!0&&(o.fromBufferAttribute(K,F),j[W+U+0]=o.x,j[W+U+1]=o.y,j[W+U+2]=o.z,j[W+U+3]=0),S===!0&&(o.fromBufferAttribute(V,F),j[W+U+4]=o.x,j[W+U+5]=o.y,j[W+U+6]=o.z,j[W+U+7]=0),T===!0&&(o.fromBufferAttribute(G,F),j[W+U+8]=o.x,j[W+U+9]=o.y,j[W+U+10]=o.z,j[W+U+11]=G.itemSize===4?o.w:1)}}w={count:v,texture:$,size:new Je(R,D)},s.set(u,w),u.addEventListener("dispose",Q)}let x=0;for(let b=0;b<f.length;b++)x+=f[b];const y=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(t,"morphTargetBaseInfluence",y),d.getUniforms().setValue(t,"morphTargetInfluences",f),d.getUniforms().setValue(t,"morphTargetsTexture",w.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",w.size)}else{const m=f===void 0?0:f.length;let v=r[u.id];if(v===void 0||v.length!==m){v=[];for(let S=0;S<m;S++)v[S]=[S,0];r[u.id]=v}for(let S=0;S<m;S++){const T=v[S];T[0]=S,T[1]=f[S]}v.sort(p1e);for(let S=0;S<8;S++)S<m&&v[S][1]?(a[S][0]=v[S][0],a[S][1]=v[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(h1e);const w=u.morphAttributes.position,x=u.morphAttributes.normal;let y=0;for(let S=0;S<8;S++){const T=a[S],C=T[0],M=T[1];C!==Number.MAX_SAFE_INTEGER&&M?(w&&u.getAttribute("morphTarget"+S)!==w[C]&&u.setAttribute("morphTarget"+S,w[C]),x&&u.getAttribute("morphNormal"+S)!==x[C]&&u.setAttribute("morphNormal"+S,x[C]),i[S]=M,y+=M):(w&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),x&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const b=u.morphTargetsRelative?1:1-y;d.getUniforms().setValue(t,"morphTargetBaseInfluence",b),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function g1e(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const T7=new ci,C7=new gC,M7=new yL,A7=new jw,ZU=[],QU=[],JU=new Float32Array(16),ez=new Float32Array(9),tz=new Float32Array(4);function $y(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=ZU[i];if(s===void 0&&(s=new Float32Array(i),ZU[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ds(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function fs(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function vC(t,e){let n=QU[e];n===void 0&&(n=new Int32Array(e),QU[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function v1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function y1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ds(n,e))return;t.uniform2fv(this.addr,e),fs(n,e)}}function _1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ds(n,e))return;t.uniform3fv(this.addr,e),fs(n,e)}}function x1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ds(n,e))return;t.uniform4fv(this.addr,e),fs(n,e)}}function w1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ds(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),fs(n,e)}else{if(ds(n,r))return;tz.set(r),t.uniformMatrix2fv(this.addr,!1,tz),fs(n,r)}}function b1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ds(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),fs(n,e)}else{if(ds(n,r))return;ez.set(r),t.uniformMatrix3fv(this.addr,!1,ez),fs(n,r)}}function S1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ds(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),fs(n,e)}else{if(ds(n,r))return;JU.set(r),t.uniformMatrix4fv(this.addr,!1,JU),fs(n,r)}}function E1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function T1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ds(n,e))return;t.uniform2iv(this.addr,e),fs(n,e)}}function C1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ds(n,e))return;t.uniform3iv(this.addr,e),fs(n,e)}}function M1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ds(n,e))return;t.uniform4iv(this.addr,e),fs(n,e)}}function A1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function P1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ds(n,e))return;t.uniform2uiv(this.addr,e),fs(n,e)}}function R1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ds(n,e))return;t.uniform3uiv(this.addr,e),fs(n,e)}}function I1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ds(n,e))return;t.uniform4uiv(this.addr,e),fs(n,e)}}function k1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||T7,i)}function O1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||M7,i)}function L1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||A7,i)}function D1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||C7,i)}function N1e(t){switch(t){case 5126:return v1e;case 35664:return y1e;case 35665:return _1e;case 35666:return x1e;case 35674:return w1e;case 35675:return b1e;case 35676:return S1e;case 5124:case 35670:return E1e;case 35667:case 35671:return T1e;case 35668:case 35672:return C1e;case 35669:case 35673:return M1e;case 5125:return A1e;case 36294:return P1e;case 36295:return R1e;case 36296:return I1e;case 35678:case 36198:case 36298:case 36306:case 35682:return k1e;case 35679:case 36299:case 36307:return O1e;case 35680:case 36300:case 36308:case 36293:return L1e;case 36289:case 36303:case 36311:case 36292:return D1e}}function F1e(t,e){t.uniform1fv(this.addr,e)}function U1e(t,e){const n=$y(e,this.size,2);t.uniform2fv(this.addr,n)}function z1e(t,e){const n=$y(e,this.size,3);t.uniform3fv(this.addr,n)}function B1e(t,e){const n=$y(e,this.size,4);t.uniform4fv(this.addr,n)}function V1e(t,e){const n=$y(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function G1e(t,e){const n=$y(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function H1e(t,e){const n=$y(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function W1e(t,e){t.uniform1iv(this.addr,e)}function j1e(t,e){t.uniform2iv(this.addr,e)}function $1e(t,e){t.uniform3iv(this.addr,e)}function Y1e(t,e){t.uniform4iv(this.addr,e)}function X1e(t,e){t.uniform1uiv(this.addr,e)}function q1e(t,e){t.uniform2uiv(this.addr,e)}function K1e(t,e){t.uniform3uiv(this.addr,e)}function Z1e(t,e){t.uniform4uiv(this.addr,e)}function Q1e(t,e,n){const r=this.cache,i=e.length,s=vC(n,i);ds(r,s)||(t.uniform1iv(this.addr,s),fs(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||T7,s[o])}function J1e(t,e,n){const r=this.cache,i=e.length,s=vC(n,i);ds(r,s)||(t.uniform1iv(this.addr,s),fs(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||M7,s[o])}function eSe(t,e,n){const r=this.cache,i=e.length,s=vC(n,i);ds(r,s)||(t.uniform1iv(this.addr,s),fs(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||A7,s[o])}function tSe(t,e,n){const r=this.cache,i=e.length,s=vC(n,i);ds(r,s)||(t.uniform1iv(this.addr,s),fs(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||C7,s[o])}function nSe(t){switch(t){case 5126:return F1e;case 35664:return U1e;case 35665:return z1e;case 35666:return B1e;case 35674:return V1e;case 35675:return G1e;case 35676:return H1e;case 5124:case 35670:return W1e;case 35667:case 35671:return j1e;case 35668:case 35672:return $1e;case 35669:case 35673:return Y1e;case 5125:return X1e;case 36294:return q1e;case 36295:return K1e;case 36296:return Z1e;case 35678:case 36198:case 36298:case 36306:case 35682:return Q1e;case 35679:case 36299:case 36307:return J1e;case 35680:case 36300:case 36308:case 36293:return eSe;case 36289:case 36303:case 36311:case 36292:return tSe}}class rSe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=N1e(n.type)}}class iSe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=nSe(n.type)}}class sSe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const eP=/(\w+)(\])?(\[|\.)?/g;function nz(t,e){t.seq.push(e),t.map[e.id]=e}function oSe(t,e,n){const r=t.name,i=r.length;for(eP.lastIndex=0;;){const s=eP.exec(r),o=eP.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){nz(n,c===void 0?new rSe(a,t,e):new iSe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new sSe(a),nz(n,d)),n=d}}}class iE{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);oSe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function rz(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let aSe=0;function lSe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function cSe(t){switch(t){case Pc:return["Linear","( value )"];case An:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function iz(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+lSe(t.getShaderSource(e),o)}else return i}function uSe(t,e){const n=cSe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function dSe(t,e){let n;switch(e){case j9:n="Linear";break;case $9:n="Reinhard";break;case Y9:n="OptimizedCineon";break;case iL:n="ACESFilmic";break;case X9:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function fSe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(W_).join(`
`)}function hSe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function pSe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function W_(t){return t!==""}function sz(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oz(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mSe=/^[ \t]*#include +<([\w\d./]+)>/gm;function m2(t){return t.replace(mSe,vSe)}const gSe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function vSe(t,e){let n=Mn[e];if(n===void 0){const r=gSe.get(e);if(r!==void 0)n=Mn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return m2(n)}const ySe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function az(t){return t.replace(ySe,_Se)}function _Se(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function lz(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xSe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===fC?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ox?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===pc&&(e="SHADOWMAP_TYPE_VSM"),e}function wSe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Mh:case Ah:e="ENVMAP_TYPE_CUBE";break;case Wy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function bSe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ah:e="ENVMAP_MODE_REFRACTION";break}return e}function SSe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Hw:e="ENVMAP_BLENDING_MULTIPLY";break;case H9:e="ENVMAP_BLENDING_MIX";break;case W9:e="ENVMAP_BLENDING_ADD";break}return e}function ESe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function TSe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=xSe(n),c=wSe(n),u=bSe(n),d=SSe(n),f=ESe(n),m=n.isWebGL2?"":fSe(n),v=hSe(s),w=i.createProgram();let x,y,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(W_).join(`
`),x.length>0&&(x+=`
`),y=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(W_).join(`
`),y.length>0&&(y+=`
`)):(x=[lz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(W_).join(`
`),y=[m,lz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ec?"#define TONE_MAPPING":"",n.toneMapping!==Ec?Mn.tonemapping_pars_fragment:"",n.toneMapping!==Ec?dSe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mn.colorspace_pars_fragment,uSe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(W_).join(`
`)),o=m2(o),o=sz(o,n),o=oz(o,n),a=m2(a),a=sz(a,n),a=oz(a,n),o=az(o),a=az(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,y=["#define varying in",n.glslVersion===f2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===f2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=b+x+o,T=b+y+a,C=rz(i,i.VERTEX_SHADER,S),M=rz(i,i.FRAGMENT_SHADER,T);if(i.attachShader(w,C),i.attachShader(w,M),n.index0AttributeName!==void 0?i.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(w,0,"position"),i.linkProgram(w),t.debug.checkShaderErrors){const R=i.getProgramInfoLog(w).trim(),D=i.getShaderInfoLog(C).trim(),j=i.getShaderInfoLog(M).trim();let $=!0,B=!0;if(i.getProgramParameter(w,i.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,w,C,M);else{const Q=iz(i,C,"vertex"),ne=iz(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(w,i.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+Q+`
`+ne)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||j==="")&&(B=!1);B&&(this.diagnostics={runnable:$,programLog:R,vertexShader:{log:D,prefix:x},fragmentShader:{log:j,prefix:y}})}i.deleteShader(C),i.deleteShader(M);let I;this.getUniforms=function(){return I===void 0&&(I=new iE(i,w)),I};let O;return this.getAttributes=function(){return O===void 0&&(O=pSe(i,w)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=aSe++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=C,this.fragmentShader=M,this}let CSe=0;class MSe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new ASe(e),n.set(e,r)),r}}class ASe{constructor(e){this.id=CSe++,this.code=e,this.usedTimes=0}}function PSe(t,e,n,r,i,s,o){const a=new cm,l=new MSe,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(R){return R===0?"uv":`uv${R}`}function x(R,D,j,$,B){const Q=$.fog,ne=B.geometry,K=R.isMeshStandardMaterial?$.environment:null,V=(R.isMeshStandardMaterial?n:e).get(R.envMap||K),G=V&&V.mapping===Wy?V.image.height:null,W=v[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const F=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,U=F!==void 0?F.length:0;let q=0;ne.morphAttributes.position!==void 0&&(q=1),ne.morphAttributes.normal!==void 0&&(q=2),ne.morphAttributes.color!==void 0&&(q=3);let te,re,le,fe;if(W){const Rn=gc[W];te=Rn.vertexShader,re=Rn.fragmentShader}else te=R.vertexShader,re=R.fragmentShader,l.update(R),le=l.getVertexShaderID(R),fe=l.getFragmentShaderID(R);const ye=t.getRenderTarget(),se=B.isInstancedMesh===!0,ve=!!R.map,Se=!!R.matcap,pe=!!V,Z=!!R.aoMap,me=!!R.lightMap,ue=!!R.bumpMap,_e=!!R.normalMap,ce=!!R.displacementMap,Xe=!!R.emissiveMap,Ae=!!R.metalnessMap,Ge=!!R.roughnessMap,je=R.anisotropy>0,ke=R.clearcoat>0,nt=R.iridescence>0,ie=R.sheen>0,J=R.transmission>0,he=je&&!!R.anisotropyMap,Ne=ke&&!!R.clearcoatMap,ze=ke&&!!R.clearcoatNormalMap,He=ke&&!!R.clearcoatRoughnessMap,et=nt&&!!R.iridescenceMap,Ze=nt&&!!R.iridescenceThicknessMap,Oe=ie&&!!R.sheenColorMap,lt=ie&&!!R.sheenRoughnessMap,wt=!!R.specularMap,dt=!!R.specularColorMap,tt=!!R.specularIntensityMap,ct=J&&!!R.transmissionMap,Rt=J&&!!R.thicknessMap,en=!!R.gradientMap,xe=!!R.alphaMap,rt=R.alphaTest>0,De=!!R.alphaHash,st=!!R.extensions,yt=!!ne.attributes.uv1,an=!!ne.attributes.uv2,pn=!!ne.attributes.uv3;return{isWebGL2:u,shaderID:W,shaderType:R.type,shaderName:R.name,vertexShader:te,fragmentShader:re,defines:R.defines,customVertexShaderID:le,customFragmentShaderID:fe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:se,instancingColor:se&&B.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:ye===null?t.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:Pc,map:ve,matcap:Se,envMap:pe,envMapMode:pe&&V.mapping,envMapCubeUVHeight:G,aoMap:Z,lightMap:me,bumpMap:ue,normalMap:_e,displacementMap:f&&ce,emissiveMap:Xe,normalMapObjectSpace:_e&&R.normalMapType===l7,normalMapTangentSpace:_e&&R.normalMapType===Fh,metalnessMap:Ae,roughnessMap:Ge,anisotropy:je,anisotropyMap:he,clearcoat:ke,clearcoatMap:Ne,clearcoatNormalMap:ze,clearcoatRoughnessMap:He,iridescence:nt,iridescenceMap:et,iridescenceThicknessMap:Ze,sheen:ie,sheenColorMap:Oe,sheenRoughnessMap:lt,specularMap:wt,specularColorMap:dt,specularIntensityMap:tt,transmission:J,transmissionMap:ct,thicknessMap:Rt,gradientMap:en,opaque:R.transparent===!1&&R.blending===am,alphaMap:xe,alphaTest:rt,alphaHash:De,combine:R.combine,mapUv:ve&&w(R.map.channel),aoMapUv:Z&&w(R.aoMap.channel),lightMapUv:me&&w(R.lightMap.channel),bumpMapUv:ue&&w(R.bumpMap.channel),normalMapUv:_e&&w(R.normalMap.channel),displacementMapUv:ce&&w(R.displacementMap.channel),emissiveMapUv:Xe&&w(R.emissiveMap.channel),metalnessMapUv:Ae&&w(R.metalnessMap.channel),roughnessMapUv:Ge&&w(R.roughnessMap.channel),anisotropyMapUv:he&&w(R.anisotropyMap.channel),clearcoatMapUv:Ne&&w(R.clearcoatMap.channel),clearcoatNormalMapUv:ze&&w(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:He&&w(R.clearcoatRoughnessMap.channel),iridescenceMapUv:et&&w(R.iridescenceMap.channel),iridescenceThicknessMapUv:Ze&&w(R.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&w(R.sheenColorMap.channel),sheenRoughnessMapUv:lt&&w(R.sheenRoughnessMap.channel),specularMapUv:wt&&w(R.specularMap.channel),specularColorMapUv:dt&&w(R.specularColorMap.channel),specularIntensityMapUv:tt&&w(R.specularIntensityMap.channel),transmissionMapUv:ct&&w(R.transmissionMap.channel),thicknessMapUv:Rt&&w(R.thicknessMap.channel),alphaMapUv:xe&&w(R.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(_e||je),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,vertexUv1s:yt,vertexUv2s:an,vertexUv3s:pn,pointsUvs:B.isPoints===!0&&!!ne.attributes.uv&&(ve||xe),fog:!!Q,useFog:R.fog===!0,fogExp2:Q&&Q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:B.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:q,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:R.toneMapped?t.toneMapping:Ec,useLegacyLights:t.useLegacyLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ri,flipSided:R.side===yo,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:st&&R.extensions.derivatives===!0,extensionFragDepth:st&&R.extensions.fragDepth===!0,extensionDrawBuffers:st&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:st&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function y(R){const D=[];if(R.shaderID?D.push(R.shaderID):(D.push(R.customVertexShaderID),D.push(R.customFragmentShaderID)),R.defines!==void 0)for(const j in R.defines)D.push(j),D.push(R.defines[j]);return R.isRawShaderMaterial===!1&&(b(D,R),S(D,R),D.push(t.outputColorSpace)),D.push(R.customProgramCacheKey),D.join()}function b(R,D){R.push(D.precision),R.push(D.outputColorSpace),R.push(D.envMapMode),R.push(D.envMapCubeUVHeight),R.push(D.mapUv),R.push(D.alphaMapUv),R.push(D.lightMapUv),R.push(D.aoMapUv),R.push(D.bumpMapUv),R.push(D.normalMapUv),R.push(D.displacementMapUv),R.push(D.emissiveMapUv),R.push(D.metalnessMapUv),R.push(D.roughnessMapUv),R.push(D.anisotropyMapUv),R.push(D.clearcoatMapUv),R.push(D.clearcoatNormalMapUv),R.push(D.clearcoatRoughnessMapUv),R.push(D.iridescenceMapUv),R.push(D.iridescenceThicknessMapUv),R.push(D.sheenColorMapUv),R.push(D.sheenRoughnessMapUv),R.push(D.specularMapUv),R.push(D.specularColorMapUv),R.push(D.specularIntensityMapUv),R.push(D.transmissionMapUv),R.push(D.thicknessMapUv),R.push(D.combine),R.push(D.fogExp2),R.push(D.sizeAttenuation),R.push(D.morphTargetsCount),R.push(D.morphAttributeCount),R.push(D.numDirLights),R.push(D.numPointLights),R.push(D.numSpotLights),R.push(D.numSpotLightMaps),R.push(D.numHemiLights),R.push(D.numRectAreaLights),R.push(D.numDirLightShadows),R.push(D.numPointLightShadows),R.push(D.numSpotLightShadows),R.push(D.numSpotLightShadowsWithMaps),R.push(D.shadowMapType),R.push(D.toneMapping),R.push(D.numClippingPlanes),R.push(D.numClipIntersection),R.push(D.depthPacking)}function S(R,D){a.disableAll(),D.isWebGL2&&a.enable(0),D.supportsVertexTextures&&a.enable(1),D.instancing&&a.enable(2),D.instancingColor&&a.enable(3),D.matcap&&a.enable(4),D.envMap&&a.enable(5),D.normalMapObjectSpace&&a.enable(6),D.normalMapTangentSpace&&a.enable(7),D.clearcoat&&a.enable(8),D.iridescence&&a.enable(9),D.alphaTest&&a.enable(10),D.vertexColors&&a.enable(11),D.vertexAlphas&&a.enable(12),D.vertexUv1s&&a.enable(13),D.vertexUv2s&&a.enable(14),D.vertexUv3s&&a.enable(15),D.vertexTangents&&a.enable(16),D.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),D.fog&&a.enable(0),D.useFog&&a.enable(1),D.flatShading&&a.enable(2),D.logarithmicDepthBuffer&&a.enable(3),D.skinning&&a.enable(4),D.morphTargets&&a.enable(5),D.morphNormals&&a.enable(6),D.morphColors&&a.enable(7),D.premultipliedAlpha&&a.enable(8),D.shadowMapEnabled&&a.enable(9),D.useLegacyLights&&a.enable(10),D.doubleSided&&a.enable(11),D.flipSided&&a.enable(12),D.useDepthPacking&&a.enable(13),D.dithering&&a.enable(14),D.transmission&&a.enable(15),D.sheen&&a.enable(16),D.opaque&&a.enable(17),D.pointsUvs&&a.enable(18),R.push(a.mask)}function T(R){const D=v[R.type];let j;if(D){const $=gc[D];j=wL.clone($.uniforms)}else j=R.uniforms;return j}function C(R,D){let j;for(let $=0,B=c.length;$<B;$++){const Q=c[$];if(Q.cacheKey===D){j=Q,++j.usedTimes;break}}return j===void 0&&(j=new TSe(t,D,R,s),c.push(j)),j}function M(R){if(--R.usedTimes===0){const D=c.indexOf(R);c[D]=c[c.length-1],c.pop(),R.destroy()}}function I(R){l.remove(R)}function O(){l.dispose()}return{getParameters:x,getProgramCacheKey:y,getUniforms:T,acquireProgram:C,releaseProgram:M,releaseShaderCache:I,programs:c,dispose:O}}function RSe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function ISe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function cz(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function uz(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,f,m,v,w,x){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:w,group:x},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=m,y.groupOrder=v,y.renderOrder=d.renderOrder,y.z=w,y.group=x),e++,y}function a(d,f,m,v,w,x){const y=o(d,f,m,v,w,x);m.transmission>0?r.push(y):m.transparent===!0?i.push(y):n.push(y)}function l(d,f,m,v,w,x){const y=o(d,f,m,v,w,x);m.transmission>0?r.unshift(y):m.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||ISe),r.length>1&&r.sort(f||cz),i.length>1&&i.sort(f||cz)}function u(){for(let d=e,f=t.length;d<f;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function kSe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new uz,t.set(r,[o])):i>=s.length?(o=new uz,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function OSe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new oe,color:new Mt};break;case"SpotLight":n={position:new oe,direction:new oe,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oe,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oe,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":n={color:new Mt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=n,n}}}function LSe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let DSe=0;function NSe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function FSe(t,e){const n=new OSe,r=LSe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new oe);const s=new oe,o=new wn,a=new wn;function l(u,d){let f=0,m=0,v=0;for(let j=0;j<9;j++)i.probe[j].set(0,0,0);let w=0,x=0,y=0,b=0,S=0,T=0,C=0,M=0,I=0,O=0;u.sort(NSe);const R=d===!0?Math.PI:1;for(let j=0,$=u.length;j<$;j++){const B=u[j],Q=B.color,ne=B.intensity,K=B.distance,V=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)f+=Q.r*ne*R,m+=Q.g*ne*R,v+=Q.b*ne*R;else if(B.isLightProbe)for(let G=0;G<9;G++)i.probe[G].addScaledVector(B.sh.coefficients[G],ne);else if(B.isDirectionalLight){const G=n.get(B);if(G.color.copy(B.color).multiplyScalar(B.intensity*R),B.castShadow){const W=B.shadow,F=r.get(B);F.shadowBias=W.bias,F.shadowNormalBias=W.normalBias,F.shadowRadius=W.radius,F.shadowMapSize=W.mapSize,i.directionalShadow[w]=F,i.directionalShadowMap[w]=V,i.directionalShadowMatrix[w]=B.shadow.matrix,T++}i.directional[w]=G,w++}else if(B.isSpotLight){const G=n.get(B);G.position.setFromMatrixPosition(B.matrixWorld),G.color.copy(Q).multiplyScalar(ne*R),G.distance=K,G.coneCos=Math.cos(B.angle),G.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),G.decay=B.decay,i.spot[y]=G;const W=B.shadow;if(B.map&&(i.spotLightMap[I]=B.map,I++,W.updateMatrices(B),B.castShadow&&O++),i.spotLightMatrix[y]=W.matrix,B.castShadow){const F=r.get(B);F.shadowBias=W.bias,F.shadowNormalBias=W.normalBias,F.shadowRadius=W.radius,F.shadowMapSize=W.mapSize,i.spotShadow[y]=F,i.spotShadowMap[y]=V,M++}y++}else if(B.isRectAreaLight){const G=n.get(B);G.color.copy(Q).multiplyScalar(ne),G.halfWidth.set(B.width*.5,0,0),G.halfHeight.set(0,B.height*.5,0),i.rectArea[b]=G,b++}else if(B.isPointLight){const G=n.get(B);if(G.color.copy(B.color).multiplyScalar(B.intensity*R),G.distance=B.distance,G.decay=B.decay,B.castShadow){const W=B.shadow,F=r.get(B);F.shadowBias=W.bias,F.shadowNormalBias=W.normalBias,F.shadowRadius=W.radius,F.shadowMapSize=W.mapSize,F.shadowCameraNear=W.camera.near,F.shadowCameraFar=W.camera.far,i.pointShadow[x]=F,i.pointShadowMap[x]=V,i.pointShadowMatrix[x]=B.shadow.matrix,C++}i.point[x]=G,x++}else if(B.isHemisphereLight){const G=n.get(B);G.skyColor.copy(B.color).multiplyScalar(ne*R),G.groundColor.copy(B.groundColor).multiplyScalar(ne*R),i.hemi[S]=G,S++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=m,i.ambient[2]=v;const D=i.hash;(D.directionalLength!==w||D.pointLength!==x||D.spotLength!==y||D.rectAreaLength!==b||D.hemiLength!==S||D.numDirectionalShadows!==T||D.numPointShadows!==C||D.numSpotShadows!==M||D.numSpotMaps!==I)&&(i.directional.length=w,i.spot.length=y,i.rectArea.length=b,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=M+I-O,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=O,D.directionalLength=w,D.pointLength=x,D.spotLength=y,D.rectAreaLength=b,D.hemiLength=S,D.numDirectionalShadows=T,D.numPointShadows=C,D.numSpotShadows=M,D.numSpotMaps=I,i.version=DSe++)}function c(u,d){let f=0,m=0,v=0,w=0,x=0;const y=d.matrixWorldInverse;for(let b=0,S=u.length;b<S;b++){const T=u[b];if(T.isDirectionalLight){const C=i.directional[f];C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(y),f++}else if(T.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(y),C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(y),v++}else if(T.isRectAreaLight){const C=i.rectArea[w];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(y),a.identity(),o.copy(T.matrixWorld),o.premultiply(y),a.extractRotation(o),C.halfWidth.set(T.width*.5,0,0),C.halfHeight.set(0,T.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),w++}else if(T.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(y),m++}else if(T.isHemisphereLight){const C=i.hemi[x];C.direction.setFromMatrixPosition(T.matrixWorld),C.direction.transformDirection(y),x++}}}return{setup:l,setupView:c,state:i}}function dz(t,e){const n=new FSe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function c(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function USe(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new dz(t,e),n.set(s,[l])):o>=a.length?(l=new dz(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class yC extends Js{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=a7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _C extends Js{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const zSe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,BSe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function VSe(t,e,n){let r=new $w;const i=new Je,s=new Je,o=new rr,a=new yC({depthPacking:pL}),l=new _C,c={},u=n.maxTextureSize,d={[Ru]:yo,[yo]:Ru,[ri]:ri},f=new Iu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Je},radius:{value:4}},vertexShader:zSe,fragmentShader:BSe}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new Pn;v.setAttribute("position",new gr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new oi(v,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fC;let y=this.type;this.render=function(C,M,I){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const O=t.getRenderTarget(),R=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),j=t.state;j.setBlending(Ud),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const $=y!==pc&&this.type===pc,B=y===pc&&this.type!==pc;for(let Q=0,ne=C.length;Q<ne;Q++){const K=C[Q],V=K.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const G=V.getFrameExtents();if(i.multiply(G),s.copy(V.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/G.x),i.x=s.x*G.x,V.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/G.y),i.y=s.y*G.y,V.mapSize.y=s.y)),V.map===null||$===!0||B===!0){const F=this.type!==pc?{minFilter:Pi,magFilter:Pi}:{};V.map!==null&&V.map.dispose(),V.map=new Rc(i.x,i.y,F),V.map.texture.name=K.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const W=V.getViewportCount();for(let F=0;F<W;F++){const U=V.getViewport(F);o.set(s.x*U.x,s.y*U.y,s.x*U.z,s.y*U.w),j.viewport(o),V.updateMatrices(K,F),r=V.getFrustum(),T(M,I,V.camera,K,this.type)}V.isPointLightShadow!==!0&&this.type===pc&&b(V,I),V.needsUpdate=!1}y=this.type,x.needsUpdate=!1,t.setRenderTarget(O,R,D)};function b(C,M){const I=e.update(w);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Rc(i.x,i.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(M,null,I,f,w,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(M,null,I,m,w,null)}function S(C,M,I,O){let R=null;const D=I.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)R=D;else if(R=I.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const j=R.uuid,$=M.uuid;let B=c[j];B===void 0&&(B={},c[j]=B);let Q=B[$];Q===void 0&&(Q=R.clone(),B[$]=Q),R=Q}if(R.visible=M.visible,R.wireframe=M.wireframe,O===pc?R.side=M.shadowSide!==null?M.shadowSide:M.side:R.side=M.shadowSide!==null?M.shadowSide:d[M.side],R.alphaMap=M.alphaMap,R.alphaTest=M.alphaTest,R.map=M.map,R.clipShadows=M.clipShadows,R.clippingPlanes=M.clippingPlanes,R.clipIntersection=M.clipIntersection,R.displacementMap=M.displacementMap,R.displacementScale=M.displacementScale,R.displacementBias=M.displacementBias,R.wireframeLinewidth=M.wireframeLinewidth,R.linewidth=M.linewidth,I.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const j=t.properties.get(R);j.light=I}return R}function T(C,M,I,O,R){if(C.visible===!1)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&R===pc)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,C.matrixWorld);const $=e.update(C),B=C.material;if(Array.isArray(B)){const Q=$.groups;for(let ne=0,K=Q.length;ne<K;ne++){const V=Q[ne],G=B[V.materialIndex];if(G&&G.visible){const W=S(C,G,O,R);t.renderBufferDirect(I,null,$,W,C,V)}}}else if(B.visible){const Q=S(C,B,O,R);t.renderBufferDirect(I,null,$,Q,C,null)}}const j=C.children;for(let $=0,B=j.length;$<B;$++)T(j[$],M,I,O,R)}}function GSe(t,e,n){const r=n.isWebGL2;function i(){let xe=!1;const rt=new rr;let De=null;const st=new rr(0,0,0,0);return{setMask:function(yt){De!==yt&&!xe&&(t.colorMask(yt,yt,yt,yt),De=yt)},setLocked:function(yt){xe=yt},setClear:function(yt,an,pn,Un,Rn){Rn===!0&&(yt*=Un,an*=Un,pn*=Un),rt.set(yt,an,pn,Un),st.equals(rt)===!1&&(t.clearColor(yt,an,pn,Un),st.copy(rt))},reset:function(){xe=!1,De=null,st.set(-1,0,0,0)}}}function s(){let xe=!1,rt=null,De=null,st=null;return{setTest:function(yt){yt?ye(t.DEPTH_TEST):se(t.DEPTH_TEST)},setMask:function(yt){rt!==yt&&!xe&&(t.depthMask(yt),rt=yt)},setFunc:function(yt){if(De!==yt){switch(yt){case N9:t.depthFunc(t.NEVER);break;case F9:t.depthFunc(t.ALWAYS);break;case U9:t.depthFunc(t.LESS);break;case sT:t.depthFunc(t.LEQUAL);break;case z9:t.depthFunc(t.EQUAL);break;case B9:t.depthFunc(t.GEQUAL);break;case V9:t.depthFunc(t.GREATER);break;case G9:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}De=yt}},setLocked:function(yt){xe=yt},setClear:function(yt){st!==yt&&(t.clearDepth(yt),st=yt)},reset:function(){xe=!1,rt=null,De=null,st=null}}}function o(){let xe=!1,rt=null,De=null,st=null,yt=null,an=null,pn=null,Un=null,Rn=null;return{setTest:function(we){xe||(we?ye(t.STENCIL_TEST):se(t.STENCIL_TEST))},setMask:function(we){rt!==we&&!xe&&(t.stencilMask(we),rt=we)},setFunc:function(we,Ee,Pe){(De!==we||st!==Ee||yt!==Pe)&&(t.stencilFunc(we,Ee,Pe),De=we,st=Ee,yt=Pe)},setOp:function(we,Ee,Pe){(an!==we||pn!==Ee||Un!==Pe)&&(t.stencilOp(we,Ee,Pe),an=we,pn=Ee,Un=Pe)},setLocked:function(we){xe=we},setClear:function(we){Rn!==we&&(t.clearStencil(we),Rn=we)},reset:function(){xe=!1,rt=null,De=null,st=null,yt=null,an=null,pn=null,Un=null,Rn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let f={},m={},v=new WeakMap,w=[],x=null,y=!1,b=null,S=null,T=null,C=null,M=null,I=null,O=null,R=!1,D=null,j=null,$=null,B=null,Q=null;const ne=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,V=0;const G=t.getParameter(t.VERSION);G.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(G)[1]),K=V>=1):G.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),K=V>=2);let W=null,F={};const U=t.getParameter(t.SCISSOR_BOX),q=t.getParameter(t.VIEWPORT),te=new rr().fromArray(U),re=new rr().fromArray(q);function le(xe,rt,De,st){const yt=new Uint8Array(4),an=t.createTexture();t.bindTexture(xe,an),t.texParameteri(xe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(xe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let pn=0;pn<De;pn++)r&&(xe===t.TEXTURE_3D||xe===t.TEXTURE_2D_ARRAY)?t.texImage3D(rt,0,t.RGBA,1,1,st,0,t.RGBA,t.UNSIGNED_BYTE,yt):t.texImage2D(rt+pn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,yt);return an}const fe={};fe[t.TEXTURE_2D]=le(t.TEXTURE_2D,t.TEXTURE_2D,1),fe[t.TEXTURE_CUBE_MAP]=le(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(fe[t.TEXTURE_2D_ARRAY]=le(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),fe[t.TEXTURE_3D]=le(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(t.DEPTH_TEST),l.setFunc(sT),ce(!1),Xe(FI),ye(t.CULL_FACE),ue(Ud);function ye(xe){f[xe]!==!0&&(t.enable(xe),f[xe]=!0)}function se(xe){f[xe]!==!1&&(t.disable(xe),f[xe]=!1)}function ve(xe,rt){return m[xe]!==rt?(t.bindFramebuffer(xe,rt),m[xe]=rt,r&&(xe===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=rt),xe===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=rt)),!0):!1}function Se(xe,rt){let De=w,st=!1;if(xe)if(De=v.get(rt),De===void 0&&(De=[],v.set(rt,De)),xe.isWebGLMultipleRenderTargets){const yt=xe.texture;if(De.length!==yt.length||De[0]!==t.COLOR_ATTACHMENT0){for(let an=0,pn=yt.length;an<pn;an++)De[an]=t.COLOR_ATTACHMENT0+an;De.length=yt.length,st=!0}}else De[0]!==t.COLOR_ATTACHMENT0&&(De[0]=t.COLOR_ATTACHMENT0,st=!0);else De[0]!==t.BACK&&(De[0]=t.BACK,st=!0);st&&(n.isWebGL2?t.drawBuffers(De):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(De))}function pe(xe){return x!==xe?(t.useProgram(xe),x=xe,!0):!1}const Z={[Hp]:t.FUNC_ADD,[T9]:t.FUNC_SUBTRACT,[C9]:t.FUNC_REVERSE_SUBTRACT};if(r)Z[VI]=t.MIN,Z[GI]=t.MAX;else{const xe=e.get("EXT_blend_minmax");xe!==null&&(Z[VI]=xe.MIN_EXT,Z[GI]=xe.MAX_EXT)}const me={[M9]:t.ZERO,[A9]:t.ONE,[P9]:t.SRC_COLOR,[nL]:t.SRC_ALPHA,[D9]:t.SRC_ALPHA_SATURATE,[O9]:t.DST_COLOR,[I9]:t.DST_ALPHA,[R9]:t.ONE_MINUS_SRC_COLOR,[rL]:t.ONE_MINUS_SRC_ALPHA,[L9]:t.ONE_MINUS_DST_COLOR,[k9]:t.ONE_MINUS_DST_ALPHA};function ue(xe,rt,De,st,yt,an,pn,Un){if(xe===Ud){y===!0&&(se(t.BLEND),y=!1);return}if(y===!1&&(ye(t.BLEND),y=!0),xe!==E9){if(xe!==b||Un!==R){if((S!==Hp||M!==Hp)&&(t.blendEquation(t.FUNC_ADD),S=Hp,M=Hp),Un)switch(xe){case am:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case UI:t.blendFunc(t.ONE,t.ONE);break;case zI:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case BI:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",xe);break}else switch(xe){case am:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case UI:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case zI:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case BI:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",xe);break}T=null,C=null,I=null,O=null,b=xe,R=Un}return}yt=yt||rt,an=an||De,pn=pn||st,(rt!==S||yt!==M)&&(t.blendEquationSeparate(Z[rt],Z[yt]),S=rt,M=yt),(De!==T||st!==C||an!==I||pn!==O)&&(t.blendFuncSeparate(me[De],me[st],me[an],me[pn]),T=De,C=st,I=an,O=pn),b=xe,R=!1}function _e(xe,rt){xe.side===ri?se(t.CULL_FACE):ye(t.CULL_FACE);let De=xe.side===yo;rt&&(De=!De),ce(De),xe.blending===am&&xe.transparent===!1?ue(Ud):ue(xe.blending,xe.blendEquation,xe.blendSrc,xe.blendDst,xe.blendEquationAlpha,xe.blendSrcAlpha,xe.blendDstAlpha,xe.premultipliedAlpha),l.setFunc(xe.depthFunc),l.setTest(xe.depthTest),l.setMask(xe.depthWrite),a.setMask(xe.colorWrite);const st=xe.stencilWrite;c.setTest(st),st&&(c.setMask(xe.stencilWriteMask),c.setFunc(xe.stencilFunc,xe.stencilRef,xe.stencilFuncMask),c.setOp(xe.stencilFail,xe.stencilZFail,xe.stencilZPass)),Ge(xe.polygonOffset,xe.polygonOffsetFactor,xe.polygonOffsetUnits),xe.alphaToCoverage===!0?ye(t.SAMPLE_ALPHA_TO_COVERAGE):se(t.SAMPLE_ALPHA_TO_COVERAGE)}function ce(xe){D!==xe&&(xe?t.frontFace(t.CW):t.frontFace(t.CCW),D=xe)}function Xe(xe){xe!==w9?(ye(t.CULL_FACE),xe!==j&&(xe===FI?t.cullFace(t.BACK):xe===b9?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):se(t.CULL_FACE),j=xe}function Ae(xe){xe!==$&&(K&&t.lineWidth(xe),$=xe)}function Ge(xe,rt,De){xe?(ye(t.POLYGON_OFFSET_FILL),(B!==rt||Q!==De)&&(t.polygonOffset(rt,De),B=rt,Q=De)):se(t.POLYGON_OFFSET_FILL)}function je(xe){xe?ye(t.SCISSOR_TEST):se(t.SCISSOR_TEST)}function ke(xe){xe===void 0&&(xe=t.TEXTURE0+ne-1),W!==xe&&(t.activeTexture(xe),W=xe)}function nt(xe,rt,De){De===void 0&&(W===null?De=t.TEXTURE0+ne-1:De=W);let st=F[De];st===void 0&&(st={type:void 0,texture:void 0},F[De]=st),(st.type!==xe||st.texture!==rt)&&(W!==De&&(t.activeTexture(De),W=De),t.bindTexture(xe,rt||fe[xe]),st.type=xe,st.texture=rt)}function ie(){const xe=F[W];xe!==void 0&&xe.type!==void 0&&(t.bindTexture(xe.type,null),xe.type=void 0,xe.texture=void 0)}function J(){try{t.compressedTexImage2D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function he(){try{t.compressedTexImage3D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function Ne(){try{t.texSubImage2D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function ze(){try{t.texSubImage3D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function He(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function et(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function Ze(){try{t.texStorage2D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function Oe(){try{t.texStorage3D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function lt(){try{t.texImage2D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function wt(){try{t.texImage3D.apply(t,arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}}function dt(xe){te.equals(xe)===!1&&(t.scissor(xe.x,xe.y,xe.z,xe.w),te.copy(xe))}function tt(xe){re.equals(xe)===!1&&(t.viewport(xe.x,xe.y,xe.z,xe.w),re.copy(xe))}function ct(xe,rt){let De=d.get(rt);De===void 0&&(De=new WeakMap,d.set(rt,De));let st=De.get(xe);st===void 0&&(st=t.getUniformBlockIndex(rt,xe.name),De.set(xe,st))}function Rt(xe,rt){const st=d.get(rt).get(xe);u.get(rt)!==st&&(t.uniformBlockBinding(rt,st,xe.__bindingPointIndex),u.set(rt,st))}function en(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},W=null,F={},m={},v=new WeakMap,w=[],x=null,y=!1,b=null,S=null,T=null,C=null,M=null,I=null,O=null,R=!1,D=null,j=null,$=null,B=null,Q=null,te.set(0,0,t.canvas.width,t.canvas.height),re.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ye,disable:se,bindFramebuffer:ve,drawBuffers:Se,useProgram:pe,setBlending:ue,setMaterial:_e,setFlipSided:ce,setCullFace:Xe,setLineWidth:Ae,setPolygonOffset:Ge,setScissorTest:je,activeTexture:ke,bindTexture:nt,unbindTexture:ie,compressedTexImage2D:J,compressedTexImage3D:he,texImage2D:lt,texImage3D:wt,updateUBOMapping:ct,uniformBlockBinding:Rt,texStorage2D:Ze,texStorage3D:Oe,texSubImage2D:Ne,texSubImage3D:ze,compressedTexSubImage2D:He,compressedTexSubImage3D:et,scissor:dt,viewport:tt,reset:en}}function HSe(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let w;const x=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(ie,J){return y?new OffscreenCanvas(ie,J):Zx("canvas")}function S(ie,J,he,Ne){let ze=1;if((ie.width>Ne||ie.height>Ne)&&(ze=Ne/Math.max(ie.width,ie.height)),ze<1||J===!0)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap){const He=J?lT:Math.floor,et=He(ze*ie.width),Ze=He(ze*ie.height);w===void 0&&(w=b(et,Ze));const Oe=he?b(et,Ze):w;return Oe.width=et,Oe.height=Ze,Oe.getContext("2d").drawImage(ie,0,0,et,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ie.width+"x"+ie.height+") to ("+et+"x"+Ze+")."),Oe}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ie.width+"x"+ie.height+")."),ie;return ie}function T(ie){return h2(ie.width)&&h2(ie.height)}function C(ie){return a?!1:ie.wrapS!==go||ie.wrapT!==go||ie.minFilter!==Pi&&ie.minFilter!==Xr}function M(ie,J){return ie.generateMipmaps&&J&&ie.minFilter!==Pi&&ie.minFilter!==Xr}function I(ie){t.generateMipmap(ie)}function O(ie,J,he,Ne,ze=!1){if(a===!1)return J;if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let He=J;return J===t.RED&&(he===t.FLOAT&&(He=t.R32F),he===t.HALF_FLOAT&&(He=t.R16F),he===t.UNSIGNED_BYTE&&(He=t.R8)),J===t.RG&&(he===t.FLOAT&&(He=t.RG32F),he===t.HALF_FLOAT&&(He=t.RG16F),he===t.UNSIGNED_BYTE&&(He=t.RG8)),J===t.RGBA&&(he===t.FLOAT&&(He=t.RGBA32F),he===t.HALF_FLOAT&&(He=t.RGBA16F),he===t.UNSIGNED_BYTE&&(He=Ne===An&&ze===!1?t.SRGB8_ALPHA8:t.RGBA8),he===t.UNSIGNED_SHORT_4_4_4_4&&(He=t.RGBA4),he===t.UNSIGNED_SHORT_5_5_5_1&&(He=t.RGB5_A1)),(He===t.R16F||He===t.R32F||He===t.RG16F||He===t.RG32F||He===t.RGBA16F||He===t.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function R(ie,J,he){return M(ie,he)===!0||ie.isFramebufferTexture&&ie.minFilter!==Pi&&ie.minFilter!==Xr?Math.log2(Math.max(J.width,J.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?J.mipmaps.length:1}function D(ie){return ie===Pi||ie===oT||ie===ax?t.NEAREST:t.LINEAR}function j(ie){const J=ie.target;J.removeEventListener("dispose",j),B(J),J.isVideoTexture&&v.delete(J)}function $(ie){const J=ie.target;J.removeEventListener("dispose",$),ne(J)}function B(ie){const J=r.get(ie);if(J.__webglInit===void 0)return;const he=ie.source,Ne=x.get(he);if(Ne){const ze=Ne[J.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&Q(ie),Object.keys(Ne).length===0&&x.delete(he)}r.remove(ie)}function Q(ie){const J=r.get(ie);t.deleteTexture(J.__webglTexture);const he=ie.source,Ne=x.get(he);delete Ne[J.__cacheKey],o.memory.textures--}function ne(ie){const J=ie.texture,he=r.get(ie),Ne=r.get(J);if(Ne.__webglTexture!==void 0&&(t.deleteTexture(Ne.__webglTexture),o.memory.textures--),ie.depthTexture&&ie.depthTexture.dispose(),ie.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++)t.deleteFramebuffer(he.__webglFramebuffer[ze]),he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer[ze]);else{if(t.deleteFramebuffer(he.__webglFramebuffer),he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&t.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let ze=0;ze<he.__webglColorRenderbuffer.length;ze++)he.__webglColorRenderbuffer[ze]&&t.deleteRenderbuffer(he.__webglColorRenderbuffer[ze]);he.__webglDepthRenderbuffer&&t.deleteRenderbuffer(he.__webglDepthRenderbuffer)}if(ie.isWebGLMultipleRenderTargets)for(let ze=0,He=J.length;ze<He;ze++){const et=r.get(J[ze]);et.__webglTexture&&(t.deleteTexture(et.__webglTexture),o.memory.textures--),r.remove(J[ze])}r.remove(J),r.remove(ie)}let K=0;function V(){K=0}function G(){const ie=K;return ie>=l&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+l),K+=1,ie}function W(ie){const J=[];return J.push(ie.wrapS),J.push(ie.wrapT),J.push(ie.wrapR||0),J.push(ie.magFilter),J.push(ie.minFilter),J.push(ie.anisotropy),J.push(ie.internalFormat),J.push(ie.format),J.push(ie.type),J.push(ie.generateMipmaps),J.push(ie.premultiplyAlpha),J.push(ie.flipY),J.push(ie.unpackAlignment),J.push(ie.colorSpace),J.join()}function F(ie,J){const he=r.get(ie);if(ie.isVideoTexture&&ke(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&he.__version!==ie.version){const Ne=ie.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(he,ie,J);return}}n.bindTexture(t.TEXTURE_2D,he.__webglTexture,t.TEXTURE0+J)}function U(ie,J){const he=r.get(ie);if(ie.version>0&&he.__version!==ie.version){ve(he,ie,J);return}n.bindTexture(t.TEXTURE_2D_ARRAY,he.__webglTexture,t.TEXTURE0+J)}function q(ie,J){const he=r.get(ie);if(ie.version>0&&he.__version!==ie.version){ve(he,ie,J);return}n.bindTexture(t.TEXTURE_3D,he.__webglTexture,t.TEXTURE0+J)}function te(ie,J){const he=r.get(ie);if(ie.version>0&&he.__version!==ie.version){Se(he,ie,J);return}n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture,t.TEXTURE0+J)}const re={[Wx]:t.REPEAT,[go]:t.CLAMP_TO_EDGE,[jx]:t.MIRRORED_REPEAT},le={[Pi]:t.NEAREST,[oT]:t.NEAREST_MIPMAP_NEAREST,[ax]:t.NEAREST_MIPMAP_LINEAR,[Xr]:t.LINEAR,[sL]:t.LINEAR_MIPMAP_NEAREST,[Ph]:t.LINEAR_MIPMAP_LINEAR},fe={[u7]:t.NEVER,[v7]:t.ALWAYS,[d7]:t.LESS,[h7]:t.LEQUAL,[f7]:t.EQUAL,[g7]:t.GEQUAL,[p7]:t.GREATER,[m7]:t.NOTEQUAL};function ye(ie,J,he){if(he?(t.texParameteri(ie,t.TEXTURE_WRAP_S,re[J.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,re[J.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,re[J.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,le[J.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,le[J.minFilter])):(t.texParameteri(ie,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(ie,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(J.wrapS!==go||J.wrapT!==go)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,D(J.magFilter)),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,D(J.minFilter)),J.minFilter!==Pi&&J.minFilter!==Xr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),J.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,fe[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(J.magFilter===Pi||J.minFilter!==ax&&J.minFilter!==Ph||J.type===yu&&e.has("OES_texture_float_linear")===!1||a===!1&&J.type===yy&&e.has("OES_texture_half_float_linear")===!1)return;(J.anisotropy>1||r.get(J).__currentAnisotropy)&&(t.texParameterf(ie,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,i.getMaxAnisotropy())),r.get(J).__currentAnisotropy=J.anisotropy)}}function se(ie,J){let he=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,J.addEventListener("dispose",j));const Ne=J.source;let ze=x.get(Ne);ze===void 0&&(ze={},x.set(Ne,ze));const He=W(J);if(He!==ie.__cacheKey){ze[He]===void 0&&(ze[He]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,he=!0),ze[He].usedTimes++;const et=ze[ie.__cacheKey];et!==void 0&&(ze[ie.__cacheKey].usedTimes--,et.usedTimes===0&&Q(J)),ie.__cacheKey=He,ie.__webglTexture=ze[He].texture}return he}function ve(ie,J,he){let Ne=t.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Ne=t.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Ne=t.TEXTURE_3D);const ze=se(ie,J),He=J.source;n.bindTexture(Ne,ie.__webglTexture,t.TEXTURE0+he);const et=r.get(He);if(He.version!==et.__version||ze===!0){n.activeTexture(t.TEXTURE0+he),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ze=C(J)&&T(J.image)===!1;let Oe=S(J.image,Ze,!1,u);Oe=nt(J,Oe);const lt=T(Oe)||a,wt=s.convert(J.format,J.colorSpace);let dt=s.convert(J.type),tt=O(J.internalFormat,wt,dt,J.colorSpace);ye(Ne,J,lt);let ct;const Rt=J.mipmaps,en=a&&J.isVideoTexture!==!0,xe=et.__version===void 0||ze===!0,rt=R(J,Oe,lt);if(J.isDepthTexture)tt=t.DEPTH_COMPONENT,a?J.type===yu?tt=t.DEPTH_COMPONENT32F:J.type===Dd?tt=t.DEPTH_COMPONENT24:J.type===hh?tt=t.DEPTH24_STENCIL8:tt=t.DEPTH_COMPONENT16:J.type===yu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),J.format===ph&&tt===t.DEPTH_COMPONENT&&J.type!==pC&&J.type!==Dd&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),J.type=Dd,dt=s.convert(J.type)),J.format===Sm&&tt===t.DEPTH_COMPONENT&&(tt=t.DEPTH_STENCIL,J.type!==hh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),J.type=hh,dt=s.convert(J.type))),xe&&(en?n.texStorage2D(t.TEXTURE_2D,1,tt,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,tt,Oe.width,Oe.height,0,wt,dt,null));else if(J.isDataTexture)if(Rt.length>0&&lt){en&&xe&&n.texStorage2D(t.TEXTURE_2D,rt,tt,Rt[0].width,Rt[0].height);for(let De=0,st=Rt.length;De<st;De++)ct=Rt[De],en?n.texSubImage2D(t.TEXTURE_2D,De,0,0,ct.width,ct.height,wt,dt,ct.data):n.texImage2D(t.TEXTURE_2D,De,tt,ct.width,ct.height,0,wt,dt,ct.data);J.generateMipmaps=!1}else en?(xe&&n.texStorage2D(t.TEXTURE_2D,rt,tt,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,wt,dt,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,tt,Oe.width,Oe.height,0,wt,dt,Oe.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){en&&xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,tt,Rt[0].width,Rt[0].height,Oe.depth);for(let De=0,st=Rt.length;De<st;De++)ct=Rt[De],J.format!==ha?wt!==null?en?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,De,0,0,0,ct.width,ct.height,Oe.depth,wt,ct.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,De,tt,ct.width,ct.height,Oe.depth,0,ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):en?n.texSubImage3D(t.TEXTURE_2D_ARRAY,De,0,0,0,ct.width,ct.height,Oe.depth,wt,dt,ct.data):n.texImage3D(t.TEXTURE_2D_ARRAY,De,tt,ct.width,ct.height,Oe.depth,0,wt,dt,ct.data)}else{en&&xe&&n.texStorage2D(t.TEXTURE_2D,rt,tt,Rt[0].width,Rt[0].height);for(let De=0,st=Rt.length;De<st;De++)ct=Rt[De],J.format!==ha?wt!==null?en?n.compressedTexSubImage2D(t.TEXTURE_2D,De,0,0,ct.width,ct.height,wt,ct.data):n.compressedTexImage2D(t.TEXTURE_2D,De,tt,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):en?n.texSubImage2D(t.TEXTURE_2D,De,0,0,ct.width,ct.height,wt,dt,ct.data):n.texImage2D(t.TEXTURE_2D,De,tt,ct.width,ct.height,0,wt,dt,ct.data)}else if(J.isDataArrayTexture)en?(xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,tt,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,wt,dt,Oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,tt,Oe.width,Oe.height,Oe.depth,0,wt,dt,Oe.data);else if(J.isData3DTexture)en?(xe&&n.texStorage3D(t.TEXTURE_3D,rt,tt,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,wt,dt,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,tt,Oe.width,Oe.height,Oe.depth,0,wt,dt,Oe.data);else if(J.isFramebufferTexture){if(xe)if(en)n.texStorage2D(t.TEXTURE_2D,rt,tt,Oe.width,Oe.height);else{let De=Oe.width,st=Oe.height;for(let yt=0;yt<rt;yt++)n.texImage2D(t.TEXTURE_2D,yt,tt,De,st,0,wt,dt,null),De>>=1,st>>=1}}else if(Rt.length>0&&lt){en&&xe&&n.texStorage2D(t.TEXTURE_2D,rt,tt,Rt[0].width,Rt[0].height);for(let De=0,st=Rt.length;De<st;De++)ct=Rt[De],en?n.texSubImage2D(t.TEXTURE_2D,De,0,0,wt,dt,ct):n.texImage2D(t.TEXTURE_2D,De,tt,wt,dt,ct);J.generateMipmaps=!1}else en?(xe&&n.texStorage2D(t.TEXTURE_2D,rt,tt,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,wt,dt,Oe)):n.texImage2D(t.TEXTURE_2D,0,tt,wt,dt,Oe);M(J,lt)&&I(Ne),et.__version=He.version,J.onUpdate&&J.onUpdate(J)}ie.__version=J.version}function Se(ie,J,he){if(J.image.length!==6)return;const Ne=se(ie,J),ze=J.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+he);const He=r.get(ze);if(ze.version!==He.__version||Ne===!0){n.activeTexture(t.TEXTURE0+he),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const et=J.isCompressedTexture||J.image[0].isCompressedTexture,Ze=J.image[0]&&J.image[0].isDataTexture,Oe=[];for(let De=0;De<6;De++)!et&&!Ze?Oe[De]=S(J.image[De],!1,!0,c):Oe[De]=Ze?J.image[De].image:J.image[De],Oe[De]=nt(J,Oe[De]);const lt=Oe[0],wt=T(lt)||a,dt=s.convert(J.format,J.colorSpace),tt=s.convert(J.type),ct=O(J.internalFormat,dt,tt,J.colorSpace),Rt=a&&J.isVideoTexture!==!0,en=He.__version===void 0||Ne===!0;let xe=R(J,lt,wt);ye(t.TEXTURE_CUBE_MAP,J,wt);let rt;if(et){Rt&&en&&n.texStorage2D(t.TEXTURE_CUBE_MAP,xe,ct,lt.width,lt.height);for(let De=0;De<6;De++){rt=Oe[De].mipmaps;for(let st=0;st<rt.length;st++){const yt=rt[st];J.format!==ha?dt!==null?Rt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st,0,0,yt.width,yt.height,dt,yt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st,ct,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st,0,0,yt.width,yt.height,dt,tt,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st,ct,yt.width,yt.height,0,dt,tt,yt.data)}}}else{rt=J.mipmaps,Rt&&en&&(rt.length>0&&xe++,n.texStorage2D(t.TEXTURE_CUBE_MAP,xe,ct,Oe[0].width,Oe[0].height));for(let De=0;De<6;De++)if(Ze){Rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0,0,0,Oe[De].width,Oe[De].height,dt,tt,Oe[De].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0,ct,Oe[De].width,Oe[De].height,0,dt,tt,Oe[De].data);for(let st=0;st<rt.length;st++){const an=rt[st].image[De].image;Rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st+1,0,0,an.width,an.height,dt,tt,an.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st+1,ct,an.width,an.height,0,dt,tt,an.data)}}else{Rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0,0,0,dt,tt,Oe[De]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0,ct,dt,tt,Oe[De]);for(let st=0;st<rt.length;st++){const yt=rt[st];Rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st+1,0,0,dt,tt,yt.image[De]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,st+1,ct,dt,tt,yt.image[De])}}}M(J,wt)&&I(t.TEXTURE_CUBE_MAP),He.__version=ze.version,J.onUpdate&&J.onUpdate(J)}ie.__version=J.version}function pe(ie,J,he,Ne,ze){const He=s.convert(he.format,he.colorSpace),et=s.convert(he.type),Ze=O(he.internalFormat,He,et,he.colorSpace);r.get(J).__hasExternalTextures||(ze===t.TEXTURE_3D||ze===t.TEXTURE_2D_ARRAY?n.texImage3D(ze,0,Ze,J.width,J.height,J.depth,0,He,et,null):n.texImage2D(ze,0,Ze,J.width,J.height,0,He,et,null)),n.bindFramebuffer(t.FRAMEBUFFER,ie),je(J)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ne,ze,r.get(he).__webglTexture,0,Ge(J)):(ze===t.TEXTURE_2D||ze>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ne,ze,r.get(he).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z(ie,J,he){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),J.depthBuffer&&!J.stencilBuffer){let Ne=t.DEPTH_COMPONENT16;if(he||je(J)){const ze=J.depthTexture;ze&&ze.isDepthTexture&&(ze.type===yu?Ne=t.DEPTH_COMPONENT32F:ze.type===Dd&&(Ne=t.DEPTH_COMPONENT24));const He=Ge(J);je(J)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,Ne,J.width,J.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,He,Ne,J.width,J.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ne,J.width,J.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,ie)}else if(J.depthBuffer&&J.stencilBuffer){const Ne=Ge(J);he&&je(J)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,J.width,J.height):je(J)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,ie)}else{const Ne=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let ze=0;ze<Ne.length;ze++){const He=Ne[ze],et=s.convert(He.format,He.colorSpace),Ze=s.convert(He.type),Oe=O(He.internalFormat,et,Ze,He.colorSpace),lt=Ge(J);he&&je(J)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,lt,Oe,J.width,J.height):je(J)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,lt,Oe,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,Oe,J.width,J.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function me(ie,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(J.depthTexture).__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),F(J.depthTexture,0);const Ne=r.get(J.depthTexture).__webglTexture,ze=Ge(J);if(J.depthTexture.format===ph)je(J)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0,ze):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0);else if(J.depthTexture.format===Sm)je(J)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0,ze):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function ue(ie){const J=r.get(ie),he=ie.isWebGLCubeRenderTarget===!0;if(ie.depthTexture&&!J.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");me(J.__webglFramebuffer,ie)}else if(he){J.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer[Ne]),J.__webglDepthbuffer[Ne]=t.createRenderbuffer(),Z(J.__webglDepthbuffer[Ne],ie,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer=t.createRenderbuffer(),Z(J.__webglDepthbuffer,ie,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(ie,J,he){const Ne=r.get(ie);J!==void 0&&pe(Ne.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),he!==void 0&&ue(ie)}function ce(ie){const J=ie.texture,he=r.get(ie),Ne=r.get(J);ie.addEventListener("dispose",$),ie.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=J.version,o.memory.textures++);const ze=ie.isWebGLCubeRenderTarget===!0,He=ie.isWebGLMultipleRenderTargets===!0,et=T(ie)||a;if(ze){he.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)he.__webglFramebuffer[Ze]=t.createFramebuffer()}else{if(he.__webglFramebuffer=t.createFramebuffer(),He)if(i.drawBuffers){const Ze=ie.texture;for(let Oe=0,lt=Ze.length;Oe<lt;Oe++){const wt=r.get(Ze[Oe]);wt.__webglTexture===void 0&&(wt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&ie.samples>0&&je(ie)===!1){const Ze=He?J:[J];he.__webglMultisampledFramebuffer=t.createFramebuffer(),he.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,he.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Ze.length;Oe++){const lt=Ze[Oe];he.__webglColorRenderbuffer[Oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,he.__webglColorRenderbuffer[Oe]);const wt=s.convert(lt.format,lt.colorSpace),dt=s.convert(lt.type),tt=O(lt.internalFormat,wt,dt,lt.colorSpace,ie.isXRRenderTarget===!0),ct=Ge(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,ct,tt,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,he.__webglColorRenderbuffer[Oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(he.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(he.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ze){n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture),ye(t.TEXTURE_CUBE_MAP,J,et);for(let Ze=0;Ze<6;Ze++)pe(he.__webglFramebuffer[Ze],ie,J,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ze);M(J,et)&&I(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(He){const Ze=ie.texture;for(let Oe=0,lt=Ze.length;Oe<lt;Oe++){const wt=Ze[Oe],dt=r.get(wt);n.bindTexture(t.TEXTURE_2D,dt.__webglTexture),ye(t.TEXTURE_2D,wt,et),pe(he.__webglFramebuffer,ie,wt,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D),M(wt,et)&&I(t.TEXTURE_2D)}n.unbindTexture()}else{let Ze=t.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(a?Ze=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ze,Ne.__webglTexture),ye(Ze,J,et),pe(he.__webglFramebuffer,ie,J,t.COLOR_ATTACHMENT0,Ze),M(J,et)&&I(Ze),n.unbindTexture()}ie.depthBuffer&&ue(ie)}function Xe(ie){const J=T(ie)||a,he=ie.isWebGLMultipleRenderTargets===!0?ie.texture:[ie.texture];for(let Ne=0,ze=he.length;Ne<ze;Ne++){const He=he[Ne];if(M(He,J)){const et=ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ze=r.get(He).__webglTexture;n.bindTexture(et,Ze),I(et),n.unbindTexture()}}}function Ae(ie){if(a&&ie.samples>0&&je(ie)===!1){const J=ie.isWebGLMultipleRenderTargets?ie.texture:[ie.texture],he=ie.width,Ne=ie.height;let ze=t.COLOR_BUFFER_BIT;const He=[],et=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ze=r.get(ie),Oe=ie.isWebGLMultipleRenderTargets===!0;if(Oe)for(let lt=0;lt<J.length;lt++)n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ze.__webglFramebuffer);for(let lt=0;lt<J.length;lt++){He.push(t.COLOR_ATTACHMENT0+lt),ie.depthBuffer&&He.push(et);const wt=Ze.__ignoreDepthValues!==void 0?Ze.__ignoreDepthValues:!1;if(wt===!1&&(ie.depthBuffer&&(ze|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&(ze|=t.STENCIL_BUFFER_BIT)),Oe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ze.__webglColorRenderbuffer[lt]),wt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[et]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[et])),Oe){const dt=r.get(J[lt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,dt,0)}t.blitFramebuffer(0,0,he,Ne,0,0,he,Ne,ze,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,He)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Oe)for(let lt=0;lt<J.length;lt++){n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.RENDERBUFFER,Ze.__webglColorRenderbuffer[lt]);const wt=r.get(J[lt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.TEXTURE_2D,wt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer)}}function Ge(ie){return Math.min(d,ie.samples)}function je(ie){const J=r.get(ie);return a&&ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function ke(ie){const J=o.render.frame;v.get(ie)!==J&&(v.set(ie,J),ie.update())}function nt(ie,J){const he=ie.colorSpace,Ne=ie.format,ze=ie.type;return ie.isCompressedTexture===!0||ie.format===aT||he!==Pc&&he!==gh&&(he===An?a===!1?e.has("EXT_sRGB")===!0&&Ne===ha?(ie.format=aT,ie.minFilter=Xr,ie.generateMipmaps=!1):J=vL.sRGBToLinear(J):(Ne!==ha||ze!==Su)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",he)),J}this.allocateTextureUnit=G,this.resetTextureUnits=V,this.setTexture2D=F,this.setTexture2DArray=U,this.setTexture3D=q,this.setTextureCube=te,this.rebindTextures=_e,this.setupRenderTarget=ce,this.updateRenderTargetMipmap=Xe,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=je}function P7(t,e,n){const r=n.isWebGL2;function i(s,o=gh){let a;if(s===Su)return t.UNSIGNED_BYTE;if(s===aL)return t.UNSIGNED_SHORT_4_4_4_4;if(s===lL)return t.UNSIGNED_SHORT_5_5_5_1;if(s===q9)return t.BYTE;if(s===K9)return t.SHORT;if(s===pC)return t.UNSIGNED_SHORT;if(s===oL)return t.INT;if(s===Dd)return t.UNSIGNED_INT;if(s===yu)return t.FLOAT;if(s===yy)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Z9)return t.ALPHA;if(s===ha)return t.RGBA;if(s===Q9)return t.LUMINANCE;if(s===J9)return t.LUMINANCE_ALPHA;if(s===ph)return t.DEPTH_COMPONENT;if(s===Sm)return t.DEPTH_STENCIL;if(s===aT)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===e7)return t.RED;if(s===cL)return t.RED_INTEGER;if(s===t7)return t.RG;if(s===uL)return t.RG_INTEGER;if(s===dL)return t.RGBA_INTEGER;if(s===ZS||s===QS||s===JS||s===eE)if(o===An)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ZS)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===QS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===JS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===eE)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ZS)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===QS)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===JS)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===eE)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===HI||s===WI||s===jI||s===$I)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===HI)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===WI)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===jI)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===$I)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===n7)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===YI||s===XI)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===YI)return o===An?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===XI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===qI||s===KI||s===ZI||s===QI||s===JI||s===e2||s===t2||s===n2||s===r2||s===i2||s===s2||s===o2||s===a2||s===l2)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===qI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===KI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ZI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===QI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===JI)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===e2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===t2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===n2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===r2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===i2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===s2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===o2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===a2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===l2)return o===An?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===tE)return o===An?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===r7||s===c2||s===u2||s===d2)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===tE)return a.COMPRESSED_RED_RGTC1_EXT;if(s===c2)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===u2)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===d2)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===hh?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class R7 extends Qi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class zv extends sr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const WSe={type:"move"};class tP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const w of e.hand.values()){const x=n.getJointPose(w,r),y=this._getHandJoint(c,w);x!==null&&(y.matrix.fromArray(x.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=x.radius),y.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&f>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(WSe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new zv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class I7 extends ci{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ph,u!==ph&&u!==Sm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ph&&(r=Dd),r===void 0&&u===Sm&&(r=hh),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Pi,this.minFilter=l!==void 0?l:Pi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class jSe extends ef{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,v=null;const w=n.getContextAttributes();let x=null,y=null;const b=[],S=[],T=new Qi;T.layers.enable(1),T.viewport=new rr;const C=new Qi;C.layers.enable(2),C.viewport=new rr;const M=[T,C],I=new R7;I.layers.enable(1),I.layers.enable(2);let O=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let q=b[U];return q===void 0&&(q=new tP,b[U]=q),q.getTargetRaySpace()},this.getControllerGrip=function(U){let q=b[U];return q===void 0&&(q=new tP,b[U]=q),q.getGripSpace()},this.getHand=function(U){let q=b[U];return q===void 0&&(q=new tP,b[U]=q),q.getHandSpace()};function D(U){const q=S.indexOf(U.inputSource);if(q===-1)return;const te=b[q];te!==void 0&&(te.update(U.inputSource,U.frame,c||o),te.dispatchEvent({type:U.type,data:U.inputSource}))}function j(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",$);for(let U=0;U<b.length;U++){const q=S[U];q!==null&&(S[U]=null,b[U].disconnect(q))}O=null,R=null,e.setRenderTarget(x),m=null,f=null,d=null,i=null,y=null,F.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",j),i.addEventListener("inputsourceschange",$),w.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,q),i.updateRenderState({baseLayer:m}),y=new Rc(m.framebufferWidth,m.framebufferHeight,{format:ha,type:Su,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let q=null,te=null,re=null;w.depth&&(re=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,q=w.stencil?Sm:ph,te=w.stencil?hh:Dd);const le={colorFormat:n.RGBA8,depthFormat:re,scaleFactor:s};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(le),i.updateRenderState({layers:[f]}),y=new Rc(f.textureWidth,f.textureHeight,{format:ha,type:Su,depthTexture:new I7(f.textureWidth,f.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const fe=e.properties.get(y);fe.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),F.setContext(i),F.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function $(U){for(let q=0;q<U.removed.length;q++){const te=U.removed[q],re=S.indexOf(te);re>=0&&(S[re]=null,b[re].disconnect(te))}for(let q=0;q<U.added.length;q++){const te=U.added[q];let re=S.indexOf(te);if(re===-1){for(let fe=0;fe<b.length;fe++)if(fe>=S.length){S.push(te),re=fe;break}else if(S[fe]===null){S[fe]=te,re=fe;break}if(re===-1)break}const le=b[re];le&&le.connect(te)}}const B=new oe,Q=new oe;function ne(U,q,te){B.setFromMatrixPosition(q.matrixWorld),Q.setFromMatrixPosition(te.matrixWorld);const re=B.distanceTo(Q),le=q.projectionMatrix.elements,fe=te.projectionMatrix.elements,ye=le[14]/(le[10]-1),se=le[14]/(le[10]+1),ve=(le[9]+1)/le[5],Se=(le[9]-1)/le[5],pe=(le[8]-1)/le[0],Z=(fe[8]+1)/fe[0],me=ye*pe,ue=ye*Z,_e=re/(-pe+Z),ce=_e*-pe;q.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(ce),U.translateZ(_e),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const Xe=ye+_e,Ae=se+_e,Ge=me-ce,je=ue+(re-ce),ke=ve*se/Ae*Xe,nt=Se*se/Ae*Xe;U.projectionMatrix.makePerspective(Ge,je,ke,nt,Xe,Ae),U.projectionMatrixInverse.copy(U.projectionMatrix).invert()}function K(U,q){q===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(q.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;I.near=C.near=T.near=U.near,I.far=C.far=T.far=U.far,(O!==I.near||R!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),O=I.near,R=I.far);const q=U.parent,te=I.cameras;K(I,q);for(let re=0;re<te.length;re++)K(te[re],q);te.length===2?ne(I,T,C):I.projectionMatrix.copy(T.projectionMatrix),V(U,I,q)};function V(U,q,te){te===null?U.matrix.copy(q.matrixWorld):(U.matrix.copy(te.matrixWorld),U.matrix.invert(),U.matrix.multiply(q.matrixWorld)),U.matrix.decompose(U.position,U.quaternion,U.scale),U.updateMatrixWorld(!0);const re=U.children;for(let le=0,fe=re.length;le<fe;le++)re[le].updateMatrixWorld(!0);U.projectionMatrix.copy(q.projectionMatrix),U.projectionMatrixInverse.copy(q.projectionMatrixInverse),U.isPerspectiveCamera&&(U.fov=_y*2*Math.atan(1/U.projectionMatrix.elements[5]),U.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(U){l=U,f!==null&&(f.fixedFoveation=U),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=U)};let G=null;function W(U,q){if(u=q.getViewerPose(c||o),v=q,u!==null){const te=u.views;m!==null&&(e.setRenderTargetFramebuffer(y,m.framebuffer),e.setRenderTarget(y));let re=!1;te.length!==I.cameras.length&&(I.cameras.length=0,re=!0);for(let le=0;le<te.length;le++){const fe=te[le];let ye=null;if(m!==null)ye=m.getViewport(fe);else{const ve=d.getViewSubImage(f,fe);ye=ve.viewport,le===0&&(e.setRenderTargetTextures(y,ve.colorTexture,f.ignoreDepthValues?void 0:ve.depthStencilTexture),e.setRenderTarget(y))}let se=M[le];se===void 0&&(se=new Qi,se.layers.enable(le),se.viewport=new rr,M[le]=se),se.matrix.fromArray(fe.transform.matrix),se.matrix.decompose(se.position,se.quaternion,se.scale),se.projectionMatrix.fromArray(fe.projectionMatrix),se.projectionMatrixInverse.copy(se.projectionMatrix).invert(),se.viewport.set(ye.x,ye.y,ye.width,ye.height),le===0&&(I.matrix.copy(se.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),re===!0&&I.cameras.push(se)}}for(let te=0;te<b.length;te++){const re=S[te],le=b[te];re!==null&&le!==void 0&&le.update(re,q,c||o)}G&&G(U,q),q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:q}),v=null}const F=new E7;F.setAnimationLoop(W),this.setAnimationLoop=function(U){G=U},this.dispose=function(){}}}function $Se(t,e){function n(x,y){x.matrixAutoUpdate===!0&&x.updateMatrix(),y.value.copy(x.matrix)}function r(x,y){y.color.getRGB(x.fogColor.value,w7(t)),y.isFog?(x.fogNear.value=y.near,x.fogFar.value=y.far):y.isFogExp2&&(x.fogDensity.value=y.density)}function i(x,y,b,S,T){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(x,y):y.isMeshToonMaterial?(s(x,y),d(x,y)):y.isMeshPhongMaterial?(s(x,y),u(x,y)):y.isMeshStandardMaterial?(s(x,y),f(x,y),y.isMeshPhysicalMaterial&&m(x,y,T)):y.isMeshMatcapMaterial?(s(x,y),v(x,y)):y.isMeshDepthMaterial?s(x,y):y.isMeshDistanceMaterial?(s(x,y),w(x,y)):y.isMeshNormalMaterial?s(x,y):y.isLineBasicMaterial?(o(x,y),y.isLineDashedMaterial&&a(x,y)):y.isPointsMaterial?l(x,y,b,S):y.isSpriteMaterial?c(x,y):y.isShadowMaterial?(x.color.value.copy(y.color),x.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(x,y){x.opacity.value=y.opacity,y.color&&x.diffuse.value.copy(y.color),y.emissive&&x.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.bumpMap&&(x.bumpMap.value=y.bumpMap,n(y.bumpMap,x.bumpMapTransform),x.bumpScale.value=y.bumpScale,y.side===yo&&(x.bumpScale.value*=-1)),y.normalMap&&(x.normalMap.value=y.normalMap,n(y.normalMap,x.normalMapTransform),x.normalScale.value.copy(y.normalScale),y.side===yo&&x.normalScale.value.negate()),y.displacementMap&&(x.displacementMap.value=y.displacementMap,n(y.displacementMap,x.displacementMapTransform),x.displacementScale.value=y.displacementScale,x.displacementBias.value=y.displacementBias),y.emissiveMap&&(x.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,x.emissiveMapTransform)),y.specularMap&&(x.specularMap.value=y.specularMap,n(y.specularMap,x.specularMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest);const b=e.get(y).envMap;if(b&&(x.envMap.value=b,x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=y.reflectivity,x.ior.value=y.ior,x.refractionRatio.value=y.refractionRatio),y.lightMap){x.lightMap.value=y.lightMap;const S=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=y.lightMapIntensity*S,n(y.lightMap,x.lightMapTransform)}y.aoMap&&(x.aoMap.value=y.aoMap,x.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,x.aoMapTransform))}function o(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform))}function a(x,y){x.dashSize.value=y.dashSize,x.totalSize.value=y.dashSize+y.gapSize,x.scale.value=y.scale}function l(x,y,b,S){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.size.value=y.size*b,x.scale.value=S*.5,y.map&&(x.map.value=y.map,n(y.map,x.uvTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function c(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.rotation.value=y.rotation,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function u(x,y){x.specular.value.copy(y.specular),x.shininess.value=Math.max(y.shininess,1e-4)}function d(x,y){y.gradientMap&&(x.gradientMap.value=y.gradientMap)}function f(x,y){x.metalness.value=y.metalness,y.metalnessMap&&(x.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,x.metalnessMapTransform)),x.roughness.value=y.roughness,y.roughnessMap&&(x.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,x.roughnessMapTransform)),e.get(y).envMap&&(x.envMapIntensity.value=y.envMapIntensity)}function m(x,y,b){x.ior.value=y.ior,y.sheen>0&&(x.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),x.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(x.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,x.sheenColorMapTransform)),y.sheenRoughnessMap&&(x.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,x.sheenRoughnessMapTransform))),y.clearcoat>0&&(x.clearcoat.value=y.clearcoat,x.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(x.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,x.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(x.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===yo&&x.clearcoatNormalScale.value.negate())),y.iridescence>0&&(x.iridescence.value=y.iridescence,x.iridescenceIOR.value=y.iridescenceIOR,x.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(x.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,x.iridescenceMapTransform)),y.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),y.transmission>0&&(x.transmission.value=y.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),y.transmissionMap&&(x.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,x.transmissionMapTransform)),x.thickness.value=y.thickness,y.thicknessMap&&(x.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=y.attenuationDistance,x.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(x.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(x.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=y.specularIntensity,x.specularColor.value.copy(y.specularColor),y.specularColorMap&&(x.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,x.specularColorMapTransform)),y.specularIntensityMap&&(x.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,y){y.matcap&&(x.matcap.value=y.matcap)}function w(x,y){const b=e.get(y).light;x.referencePosition.value.setFromMatrixPosition(b.matrixWorld),x.nearDistance.value=b.shadow.camera.near,x.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function YSe(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,S){const T=S.program;r.uniformBlockBinding(b,T)}function c(b,S){let T=i[b.id];T===void 0&&(v(b),T=u(b),i[b.id]=T,b.addEventListener("dispose",x));const C=S.program;r.updateUBOMapping(b,C);const M=e.render.frame;s[b.id]!==M&&(f(b),s[b.id]=M)}function u(b){const S=d();b.__bindingPointIndex=S;const T=t.createBuffer(),C=b.__size,M=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,T),t.bufferData(t.UNIFORM_BUFFER,C,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,T),T}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const S=i[b.id],T=b.uniforms,C=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let M=0,I=T.length;M<I;M++){const O=T[M];if(m(O,M,C)===!0){const R=O.__offset,D=Array.isArray(O.value)?O.value:[O.value];let j=0;for(let $=0;$<D.length;$++){const B=D[$],Q=w(B);typeof B=="number"?(O.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,R+j,O.__data)):B.isMatrix3?(O.__data[0]=B.elements[0],O.__data[1]=B.elements[1],O.__data[2]=B.elements[2],O.__data[3]=B.elements[0],O.__data[4]=B.elements[3],O.__data[5]=B.elements[4],O.__data[6]=B.elements[5],O.__data[7]=B.elements[0],O.__data[8]=B.elements[6],O.__data[9]=B.elements[7],O.__data[10]=B.elements[8],O.__data[11]=B.elements[0]):(B.toArray(O.__data,j),j+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,R,O.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(b,S,T){const C=b.value;if(T[S]===void 0){if(typeof C=="number")T[S]=C;else{const M=Array.isArray(C)?C:[C],I=[];for(let O=0;O<M.length;O++)I.push(M[O].clone());T[S]=I}return!0}else if(typeof C=="number"){if(T[S]!==C)return T[S]=C,!0}else{const M=Array.isArray(T[S])?T[S]:[T[S]],I=Array.isArray(C)?C:[C];for(let O=0;O<M.length;O++){const R=M[O];if(R.equals(I[O])===!1)return R.copy(I[O]),!0}}return!1}function v(b){const S=b.uniforms;let T=0;const C=16;let M=0;for(let I=0,O=S.length;I<O;I++){const R=S[I],D={boundary:0,storage:0},j=Array.isArray(R.value)?R.value:[R.value];for(let $=0,B=j.length;$<B;$++){const Q=j[$],ne=w(Q);D.boundary+=ne.boundary,D.storage+=ne.storage}if(R.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=T,I>0){M=T%C;const $=C-M;M!==0&&$-D.boundary<0&&(T+=C-M,R.__offset=T)}T+=D.storage}return M=T%C,M>0&&(T+=C-M),b.__size=T,b.__cache={},this}function w(b){const S={boundary:0,storage:0};return typeof b=="number"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function x(b){const S=b.target;S.removeEventListener("dispose",x);const T=o.indexOf(S.__bindingPointIndex);o.splice(T,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function y(){for(const b in i)t.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:c,dispose:y}}function XSe(){const t=Zx("canvas");return t.style.display="block",t}class SL{constructor(e={}){const{canvas:n=XSe(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=o;const m=new Uint32Array(4),v=new Int32Array(4);let w=null,x=null;const y=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=An,this.useLegacyLights=!0,this.toneMapping=Ec,this.toneMappingExposure=1;const S=this;let T=!1,C=0,M=0,I=null,O=-1,R=null;const D=new rr,j=new rr;let $=null;const B=new Mt(0);let Q=0,ne=n.width,K=n.height,V=1,G=null,W=null;const F=new rr(0,0,ne,K),U=new rr(0,0,ne,K);let q=!1;const te=new $w;let re=!1,le=!1,fe=null;const ye=new wn,se=new Je,ve=new oe,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pe(){return I===null?V:1}let Z=r;function me(ae,Ie){for(let Fe=0;Fe<ae.length;Fe++){const Ce=ae[Fe],Ye=n.getContext(Ce,Ie);if(Ye!==null)return Ye}return null}try{const ae={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${dC}`),n.addEventListener("webglcontextlost",rt,!1),n.addEventListener("webglcontextrestored",De,!1),n.addEventListener("webglcontextcreationerror",st,!1),Z===null){const Ie=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&Ie.shift(),Z=me(Ie,ae),Z===null)throw me(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ae){throw console.error("THREE.WebGLRenderer: "+ae.message),ae}let ue,_e,ce,Xe,Ae,Ge,je,ke,nt,ie,J,he,Ne,ze,He,et,Ze,Oe,lt,wt,dt,tt,ct,Rt;function en(){ue=new c1e(Z),_e=new r1e(Z,ue,e),ue.init(_e),tt=new P7(Z,ue,_e),ce=new GSe(Z,ue,_e),Xe=new f1e(Z),Ae=new RSe,Ge=new HSe(Z,ue,ce,Ae,_e,tt,Xe),je=new s1e(S),ke=new l1e(S),nt=new bxe(Z,_e),ct=new t1e(Z,ue,nt,_e),ie=new u1e(Z,nt,Xe,ct),J=new g1e(Z,ie,nt,Xe),lt=new m1e(Z,_e,Ge),et=new i1e(Ae),he=new PSe(S,je,ke,ue,_e,ct,et),Ne=new $Se(S,Ae),ze=new kSe,He=new USe(ue,_e),Oe=new e1e(S,je,ke,ce,J,f,l),Ze=new VSe(S,J,_e),Rt=new YSe(Z,Xe,_e,ce),wt=new n1e(Z,ue,Xe,_e),dt=new d1e(Z,ue,Xe,_e),Xe.programs=he.programs,S.capabilities=_e,S.extensions=ue,S.properties=Ae,S.renderLists=ze,S.shadowMap=Ze,S.state=ce,S.info=Xe}en();const xe=new jSe(S,Z);this.xr=xe,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const ae=ue.get("WEBGL_lose_context");ae&&ae.loseContext()},this.forceContextRestore=function(){const ae=ue.get("WEBGL_lose_context");ae&&ae.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(ae){ae!==void 0&&(V=ae,this.setSize(ne,K,!1))},this.getSize=function(ae){return ae.set(ne,K)},this.setSize=function(ae,Ie,Fe=!0){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=ae,K=Ie,n.width=Math.floor(ae*V),n.height=Math.floor(Ie*V),Fe===!0&&(n.style.width=ae+"px",n.style.height=Ie+"px"),this.setViewport(0,0,ae,Ie)},this.getDrawingBufferSize=function(ae){return ae.set(ne*V,K*V).floor()},this.setDrawingBufferSize=function(ae,Ie,Fe){ne=ae,K=Ie,V=Fe,n.width=Math.floor(ae*Fe),n.height=Math.floor(Ie*Fe),this.setViewport(0,0,ae,Ie)},this.getCurrentViewport=function(ae){return ae.copy(D)},this.getViewport=function(ae){return ae.copy(F)},this.setViewport=function(ae,Ie,Fe,Ce){ae.isVector4?F.set(ae.x,ae.y,ae.z,ae.w):F.set(ae,Ie,Fe,Ce),ce.viewport(D.copy(F).multiplyScalar(V).floor())},this.getScissor=function(ae){return ae.copy(U)},this.setScissor=function(ae,Ie,Fe,Ce){ae.isVector4?U.set(ae.x,ae.y,ae.z,ae.w):U.set(ae,Ie,Fe,Ce),ce.scissor(j.copy(U).multiplyScalar(V).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(ae){ce.setScissorTest(q=ae)},this.setOpaqueSort=function(ae){G=ae},this.setTransparentSort=function(ae){W=ae},this.getClearColor=function(ae){return ae.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(ae=!0,Ie=!0,Fe=!0){let Ce=0;if(ae){let Ye=!1;if(I!==null){const It=I.texture.format;Ye=It===dL||It===uL||It===cL}if(Ye){const It=I.texture.type,Bt=It===Su||It===Dd||It===pC||It===hh||It===aL||It===lL,Gt=Oe.getClearColor(),tn=Oe.getClearAlpha(),dn=Gt.r,qe=Gt.g,Qt=Gt.b;Bt?(m[0]=dn,m[1]=qe,m[2]=Qt,m[3]=tn,Z.clearBufferuiv(Z.COLOR,0,m)):(v[0]=dn,v[1]=qe,v[2]=Qt,v[3]=tn,Z.clearBufferiv(Z.COLOR,0,v))}else Ce|=Z.COLOR_BUFFER_BIT}Ie&&(Ce|=Z.DEPTH_BUFFER_BIT),Fe&&(Ce|=Z.STENCIL_BUFFER_BIT),Z.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",rt,!1),n.removeEventListener("webglcontextrestored",De,!1),n.removeEventListener("webglcontextcreationerror",st,!1),ze.dispose(),He.dispose(),Ae.dispose(),je.dispose(),ke.dispose(),J.dispose(),ct.dispose(),Rt.dispose(),he.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",we),xe.removeEventListener("sessionend",Ee),fe&&(fe.dispose(),fe=null),Pe.stop()};function rt(ae){ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const ae=Xe.autoReset,Ie=Ze.enabled,Fe=Ze.autoUpdate,Ce=Ze.needsUpdate,Ye=Ze.type;en(),Xe.autoReset=ae,Ze.enabled=Ie,Ze.autoUpdate=Fe,Ze.needsUpdate=Ce,Ze.type=Ye}function st(ae){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ae.statusMessage)}function yt(ae){const Ie=ae.target;Ie.removeEventListener("dispose",yt),an(Ie)}function an(ae){pn(ae),Ae.remove(ae)}function pn(ae){const Ie=Ae.get(ae).programs;Ie!==void 0&&(Ie.forEach(function(Fe){he.releaseProgram(Fe)}),ae.isShaderMaterial&&he.releaseShaderCache(ae))}this.renderBufferDirect=function(ae,Ie,Fe,Ce,Ye,It){Ie===null&&(Ie=Se);const Bt=Ye.isMesh&&Ye.matrixWorld.determinant()<0,Gt=Wt(ae,Ie,Fe,Ce,Ye);ce.setMaterial(Ce,Bt);let tn=Fe.index,dn=1;Ce.wireframe===!0&&(tn=ie.getWireframeAttribute(Fe),dn=2);const qe=Fe.drawRange,Qt=Fe.attributes.position;let Wn=qe.start*dn,$t=(qe.start+qe.count)*dn;It!==null&&(Wn=Math.max(Wn,It.start*dn),$t=Math.min($t,(It.start+It.count)*dn)),tn!==null?(Wn=Math.max(Wn,0),$t=Math.min($t,tn.count)):Qt!=null&&(Wn=Math.max(Wn,0),$t=Math.min($t,Qt.count));const On=$t-Wn;if(On<0||On===1/0)return;ct.setup(Ye,Ce,Gt,Fe,tn);let qr,Ln=wt;if(tn!==null&&(qr=nt.get(tn),Ln=dt,Ln.setIndex(qr)),Ye.isMesh)Ce.wireframe===!0?(ce.setLineWidth(Ce.wireframeLinewidth*pe()),Ln.setMode(Z.LINES)):Ln.setMode(Z.TRIANGLES);else if(Ye.isLine){let Lt=Ce.linewidth;Lt===void 0&&(Lt=1),ce.setLineWidth(Lt*pe()),Ye.isLineSegments?Ln.setMode(Z.LINES):Ye.isLineLoop?Ln.setMode(Z.LINE_LOOP):Ln.setMode(Z.LINE_STRIP)}else Ye.isPoints?Ln.setMode(Z.POINTS):Ye.isSprite&&Ln.setMode(Z.TRIANGLES);if(Ye.isInstancedMesh)Ln.renderInstances(Wn,On,Ye.count);else if(Fe.isInstancedBufferGeometry){const Lt=Fe._maxInstanceCount!==void 0?Fe._maxInstanceCount:1/0,ln=Math.min(Fe.instanceCount,Lt);Ln.renderInstances(Wn,On,ln)}else Ln.render(Wn,On)},this.compile=function(ae,Ie){function Fe(Ce,Ye,It){Ce.transparent===!0&&Ce.side===ri&&Ce.forceSinglePass===!1?(Ce.side=yo,Ce.needsUpdate=!0,pt(Ce,Ye,It),Ce.side=Ru,Ce.needsUpdate=!0,pt(Ce,Ye,It),Ce.side=ri):pt(Ce,Ye,It)}x=He.get(ae),x.init(),b.push(x),ae.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(Ie.layers)&&(x.pushLight(Ce),Ce.castShadow&&x.pushShadow(Ce))}),x.setupLights(S.useLegacyLights),ae.traverse(function(Ce){const Ye=Ce.material;if(Ye)if(Array.isArray(Ye))for(let It=0;It<Ye.length;It++){const Bt=Ye[It];Fe(Bt,ae,Ce)}else Fe(Ye,ae,Ce)}),b.pop(),x=null};let Un=null;function Rn(ae){Un&&Un(ae)}function we(){Pe.stop()}function Ee(){Pe.start()}const Pe=new E7;Pe.setAnimationLoop(Rn),typeof self<"u"&&Pe.setContext(self),this.setAnimationLoop=function(ae){Un=ae,xe.setAnimationLoop(ae),ae===null?Pe.stop():Pe.start()},xe.addEventListener("sessionstart",we),xe.addEventListener("sessionend",Ee),this.render=function(ae,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ie.parent===null&&Ie.matrixWorldAutoUpdate===!0&&Ie.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(Ie),Ie=xe.getCamera()),ae.isScene===!0&&ae.onBeforeRender(S,ae,Ie,I),x=He.get(ae,b.length),x.init(),b.push(x),ye.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),te.setFromProjectionMatrix(ye),le=this.localClippingEnabled,re=et.init(this.clippingPlanes,le),w=ze.get(ae,y.length),w.init(),y.push(w),Qe(ae,Ie,0,S.sortObjects),w.finish(),S.sortObjects===!0&&w.sort(G,W),this.info.render.frame++,re===!0&&et.beginShadows();const Fe=x.state.shadowsArray;if(Ze.render(Fe,ae,Ie),re===!0&&et.endShadows(),this.info.autoReset===!0&&this.info.reset(),Oe.render(w,ae),x.setupLights(S.useLegacyLights),Ie.isArrayCamera){const Ce=Ie.cameras;for(let Ye=0,It=Ce.length;Ye<It;Ye++){const Bt=Ce[Ye];ft(w,ae,Bt,Bt.viewport)}}else ft(w,ae,Ie);I!==null&&(Ge.updateMultisampleRenderTarget(I),Ge.updateRenderTargetMipmap(I)),ae.isScene===!0&&ae.onAfterRender(S,ae,Ie),ct.resetDefaultState(),O=-1,R=null,b.pop(),b.length>0?x=b[b.length-1]:x=null,y.pop(),y.length>0?w=y[y.length-1]:w=null};function Qe(ae,Ie,Fe,Ce){if(ae.visible===!1)return;if(ae.layers.test(Ie.layers)){if(ae.isGroup)Fe=ae.renderOrder;else if(ae.isLOD)ae.autoUpdate===!0&&ae.update(Ie);else if(ae.isLight)x.pushLight(ae),ae.castShadow&&x.pushShadow(ae);else if(ae.isSprite){if(!ae.frustumCulled||te.intersectsSprite(ae)){Ce&&ve.setFromMatrixPosition(ae.matrixWorld).applyMatrix4(ye);const Bt=J.update(ae),Gt=ae.material;Gt.visible&&w.push(ae,Bt,Gt,Fe,ve.z,null)}}else if((ae.isMesh||ae.isLine||ae.isPoints)&&(!ae.frustumCulled||te.intersectsObject(ae))){const Bt=J.update(ae),Gt=ae.material;if(Ce&&(ae.boundingSphere!==void 0?(ae.boundingSphere===null&&ae.computeBoundingSphere(),ve.copy(ae.boundingSphere.center)):(Bt.boundingSphere===null&&Bt.computeBoundingSphere(),ve.copy(Bt.boundingSphere.center)),ve.applyMatrix4(ae.matrixWorld).applyMatrix4(ye)),Array.isArray(Gt)){const tn=Bt.groups;for(let dn=0,qe=tn.length;dn<qe;dn++){const Qt=tn[dn],Wn=Gt[Qt.materialIndex];Wn&&Wn.visible&&w.push(ae,Bt,Wn,Fe,ve.z,Qt)}}else Gt.visible&&w.push(ae,Bt,Gt,Fe,ve.z,null)}}const It=ae.children;for(let Bt=0,Gt=It.length;Bt<Gt;Bt++)Qe(It[Bt],Ie,Fe,Ce)}function ft(ae,Ie,Fe,Ce){const Ye=ae.opaque,It=ae.transmissive,Bt=ae.transparent;x.setupLightsView(Fe),re===!0&&et.setGlobalState(S.clippingPlanes,Fe),It.length>0&&gt(Ye,It,Ie,Fe),Ce&&ce.viewport(D.copy(Ce)),Ye.length>0&&At(Ye,Ie,Fe),It.length>0&&At(It,Ie,Fe),Bt.length>0&&At(Bt,Ie,Fe),ce.buffers.depth.setTest(!0),ce.buffers.depth.setMask(!0),ce.buffers.color.setMask(!0),ce.setPolygonOffset(!1)}function gt(ae,Ie,Fe,Ce){const Ye=_e.isWebGL2;fe===null&&(fe=new Rc(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?yy:Su,minFilter:Ph,samples:Ye?4:0})),S.getDrawingBufferSize(se),Ye?fe.setSize(se.x,se.y):fe.setSize(lT(se.x),lT(se.y));const It=S.getRenderTarget();S.setRenderTarget(fe),S.getClearColor(B),Q=S.getClearAlpha(),Q<1&&S.setClearColor(16777215,.5),S.clear();const Bt=S.toneMapping;S.toneMapping=Ec,At(ae,Fe,Ce),Ge.updateMultisampleRenderTarget(fe),Ge.updateRenderTargetMipmap(fe);let Gt=!1;for(let tn=0,dn=Ie.length;tn<dn;tn++){const qe=Ie[tn],Qt=qe.object,Wn=qe.geometry,$t=qe.material,On=qe.group;if($t.side===ri&&Qt.layers.test(Ce.layers)){const qr=$t.side;$t.side=yo,$t.needsUpdate=!0,xt(Qt,Fe,Ce,Wn,$t,On),$t.side=qr,$t.needsUpdate=!0,Gt=!0}}Gt===!0&&(Ge.updateMultisampleRenderTarget(fe),Ge.updateRenderTargetMipmap(fe)),S.setRenderTarget(It),S.setClearColor(B,Q),S.toneMapping=Bt}function At(ae,Ie,Fe){const Ce=Ie.isScene===!0?Ie.overrideMaterial:null;for(let Ye=0,It=ae.length;Ye<It;Ye++){const Bt=ae[Ye],Gt=Bt.object,tn=Bt.geometry,dn=Ce===null?Bt.material:Ce,qe=Bt.group;Gt.layers.test(Fe.layers)&&xt(Gt,Ie,Fe,tn,dn,qe)}}function xt(ae,Ie,Fe,Ce,Ye,It){ae.onBeforeRender(S,Ie,Fe,Ce,Ye,It),ae.modelViewMatrix.multiplyMatrices(Fe.matrixWorldInverse,ae.matrixWorld),ae.normalMatrix.getNormalMatrix(ae.modelViewMatrix),Ye.onBeforeRender(S,Ie,Fe,Ce,ae,It),Ye.transparent===!0&&Ye.side===ri&&Ye.forceSinglePass===!1?(Ye.side=yo,Ye.needsUpdate=!0,S.renderBufferDirect(Fe,Ie,Ce,Ye,ae,It),Ye.side=Ru,Ye.needsUpdate=!0,S.renderBufferDirect(Fe,Ie,Ce,Ye,ae,It),Ye.side=ri):S.renderBufferDirect(Fe,Ie,Ce,Ye,ae,It),ae.onAfterRender(S,Ie,Fe,Ce,Ye,It)}function pt(ae,Ie,Fe){Ie.isScene!==!0&&(Ie=Se);const Ce=Ae.get(ae),Ye=x.state.lights,It=x.state.shadowsArray,Bt=Ye.state.version,Gt=he.getParameters(ae,Ye.state,It,Ie,Fe),tn=he.getProgramCacheKey(Gt);let dn=Ce.programs;Ce.environment=ae.isMeshStandardMaterial?Ie.environment:null,Ce.fog=Ie.fog,Ce.envMap=(ae.isMeshStandardMaterial?ke:je).get(ae.envMap||Ce.environment),dn===void 0&&(ae.addEventListener("dispose",yt),dn=new Map,Ce.programs=dn);let qe=dn.get(tn);if(qe!==void 0){if(Ce.currentProgram===qe&&Ce.lightsStateVersion===Bt)return at(ae,Gt),qe}else Gt.uniforms=he.getUniforms(ae),ae.onBuild(Fe,Gt,S),ae.onBeforeCompile(Gt,S),qe=he.acquireProgram(Gt,tn),dn.set(tn,qe),Ce.uniforms=Gt.uniforms;const Qt=Ce.uniforms;(!ae.isShaderMaterial&&!ae.isRawShaderMaterial||ae.clipping===!0)&&(Qt.clippingPlanes=et.uniform),at(ae,Gt),Ce.needsLights=Tn(ae),Ce.lightsStateVersion=Bt,Ce.needsLights&&(Qt.ambientLightColor.value=Ye.state.ambient,Qt.lightProbe.value=Ye.state.probe,Qt.directionalLights.value=Ye.state.directional,Qt.directionalLightShadows.value=Ye.state.directionalShadow,Qt.spotLights.value=Ye.state.spot,Qt.spotLightShadows.value=Ye.state.spotShadow,Qt.rectAreaLights.value=Ye.state.rectArea,Qt.ltc_1.value=Ye.state.rectAreaLTC1,Qt.ltc_2.value=Ye.state.rectAreaLTC2,Qt.pointLights.value=Ye.state.point,Qt.pointLightShadows.value=Ye.state.pointShadow,Qt.hemisphereLights.value=Ye.state.hemi,Qt.directionalShadowMap.value=Ye.state.directionalShadowMap,Qt.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,Qt.spotShadowMap.value=Ye.state.spotShadowMap,Qt.spotLightMatrix.value=Ye.state.spotLightMatrix,Qt.spotLightMap.value=Ye.state.spotLightMap,Qt.pointShadowMap.value=Ye.state.pointShadowMap,Qt.pointShadowMatrix.value=Ye.state.pointShadowMatrix);const Wn=qe.getUniforms(),$t=iE.seqWithValue(Wn.seq,Qt);return Ce.currentProgram=qe,Ce.uniformsList=$t,qe}function at(ae,Ie){const Fe=Ae.get(ae);Fe.outputColorSpace=Ie.outputColorSpace,Fe.instancing=Ie.instancing,Fe.skinning=Ie.skinning,Fe.morphTargets=Ie.morphTargets,Fe.morphNormals=Ie.morphNormals,Fe.morphColors=Ie.morphColors,Fe.morphTargetsCount=Ie.morphTargetsCount,Fe.numClippingPlanes=Ie.numClippingPlanes,Fe.numIntersection=Ie.numClipIntersection,Fe.vertexAlphas=Ie.vertexAlphas,Fe.vertexTangents=Ie.vertexTangents,Fe.toneMapping=Ie.toneMapping}function Wt(ae,Ie,Fe,Ce,Ye){Ie.isScene!==!0&&(Ie=Se),Ge.resetTextureUnits();const It=Ie.fog,Bt=Ce.isMeshStandardMaterial?Ie.environment:null,Gt=I===null?S.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Pc,tn=(Ce.isMeshStandardMaterial?ke:je).get(Ce.envMap||Bt),dn=Ce.vertexColors===!0&&!!Fe.attributes.color&&Fe.attributes.color.itemSize===4,qe=!!Fe.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),Qt=!!Fe.morphAttributes.position,Wn=!!Fe.morphAttributes.normal,$t=!!Fe.morphAttributes.color,On=Ce.toneMapped?S.toneMapping:Ec,qr=Fe.morphAttributes.position||Fe.morphAttributes.normal||Fe.morphAttributes.color,Ln=qr!==void 0?qr.length:0,Lt=Ae.get(Ce),ln=x.state.lights;if(re===!0&&(le===!0||ae!==R)){const Dr=ae===R&&Ce.id===O;et.setState(Ce,ae,Dr)}let sn=!1;Ce.version===Lt.__version?(Lt.needsLights&&Lt.lightsStateVersion!==ln.state.version||Lt.outputColorSpace!==Gt||Ye.isInstancedMesh&&Lt.instancing===!1||!Ye.isInstancedMesh&&Lt.instancing===!0||Ye.isSkinnedMesh&&Lt.skinning===!1||!Ye.isSkinnedMesh&&Lt.skinning===!0||Lt.envMap!==tn||Ce.fog===!0&&Lt.fog!==It||Lt.numClippingPlanes!==void 0&&(Lt.numClippingPlanes!==et.numPlanes||Lt.numIntersection!==et.numIntersection)||Lt.vertexAlphas!==dn||Lt.vertexTangents!==qe||Lt.morphTargets!==Qt||Lt.morphNormals!==Wn||Lt.morphColors!==$t||Lt.toneMapping!==On||_e.isWebGL2===!0&&Lt.morphTargetsCount!==Ln)&&(sn=!0):(sn=!0,Lt.__version=Ce.version);let Xn=Lt.currentProgram;sn===!0&&(Xn=pt(Ce,Ie,Ye));let Wr=!1,Ar=!1,to=!1;const Zn=Xn.getUniforms(),or=Lt.uniforms;if(ce.useProgram(Xn.program)&&(Wr=!0,Ar=!0,to=!0),Ce.id!==O&&(O=Ce.id,Ar=!0),Wr||R!==ae){if(Zn.setValue(Z,"projectionMatrix",ae.projectionMatrix),_e.logarithmicDepthBuffer&&Zn.setValue(Z,"logDepthBufFC",2/(Math.log(ae.far+1)/Math.LN2)),R!==ae&&(R=ae,Ar=!0,to=!0),Ce.isShaderMaterial||Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshStandardMaterial||Ce.envMap){const Dr=Zn.map.cameraPosition;Dr!==void 0&&Dr.setValue(Z,ve.setFromMatrixPosition(ae.matrixWorld))}(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&Zn.setValue(Z,"isOrthographic",ae.isOrthographicCamera===!0),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial||Ce.isShadowMaterial||Ye.isSkinnedMesh)&&Zn.setValue(Z,"viewMatrix",ae.matrixWorldInverse)}if(Ye.isSkinnedMesh){Zn.setOptional(Z,Ye,"bindMatrix"),Zn.setOptional(Z,Ye,"bindMatrixInverse");const Dr=Ye.skeleton;Dr&&(_e.floatVertexTextures?(Dr.boneTexture===null&&Dr.computeBoneTexture(),Zn.setValue(Z,"boneTexture",Dr.boneTexture,Ge),Zn.setValue(Z,"boneTextureSize",Dr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const bi=Fe.morphAttributes;if((bi.position!==void 0||bi.normal!==void 0||bi.color!==void 0&&_e.isWebGL2===!0)&&lt.update(Ye,Fe,Xn),(Ar||Lt.receiveShadow!==Ye.receiveShadow)&&(Lt.receiveShadow=Ye.receiveShadow,Zn.setValue(Z,"receiveShadow",Ye.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(or.envMap.value=tn,or.flipEnvMap.value=tn.isCubeTexture&&tn.isRenderTargetTexture===!1?-1:1),Ar&&(Zn.setValue(Z,"toneMappingExposure",S.toneMappingExposure),Lt.needsLights&&rn(or,to),It&&Ce.fog===!0&&Ne.refreshFogUniforms(or,It),Ne.refreshMaterialUniforms(or,Ce,V,K,fe),iE.upload(Z,Lt.uniformsList,or,Ge)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(iE.upload(Z,Lt.uniformsList,or,Ge),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&Zn.setValue(Z,"center",Ye.center),Zn.setValue(Z,"modelViewMatrix",Ye.modelViewMatrix),Zn.setValue(Z,"normalMatrix",Ye.normalMatrix),Zn.setValue(Z,"modelMatrix",Ye.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const Dr=Ce.uniformsGroups;for(let el=0,tl=Dr.length;el<tl;el++)if(_e.isWebGL2){const Oi=Dr[el];Rt.update(Oi,Xn),Rt.bind(Oi,Xn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Xn}function rn(ae,Ie){ae.ambientLightColor.needsUpdate=Ie,ae.lightProbe.needsUpdate=Ie,ae.directionalLights.needsUpdate=Ie,ae.directionalLightShadows.needsUpdate=Ie,ae.pointLights.needsUpdate=Ie,ae.pointLightShadows.needsUpdate=Ie,ae.spotLights.needsUpdate=Ie,ae.spotLightShadows.needsUpdate=Ie,ae.rectAreaLights.needsUpdate=Ie,ae.hemisphereLights.needsUpdate=Ie}function Tn(ae){return ae.isMeshLambertMaterial||ae.isMeshToonMaterial||ae.isMeshPhongMaterial||ae.isMeshStandardMaterial||ae.isShadowMaterial||ae.isShaderMaterial&&ae.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(ae,Ie,Fe){Ae.get(ae.texture).__webglTexture=Ie,Ae.get(ae.depthTexture).__webglTexture=Fe;const Ce=Ae.get(ae);Ce.__hasExternalTextures=!0,Ce.__hasExternalTextures&&(Ce.__autoAllocateDepthBuffer=Fe===void 0,Ce.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ae,Ie){const Fe=Ae.get(ae);Fe.__webglFramebuffer=Ie,Fe.__useDefaultFramebuffer=Ie===void 0},this.setRenderTarget=function(ae,Ie=0,Fe=0){I=ae,C=Ie,M=Fe;let Ce=!0,Ye=null,It=!1,Bt=!1;if(ae){const tn=Ae.get(ae);tn.__useDefaultFramebuffer!==void 0?(ce.bindFramebuffer(Z.FRAMEBUFFER,null),Ce=!1):tn.__webglFramebuffer===void 0?Ge.setupRenderTarget(ae):tn.__hasExternalTextures&&Ge.rebindTextures(ae,Ae.get(ae.texture).__webglTexture,Ae.get(ae.depthTexture).__webglTexture);const dn=ae.texture;(dn.isData3DTexture||dn.isDataArrayTexture||dn.isCompressedArrayTexture)&&(Bt=!0);const qe=Ae.get(ae).__webglFramebuffer;ae.isWebGLCubeRenderTarget?(Ye=qe[Ie],It=!0):_e.isWebGL2&&ae.samples>0&&Ge.useMultisampledRTT(ae)===!1?Ye=Ae.get(ae).__webglMultisampledFramebuffer:Ye=qe,D.copy(ae.viewport),j.copy(ae.scissor),$=ae.scissorTest}else D.copy(F).multiplyScalar(V).floor(),j.copy(U).multiplyScalar(V).floor(),$=q;if(ce.bindFramebuffer(Z.FRAMEBUFFER,Ye)&&_e.drawBuffers&&Ce&&ce.drawBuffers(ae,Ye),ce.viewport(D),ce.scissor(j),ce.setScissorTest($),It){const tn=Ae.get(ae.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,tn.__webglTexture,Fe)}else if(Bt){const tn=Ae.get(ae.texture),dn=Ie||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,tn.__webglTexture,Fe||0,dn)}O=-1},this.readRenderTargetPixels=function(ae,Ie,Fe,Ce,Ye,It,Bt){if(!(ae&&ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=Ae.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&Bt!==void 0&&(Gt=Gt[Bt]),Gt){ce.bindFramebuffer(Z.FRAMEBUFFER,Gt);try{const tn=ae.texture,dn=tn.format,qe=tn.type;if(dn!==ha&&tt.convert(dn)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Qt=qe===yy&&(ue.has("EXT_color_buffer_half_float")||_e.isWebGL2&&ue.has("EXT_color_buffer_float"));if(qe!==Su&&tt.convert(qe)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(qe===yu&&(_e.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Qt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ie>=0&&Ie<=ae.width-Ce&&Fe>=0&&Fe<=ae.height-Ye&&Z.readPixels(Ie,Fe,Ce,Ye,tt.convert(dn),tt.convert(qe),It)}finally{const tn=I!==null?Ae.get(I).__webglFramebuffer:null;ce.bindFramebuffer(Z.FRAMEBUFFER,tn)}}},this.copyFramebufferToTexture=function(ae,Ie,Fe=0){const Ce=Math.pow(2,-Fe),Ye=Math.floor(Ie.image.width*Ce),It=Math.floor(Ie.image.height*Ce);Ge.setTexture2D(Ie,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Fe,0,0,ae.x,ae.y,Ye,It),ce.unbindTexture()},this.copyTextureToTexture=function(ae,Ie,Fe,Ce=0){const Ye=Ie.image.width,It=Ie.image.height,Bt=tt.convert(Fe.format),Gt=tt.convert(Fe.type);Ge.setTexture2D(Fe,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Fe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Fe.unpackAlignment),Ie.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Ce,ae.x,ae.y,Ye,It,Bt,Gt,Ie.image.data):Ie.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Ce,ae.x,ae.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,Bt,Ie.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,Ce,ae.x,ae.y,Bt,Gt,Ie.image),Ce===0&&Fe.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),ce.unbindTexture()},this.copyTextureToTexture3D=function(ae,Ie,Fe,Ce,Ye=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const It=ae.max.x-ae.min.x+1,Bt=ae.max.y-ae.min.y+1,Gt=ae.max.z-ae.min.z+1,tn=tt.convert(Ce.format),dn=tt.convert(Ce.type);let qe;if(Ce.isData3DTexture)Ge.setTexture3D(Ce,0),qe=Z.TEXTURE_3D;else if(Ce.isDataArrayTexture)Ge.setTexture2DArray(Ce,0),qe=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Ce.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Ce.unpackAlignment);const Qt=Z.getParameter(Z.UNPACK_ROW_LENGTH),Wn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),$t=Z.getParameter(Z.UNPACK_SKIP_PIXELS),On=Z.getParameter(Z.UNPACK_SKIP_ROWS),qr=Z.getParameter(Z.UNPACK_SKIP_IMAGES),Ln=Fe.isCompressedTexture?Fe.mipmaps[0]:Fe.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Ln.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Ln.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,ae.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,ae.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,ae.min.z),Fe.isDataTexture||Fe.isData3DTexture?Z.texSubImage3D(qe,Ye,Ie.x,Ie.y,Ie.z,It,Bt,Gt,tn,dn,Ln.data):Fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(qe,Ye,Ie.x,Ie.y,Ie.z,It,Bt,Gt,tn,Ln.data)):Z.texSubImage3D(qe,Ye,Ie.x,Ie.y,Ie.z,It,Bt,Gt,tn,dn,Ln),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Qt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Wn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,$t),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,On),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,qr),Ye===0&&Ce.generateMipmaps&&Z.generateMipmap(qe),ce.unbindTexture()},this.initTexture=function(ae){ae.isCubeTexture?Ge.setTextureCube(ae,0):ae.isData3DTexture?Ge.setTexture3D(ae,0):ae.isDataArrayTexture||ae.isCompressedArrayTexture?Ge.setTexture2DArray(ae,0):Ge.setTexture2D(ae,0),ce.unbindTexture()},this.resetState=function(){C=0,M=0,I=null,ce.reset(),ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return _u}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===An?mh:hL}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===mh?An:Pc}}class k7 extends SL{}k7.prototype.isWebGL1Renderer=!0;class xC{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=n}clone(){return new xC(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class wC{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=n,this.far=r}clone(){return new wC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Qx extends sr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class bC{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=qx,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$a()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$a()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$a()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oo=new oe;class Em{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Oo.fromBufferAttribute(this,n),Oo.applyMatrix4(e),this.setXYZ(n,Oo.x,Oo.y,Oo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Oo.fromBufferAttribute(this,n),Oo.applyNormalMatrix(e),this.setXYZ(n,Oo.x,Oo.y,Oo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Oo.fromBufferAttribute(this,n),Oo.transformDirection(e),this.setXYZ(n,Oo.x,Oo.y,Oo.z);return this}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ha(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ha(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ha(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ha(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new gr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Em(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class EL extends Js{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let dv;const s_=new oe,fv=new oe,hv=new oe,pv=new Je,o_=new Je,O7=new wn,j1=new oe,a_=new oe,$1=new oe,fz=new Je,nP=new Je,hz=new Je;class L7 extends sr{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",dv===void 0){dv=new Pn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new bC(n,5);dv.setIndex([0,1,2,0,2,3]),dv.setAttribute("position",new Em(r,3,0,!1)),dv.setAttribute("uv",new Em(r,2,3,!1))}this.geometry=dv,this.material=e!==void 0?e:new EL,this.center=new Je(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fv.setFromMatrixScale(this.matrixWorld),O7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),hv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fv.multiplyScalar(-hv.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Y1(j1.set(-.5,-.5,0),hv,o,fv,i,s),Y1(a_.set(.5,-.5,0),hv,o,fv,i,s),Y1($1.set(.5,.5,0),hv,o,fv,i,s),fz.set(0,0),nP.set(1,0),hz.set(1,1);let a=e.ray.intersectTriangle(j1,a_,$1,!1,s_);if(a===null&&(Y1(a_.set(-.5,.5,0),hv,o,fv,i,s),nP.set(0,1),a=e.ray.intersectTriangle(j1,$1,a_,!1,s_),a===null))return;const l=e.ray.origin.distanceTo(s_);l<e.near||l>e.far||n.push({distance:l,point:s_.clone(),uv:ua.getInterpolation(s_,j1,a_,$1,fz,nP,hz,new Je),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Y1(t,e,n,r,i,s){pv.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(o_.x=s*pv.x-i*pv.y,o_.y=i*pv.x+s*pv.y):o_.copy(pv),t.copy(e),t.x+=o_.x,t.y+=o_.y,t.applyMatrix4(O7)}const X1=new oe,pz=new oe;class D7 extends sr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){X1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(X1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){X1.setFromMatrixPosition(e.matrixWorld),pz.setFromMatrixPosition(this.matrixWorld);const r=X1.distanceTo(pz)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const mz=new oe,gz=new rr,vz=new rr,qSe=new oe,yz=new wn,mv=new oe,rP=new Ja,_z=new wn,iP=new jy;class N7 extends oi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new wn,this.bindMatrixInverse=new wn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)mv.fromBufferAttribute(n,r),this.applyBoneTransform(r,mv),this.boundingBox.expandByPoint(mv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ja),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)mv.fromBufferAttribute(n,r),this.applyBoneTransform(r,mv),this.boundingSphere.expandByPoint(mv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rP.copy(this.boundingSphere),rP.applyMatrix4(i),e.ray.intersectsSphere(rP)!==!1&&(_z.copy(i).invert(),iP.copy(e.ray).applyMatrix4(_z),!(this.boundingBox!==null&&iP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,iP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;gz.fromBufferAttribute(i.attributes.skinIndex,e),vz.fromBufferAttribute(i.attributes.skinWeight,e),mz.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=vz.getComponent(s);if(o!==0){const a=gz.getComponent(s);yz.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(qSe.copy(mz).applyMatrix4(yz),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class TL extends sr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ty extends ci{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Pi,u=Pi,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xz=new wn,KSe=new wn;class SC{constructor(e=[],n=[]){this.uuid=$a(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new wn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new wn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:KSe;xz.multiplyMatrices(a,n[s]),xz.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new SC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=y7(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ty(n,e,e,ha,yu);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new TL),this.bones.push(o),this.boneInverses.push(new wn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Tm extends gr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const gv=new wn,wz=new wn,q1=[],bz=new Qa,ZSe=new wn,l_=new oi,c_=new Ja;class F7 extends oi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Tm(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,ZSe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Qa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,gv),bz.copy(e.boundingBox).applyMatrix4(gv),this.boundingBox.union(bz)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ja),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,gv),c_.copy(e.boundingSphere).applyMatrix4(gv),this.boundingSphere.union(c_)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(l_.geometry=this.geometry,l_.material=this.material,l_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),c_.copy(this.boundingSphere),c_.applyMatrix4(r),e.ray.intersectsSphere(c_)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,gv),wz.multiplyMatrices(r,gv),l_.matrixWorld=wz,l_.raycast(e,q1);for(let o=0,a=q1.length;o<a;o++){const l=q1[o];l.instanceId=s,l.object=this,n.push(l)}q1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Tm(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Vo extends Js{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Sz=new oe,Ez=new oe,Tz=new wn,sP=new jy,K1=new Ja;let Ih=class extends sr{constructor(e=new Pn,n=new Vo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Sz.fromBufferAttribute(n,i-1),Ez.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Sz.distanceTo(Ez);e.setAttribute("lineDistance",new qt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),K1.copy(r.boundingSphere),K1.applyMatrix4(i),K1.radius+=s,e.ray.intersectsSphere(K1)===!1)return;Tz.copy(i).invert(),sP.copy(e.ray).applyMatrix4(Tz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new oe,u=new oe,d=new oe,f=new oe,m=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const y=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let S=y,T=b-1;S<T;S+=m){const C=v.getX(S),M=v.getX(S+1);if(c.fromBufferAttribute(x,C),u.fromBufferAttribute(x,M),sP.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(f);O<e.near||O>e.far||n.push({distance:O,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let S=y,T=b-1;S<T;S+=m){if(c.fromBufferAttribute(x,S),u.fromBufferAttribute(x,S+1),sP.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const Cz=new oe,Mz=new oe;class Gu extends Ih{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)Cz.fromBufferAttribute(n,i),Mz.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Cz.distanceTo(Mz);e.setAttribute("lineDistance",new qt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class U7 extends Ih{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class CL extends Js{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Az=new wn,g2=new jy,Z1=new Ja,Q1=new oe;class z7 extends sr{constructor(e=new Pn,n=new CL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Z1.copy(r.boundingSphere),Z1.applyMatrix4(i),Z1.radius+=s,e.ray.intersectsSphere(Z1)===!1)return;Az.copy(i).invert(),g2.copy(e.ray).applyMatrix4(Az);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=f,w=m;v<w;v++){const x=c.getX(v);Q1.fromBufferAttribute(d,x),Pz(Q1,x,l,i,e,n,this)}}else{const f=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=f,w=m;v<w;v++)Q1.fromBufferAttribute(d,v),Pz(Q1,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Pz(t,e,n,r,i,s,o){const a=g2.distanceSqToPoint(t);if(a<n){const l=new oe;g2.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class QSe extends ci{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Xr,this.magFilter=s!==void 0?s:Xr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class JSe extends ci{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Pi,this.minFilter=Pi,this.generateMipmaps=!1,this.needsUpdate=!0}}class ML extends ci{constructor(e,n,r,i,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class eEe extends ML{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=go}}class tEe extends ci{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ic{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,m=(o-u)/f;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Je:new oe);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new oe,i=[],s=[],o=[],a=new oe,l=new wn;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new oe)}s[0]=new oe,o[0]=new oe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(vi(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(vi(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EC extends Ic{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Je,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class B7 extends EC{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function AL(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,m*=u,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const J1=new oe,oP=new AL,aP=new AL,lP=new AL;class V7 extends Ic{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new oe){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(J1.subVectors(i[0],i[1]).add(i[0]),c=J1);const d=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(J1.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=J1),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),w=Math.pow(d.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(u),m);w<1e-4&&(w=1),v<1e-4&&(v=w),x<1e-4&&(x=w),oP.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,v,w,x),aP.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,v,w,x),lP.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,v,w,x)}else this.curveType==="catmullrom"&&(oP.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),aP.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),lP.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(oP.calc(l),aP.calc(l),lP.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Rz(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function nEe(t,e){const n=1-t;return n*n*e}function rEe(t,e){return 2*(1-t)*t*e}function iEe(t,e){return t*t*e}function ux(t,e,n,r){return nEe(t,e)+rEe(t,n)+iEe(t,r)}function sEe(t,e){const n=1-t;return n*n*n*e}function oEe(t,e){const n=1-t;return 3*n*n*t*e}function aEe(t,e){return 3*(1-t)*t*t*e}function lEe(t,e){return t*t*t*e}function dx(t,e,n,r,i){return sEe(t,e)+oEe(t,n)+aEe(t,r)+lEe(t,i)}class PL extends Ic{constructor(e=new Je,n=new Je,r=new Je,i=new Je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Je){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dx(e,i.x,s.x,o.x,a.x),dx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class G7 extends Ic{constructor(e=new oe,n=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new oe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dx(e,i.x,s.x,o.x,a.x),dx(e,i.y,s.y,o.y,a.y),dx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TC extends Ic{constructor(e=new Je,n=new Je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Je){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Je){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RL extends Ic{constructor(e=new oe,n=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IL extends Ic{constructor(e=new Je,n=new Je,r=new Je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Je){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(ux(e,i.x,s.x,o.x),ux(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CC extends Ic{constructor(e=new oe,n=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new oe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(ux(e,i.x,s.x,o.x),ux(e,i.y,s.y,o.y),ux(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kL extends Ic{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Je){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(Rz(a,l.x,c.x,u.x,d.x),Rz(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Je().fromArray(i))}return this}}var OL=Object.freeze({__proto__:null,ArcCurve:B7,CatmullRomCurve3:V7,CubicBezierCurve:PL,CubicBezierCurve3:G7,EllipseCurve:EC,LineCurve:TC,LineCurve3:RL,QuadraticBezierCurve:IL,QuadraticBezierCurve3:CC,SplineCurve:kL});class H7 extends Ic{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new TC(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new OL[i.type]().fromJSON(i))}return this}}class Jx extends H7{constructor(e){super(),this.type="Path",this.currentPoint=new Je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new TC(this.currentPoint.clone(),new Je(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new IL(this.currentPoint.clone(),new Je(e,n),new Je(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new PL(this.currentPoint.clone(),new Je(e,n),new Je(r,i),new Je(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new kL(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new EC(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Yw extends Pn{constructor(e=[new Je(0,-.5),new Je(.5,0),new Je(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=vi(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new oe,f=new Je,m=new oe,v=new oe,w=new oe;let x=0,y=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,y=e[b+1].y-e[b].y,m.x=y*1,m.y=-x,m.z=y*0,w.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(w.x,w.y,w.z);break;default:x=e[b+1].x-e[b].x,y=e[b+1].y-e[b].y,m.x=y*1,m.y=-x,m.z=y*0,v.copy(m),m.x+=w.x,m.y+=w.y,m.z+=w.z,m.normalize(),l.push(m.x,m.y,m.z),w.copy(v)}for(let b=0;b<=n;b++){const S=r+b*u*i,T=Math.sin(S),C=Math.cos(S);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*T,d.y=e[M].y,d.z=e[M].x*C,o.push(d.x,d.y,d.z),f.x=b/n,f.y=M/(e.length-1),a.push(f.x,f.y);const I=l[3*M+0]*T,O=l[3*M+1],R=l[3*M+0]*C;c.push(I,O,R)}}for(let b=0;b<n;b++)for(let S=0;S<e.length-1;S++){const T=S+b*e.length,C=T,M=T+e.length,I=T+e.length+1,O=T+1;s.push(C,M,O),s.push(I,O,M)}this.setIndex(s),this.setAttribute("position",new qt(o,3)),this.setAttribute("uv",new qt(a,2)),this.setAttribute("normal",new qt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.points,e.segments,e.phiStart,e.phiLength)}}class MC extends Yw{constructor(e=1,n=1,r=4,i=8){const s=new Jx;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new MC(e.radius,e.length,e.capSegments,e.radialSegments)}}class AC extends Pn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new oe,u=new Je;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const m=r+d/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new qt(o,3)),this.setAttribute("normal",new qt(a,3)),this.setAttribute("uv",new qt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bm extends Pn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],m=[];let v=0;const w=[],x=r/2;let y=0;b(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new qt(d,3)),this.setAttribute("normal",new qt(f,3)),this.setAttribute("uv",new qt(m,2));function b(){const T=new oe,C=new oe;let M=0;const I=(n-e)/r;for(let O=0;O<=s;O++){const R=[],D=O/s,j=D*(n-e)+e;for(let $=0;$<=i;$++){const B=$/i,Q=B*l+a,ne=Math.sin(Q),K=Math.cos(Q);C.x=j*ne,C.y=-D*r+x,C.z=j*K,d.push(C.x,C.y,C.z),T.set(ne,I,K).normalize(),f.push(T.x,T.y,T.z),m.push(B,1-D),R.push(v++)}w.push(R)}for(let O=0;O<i;O++)for(let R=0;R<s;R++){const D=w[R][O],j=w[R+1][O],$=w[R+1][O+1],B=w[R][O+1];u.push(D,j,B),u.push(j,$,B),M+=6}c.addGroup(y,M,0),y+=M}function S(T){const C=v,M=new Je,I=new oe;let O=0;const R=T===!0?e:n,D=T===!0?1:-1;for(let $=1;$<=i;$++)d.push(0,x*D,0),f.push(0,D,0),m.push(.5,.5),v++;const j=v;for(let $=0;$<=i;$++){const Q=$/i*l+a,ne=Math.cos(Q),K=Math.sin(Q);I.x=R*K,I.y=x*D,I.z=R*ne,d.push(I.x,I.y,I.z),f.push(0,D,0),M.x=ne*.5+.5,M.y=K*.5*D+.5,m.push(M.x,M.y),v++}for(let $=0;$<i;$++){const B=C+$,Q=j+$;T===!0?u.push(Q,Q+1,B):u.push(Q+1,Q,B),O+=3}c.addGroup(y,O,T===!0?1:2),y+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PC extends Bm{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new PC(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zh extends Pn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new qt(s,3)),this.setAttribute("normal",new qt(s.slice(),3)),this.setAttribute("uv",new qt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const S=new oe,T=new oe,C=new oe;for(let M=0;M<n.length;M+=3)m(n[M+0],S),m(n[M+1],T),m(n[M+2],C),l(S,T,C,b)}function l(b,S,T,C){const M=C+1,I=[];for(let O=0;O<=M;O++){I[O]=[];const R=b.clone().lerp(T,O/M),D=S.clone().lerp(T,O/M),j=M-O;for(let $=0;$<=j;$++)$===0&&O===M?I[O][$]=R:I[O][$]=R.clone().lerp(D,$/j)}for(let O=0;O<M;O++)for(let R=0;R<2*(M-O)-1;R++){const D=Math.floor(R/2);R%2===0?(f(I[O][D+1]),f(I[O+1][D]),f(I[O][D])):(f(I[O][D+1]),f(I[O+1][D+1]),f(I[O+1][D]))}}function c(b){const S=new oe;for(let T=0;T<s.length;T+=3)S.x=s[T+0],S.y=s[T+1],S.z=s[T+2],S.normalize().multiplyScalar(b),s[T+0]=S.x,s[T+1]=S.y,s[T+2]=S.z}function u(){const b=new oe;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const T=x(b)/2/Math.PI+.5,C=y(b)/Math.PI+.5;o.push(T,1-C)}v(),d()}function d(){for(let b=0;b<o.length;b+=6){const S=o[b+0],T=o[b+2],C=o[b+4],M=Math.max(S,T,C),I=Math.min(S,T,C);M>.9&&I<.1&&(S<.2&&(o[b+0]+=1),T<.2&&(o[b+2]+=1),C<.2&&(o[b+4]+=1))}}function f(b){s.push(b.x,b.y,b.z)}function m(b,S){const T=b*3;S.x=e[T+0],S.y=e[T+1],S.z=e[T+2]}function v(){const b=new oe,S=new oe,T=new oe,C=new oe,M=new Je,I=new Je,O=new Je;for(let R=0,D=0;R<s.length;R+=9,D+=6){b.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),T.set(s[R+6],s[R+7],s[R+8]),M.set(o[D+0],o[D+1]),I.set(o[D+2],o[D+3]),O.set(o[D+4],o[D+5]),C.copy(b).add(S).add(T).divideScalar(3);const j=x(C);w(M,D+0,b,j),w(I,D+2,S,j),w(O,D+4,T,j)}}function w(b,S,T,C){C<0&&b.x===1&&(o[S]=b.x-1),T.x===0&&T.z===0&&(o[S]=C/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function y(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.vertices,e.indices,e.radius,e.details)}}class RC extends zh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new RC(e.radius,e.detail)}}const eS=new oe,tS=new oe,cP=new oe,nS=new ua;class W7 extends Pn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(lm*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:w,b:x,c:y}=nS;if(w.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),nS.getNormal(cP),d[0]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const S=(b+1)%3,T=d[b],C=d[S],M=nS[u[b]],I=nS[u[S]],O=`${T}_${C}`,R=`${C}_${T}`;R in f&&f[R]?(cP.dot(f[R].normal)<=s&&(m.push(M.x,M.y,M.z),m.push(I.x,I.y,I.z)),f[R]=null):O in f||(f[O]={index0:c[b],index1:c[S],normal:cP.clone()})}}for(const v in f)if(f[v]){const{index0:w,index1:x}=f[v];eS.fromBufferAttribute(a,w),tS.fromBufferAttribute(a,x),m.push(eS.x,eS.y,eS.z),m.push(tS.x,tS.y,tS.z)}this.setAttribute("position",new qt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class um extends Jx{constructor(e){super(e),this.uuid=$a(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Jx().fromJSON(i))}return this}}const cEe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=j7(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,m;if(r&&(s=pEe(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let v=n;v<i;v+=n)d=t[v],f=t[v+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return ew(s,o,n,a,l,m,0),o}};function j7(t,e,n,r,i){let s,o;if(i===TEe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=Iz(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=Iz(s,t[s],t[s+1],o);return o&&IC(o,o.next)&&(nw(o),o=o.next),o}function Cm(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(IC(n,n.next)||ii(n.prev,n,n.next)===0)){if(nw(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function ew(t,e,n,r,i,s,o){if(!t)return;!o&&s&&_Ee(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?dEe(t,r,i,s):uEe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),nw(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=fEe(Cm(t),e,n),ew(t,e,n,r,i,s,2)):o===2&&hEe(t,e,n,r,i,s):ew(Cm(t),e,n,r,i,s,1);break}}}function uEe(t){const e=t.prev,n=t,r=t.next;if(ii(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,f=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=f&&v.y>=d&&v.y<=m&&Bv(i,a,s,l,o,c,v.x,v.y)&&ii(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function dEe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(ii(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<d?u<f?u:f:d<f?d:f,w=a>l?a>c?a:c:l>c?l:c,x=u>d?u>f?u:f:d>f?d:f,y=v2(m,v,e,n,r),b=v2(w,x,e,n,r);let S=t.prevZ,T=t.nextZ;for(;S&&S.z>=y&&T&&T.z<=b;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&Bv(a,u,l,d,c,f,S.x,S.y)&&ii(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=m&&T.x<=w&&T.y>=v&&T.y<=x&&T!==i&&T!==o&&Bv(a,u,l,d,c,f,T.x,T.y)&&ii(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=y;){if(S.x>=m&&S.x<=w&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&Bv(a,u,l,d,c,f,S.x,S.y)&&ii(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=b;){if(T.x>=m&&T.x<=w&&T.y>=v&&T.y<=x&&T!==i&&T!==o&&Bv(a,u,l,d,c,f,T.x,T.y)&&ii(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function fEe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!IC(i,s)&&$7(i,r,r.next,s)&&tw(i,s)&&tw(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),nw(r),nw(r.next),r=t=s),r=r.next}while(r!==t);return Cm(r)}function hEe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&bEe(o,a)){let l=Y7(o,a);o=Cm(o,o.next),l=Cm(l,l.next),ew(o,e,n,r,i,s,0),ew(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function pEe(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=j7(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(wEe(c));for(i.sort(mEe),s=0;s<i.length;s++)n=gEe(i[s],n);return n}function mEe(t,e){return t.x-e.x}function gEe(t,e){const n=vEe(t,e);if(!n)return e;const r=Y7(n,t);return Cm(r,r.next),Cm(n,n.next)}function vEe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Bv(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),tw(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&yEe(i,n)))&&(i=n,u=d)),n=n.next;while(n!==a);return i}function yEe(t,e){return ii(t.prev,t,e.prev)<0&&ii(e.next,t,t.next)<0}function _Ee(t,e,n,r){let i=t;do i.z===0&&(i.z=v2(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,xEe(i)}function xEe(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function v2(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function wEe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Bv(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function bEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!SEe(t,e)&&(tw(t,e)&&tw(e,t)&&EEe(t,e)&&(ii(t.prev,t,e.prev)||ii(t,e.prev,e))||IC(t,e)&&ii(t.prev,t,t.next)>0&&ii(e.prev,e,e.next)>0)}function ii(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function IC(t,e){return t.x===e.x&&t.y===e.y}function $7(t,e,n,r){const i=iS(ii(t,e,n)),s=iS(ii(t,e,r)),o=iS(ii(n,r,t)),a=iS(ii(n,r,e));return!!(i!==s&&o!==a||i===0&&rS(t,n,e)||s===0&&rS(t,r,e)||o===0&&rS(n,t,r)||a===0&&rS(n,e,r))}function rS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function iS(t){return t>0?1:t<0?-1:0}function SEe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&$7(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function tw(t,e){return ii(t.prev,t,t.next)<0?ii(t,e,t.next)>=0&&ii(t,t.prev,e)>=0:ii(t,e,t.prev)<0||ii(t,t.next,e)<0}function EEe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Y7(t,e){const n=new y2(t.i,t.x,t.y),r=new y2(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Iz(t,e,n,r){const i=new y2(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function nw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function y2(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function TEe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Eu{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Eu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];kz(e),Oz(r,e);let o=e.length;n.forEach(kz);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,Oz(r,n[l]);const a=cEe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function kz(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Oz(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class kC extends Pn{constructor(e=new um([new Je(.5,.5),new Je(-.5,.5),new Je(-.5,-.5),new Je(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new qt(i,3)),this.setAttribute("uv",new qt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,w=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:CEe;let S,T=!1,C,M,I,O;y&&(S=y.getSpacedPoints(u),T=!0,f=!1,C=y.computeFrenetFrames(u,!1),M=new oe,I=new oe,O=new oe),f||(x=0,m=0,v=0,w=0);const R=a.extractPoints(c);let D=R.shape;const j=R.holes;if(!Eu.isClockWise(D)){D=D.reverse();for(let Z=0,me=j.length;Z<me;Z++){const ue=j[Z];Eu.isClockWise(ue)&&(j[Z]=ue.reverse())}}const B=Eu.triangulateShape(D,j),Q=D;for(let Z=0,me=j.length;Z<me;Z++){const ue=j[Z];D=D.concat(ue)}function ne(Z,me,ue){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(me,ue)}const K=D.length,V=B.length;function G(Z,me,ue){let _e,ce,Xe;const Ae=Z.x-me.x,Ge=Z.y-me.y,je=ue.x-Z.x,ke=ue.y-Z.y,nt=Ae*Ae+Ge*Ge,ie=Ae*ke-Ge*je;if(Math.abs(ie)>Number.EPSILON){const J=Math.sqrt(nt),he=Math.sqrt(je*je+ke*ke),Ne=me.x-Ge/J,ze=me.y+Ae/J,He=ue.x-ke/he,et=ue.y+je/he,Ze=((He-Ne)*ke-(et-ze)*je)/(Ae*ke-Ge*je);_e=Ne+Ae*Ze-Z.x,ce=ze+Ge*Ze-Z.y;const Oe=_e*_e+ce*ce;if(Oe<=2)return new Je(_e,ce);Xe=Math.sqrt(Oe/2)}else{let J=!1;Ae>Number.EPSILON?je>Number.EPSILON&&(J=!0):Ae<-Number.EPSILON?je<-Number.EPSILON&&(J=!0):Math.sign(Ge)===Math.sign(ke)&&(J=!0),J?(_e=-Ge,ce=Ae,Xe=Math.sqrt(nt)):(_e=Ae,ce=Ge,Xe=Math.sqrt(nt/2))}return new Je(_e/Xe,ce/Xe)}const W=[];for(let Z=0,me=Q.length,ue=me-1,_e=Z+1;Z<me;Z++,ue++,_e++)ue===me&&(ue=0),_e===me&&(_e=0),W[Z]=G(Q[Z],Q[ue],Q[_e]);const F=[];let U,q=W.concat();for(let Z=0,me=j.length;Z<me;Z++){const ue=j[Z];U=[];for(let _e=0,ce=ue.length,Xe=ce-1,Ae=_e+1;_e<ce;_e++,Xe++,Ae++)Xe===ce&&(Xe=0),Ae===ce&&(Ae=0),U[_e]=G(ue[_e],ue[Xe],ue[Ae]);F.push(U),q=q.concat(U)}for(let Z=0;Z<x;Z++){const me=Z/x,ue=m*Math.cos(me*Math.PI/2),_e=v*Math.sin(me*Math.PI/2)+w;for(let ce=0,Xe=Q.length;ce<Xe;ce++){const Ae=ne(Q[ce],W[ce],_e);ye(Ae.x,Ae.y,-ue)}for(let ce=0,Xe=j.length;ce<Xe;ce++){const Ae=j[ce];U=F[ce];for(let Ge=0,je=Ae.length;Ge<je;Ge++){const ke=ne(Ae[Ge],U[Ge],_e);ye(ke.x,ke.y,-ue)}}}const te=v+w;for(let Z=0;Z<K;Z++){const me=f?ne(D[Z],q[Z],te):D[Z];T?(I.copy(C.normals[0]).multiplyScalar(me.x),M.copy(C.binormals[0]).multiplyScalar(me.y),O.copy(S[0]).add(I).add(M),ye(O.x,O.y,O.z)):ye(me.x,me.y,0)}for(let Z=1;Z<=u;Z++)for(let me=0;me<K;me++){const ue=f?ne(D[me],q[me],te):D[me];T?(I.copy(C.normals[Z]).multiplyScalar(ue.x),M.copy(C.binormals[Z]).multiplyScalar(ue.y),O.copy(S[Z]).add(I).add(M),ye(O.x,O.y,O.z)):ye(ue.x,ue.y,d/u*Z)}for(let Z=x-1;Z>=0;Z--){const me=Z/x,ue=m*Math.cos(me*Math.PI/2),_e=v*Math.sin(me*Math.PI/2)+w;for(let ce=0,Xe=Q.length;ce<Xe;ce++){const Ae=ne(Q[ce],W[ce],_e);ye(Ae.x,Ae.y,d+ue)}for(let ce=0,Xe=j.length;ce<Xe;ce++){const Ae=j[ce];U=F[ce];for(let Ge=0,je=Ae.length;Ge<je;Ge++){const ke=ne(Ae[Ge],U[Ge],_e);T?ye(ke.x,ke.y+S[u-1].y,S[u-1].x+ue):ye(ke.x,ke.y,d+ue)}}}re(),le();function re(){const Z=i.length/3;if(f){let me=0,ue=K*me;for(let _e=0;_e<V;_e++){const ce=B[_e];se(ce[2]+ue,ce[1]+ue,ce[0]+ue)}me=u+x*2,ue=K*me;for(let _e=0;_e<V;_e++){const ce=B[_e];se(ce[0]+ue,ce[1]+ue,ce[2]+ue)}}else{for(let me=0;me<V;me++){const ue=B[me];se(ue[2],ue[1],ue[0])}for(let me=0;me<V;me++){const ue=B[me];se(ue[0]+K*u,ue[1]+K*u,ue[2]+K*u)}}r.addGroup(Z,i.length/3-Z,0)}function le(){const Z=i.length/3;let me=0;fe(Q,me),me+=Q.length;for(let ue=0,_e=j.length;ue<_e;ue++){const ce=j[ue];fe(ce,me),me+=ce.length}r.addGroup(Z,i.length/3-Z,1)}function fe(Z,me){let ue=Z.length;for(;--ue>=0;){const _e=ue;let ce=ue-1;ce<0&&(ce=Z.length-1);for(let Xe=0,Ae=u+x*2;Xe<Ae;Xe++){const Ge=K*Xe,je=K*(Xe+1),ke=me+_e+Ge,nt=me+ce+Ge,ie=me+ce+je,J=me+_e+je;ve(ke,nt,ie,J)}}}function ye(Z,me,ue){l.push(Z),l.push(me),l.push(ue)}function se(Z,me,ue){Se(Z),Se(me),Se(ue);const _e=i.length/3,ce=b.generateTopUV(r,i,_e-3,_e-2,_e-1);pe(ce[0]),pe(ce[1]),pe(ce[2])}function ve(Z,me,ue,_e){Se(Z),Se(me),Se(_e),Se(me),Se(ue),Se(_e);const ce=i.length/3,Xe=b.generateSideWallUV(r,i,ce-6,ce-3,ce-2,ce-1);pe(Xe[0]),pe(Xe[1]),pe(Xe[3]),pe(Xe[1]),pe(Xe[2]),pe(Xe[3])}function Se(Z){i.push(l[Z*3+0]),i.push(l[Z*3+1]),i.push(l[Z*3+2])}function pe(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return MEe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new OL[i.type]().fromJSON(i)),new kC(r,e.options)}}const CEe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Je(s,o),new Je(a,l),new Je(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],w=e[s*3],x=e[s*3+1],y=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Je(o,1-l),new Je(c,1-d),new Je(f,1-v),new Je(w,1-y)]:[new Je(a,1-l),new Je(u,1-d),new Je(m,1-v),new Je(x,1-y)]}};function MEe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class OC extends zh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OC(e.radius,e.detail)}}class Xw extends zh{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xw(e.radius,e.detail)}}class LC extends Pn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,m=new oe,v=new Je;for(let w=0;w<=i;w++){for(let x=0;x<=r;x++){const y=s+x/r*o;m.x=d*Math.cos(y),m.y=d*Math.sin(y),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,u.push(v.x,v.y)}d+=f}for(let w=0;w<i;w++){const x=w*(r+1);for(let y=0;y<r;y++){const b=y+x,S=b,T=b+r+1,C=b+r+2,M=b+1;a.push(S,T,M),a.push(T,C,M)}}this.setIndex(a),this.setAttribute("position",new qt(l,3)),this.setAttribute("normal",new qt(c,3)),this.setAttribute("uv",new qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class DC extends Pn{constructor(e=new um([new Je(0,.5),new Je(-.5,-.5),new Je(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(s,3)),this.setAttribute("uv",new qt(o,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let m=f.shape;const v=f.holes;Eu.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,y=v.length;x<y;x++){const b=v[x];Eu.isClockWise(b)===!0&&(v[x]=b.reverse())}const w=Eu.triangulateShape(m,v);for(let x=0,y=v.length;x<y;x++){const b=v[x];m=m.concat(b)}for(let x=0,y=m.length;x<y;x++){const b=m[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,y=w.length;x<y;x++){const b=w[x],S=b[0]+d,T=b[1]+d,C=b[2]+d;r.push(S,T,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return AEe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new DC(r,e.curveSegments)}}function AEe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class qw extends Pn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new oe,f=new oe,m=[],v=[],w=[],x=[];for(let y=0;y<=r;y++){const b=[],S=y/r;let T=0;y===0&&o===0?T=.5/n:y===r&&l===Math.PI&&(T=-.5/n);for(let C=0;C<=n;C++){const M=C/n;d.x=-e*Math.cos(i+M*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+M*s)*Math.sin(o+S*a),v.push(d.x,d.y,d.z),f.copy(d).normalize(),w.push(f.x,f.y,f.z),x.push(M+T,1-S),b.push(c++)}u.push(b)}for(let y=0;y<r;y++)for(let b=0;b<n;b++){const S=u[y][b+1],T=u[y][b],C=u[y+1][b],M=u[y+1][b+1];(y!==0||o>0)&&m.push(S,T,M),(y!==r-1||l<Math.PI)&&m.push(T,C,M)}this.setIndex(m),this.setAttribute("position",new qt(v,3)),this.setAttribute("normal",new qt(w,3)),this.setAttribute("uv",new qt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class NC extends zh{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new NC(e.radius,e.detail)}}class FC extends Pn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new oe,d=new oe,f=new oe;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const w=v/i*s,x=m/r*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(w),d.y=(e+n*Math.cos(x))*Math.sin(w),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),u.x=e*Math.cos(w),u.y=e*Math.sin(w),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const w=(i+1)*m+v-1,x=(i+1)*(m-1)+v-1,y=(i+1)*(m-1)+v,b=(i+1)*m+v;o.push(w,x,b),o.push(x,y,b)}this.setIndex(o),this.setAttribute("position",new qt(a,3)),this.setAttribute("normal",new qt(l,3)),this.setAttribute("uv",new qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class UC extends Pn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new oe,f=new oe,m=new oe,v=new oe,w=new oe,x=new oe,y=new oe;for(let S=0;S<=r;++S){const T=S/r*s*Math.PI*2;b(T,s,o,e,m),b(T+.01,s,o,e,v),x.subVectors(v,m),y.addVectors(v,m),w.crossVectors(x,y),y.crossVectors(w,x),w.normalize(),y.normalize();for(let C=0;C<=i;++C){const M=C/i*Math.PI*2,I=-n*Math.cos(M),O=n*Math.sin(M);d.x=m.x+(I*y.x+O*w.x),d.y=m.y+(I*y.y+O*w.y),d.z=m.z+(I*y.z+O*w.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(S/r),u.push(C/i)}}for(let S=1;S<=r;S++)for(let T=1;T<=i;T++){const C=(i+1)*(S-1)+(T-1),M=(i+1)*S+(T-1),I=(i+1)*S+T,O=(i+1)*(S-1)+T;a.push(C,M,O),a.push(M,I,O)}this.setIndex(a),this.setAttribute("position",new qt(l,3)),this.setAttribute("normal",new qt(c,3)),this.setAttribute("uv",new qt(u,2));function b(S,T,C,M,I){const O=Math.cos(S),R=Math.sin(S),D=C/T*S,j=Math.cos(D);I.x=M*(2+j)*.5*O,I.y=M*(2+j)*R*.5,I.z=M*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Mm extends Pn{constructor(e=new CC(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new oe,l=new oe,c=new Je;let u=new oe;const d=[],f=[],m=[],v=[];w(),this.setIndex(v),this.setAttribute("position",new qt(d,3)),this.setAttribute("normal",new qt(f,3)),this.setAttribute("uv",new qt(m,2));function w(){for(let S=0;S<n;S++)x(S);x(s===!1?n:0),b(),y()}function x(S){u=e.getPointAt(S/n,u);const T=o.normals[S],C=o.binormals[S];for(let M=0;M<=i;M++){const I=M/i*Math.PI*2,O=Math.sin(I),R=-Math.cos(I);l.x=R*T.x+O*C.x,l.y=R*T.y+O*C.y,l.z=R*T.z+O*C.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function y(){for(let S=1;S<=n;S++)for(let T=1;T<=i;T++){const C=(i+1)*(S-1)+(T-1),M=(i+1)*S+(T-1),I=(i+1)*S+T,O=(i+1)*(S-1)+T;v.push(C,M,O),v.push(M,I,O)}}function b(){for(let S=0;S<=n;S++)for(let T=0;T<=i;T++)c.x=S/n,c.y=T/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Mm(new OL[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class X7 extends Pn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new oe,s=new oe;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let v=f,w=f+m;v<w;v+=3)for(let x=0;x<3;x++){const y=a.getX(v+x),b=a.getX(v+(x+1)%3);i.fromBufferAttribute(o,y),s.fromBufferAttribute(o,b),Lz(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),Lz(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new qt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Lz(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var Dz=Object.freeze({__proto__:null,BoxGeometry:nf,CapsuleGeometry:MC,CircleGeometry:AC,ConeGeometry:PC,CylinderGeometry:Bm,DodecahedronGeometry:RC,EdgesGeometry:W7,ExtrudeGeometry:kC,IcosahedronGeometry:OC,LatheGeometry:Yw,OctahedronGeometry:Xw,PlaneGeometry:Uh,PolyhedronGeometry:zh,RingGeometry:LC,ShapeGeometry:DC,SphereGeometry:qw,TetrahedronGeometry:NC,TorusGeometry:FC,TorusKnotGeometry:UC,TubeGeometry:Mm,WireframeGeometry:X7});class q7 extends Js{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class K7 extends Iu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class LL extends Js{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Z7 extends LL{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Q7 extends Js{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J7 extends Js{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class eY extends Js{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class tY extends Js{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nY extends Js{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fh,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rY extends Vo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Sl(t,e,n){return DL(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function tm(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function DL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iY(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function _2(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function NL(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function PEe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){d.push(c.times[m]);for(let w=0;w<u;++w)f.push(c.values[m*u+w])}}d.length!==0&&(c.times=tm(d,c.times.constructor),c.values=tm(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function REe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=a.times.length-1;let w;if(s<=a.times[0]){const y=u,b=d-u;w=Sl(a.values,y,b)}else if(s>=a.times[v]){const y=v*d+u,b=y+d-u;w=Sl(a.values,y,b)}else{const y=a.createInterpolant(),b=u,S=d-u;y.evaluate(s),w=Sl(y.resultBuffer,b,S)}l==="quaternion"&&new Zs().fromArray(w).normalize().conjugate().toArray(w);const x=c.times.length;for(let y=0;y<x;++y){const b=y*m+f;if(l==="quaternion")Zs.multiplyQuaternionsFlat(c.values,b,w,0,c.values,b);else{const S=m-f*2;for(let T=0;T<S;++T)c.values[b+T]-=w[T]}}}return t.blendMode=fL,t}const IEe={arraySlice:Sl,convertArray:tm,isTypedArray:DL,getKeyframeOrder:iY,sortedArray:_2,flattenJSON:NL,subclip:PEe,makeClipAdditive:REe};class Kw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sY extends Kw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qp,endingEnd:Qp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Jp:s=e,a=2*n-r;break;case Xx:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Jp:o=e,l=2*r-n;break;case Xx:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),w=v*v,x=w*v,y=-f*x+2*f*w-f*v,b=(1+f)*x+(-1.5-2*f)*w+(-.5+f)*v+1,S=(-1-m)*x+(1.5+m)*w+.5*v,T=m*x-m*w;for(let C=0;C!==a;++C)s[C]=y*o[u+C]+b*o[c+C]+S*o[l+C]+T*o[d+C];return s}}class FL extends Kw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class oY extends Kw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class kc{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tm(n,this.TimeBufferType),this.values=tm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:tm(e.times,Array),values:tm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new oY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sY(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case $x:n=this.InterpolantFactoryMethodDiscrete;break;case Yx:n=this.InterpolantFactoryMethodLinear;break;case nE:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $x;case this.InterpolantFactoryMethodLinear:return Yx;case this.InterpolantFactoryMethodSmooth:return nE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Sl(r,s,o),this.values=Sl(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&DL(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Sl(this.times),n=Sl(this.values),r=this.getValueSize(),i=this.getInterpolation()===nE,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,m=d+r;for(let v=0;v!==r;++v){const w=n[d+v];if(w!==n[f+v]||w!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,f=o*r;for(let m=0;m!==r;++m)n[f+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=Sl(e,0,o),this.values=Sl(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Sl(this.times,0),n=Sl(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}kc.prototype.TimeBufferType=Float32Array;kc.prototype.ValueBufferType=Float32Array;kc.prototype.DefaultInterpolation=Yx;class Vm extends kc{}Vm.prototype.ValueTypeName="bool";Vm.prototype.ValueBufferType=Array;Vm.prototype.DefaultInterpolation=$x;Vm.prototype.InterpolantFactoryMethodLinear=void 0;Vm.prototype.InterpolantFactoryMethodSmooth=void 0;class UL extends kc{}UL.prototype.ValueTypeName="color";class rw extends kc{}rw.prototype.ValueTypeName="number";class aY extends Kw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Zs.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Yy extends kc{InterpolantFactoryMethodLinear(e){return new aY(this.times,this.values,this.getValueSize(),e)}}Yy.prototype.ValueTypeName="quaternion";Yy.prototype.DefaultInterpolation=Yx;Yy.prototype.InterpolantFactoryMethodSmooth=void 0;class Gm extends kc{}Gm.prototype.ValueTypeName="string";Gm.prototype.ValueBufferType=Array;Gm.prototype.DefaultInterpolation=$x;Gm.prototype.InterpolantFactoryMethodLinear=void 0;Gm.prototype.InterpolantFactoryMethodSmooth=void 0;class iw extends kc{}iw.prototype.ValueTypeName="vector";class sw{constructor(e,n=-1,r,i=mC){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=$a(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(OEe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(kc.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=iY(l);l=_2(l,1,u),c=_2(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new rw(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,m,v,w){if(m.length!==0){const x=[],y=[];NL(m,x,y,v),x.length!==0&&w.push(new d(f,x,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let w=0;w<f[v].morphTargets.length;w++)m[f[v].morphTargets[w]]=-1;for(const w in m){const x=[],y=[];for(let b=0;b!==f[v].morphTargets.length;++b){const S=f[v];x.push(S.time),y.push(S.morphTarget===w?1:0)}i.push(new rw(".morphTargetInfluence["+w+"]",x,y))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(iw,m+".position",f,"pos",i),r(Yy,m+".quaternion",f,"rot",i),r(iw,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function kEe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rw;case"vector":case"vector2":case"vector3":case"vector4":return iw;case"color":return UL;case"quaternion":return Yy;case"bool":case"boolean":return Vm;case"string":return Gm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function OEe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=kEe(t.type);if(t.times===void 0){const n=[],r=[];NL(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Am={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class zL{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const lY=new zL;class wa{constructor(e){this.manager=e!==void 0?e:lY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}wa.DEFAULT_MATERIAL_NAME="__DEFAULT";const bd={};class LEe extends Error{constructor(e,n){super(e),this.response=n}}class $d extends wa{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Am.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(bd[e]!==void 0){bd[e].push({onLoad:n,onProgress:r,onError:i});return}bd[e]=[],bd[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=bd[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,v=m!==0;let w=0;const x=new ReadableStream({start(y){b();function b(){d.read().then(({done:S,value:T})=>{if(S)y.close();else{w+=T.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:w,total:m});for(let M=0,I=u.length;M<I;M++){const O=u[M];O.onProgress&&O.onProgress(C)}y.enqueue(T),b()}})}}});return new Response(x)}else throw new LEe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Am.add(e,c);const u=bd[e];delete bd[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=bd[e];if(u===void 0)throw this.manager.itemError(e),c;delete bd[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class DEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $d(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=sw.parse(e[r]);n.push(i)}return n}}class NEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new ML,l=new $d(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=s.parse(f,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Xr),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let w=0;w<f.mipmapCount;w++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+w]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Xr),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class ow extends wa{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Am.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Zx("img");function l(){u(),Am.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class FEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=new jw;s.colorSpace=An;const o=new ow(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class UEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ty,a=new $d(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:go,o.wrapT=c.wrapT!==void 0?c.wrapT:go,o.magFilter=c.magFilter!==void 0?c.magFilter:Xr,o.minFilter=c.minFilter!==void 0?c.minFilter:Xr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ph),c.mipmapCount===1&&(o.minFilter=Xr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},r,i),o}}class cY extends wa{constructor(e){super(e)}load(e,n,r,i){const s=new ci,o=new ow(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Bh extends sr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class uY extends Bh{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(sr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const uP=new wn,Nz=new oe,Fz=new oe;class BL{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Je(512,512),this.map=null,this.mapPass=null,this.matrix=new wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $w,this._frameExtents=new Je(1,1),this._viewportCount=1,this._viewports=[new rr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Nz.setFromMatrixPosition(e.matrixWorld),n.position.copy(Nz),Fz.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Fz),n.updateMatrixWorld(),uP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(uP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zEe extends BL{constructor(){super(new Qi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=_y*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class dY extends Bh{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(sr.DEFAULT_UP),this.updateMatrix(),this.target=new sr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new zEe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Uz=new wn,u_=new oe,dP=new oe;class BEe extends BL{constructor(){super(new Qi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Je(4,2),this._viewportCount=6,this._viewports=[new rr(2,1,1,1),new rr(0,1,1,1),new rr(3,1,1,1),new rr(1,1,1,1),new rr(3,0,1,1),new rr(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),u_.setFromMatrixPosition(e.matrixWorld),r.position.copy(u_),dP.copy(r.position),dP.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(dP),r.updateMatrixWorld(),i.makeTranslation(-u_.x,-u_.y,-u_.z),Uz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uz)}}class fY extends Bh{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new BEe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class VEe extends BL{constructor(){super(new zm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hY extends Bh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sr.DEFAULT_UP),this.updateMatrix(),this.target=new sr,this.shadow=new VEe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class pY extends Bh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class mY extends Bh{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class gY{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class zC extends Bh{constructor(e=new gY,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class BC extends wa{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new $d(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=BC.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Mt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Je().fromArray(o.value);break;case"v3":i.uniforms[s].value=new oe().fromArray(o.value);break;case"v4":i.uniforms[s].value=new rr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new wn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Je().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:q7,SpriteMaterial:EL,RawShaderMaterial:K7,ShaderMaterial:Iu,PointsMaterial:CL,MeshPhysicalMaterial:Z7,MeshStandardMaterial:LL,MeshPhongMaterial:Q7,MeshToonMaterial:J7,MeshNormalMaterial:eY,MeshLambertMaterial:tY,MeshDepthMaterial:yC,MeshDistanceMaterial:_C,MeshBasicMaterial:tf,MeshMatcapMaterial:nY,LineDashedMaterial:rY,LineBasicMaterial:Vo,Material:Js};return new n[e]}}class x2{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class VL extends Pn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class vY extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $d(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const x=m.interleavedBuffers[v],y=s(m,x.buffer),b=Fv(x.type,y),S=new bC(b,x.stride);return S.uuid=x.uuid,n[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const x=m.arrayBuffers[v],y=new Uint32Array(x).buffer;return r[v]=y,y}const o=e.isInstancedBufferGeometry?new VL:new Pn,a=e.data.index;if(a!==void 0){const m=Fv(a.type,a.array);o.setIndex(new gr(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let w;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);w=new Em(x,v.itemSize,v.offset,v.normalized)}else{const x=Fv(v.type,v.array),y=v.isInstancedBufferAttribute?Tm:gr;w=new y(x,v.itemSize,v.normalized)}v.name!==void 0&&(w.name=v.name),v.usage!==void 0&&w.setUsage(v.usage),v.updateRange!==void 0&&(w.updateRange.offset=v.updateRange.offset,w.updateRange.count=v.updateRange.count),o.setAttribute(m,w)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],w=[];for(let x=0,y=v.length;x<y;x++){const b=v[x];let S;if(b.isInterleavedBufferAttribute){const T=i(e.data,b.data);S=new Em(T,b.itemSize,b.offset,b.normalized)}else{const T=Fv(b.type,b.array);S=new gr(T,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),w.push(S)}o.morphAttributes[m]=w}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const w=d[m];o.addGroup(w.start,w.count,w.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new oe;f.center!==void 0&&m.fromArray(f.center),o.boundingSphere=new Ja(m,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class GEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?x2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new $d(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?x2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new $d(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new um().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new SC().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new vY;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Dz?a=Dz[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new BC;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=sw.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Fv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zL(n);s=new ow(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,w=f.length;v<w;v++){const x=f[v],y=a(x);y!==null&&(y instanceof HTMLImageElement?m.push(y):m.push(new ty(y.data,y.width,y.height)))}i[d.uuid]=new em(m)}else{const m=a(d.url);i[d.uuid]=new em(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Fv(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new ow(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new ty(v.data,v.width,v.height)))}r[l.uuid]=new em(u)}else{const u=await s(l.url);r[l.uuid]=new em(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new jw,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new ty:u=new ci,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,HEe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],zz),u.wrapT=r(a.wrap[1],zz)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,Bz)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,Bz)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,w=f.length;v<w;v++){const x=f[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":o=new Qx,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Mt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new wC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new xC(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Qi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new zm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new pY(e.color,e.intensity);break;case"DirectionalLight":o=new hY(e.color,e.intensity);break;case"PointLight":o=new fY(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new mY(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new dY(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new uY(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new zC().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new N7(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new oi(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new F7(u,d,f),o.instanceMatrix=new Tm(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Tm(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new D7;break;case"Line":o=new Ih(a(e.geometry),l(e.material));break;case"LineLoop":o=new U7(a(e.geometry),l(e.material));break;case"LineSegments":o=new Gu(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new z7(a(e.geometry),l(e.material));break;case"Sprite":o=new L7(l(e.material));break;case"Group":o=new zv;break;case"Bone":o=new TL;break;default:o=new sr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],w=o.getObjectByProperty("uuid",v.object);w!==void 0&&o.addLevel(w,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const HEe={UVMapping:hC,CubeReflectionMapping:Mh,CubeRefractionMapping:Ah,EquirectangularReflectionMapping:Gx,EquirectangularRefractionMapping:Hx,CubeUVReflectionMapping:Wy},zz={RepeatWrapping:Wx,ClampToEdgeWrapping:go,MirroredRepeatWrapping:jx},Bz={NearestFilter:Pi,NearestMipmapNearestFilter:oT,NearestMipmapLinearFilter:ax,LinearFilter:Xr,LinearMipmapNearestFilter:sL,LinearMipmapLinearFilter:Ph};class WEe extends wa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Am.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Am.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let sS;class GL{static getContext(){return sS===void 0&&(sS=new(window.AudioContext||window.webkitAudioContext)),sS}static setContext(e){sS=e}}class jEe extends wa{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $d(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);GL.getContext().decodeAudioData(c,function(d){n(d)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class $Ee extends zC{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Mt().set(e),s=new Mt().set(n),o=new oe(i.r,i.g,i.b),a=new oe(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class YEe extends zC{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Mt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Vz=new wn,Gz=new wn,Sp=new wn;class XEe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Sp.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(lm*n.fov*.5)/n.zoom;let a,l;Gz.elements[12]=-i,Vz.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Sp.elements[0]=2*n.near/(l-a),Sp.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Sp),a=-o*n.aspect-s,l=o*n.aspect-s,Sp.elements[0]=2*n.near/(l-a),Sp.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Sp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Gz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Vz)}}class HL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Hz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Hz();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Hz(){return(typeof performance>"u"?Date:performance).now()}const Ep=new oe,Wz=new Zs,qEe=new oe,Tp=new oe;class KEe extends sr{constructor(){super(),this.type="AudioListener",this.context=GL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ep,Wz,qEe),Tp.set(0,0,-1).applyQuaternion(Wz),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ep.x,i),n.positionY.linearRampToValueAtTime(Ep.y,i),n.positionZ.linearRampToValueAtTime(Ep.z,i),n.forwardX.linearRampToValueAtTime(Tp.x,i),n.forwardY.linearRampToValueAtTime(Tp.y,i),n.forwardZ.linearRampToValueAtTime(Tp.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ep.x,Ep.y,Ep.z),n.setOrientation(Tp.x,Tp.y,Tp.z,r.x,r.y,r.z)}}class yY extends sr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Cp=new oe,jz=new Zs,ZEe=new oe,Mp=new oe;class QEe extends yY{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cp,jz,ZEe),Mp.set(0,0,1).applyQuaternion(jz);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Cp.x,r),n.positionY.linearRampToValueAtTime(Cp.y,r),n.positionZ.linearRampToValueAtTime(Cp.z,r),n.orientationX.linearRampToValueAtTime(Mp.x,r),n.orientationY.linearRampToValueAtTime(Mp.y,r),n.orientationZ.linearRampToValueAtTime(Mp.z,r)}else n.setPosition(Cp.x,Cp.y,Cp.z),n.setOrientation(Mp.x,Mp.y,Mp.z)}}class JEe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class _Y{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Zs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Zs.multiplyQuaternionsFlat(e,o,e,n,e,r),Zs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const WL="\\[\\]\\.:\\/",eTe=new RegExp("["+WL+"]","g"),jL="[^"+WL+"]",tTe="[^"+WL.replace("\\.","")+"]",nTe=/((?:WC+[\/:])*)/.source.replace("WC",jL),rTe=/(WCOD+)?/.source.replace("WCOD",tTe),iTe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jL),sTe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jL),oTe=new RegExp("^"+nTe+rTe+iTe+sTe+"$"),aTe=["material","materials","bones","map"];class lTe{constructor(e,n,r){const i=r||Jn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Jn{constructor(e,n,r){this.path=n,this.parsedPath=r||Jn.parseTrackName(n),this.node=Jn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Jn.Composite(e,n,r):new Jn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(eTe,"")}static parseTrackName(e){const n=oTe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);aTe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Jn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jn.Composite=lTe;Jn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Jn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Jn.prototype.GetterByBindingType=[Jn.prototype._getValue_direct,Jn.prototype._getValue_array,Jn.prototype._getValue_arrayElement,Jn.prototype._getValue_toArray];Jn.prototype.SetterByBindingTypeAndVersioning=[[Jn.prototype._setValue_direct,Jn.prototype._setValue_direct_setNeedsUpdate,Jn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_array,Jn.prototype._setValue_array_setNeedsUpdate,Jn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_arrayElement,Jn.prototype._setValue_arrayElement_setNeedsUpdate,Jn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_fromArray,Jn.prototype._setValue_fromArray_setNeedsUpdate,Jn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cTe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=$a(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(f);for(let w=0,x=o;w!==x;++w)s[w].push(new Jn(f,r[w],i[w]))}else if(v<c){a=e[v];const w=--c,x=e[w];n[x.uuid]=v,e[v]=x,n[m]=w,e[w]=f;for(let y=0,b=o;y!==b;++y){const S=s[y],T=S[w];let C=S[v];S[v]=T,C===void 0&&(C=new Jn(f,r[y],i[y])),S[w]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const w=r[m],x=w[d],y=w[u];w[u]=x,w[d]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const f=--s,m=e[f],v=--o,w=e[v];n[m.uuid]=d,e[d]=m,n[w.uuid]=f,e[f]=w,e.pop();for(let x=0,y=i;x!==y;++x){const b=r[x],S=b[f],T=b[v];b[d]=S,b[f]=T,b.pop()}}else{const f=--o,m=e[f];f>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,w=i;v!==w;++v){const x=r[v];x[d]=x[f],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let f=u,m=l.length;f!==m;++f){const v=l[f];d[f]=new Jn(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class xY{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Qp,endingEnd:Qp};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=s7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fL:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case mC:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===o7;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===i7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Jp,i.endingEnd=Jp):(e?i.endingStart=this.zeroSlopeAtStart?Jp:Qp:i.endingStart=Xx,n?i.endingEnd=this.zeroSlopeAtEnd?Jp:Qp:i.endingEnd=Xx)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const uTe=new Float32Array(1);class dTe extends ef{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const w=n&&n._propertyBindings[d].binding.parsedPath;v=new _Y(Jn.create(r,m,w),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new FL(new Float32Array(2),new Float32Array(2),1,uTe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?sw.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=mC),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new xY(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?sw.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $L{constructor(e){this.value=e}clone(){return new $L(this.value.clone===void 0?this.value:this.value.clone())}}let fTe=0;class hTe extends ef{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:fTe++}),this.name="",this.usage=qx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class pTe extends bC{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class mTe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class YL{constructor(e,n,r=0,i=1/0){this.ray=new jy(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new cm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return w2(e,this,r,n),r.sort($z),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)w2(e[i],this,r,n);return r.sort($z),r}}function $z(t,e){return t.distance-e.distance}function w2(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)w2(i[s],e,n,!0)}}class wY{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(vi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class gTe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Yz=new Je;class vTe{constructor(e=new Je(1/0,1/0),n=new Je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Yz.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xz=new oe,oS=new oe;class yTe{constructor(e=new oe,n=new oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Xz.subVectors(e,this.start),oS.subVectors(this.end,this.start);const r=oS.dot(oS);let s=oS.dot(Xz)/r;return n&&(s=vi(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const qz=new oe;class _Te extends sr{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Pn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new qt(i,3));const s=new Vo({fog:!1,toneMapped:!1});this.cone=new Gu(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),qz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Kf=new oe,aS=new wn,fP=new wn;class xTe extends Gu{constructor(e){const n=bY(e),r=new Pn,i=[],s=[],o=new Mt(0,0,1),a=new Mt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new qt(i,3)),r.setAttribute("color",new qt(s,3));const l=new Vo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");fP.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(aS.multiplyMatrices(fP,a.matrixWorld),Kf.setFromMatrixPosition(aS),i.setXYZ(o,Kf.x,Kf.y,Kf.z),aS.multiplyMatrices(fP,a.parent.matrixWorld),Kf.setFromMatrixPosition(aS),i.setXYZ(o+1,Kf.x,Kf.y,Kf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bY(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,bY(t.children[n]));return e}class wTe extends oi{constructor(e,n,r){const i=new qw(n,4,2),s=new tf({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bTe=new oe,Kz=new Mt,Zz=new Mt;class STe extends sr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Xw(n);i.rotateY(Math.PI*.5),this.material=new tf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new gr(o,3)),this.add(new oi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Kz.copy(this.light.color),Zz.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?Kz:Zz;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bTe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ETe extends Gu{constructor(e=10,n=10,r=4473924,i=8947848){r=new Mt(r),i=new Mt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,m=0,v=-a;f<=n;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const w=f===s?r:i;w.toArray(c,m),m+=3,w.toArray(c,m),m+=3,w.toArray(c,m),m+=3,w.toArray(c,m),m+=3}const u=new Pn;u.setAttribute("position",new qt(l,3)),u.setAttribute("color",new qt(c,3));const d=new Vo({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class TTe extends Gu{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Mt(s),o=new Mt(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,v);const w=d&1?s:o;l.push(w.r,w.g,w.b),l.push(w.r,w.g,w.b)}for(let d=0;d<r;d++){const f=d&1?s:o,m=e-e/r*d;for(let v=0;v<i;v++){let w=v/i*(Math.PI*2),x=Math.sin(w)*m,y=Math.cos(w)*m;a.push(x,0,y),l.push(f.r,f.g,f.b),w=(v+1)/i*(Math.PI*2),x=Math.sin(w)*m,y=Math.cos(w)*m,a.push(x,0,y),l.push(f.r,f.g,f.b)}}const c=new Pn;c.setAttribute("position",new qt(a,3)),c.setAttribute("color",new qt(l,3));const u=new Vo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Qz=new oe,lS=new oe,Jz=new oe;class CTe extends sr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Pn;i.setAttribute("position",new qt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Vo({fog:!1,toneMapped:!1});this.lightPlane=new Ih(i,s),this.add(this.lightPlane),i=new Pn,i.setAttribute("position",new qt([0,0,0,0,0,1],3)),this.targetLine=new Ih(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qz.setFromMatrixPosition(this.light.matrixWorld),lS.setFromMatrixPosition(this.light.target.matrixWorld),Jz.subVectors(lS,Qz),this.lightPlane.lookAt(lS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lS),this.targetLine.scale.z=Jz.length()}}const cS=new oe,mi=new Ww;class MTe extends Gu{constructor(e){const n=new Pn,r=new Vo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,w){l(v),l(w)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new qt(i,3)),n.setAttribute("color",new qt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Mt(16755200),u=new Mt(16711680),d=new Mt(43775),f=new Mt(16777215),m=new Mt(3355443);this.setColors(c,u,d,f,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ai("c",n,e,mi,0,0,-1),Ai("t",n,e,mi,0,0,1),Ai("n1",n,e,mi,-1,-1,-1),Ai("n2",n,e,mi,r,-1,-1),Ai("n3",n,e,mi,-1,i,-1),Ai("n4",n,e,mi,r,i,-1),Ai("f1",n,e,mi,-1,-1,1),Ai("f2",n,e,mi,r,-1,1),Ai("f3",n,e,mi,-1,i,1),Ai("f4",n,e,mi,r,i,1),Ai("u1",n,e,mi,r*.7,i*1.1,-1),Ai("u2",n,e,mi,-1*.7,i*1.1,-1),Ai("u3",n,e,mi,0,i*2,-1),Ai("cf1",n,e,mi,-1,0,1),Ai("cf2",n,e,mi,r,0,1),Ai("cf3",n,e,mi,0,-1,1),Ai("cf4",n,e,mi,0,i,1),Ai("cn1",n,e,mi,-1,0,-1),Ai("cn2",n,e,mi,r,0,-1),Ai("cn3",n,e,mi,0,-1,-1),Ai("cn4",n,e,mi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ai(t,e,n,r,i,s,o){cS.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],cS.x,cS.y,cS.z)}}const uS=new Qa;class ATe extends Gu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Pn;s.setIndex(new gr(r,1)),s.setAttribute("position",new gr(i,3)),super(s,new Vo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&uS.setFromObject(this.object),uS.isEmpty())return;const n=uS.min,r=uS.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PTe extends Gu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pn;s.setIndex(new gr(r,1)),s.setAttribute("position",new qt(i,3)),super(s,new Vo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class RTe extends Ih{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pn;o.setAttribute("position",new qt(s,3)),o.computeBoundingSphere(),super(o,new Vo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pn;l.setAttribute("position",new qt(a,3)),l.computeBoundingSphere(),this.add(new oi(l,new tf({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const e4=new oe;let dS,hP;class ITe extends sr{constructor(e=new oe(0,0,1),n=new oe(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",dS===void 0&&(dS=new Pn,dS.setAttribute("position",new qt([0,0,0,0,1,0],3)),hP=new Bm(0,.5,1,5,1),hP.translate(0,-.5,0)),this.position.copy(n),this.line=new Ih(dS,new Vo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new oi(hP,new tf({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{e4.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(e4,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kTe extends Gu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Pn;i.setAttribute("position",new qt(n,3)),i.setAttribute("color",new qt(r,3));const s=new Vo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Mt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class OTe{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Jx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const b=[];for(let S=0,T=y.length;S<T;S++){const C=y[S],M=new um;M.curves=C.curves,b.push(M)}return b}function r(y,b){const S=b.length;let T=!1;for(let C=S-1,M=0;M<S;C=M++){let I=b[C],O=b[M],R=O.x-I.x,D=O.y-I.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(I=b[M],R=-R,O=b[C],D=-D),y.y<I.y||y.y>O.y)continue;if(y.y===I.y){if(y.x===I.x)return!0}else{const j=D*(y.x-I.x)-R*(y.y-I.y);if(j===0)return!0;if(j<0)continue;T=!T}}else{if(y.y!==I.y)continue;if(O.x<=y.x&&y.x<=I.x||I.x<=y.x&&y.x<=O.x)return!0}}return T}const i=Eu.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new um,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],v=0,w;f[v]=void 0,m[v]=[];for(let y=0,b=s.length;y<b;y++)a=s[y],w=a.getPoints(),o=i(w),o=e?!o:o,o?(!u&&f[v]&&v++,f[v]={s:new um,p:w},f[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:w[0]});if(!f[0])return n(s);if(f.length>1){let y=!1,b=0;for(let S=0,T=f.length;S<T;S++)d[S]=[];for(let S=0,T=f.length;S<T;S++){const C=m[S];for(let M=0;M<C.length;M++){const I=C[M];let O=!0;for(let R=0;R<f.length;R++)r(I.p,f[R].p)&&(S!==R&&b++,O?(O=!1,d[R].push(I)):y=!0);O&&d[S].push(I)}}b>0&&y===!1&&(m=d)}let x;for(let y=0,b=f.length;y<b;y++){l=f[y].s,c.push(l),x=m[y];for(let S=0,T=x.length;S<T;S++)l.holes.push(x[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:dC}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=dC);const SY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:iL,AddEquation:Hp,AddOperation:W9,AdditiveAnimationBlendMode:fL,AdditiveBlending:UI,AlphaFormat:Z9,AlwaysCompare:v7,AlwaysDepth:F9,AlwaysStencilFunc:c7,AmbientLight:pY,AmbientLightProbe:YEe,AnimationAction:xY,AnimationClip:sw,AnimationLoader:DEe,AnimationMixer:dTe,AnimationObjectGroup:cTe,AnimationUtils:IEe,ArcCurve:B7,ArrayCamera:R7,ArrowHelper:ITe,Audio:yY,AudioAnalyser:JEe,AudioContext:GL,AudioListener:KEe,AudioLoader:jEe,AxesHelper:kTe,BackSide:yo,BasicDepthPacking:a7,BasicShadowMap:S9,Bone:TL,BooleanKeyframeTrack:Vm,Box2:vTe,Box3:Qa,Box3Helper:PTe,BoxGeometry:nf,BoxHelper:ATe,BufferAttribute:gr,BufferGeometry:Pn,BufferGeometryLoader:vY,ByteType:q9,Cache:Am,Camera:Ww,CameraHelper:MTe,CanvasTexture:tEe,CapsuleGeometry:MC,CatmullRomCurve3:V7,CineonToneMapping:Y9,CircleGeometry:AC,ClampToEdgeWrapping:go,Clock:HL,Color:Mt,ColorKeyframeTrack:UL,ColorManagement:wl,CompressedArrayTexture:eEe,CompressedTexture:ML,CompressedTextureLoader:NEe,ConeGeometry:PC,CubeCamera:b7,CubeReflectionMapping:Mh,CubeRefractionMapping:Ah,CubeTexture:jw,CubeTextureLoader:FEe,CubeUVReflectionMapping:Wy,CubicBezierCurve:PL,CubicBezierCurve3:G7,CubicInterpolant:sY,CullFaceBack:FI,CullFaceFront:b9,CullFaceFrontBack:q0e,CullFaceNone:w9,Curve:Ic,CurvePath:H7,CustomBlending:E9,CustomToneMapping:X9,CylinderGeometry:Bm,Cylindrical:gTe,Data3DTexture:yL,DataArrayTexture:gC,DataTexture:ty,DataTextureLoader:UEe,DataUtils:axe,DecrementStencilOp:a_e,DecrementWrapStencilOp:c_e,DefaultLoadingManager:lY,DepthFormat:ph,DepthStencilFormat:Sm,DepthTexture:I7,DirectionalLight:hY,DirectionalLightHelper:CTe,DiscreteInterpolant:oY,DisplayP3ColorSpace:mL,DodecahedronGeometry:RC,DoubleSide:ri,DstAlphaFactor:I9,DstColorFactor:O9,DynamicCopyUsage:E_e,DynamicDrawUsage:y_e,DynamicReadUsage:w_e,EdgesGeometry:W7,EllipseCurve:EC,EqualCompare:f7,EqualDepth:z9,EqualStencilFunc:h_e,EquirectangularReflectionMapping:Gx,EquirectangularRefractionMapping:Hx,Euler:Rh,EventDispatcher:ef,ExtrudeGeometry:kC,FileLoader:$d,Float16BufferAttribute:hxe,Float32BufferAttribute:qt,Float64BufferAttribute:pxe,FloatType:yu,Fog:wC,FogExp2:xC,FramebufferTexture:JSe,FrontSide:Ru,Frustum:$w,GLBufferAttribute:mTe,GLSL1:C_e,GLSL3:f2,GreaterCompare:p7,GreaterDepth:V9,GreaterEqualCompare:g7,GreaterEqualDepth:B9,GreaterEqualStencilFunc:v_e,GreaterStencilFunc:m_e,GridHelper:ETe,Group:zv,HalfFloatType:yy,HemisphereLight:uY,HemisphereLightHelper:STe,HemisphereLightProbe:$Ee,IcosahedronGeometry:OC,ImageBitmapLoader:WEe,ImageLoader:ow,ImageUtils:vL,IncrementStencilOp:o_e,IncrementWrapStencilOp:l_e,InstancedBufferAttribute:Tm,InstancedBufferGeometry:VL,InstancedInterleavedBuffer:pTe,InstancedMesh:F7,Int16BufferAttribute:dxe,Int32BufferAttribute:fxe,Int8BufferAttribute:lxe,IntType:oL,InterleavedBuffer:bC,InterleavedBufferAttribute:Em,Interpolant:Kw,InterpolateDiscrete:$x,InterpolateLinear:Yx,InterpolateSmooth:nE,InvertStencilOp:u_e,KeepStencilOp:rE,KeyframeTrack:kc,LOD:D7,LatheGeometry:Yw,Layers:cm,LessCompare:d7,LessDepth:U9,LessEqualCompare:h7,LessEqualDepth:sT,LessEqualStencilFunc:p_e,LessStencilFunc:f_e,Light:Bh,LightProbe:zC,Line:Ih,Line3:yTe,LineBasicMaterial:Vo,LineCurve:TC,LineCurve3:RL,LineDashedMaterial:rY,LineLoop:U7,LineSegments:Gu,LinearEncoding:hL,LinearFilter:Xr,LinearInterpolant:FL,LinearMipMapLinearFilter:e_e,LinearMipMapNearestFilter:J0e,LinearMipmapLinearFilter:Ph,LinearMipmapNearestFilter:sL,LinearSRGBColorSpace:Pc,LinearToneMapping:j9,Loader:wa,LoaderUtils:x2,LoadingManager:zL,LoopOnce:i7,LoopPingPong:o7,LoopRepeat:s7,LuminanceAlphaFormat:J9,LuminanceFormat:Q9,MOUSE:x9,Material:Js,MaterialLoader:BC,MathUtils:cT,Matrix3:kn,Matrix4:wn,MaxEquation:GI,Mesh:oi,MeshBasicMaterial:tf,MeshDepthMaterial:yC,MeshDistanceMaterial:_C,MeshLambertMaterial:tY,MeshMatcapMaterial:nY,MeshNormalMaterial:eY,MeshPhongMaterial:Q7,MeshPhysicalMaterial:Z7,MeshStandardMaterial:LL,MeshToonMaterial:J7,MinEquation:VI,MirroredRepeatWrapping:jx,MixOperation:H9,MultiplyBlending:BI,MultiplyOperation:Hw,NearestFilter:Pi,NearestMipMapLinearFilter:Q0e,NearestMipMapNearestFilter:Z0e,NearestMipmapLinearFilter:ax,NearestMipmapNearestFilter:oT,NeverCompare:u7,NeverDepth:N9,NeverStencilFunc:d_e,NoBlending:Ud,NoColorSpace:gh,NoToneMapping:Ec,NormalAnimationBlendMode:mC,NormalBlending:am,NotEqualCompare:m7,NotEqualDepth:G9,NotEqualStencilFunc:g_e,NumberKeyframeTrack:rw,Object3D:sr,ObjectLoader:GEe,ObjectSpaceNormalMap:l7,OctahedronGeometry:Xw,OneFactor:A9,OneMinusDstAlphaFactor:k9,OneMinusDstColorFactor:L9,OneMinusSrcAlphaFactor:rL,OneMinusSrcColorFactor:R9,OrthographicCamera:zm,PCFShadowMap:fC,PCFSoftShadowMap:ox,PMREMGenerator:p2,Path:Jx,PerspectiveCamera:Qi,Plane:Id,PlaneGeometry:Uh,PlaneHelper:RTe,PointLight:fY,PointLightHelper:wTe,Points:z7,PointsMaterial:CL,PolarGridHelper:TTe,PolyhedronGeometry:zh,PositionalAudio:QEe,PropertyBinding:Jn,PropertyMixer:_Y,QuadraticBezierCurve:IL,QuadraticBezierCurve3:CC,Quaternion:Zs,QuaternionKeyframeTrack:Yy,QuaternionLinearInterpolant:aY,RED_GREEN_RGTC2_Format:u2,RED_RGTC1_Format:r7,REVISION:dC,RGBADepthPacking:pL,RGBAFormat:ha,RGBAIntegerFormat:dL,RGBA_ASTC_10x10_Format:o2,RGBA_ASTC_10x5_Format:r2,RGBA_ASTC_10x6_Format:i2,RGBA_ASTC_10x8_Format:s2,RGBA_ASTC_12x10_Format:a2,RGBA_ASTC_12x12_Format:l2,RGBA_ASTC_4x4_Format:qI,RGBA_ASTC_5x4_Format:KI,RGBA_ASTC_5x5_Format:ZI,RGBA_ASTC_6x5_Format:QI,RGBA_ASTC_6x6_Format:JI,RGBA_ASTC_8x5_Format:e2,RGBA_ASTC_8x6_Format:t2,RGBA_ASTC_8x8_Format:n2,RGBA_BPTC_Format:tE,RGBA_ETC2_EAC_Format:XI,RGBA_PVRTC_2BPPV1_Format:$I,RGBA_PVRTC_4BPPV1_Format:jI,RGBA_S3TC_DXT1_Format:QS,RGBA_S3TC_DXT3_Format:JS,RGBA_S3TC_DXT5_Format:eE,RGB_ETC1_Format:n7,RGB_ETC2_Format:YI,RGB_PVRTC_2BPPV1_Format:WI,RGB_PVRTC_4BPPV1_Format:HI,RGB_S3TC_DXT1_Format:ZS,RGFormat:t7,RGIntegerFormat:uL,RawShaderMaterial:K7,Ray:jy,Raycaster:YL,RectAreaLight:mY,RedFormat:e7,RedIntegerFormat:cL,ReinhardToneMapping:$9,RepeatWrapping:Wx,ReplaceStencilOp:s_e,ReverseSubtractEquation:C9,RingGeometry:LC,SIGNED_RED_GREEN_RGTC2_Format:d2,SIGNED_RED_RGTC1_Format:c2,SRGBColorSpace:An,Scene:Qx,ShaderChunk:Mn,ShaderLib:gc,ShaderMaterial:Iu,ShadowMaterial:q7,Shape:um,ShapeGeometry:DC,ShapePath:OTe,ShapeUtils:Eu,ShortType:K9,Skeleton:SC,SkeletonHelper:xTe,SkinnedMesh:N7,Source:em,Sphere:Ja,SphereGeometry:qw,Spherical:wY,SphericalHarmonics3:gY,SplineCurve:kL,SpotLight:dY,SpotLightHelper:_Te,Sprite:L7,SpriteMaterial:EL,SrcAlphaFactor:nL,SrcAlphaSaturateFactor:D9,SrcColorFactor:P9,StaticCopyUsage:S_e,StaticDrawUsage:qx,StaticReadUsage:x_e,StereoCamera:XEe,StreamCopyUsage:T_e,StreamDrawUsage:__e,StreamReadUsage:b_e,StringKeyframeTrack:Gm,SubtractEquation:T9,SubtractiveBlending:zI,TOUCH:X0e,TangentSpaceNormalMap:Fh,TetrahedronGeometry:NC,Texture:ci,TextureLoader:cY,TorusGeometry:FC,TorusKnotGeometry:UC,Triangle:ua,TriangleFanDrawMode:r_e,TriangleStripDrawMode:n_e,TrianglesDrawMode:t_e,TubeGeometry:Mm,TwoPassDoubleSide:K0e,UVMapping:hC,Uint16BufferAttribute:_L,Uint32BufferAttribute:xL,Uint8BufferAttribute:cxe,Uint8ClampedBufferAttribute:uxe,Uniform:$L,UniformsGroup:hTe,UniformsLib:Pt,UniformsUtils:wL,UnsignedByteType:Su,UnsignedInt248Type:hh,UnsignedIntType:Dd,UnsignedShort4444Type:aL,UnsignedShort5551Type:lL,UnsignedShortType:pC,VSMShadowMap:pc,Vector2:Je,Vector3:oe,Vector4:rr,VectorKeyframeTrack:iw,VideoTexture:QSe,WebGL1Renderer:k7,WebGL3DRenderTarget:K_e,WebGLArrayRenderTarget:q_e,WebGLCoordinateSystem:_u,WebGLCubeRenderTarget:S7,WebGLMultipleRenderTargets:Z_e,WebGLRenderTarget:Rc,WebGLRenderer:SL,WebGLUtils:P7,WebGPUCoordinateSystem:Kx,WireframeGeometry:X7,WrapAroundEnding:Xx,ZeroCurvatureEnding:Qp,ZeroFactor:M9,ZeroSlopeEnding:Jp,ZeroStencilOp:i_e,_SRGBAFormat:aT,sRGBEncoding:mh},Symbol.toStringTag,{value:"Module"}));var pP={exports:{}},Zf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4;function LTe(){return t4||(t4=1,Zf.ConcurrentRoot=1,Zf.ContinuousEventPriority=4,Zf.DefaultEventPriority=16,Zf.DiscreteEventPriority=1,Zf.IdleEventPriority=536870912,Zf.LegacyRoot=0),Zf}var n4;function DTe(){return n4||(n4=1,pP.exports=LTe()),pP.exports}var Vv=DTe();function NTe(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const v=u(e);if(!d(f,v)){const w=f;c(f=v,w)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const FTe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),r4=FTe?N.useEffect:N.useLayoutEffect;function UTe(t){const e=typeof t=="function"?NTe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(x=>x+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(r),c=N.useRef(i),u=N.useRef(!1),d=N.useRef();d.current===void 0&&(d.current=r(o));let f,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(f=r(o),m=!i(d.current,f)),r4(()=>{m&&(d.current=f),a.current=o,l.current=r,c.current=i,u.current=!1});const v=N.useRef(o);r4(()=>{const x=()=>{try{const b=e.getState(),S=l.current(b);c.current(d.current,S)||(a.current=b,d.current=S,s())}catch{u.current=!0,s()}},y=e.subscribe(x);return e.getState()!==v.current&&x(),y},[]);const w=m?f:d.current;return N.useDebugValue(w),w};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var mP={exports:{}},gP={exports:{}},vP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function zTe(){return i4||(i4=1,function(t){function e(G,W){var F=G.length;G.push(W);e:for(;0<F;){var U=F-1>>>1,q=G[U];if(0<i(q,W))G[U]=W,G[F]=q,F=U;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],F=G.pop();if(F!==W){G[0]=F;e:for(var U=0,q=G.length,te=q>>>1;U<te;){var re=2*(U+1)-1,le=G[re],fe=re+1,ye=G[fe];if(0>i(le,F))fe<q&&0>i(ye,le)?(G[U]=ye,G[fe]=F,U=fe):(G[U]=le,G[re]=F,U=re);else if(fe<q&&0>i(ye,F))G[U]=ye,G[fe]=F,U=fe;else break e}}return W}function i(G,W){var F=G.sortIndex-W.sortIndex;return F!==0?F:G.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=G)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function T(G){if(w=!1,S(G),!v)if(n(l)!==null)v=!0,K(C);else{var W=n(c);W!==null&&V(T,W.startTime-G)}}function C(G,W){v=!1,w&&(w=!1,y(O),O=-1),m=!0;var F=f;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||G&&!j());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var q=U(d.expirationTime<=W);W=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var re=n(c);re!==null&&V(T,re.startTime-W),te=!1}return te}finally{d=null,f=F,m=!1}}var M=!1,I=null,O=-1,R=5,D=-1;function j(){return!(t.unstable_now()-D<R)}function $(){if(I!==null){var G=t.unstable_now();D=G;var W=!0;try{W=I(!0,G)}finally{W?B():(M=!1,I=null)}}else M=!1}var B;if(typeof b=="function")B=function(){b($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=$,B=function(){ne.postMessage(null)}}else B=function(){x($,0)};function K(G){I=G,M||(M=!0,B())}function V(G,W){O=x(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,K(C))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return G()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=f;f=G;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(G,W,F){var U=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,G={id:u++,callback:W,priorityLevel:G,startTime:F,expirationTime:q,sortIndex:-1},F>U?(G.sortIndex=F,e(c,G),n(l)===null&&G===n(c)&&(w?(y(O),O=-1):w=!0,V(T,F-U))):(G.sortIndex=q,e(l,G),v||m||(v=!0,K(C))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var W=f;return function(){var F=f;f=W;try{return G.apply(this,arguments)}finally{f=F}}}}(vP)),vP}var s4;function BTe(){return s4||(s4=1,gP.exports=zTe()),gP.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP,o4;function VTe(){return o4||(o4=1,yP=function(e){var n={},r=Oy(),i=BTe(),s=Object.assign;function o(g){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+g,A=1;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),C=Symbol.iterator;function M(g){return g===null||typeof g!="object"?null:(g=C&&g[C]||g["@@iterator"],typeof g=="function"?g:null)}function I(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case y:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case v:return(g.displayName||"Context")+".Consumer";case m:return(g._context.displayName||"Context")+".Provider";case w:var _=g.render;return g=g.displayName,g||(g=_.displayName||_.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case b:return _=g.displayName||null,_!==null?_:I(g.type)||"Memo";case S:_=g._payload,g=g._init;try{return I(g(_))}catch{}}return null}function O(g){var _=g.type;switch(g.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=_.render,g=g.displayName||g.name||"",_.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(_);case 8:return _===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function R(g){var _=g,A=g;if(g.alternate)for(;_.return;)_=_.return;else{g=_;do _=g,(_.flags&4098)!==0&&(A=_.return),g=_.return;while(g)}return _.tag===3?A:null}function D(g){if(R(g)!==g)throw Error(o(188))}function j(g){var _=g.alternate;if(!_){if(_=R(g),_===null)throw Error(o(188));return _!==g?null:g}for(var A=g,k=_;;){var z=A.return;if(z===null)break;var X=z.alternate;if(X===null){if(k=z.return,k!==null){A=k;continue}break}if(z.child===X.child){for(X=z.child;X;){if(X===A)return D(z),g;if(X===k)return D(z),_;X=X.sibling}throw Error(o(188))}if(A.return!==k.return)A=z,k=X;else{for(var de=!1,Me=z.child;Me;){if(Me===A){de=!0,A=z,k=X;break}if(Me===k){de=!0,k=z,A=X;break}Me=Me.sibling}if(!de){for(Me=X.child;Me;){if(Me===A){de=!0,A=X,k=z;break}if(Me===k){de=!0,k=X,A=z;break}Me=Me.sibling}if(!de)throw Error(o(189))}}if(A.alternate!==k)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?g:_}function $(g){return g=j(g),g!==null?B(g):null}function B(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var _=B(g);if(_!==null)return _;g=g.sibling}return null}function Q(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var _=Q(g);if(_!==null)return _}g=g.sibling}return null}var ne=Array.isArray,K=e.getPublicInstance,V=e.getRootHostContext,G=e.getChildHostContext,W=e.prepareForCommit,F=e.resetAfterCommit,U=e.createInstance,q=e.appendInitialChild,te=e.finalizeInitialChildren,re=e.prepareUpdate,le=e.shouldSetTextContent,fe=e.createTextInstance,ye=e.scheduleTimeout,se=e.cancelTimeout,ve=e.noTimeout,Se=e.isPrimaryRenderer,pe=e.supportsMutation,Z=e.supportsPersistence,me=e.supportsHydration,ue=e.getInstanceFromNode,_e=e.preparePortalMount,ce=e.getCurrentEventPriority,Xe=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Ge=e.scheduleMicrotask,je=e.supportsTestSelectors,ke=e.findFiberRoot,nt=e.getBoundingRect,ie=e.getTextContent,J=e.isHiddenSubtree,he=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,ze=e.setupIntersectionObserver,He=e.appendChild,et=e.appendChildToContainer,Ze=e.commitTextUpdate,Oe=e.commitMount,lt=e.commitUpdate,wt=e.insertBefore,dt=e.insertInContainerBefore,tt=e.removeChild,ct=e.removeChildFromContainer,Rt=e.resetTextContent,en=e.hideInstance,xe=e.hideTextInstance,rt=e.unhideInstance,De=e.unhideTextInstance,st=e.clearContainer,yt=e.cloneInstance,an=e.createContainerChildSet,pn=e.appendChildToContainerChildSet,Un=e.finalizeContainerChildren,Rn=e.replaceContainerChildren,we=e.cloneHiddenInstance,Ee=e.cloneHiddenTextInstance,Pe=e.canHydrateInstance,Qe=e.canHydrateTextInstance,ft=e.canHydrateSuspenseInstance,gt=e.isSuspenseInstancePending,At=e.isSuspenseInstanceFallback,xt=e.registerSuspenseInstanceRetry,pt=e.getNextHydratableSibling,at=e.getFirstHydratableChild,Wt=e.getFirstHydratableChildWithinContainer,rn=e.getFirstHydratableChildWithinSuspenseInstance,Tn=e.hydrateInstance,ae=e.hydrateTextInstance,Ie=e.hydrateSuspenseInstance,Fe=e.getNextHydratableInstanceAfterSuspenseInstance,Ce=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,It=e.clearSuspenseBoundary,Bt=e.clearSuspenseBoundaryFromContainer,Gt=e.shouldDeleteUnhydratedTailInstances,tn=e.didNotMatchHydratedContainerTextInstance,dn=e.didNotMatchHydratedTextInstance,qe;function Qt(g){if(qe===void 0)try{throw Error()}catch(A){var _=A.stack.trim().match(/\n( *(at )?)/);qe=_&&_[1]||""}return`
`+qe+g}var Wn=!1;function $t(g,_){if(!g||Wn)return"";Wn=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(mt){var k=mt}Reflect.construct(g,[],_)}else{try{_.call()}catch(mt){k=mt}g.call(_.prototype)}else{try{throw Error()}catch(mt){k=mt}g()}}catch(mt){if(mt&&k&&typeof mt.stack=="string"){for(var z=mt.stack.split(`
`),X=k.stack.split(`
`),de=z.length-1,Me=X.length-1;1<=de&&0<=Me&&z[de]!==X[Me];)Me--;for(;1<=de&&0<=Me;de--,Me--)if(z[de]!==X[Me]){if(de!==1||Me!==1)do if(de--,Me--,0>Me||z[de]!==X[Me]){var Ke=`
`+z[de].replace(" at new "," at ");return g.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",g.displayName)),Ke}while(1<=de&&0<=Me);break}}}finally{Wn=!1,Error.prepareStackTrace=A}return(g=g?g.displayName||g.name:"")?Qt(g):""}var On=Object.prototype.hasOwnProperty,qr=[],Ln=-1;function Lt(g){return{current:g}}function ln(g){0>Ln||(g.current=qr[Ln],qr[Ln]=null,Ln--)}function sn(g,_){Ln++,qr[Ln]=g.current,g.current=_}var Xn={},Wr=Lt(Xn),Ar=Lt(!1),to=Xn;function Zn(g,_){var A=g.type.contextTypes;if(!A)return Xn;var k=g.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===_)return k.__reactInternalMemoizedMaskedChildContext;var z={},X;for(X in A)z[X]=_[X];return k&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=_,g.__reactInternalMemoizedMaskedChildContext=z),z}function or(g){return g=g.childContextTypes,g!=null}function bi(){ln(Ar),ln(Wr)}function Dr(g,_,A){if(Wr.current!==Xn)throw Error(o(168));sn(Wr,_),sn(Ar,A)}function el(g,_,A){var k=g.stateNode;if(_=_.childContextTypes,typeof k.getChildContext!="function")return A;k=k.getChildContext();for(var z in k)if(!(z in _))throw Error(o(108,O(g)||"Unknown",z));return s({},A,k)}function tl(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Xn,to=Wr.current,sn(Wr,g),sn(Ar,Ar.current),!0}function Oi(g,_,A){var k=g.stateNode;if(!k)throw Error(o(169));A?(g=el(g,_,to),k.__reactInternalMemoizedMergedChildContext=g,ln(Ar),ln(Wr),sn(Wr,g)):ln(Ar),sn(Ar,A)}var no=Math.clz32?Math.clz32:Wm,Oc=Math.log,Sa=Math.LN2;function Wm(g){return g>>>=0,g===0?32:31-(Oc(g)/Sa|0)|0}var Ea=64,zn=4194304;function nl(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Lc(g,_){var A=g.pendingLanes;if(A===0)return 0;var k=0,z=g.suspendedLanes,X=g.pingedLanes,de=A&268435455;if(de!==0){var Me=de&~z;Me!==0?k=nl(Me):(X&=de,X!==0&&(k=nl(X)))}else de=A&~z,de!==0?k=nl(de):X!==0&&(k=nl(X));if(k===0)return 0;if(_!==0&&_!==k&&(_&z)===0&&(z=k&-k,X=_&-_,z>=X||z===16&&(X&4194240)!==0))return _;if((k&4)!==0&&(k|=A&16),_=g.entangledLanes,_!==0)for(g=g.entanglements,_&=k;0<_;)A=31-no(_),z=1<<A,k|=g[A],_&=~z;return k}function of(g,_){switch(g){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(g,_){for(var A=g.suspendedLanes,k=g.pingedLanes,z=g.expirationTimes,X=g.pendingLanes;0<X;){var de=31-no(X),Me=1<<de,Ke=z[de];Ke===-1?((Me&A)===0||(Me&k)!==0)&&(z[de]=of(Me,_)):Ke<=_&&(g.expiredLanes|=Me),X&=~Me}}function rl(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function Hu(g){for(var _=[],A=0;31>A;A++)_.push(g);return _}function Ho(g,_,A){g.pendingLanes|=_,_!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,_=31-no(_),g[_]=A}function Ta(g,_){var A=g.pendingLanes&~_;g.pendingLanes=_,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=_,g.mutableReadLanes&=_,g.entangledLanes&=_,_=g.entanglements;var k=g.eventTimes;for(g=g.expirationTimes;0<A;){var z=31-no(A),X=1<<z;_[z]=0,k[z]=-1,g[z]=-1,A&=~X}}function rs(g,_){var A=g.entangledLanes|=_;for(g=g.entanglements;A;){var k=31-no(A),z=1<<k;z&_|g[k]&_&&(g[k]|=_),A&=~z}}var mn=0;function Wo(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var wo=i.unstable_scheduleCallback,il=i.unstable_cancelCallback,jo=i.unstable_shouldYield,jm=i.unstable_requestPaint,Pr=i.unstable_now,Ca=i.unstable_ImmediatePriority,$m=i.unstable_UserBlockingPriority,ps=i.unstable_NormalPriority,Dc=i.unstable_IdlePriority,Nc=null,bo=null;function Nl(g){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(Nc,g,void 0,(g.current.flags&128)===128)}catch{}}function Fc(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var Li=typeof Object.is=="function"?Object.is:Fc,Di=null,sl=!1,$o=!1;function Wu(g){Di===null?Di=[g]:Di.push(g)}function Uc(g){sl=!0,Wu(g)}function ms(){if(!$o&&Di!==null){$o=!0;var g=0,_=mn;try{var A=Di;for(mn=1;g<A.length;g++){var k=A[g];do k=k(!0);while(k!==null)}Di=null,sl=!1}catch(z){throw Di!==null&&(Di=Di.slice(g+1)),wo(Ca,ms),z}finally{mn=_,$o=!1}}return null}var zc=a.ReactCurrentBatchConfig;function ro(g,_){if(Li(g,_))return!0;if(typeof g!="object"||g===null||typeof _!="object"||_===null)return!1;var A=Object.keys(g),k=Object.keys(_);if(A.length!==k.length)return!1;for(k=0;k<A.length;k++){var z=A[k];if(!On.call(_,z)||!Li(g[z],_[z]))return!1}return!0}function Fl(g){switch(g.tag){case 5:return Qt(g.type);case 16:return Qt("Lazy");case 13:return Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 2:case 15:return g=$t(g.type,!1),g;case 11:return g=$t(g.type.render,!1),g;case 1:return g=$t(g.type,!0),g;default:return""}}function Ni(g,_){if(g&&g.defaultProps){_=s({},_),g=g.defaultProps;for(var A in g)_[A]===void 0&&(_[A]=g[A]);return _}return _}var Si=Lt(null),Ul=null,io=null,zl=null;function Fi(){zl=io=Ul=null}function Bl(g,_,A){Se?(sn(Si,_._currentValue),_._currentValue=A):(sn(Si,_._currentValue2),_._currentValue2=A)}function di(g){var _=Si.current;ln(Si),Se?g._currentValue=_:g._currentValue2=_}function Ei(g,_,A){for(;g!==null;){var k=g.alternate;if((g.childLanes&_)!==_?(g.childLanes|=_,k!==null&&(k.childLanes|=_)):k!==null&&(k.childLanes&_)!==_&&(k.childLanes|=_),g===A)break;g=g.return}}function Kr(g,_){Ul=g,zl=io=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&_)!==0&&(Vi=!0),g.firstContext=null)}function Nr(g){var _=Se?g._currentValue:g._currentValue2;if(zl!==g)if(g={context:g,memoizedValue:_,next:null},io===null){if(Ul===null)throw Error(o(308));io=g,Ul.dependencies={lanes:0,firstContext:g}}else io=io.next=g;return _}var Ls=null,Yo=!1;function lf(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(g,_){g=g.updateQueue,_.updateQueue===g&&(_.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function Vl(g,_){return{eventTime:g,lane:_,tag:0,payload:null,callback:null,next:null}}function Bc(g,_){var A=g.updateQueue;A!==null&&(A=A.shared,zr!==null&&(g.mode&1)!==0&&(Cn&2)===0?(g=A.interleaved,g===null?(_.next=_,Ls===null?Ls=[A]:Ls.push(A)):(_.next=g.next,g.next=_),A.interleaved=_):(g=A.pending,g===null?_.next=_:(_.next=g.next,g.next=_),A.pending=_))}function Ym(g,_,A){if(_=_.updateQueue,_!==null&&(_=_.shared,(A&4194240)!==0)){var k=_.lanes;k&=g.pendingLanes,A|=k,_.lanes=A,rs(g,A)}}function Xm(g,_){var A=g.updateQueue,k=g.alternate;if(k!==null&&(k=k.updateQueue,A===k)){var z=null,X=null;if(A=A.firstBaseUpdate,A!==null){do{var de={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};X===null?z=X=de:X=X.next=de,A=A.next}while(A!==null);X===null?z=X=_:X=X.next=_}else z=X=_;A={baseState:k.baseState,firstBaseUpdate:z,lastBaseUpdate:X,shared:k.shared,effects:k.effects},g.updateQueue=A;return}g=A.lastBaseUpdate,g===null?A.firstBaseUpdate=_:g.next=_,A.lastBaseUpdate=_}function qm(g,_,A,k){var z=g.updateQueue;Yo=!1;var X=z.firstBaseUpdate,de=z.lastBaseUpdate,Me=z.shared.pending;if(Me!==null){z.shared.pending=null;var Ke=Me,mt=Ke.next;Ke.next=null,de===null?X=mt:de.next=mt,de=Ke;var Vt=g.alternate;Vt!==null&&(Vt=Vt.updateQueue,Me=Vt.lastBaseUpdate,Me!==de&&(Me===null?Vt.firstBaseUpdate=mt:Me.next=mt,Vt.lastBaseUpdate=Ke))}if(X!==null){var _n=z.baseState;de=0,Vt=mt=Ke=null,Me=X;do{var nn=Me.lane,mr=Me.eventTime;if((k&nn)===nn){Vt!==null&&(Vt=Vt.next={eventTime:mr,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var Nt=g,er=Me;switch(nn=_,mr=A,er.tag){case 1:if(Nt=er.payload,typeof Nt=="function"){_n=Nt.call(mr,_n,nn);break e}_n=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=er.payload,nn=typeof Nt=="function"?Nt.call(mr,_n,nn):Nt,nn==null)break e;_n=s({},_n,nn);break e;case 2:Yo=!0}}Me.callback!==null&&Me.lane!==0&&(g.flags|=64,nn=z.effects,nn===null?z.effects=[Me]:nn.push(Me))}else mr={eventTime:mr,lane:nn,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},Vt===null?(mt=Vt=mr,Ke=_n):Vt=Vt.next=mr,de|=nn;if(Me=Me.next,Me===null){if(Me=z.shared.pending,Me===null)break;nn=Me,Me=nn.next,nn.next=null,z.lastBaseUpdate=nn,z.shared.pending=null}}while(!0);if(Vt===null&&(Ke=_n),z.baseState=Ke,z.firstBaseUpdate=mt,z.lastBaseUpdate=Vt,_=z.shared.interleaved,_!==null){z=_;do de|=z.lane,z=z.next;while(z!==_)}else X===null&&(z.shared.lanes=0);od|=de,g.lanes=de,g.memoizedState=_n}}function lb(g,_,A){if(g=_.effects,_.effects=null,g!==null)for(_=0;_<g.length;_++){var k=g[_],z=k.callback;if(z!==null){if(k.callback=null,k=A,typeof z!="function")throw Error(o(191,z));z.call(k)}}}var cb=new r.Component().refs;function Jy(g,_,A,k){_=g.memoizedState,A=A(k,_),A=A==null?_:s({},_,A),g.memoizedState=A,g.lanes===0&&(g.updateQueue.baseState=A)}var Km={isMounted:function(g){return(g=g._reactInternals)?R(g)===g:!1},enqueueSetState:function(g,_,A){g=g._reactInternals;var k=Wi(),z=dl(g),X=Vl(k,z);X.payload=_,A!=null&&(X.callback=A),Bc(g,X),_=lo(g,z,k),_!==null&&Ym(_,g,z)},enqueueReplaceState:function(g,_,A){g=g._reactInternals;var k=Wi(),z=dl(g),X=Vl(k,z);X.tag=1,X.payload=_,A!=null&&(X.callback=A),Bc(g,X),_=lo(g,z,k),_!==null&&Ym(_,g,z)},enqueueForceUpdate:function(g,_){g=g._reactInternals;var A=Wi(),k=dl(g),z=Vl(A,k);z.tag=2,_!=null&&(z.callback=_),Bc(g,z),_=lo(g,k,A),_!==null&&Ym(_,g,k)}};function e0(g,_,A,k,z,X,de){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(k,X,de):_.prototype&&_.prototype.isPureReactComponent?!ro(A,k)||!ro(z,X):!0}function ub(g,_,A){var k=!1,z=Xn,X=_.contextType;return typeof X=="object"&&X!==null?X=Nr(X):(z=or(_)?to:Wr.current,k=_.contextTypes,X=(k=k!=null)?Zn(g,z):Xn),_=new _(A,X),g.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Km,g.stateNode=_,_._reactInternals=g,k&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=z,g.__reactInternalMemoizedMaskedChildContext=X),_}function db(g,_,A,k){g=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(A,k),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(A,k),_.state!==g&&Km.enqueueReplaceState(_,_.state,null)}function t0(g,_,A,k){var z=g.stateNode;z.props=A,z.state=g.memoizedState,z.refs=cb,lf(g);var X=_.contextType;typeof X=="object"&&X!==null?z.context=Nr(X):(X=or(_)?to:Wr.current,z.context=Zn(g,X)),z.state=g.memoizedState,X=_.getDerivedStateFromProps,typeof X=="function"&&(Jy(g,_,X,A),z.state=g.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(_=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),_!==z.state&&Km.enqueueReplaceState(z,z.state,null),qm(g,A,z,k),z.state=g.memoizedState),typeof z.componentDidMount=="function"&&(g.flags|=4194308)}var cf=[],Vc=0,Zm=null,Qm=0,Xo=[],So=0,ju=null,Gl=1,Hl="";function $u(g,_){cf[Vc++]=Qm,cf[Vc++]=Zm,Zm=g,Qm=_}function fb(g,_,A){Xo[So++]=Gl,Xo[So++]=Hl,Xo[So++]=ju,ju=g;var k=Gl;g=Hl;var z=32-no(k)-1;k&=~(1<<z),A+=1;var X=32-no(_)+z;if(30<X){var de=z-z%5;X=(k&(1<<de)-1).toString(32),k>>=de,z-=de,Gl=1<<32-no(_)+z|A<<z|k,Hl=X+g}else Gl=1<<X|A<<z|k,Hl=g}function n0(g){g.return!==null&&($u(g,1),fb(g,1,0))}function r0(g){for(;g===Zm;)Zm=cf[--Vc],cf[Vc]=null,Qm=cf[--Vc],cf[Vc]=null;for(;g===ju;)ju=Xo[--So],Xo[So]=null,Hl=Xo[--So],Xo[So]=null,Gl=Xo[--So],Xo[So]=null}var Ds=null,is=null,Rr=!1,uf=!1,qo=null;function i0(g,_){var A=Ao(5,null,null,0);A.elementType="DELETED",A.stateNode=_,A.return=g,_=g.deletions,_===null?(g.deletions=[A],g.flags|=16):_.push(A)}function s0(g,_){switch(g.tag){case 5:return _=Pe(_,g.type,g.pendingProps),_!==null?(g.stateNode=_,Ds=g,is=at(_),!0):!1;case 6:return _=Qe(_,g.pendingProps),_!==null?(g.stateNode=_,Ds=g,is=null,!0):!1;case 13:if(_=ft(_),_!==null){var A=ju!==null?{id:Gl,overflow:Hl}:null;return g.memoizedState={dehydrated:_,treeContext:A,retryLane:1073741824},A=Ao(18,null,null,0),A.stateNode=_,A.return=g,g.child=A,Ds=g,is=null,!0}return!1;default:return!1}}function Jm(g){return(g.mode&1)!==0&&(g.flags&128)===0}function Gc(g){if(Rr){var _=is;if(_){var A=_;if(!s0(g,_)){if(Jm(g))throw Error(o(418));_=pt(A);var k=Ds;_&&s0(g,_)?i0(k,A):(g.flags=g.flags&-4097|2,Rr=!1,Ds=g)}}else{if(Jm(g))throw Error(o(418));g.flags=g.flags&-4097|2,Rr=!1,Ds=g}}}function hb(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Ds=g}function Vh(g){if(!me||g!==Ds)return!1;if(!Rr)return hb(g),Rr=!0,!1;if(g.tag!==3&&(g.tag!==5||Gt(g.type)&&!le(g.type,g.memoizedProps))){var _=is;if(_){if(Jm(g)){for(g=is;g;)g=pt(g);throw Error(o(418))}for(;_;)i0(g,_),_=pt(_)}}if(hb(g),g.tag===13){if(!me)throw Error(o(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));is=Fe(g)}else is=Ds?pt(g.stateNode):null;return!0}function df(){me&&(is=Ds=null,uf=Rr=!1)}function eg(g){qo===null?qo=[g]:qo.push(g)}function ff(g,_,A){if(g=A.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var k=A.stateNode}if(!k)throw Error(o(147,g));var z=k,X=""+g;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===X?_.ref:(_=function(de){var Me=z.refs;Me===cb&&(Me=z.refs={}),de===null?delete Me[X]:Me[X]=de},_._stringRef=X,_)}if(typeof g!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,g))}return g}function Hc(g,_){throw g=Object.prototype.toString.call(_),Error(o(31,g==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":g))}function hf(g){var _=g._init;return _(g._payload)}function pb(g){function _(Be,Re){if(g){var $e=Be.deletions;$e===null?(Be.deletions=[Re],Be.flags|=16):$e.push(Re)}}function A(Be,Re){if(!g)return null;for(;Re!==null;)_(Be,Re),Re=Re.sibling;return null}function k(Be,Re){for(Be=new Map;Re!==null;)Re.key!==null?Be.set(Re.key,Re):Be.set(Re.index,Re),Re=Re.sibling;return Be}function z(Be,Re){return Be=tc(Be,Re),Be.index=0,Be.sibling=null,Be}function X(Be,Re,$e){return Be.index=$e,g?($e=Be.alternate,$e!==null?($e=$e.index,$e<Re?(Be.flags|=2,Re):$e):(Be.flags|=2,Re)):(Be.flags|=1048576,Re)}function de(Be){return g&&Be.alternate===null&&(Be.flags|=2),Be}function Me(Be,Re,$e,Ot){return Re===null||Re.tag!==6?(Re=kg($e,Be.mode,Ot),Re.return=Be,Re):(Re=z(Re,$e),Re.return=Be,Re)}function Ke(Be,Re,$e,Ot){var Yt=$e.type;return Yt===u?Vt(Be,Re,$e.props.children,Ot,$e.key):Re!==null&&(Re.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===S&&hf(Yt)===Re.type)?(Ot=z(Re,$e.props),Ot.ref=ff(Be,Re,$e),Ot.return=Be,Ot):(Ot=up($e.type,$e.key,$e.props,null,Be.mode,Ot),Ot.ref=ff(Be,Re,$e),Ot.return=Be,Ot)}function mt(Be,Re,$e,Ot){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==$e.containerInfo||Re.stateNode.implementation!==$e.implementation?(Re=Og($e,Be.mode,Ot),Re.return=Be,Re):(Re=z(Re,$e.children||[]),Re.return=Be,Re)}function Vt(Be,Re,$e,Ot,Yt){return Re===null||Re.tag!==7?(Re=tu($e,Be.mode,Ot,Yt),Re.return=Be,Re):(Re=z(Re,$e),Re.return=Be,Re)}function _n(Be,Re,$e){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=kg(""+Re,Be.mode,$e),Re.return=Be,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return $e=up(Re.type,Re.key,Re.props,null,Be.mode,$e),$e.ref=ff(Be,null,Re),$e.return=Be,$e;case c:return Re=Og(Re,Be.mode,$e),Re.return=Be,Re;case S:var Ot=Re._init;return _n(Be,Ot(Re._payload),$e)}if(ne(Re)||M(Re))return Re=tu(Re,Be.mode,$e,null),Re.return=Be,Re;Hc(Be,Re)}return null}function nn(Be,Re,$e,Ot){var Yt=Re!==null?Re.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Yt!==null?null:Me(Be,Re,""+$e,Ot);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return $e.key===Yt?Ke(Be,Re,$e,Ot):null;case c:return $e.key===Yt?mt(Be,Re,$e,Ot):null;case S:return Yt=$e._init,nn(Be,Re,Yt($e._payload),Ot)}if(ne($e)||M($e))return Yt!==null?null:Vt(Be,Re,$e,Ot,null);Hc(Be,$e)}return null}function mr(Be,Re,$e,Ot,Yt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Be=Be.get($e)||null,Me(Re,Be,""+Ot,Yt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return Be=Be.get(Ot.key===null?$e:Ot.key)||null,Ke(Re,Be,Ot,Yt);case c:return Be=Be.get(Ot.key===null?$e:Ot.key)||null,mt(Re,Be,Ot,Yt);case S:var En=Ot._init;return mr(Be,Re,$e,En(Ot._payload),Yt)}if(ne(Ot)||M(Ot))return Be=Be.get($e)||null,Vt(Re,Be,Ot,Yt,null);Hc(Re,Ot)}return null}function Nt(Be,Re,$e,Ot){for(var Yt=null,En=null,gn=Re,qn=Re=0,Ci=null;gn!==null&&qn<$e.length;qn++){gn.index>qn?(Ci=gn,gn=null):Ci=gn.sibling;var $n=nn(Be,gn,$e[qn],Ot);if($n===null){gn===null&&(gn=Ci);break}g&&gn&&$n.alternate===null&&_(Be,gn),Re=X($n,Re,qn),En===null?Yt=$n:En.sibling=$n,En=$n,gn=Ci}if(qn===$e.length)return A(Be,gn),Rr&&$u(Be,qn),Yt;if(gn===null){for(;qn<$e.length;qn++)gn=_n(Be,$e[qn],Ot),gn!==null&&(Re=X(gn,Re,qn),En===null?Yt=gn:En.sibling=gn,En=gn);return Rr&&$u(Be,qn),Yt}for(gn=k(Be,gn);qn<$e.length;qn++)Ci=mr(gn,Be,qn,$e[qn],Ot),Ci!==null&&(g&&Ci.alternate!==null&&gn.delete(Ci.key===null?qn:Ci.key),Re=X(Ci,Re,qn),En===null?Yt=Ci:En.sibling=Ci,En=Ci);return g&&gn.forEach(function(fl){return _(Be,fl)}),Rr&&$u(Be,qn),Yt}function er(Be,Re,$e,Ot){var Yt=M($e);if(typeof Yt!="function")throw Error(o(150));if($e=Yt.call($e),$e==null)throw Error(o(151));for(var En=Yt=null,gn=Re,qn=Re=0,Ci=null,$n=$e.next();gn!==null&&!$n.done;qn++,$n=$e.next()){gn.index>qn?(Ci=gn,gn=null):Ci=gn.sibling;var fl=nn(Be,gn,$n.value,Ot);if(fl===null){gn===null&&(gn=Ci);break}g&&gn&&fl.alternate===null&&_(Be,gn),Re=X(fl,Re,qn),En===null?Yt=fl:En.sibling=fl,En=fl,gn=Ci}if($n.done)return A(Be,gn),Rr&&$u(Be,qn),Yt;if(gn===null){for(;!$n.done;qn++,$n=$e.next())$n=_n(Be,$n.value,Ot),$n!==null&&(Re=X($n,Re,qn),En===null?Yt=$n:En.sibling=$n,En=$n);return Rr&&$u(Be,qn),Yt}for(gn=k(Be,gn);!$n.done;qn++,$n=$e.next())$n=mr(gn,Be,qn,$n.value,Ot),$n!==null&&(g&&$n.alternate!==null&&gn.delete($n.key===null?qn:$n.key),Re=X($n,Re,qn),En===null?Yt=$n:En.sibling=$n,En=$n);return g&&gn.forEach(function(Ob){return _(Be,Ob)}),Rr&&$u(Be,qn),Yt}function Po(Be,Re,$e,Ot){if(typeof $e=="object"&&$e!==null&&$e.type===u&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:e:{for(var Yt=$e.key,En=Re;En!==null;){if(En.key===Yt){if(Yt=$e.type,Yt===u){if(En.tag===7){A(Be,En.sibling),Re=z(En,$e.props.children),Re.return=Be,Be=Re;break e}}else if(En.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===S&&hf(Yt)===En.type){A(Be,En.sibling),Re=z(En,$e.props),Re.ref=ff(Be,En,$e),Re.return=Be,Be=Re;break e}A(Be,En);break}else _(Be,En);En=En.sibling}$e.type===u?(Re=tu($e.props.children,Be.mode,Ot,$e.key),Re.return=Be,Be=Re):(Ot=up($e.type,$e.key,$e.props,null,Be.mode,Ot),Ot.ref=ff(Be,Re,$e),Ot.return=Be,Be=Ot)}return de(Be);case c:e:{for(En=$e.key;Re!==null;){if(Re.key===En)if(Re.tag===4&&Re.stateNode.containerInfo===$e.containerInfo&&Re.stateNode.implementation===$e.implementation){A(Be,Re.sibling),Re=z(Re,$e.children||[]),Re.return=Be,Be=Re;break e}else{A(Be,Re);break}else _(Be,Re);Re=Re.sibling}Re=Og($e,Be.mode,Ot),Re.return=Be,Be=Re}return de(Be);case S:return En=$e._init,Po(Be,Re,En($e._payload),Ot)}if(ne($e))return Nt(Be,Re,$e,Ot);if(M($e))return er(Be,Re,$e,Ot);Hc(Be,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Re!==null&&Re.tag===6?(A(Be,Re.sibling),Re=z(Re,$e),Re.return=Be,Be=Re):(A(Be,Re),Re=kg($e,Be.mode,Ot),Re.return=Be,Be=Re),de(Be)):A(Be,Re)}return Po}var Wl=pb(!0),mb=pb(!1),pf={},so=Lt(pf),Yu=Lt(pf),Xu=Lt(pf);function Ma(g){if(g===pf)throw Error(o(174));return g}function tg(g,_){sn(Xu,_),sn(Yu,g),sn(so,pf),g=V(_),ln(so),sn(so,g)}function mf(){ln(so),ln(Yu),ln(Xu)}function gb(g){var _=Ma(Xu.current),A=Ma(so.current);_=G(A,g.type,_),A!==_&&(sn(Yu,g),sn(so,_))}function o0(g){Yu.current===g&&(ln(so),ln(Yu))}var Fr=Lt(0);function ng(g){for(var _=g;_!==null;){if(_.tag===13){var A=_.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||gt(A)||At(A)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Eo=[];function qu(){for(var g=0;g<Eo.length;g++){var _=Eo[g];Se?_._workInProgressVersionPrimary=null:_._workInProgressVersionSecondary=null}Eo.length=0}var Gh=a.ReactCurrentDispatcher,To=a.ReactCurrentBatchConfig,Ku=0,Ur=null,Ui=null,zi=null,rg=!1,ol=!1,Zu=0,Hh=0;function Bi(){throw Error(o(321))}function ig(g,_){if(_===null)return!1;for(var A=0;A<_.length&&A<g.length;A++)if(!Li(g[A],_[A]))return!1;return!0}function gf(g,_,A,k,z,X){if(Ku=X,Ur=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Gh.current=g===null||g.memoizedState===null?f0:h0,g=A(k,z),ol){X=0;do{if(ol=!1,Zu=0,25<=X)throw Error(o(301));X+=1,zi=Ui=null,_.updateQueue=null,Gh.current=p0,g=A(k,z)}while(ol)}if(Gh.current=xf,_=Ui!==null&&Ui.next!==null,Ku=0,zi=Ui=Ur=null,rg=!1,_)throw Error(o(300));return g}function Wc(){var g=Zu!==0;return Zu=0,g}function Aa(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zi===null?Ur.memoizedState=zi=g:zi=zi.next=g,zi}function Pa(){if(Ui===null){var g=Ur.alternate;g=g!==null?g.memoizedState:null}else g=Ui.next;var _=zi===null?Ur.memoizedState:zi.next;if(_!==null)zi=_,Ui=g;else{if(g===null)throw Error(o(310));Ui=g,g={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},zi===null?Ur.memoizedState=zi=g:zi=zi.next=g}return zi}function al(g,_){return typeof _=="function"?_(g):_}function Wh(g){var _=Pa(),A=_.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=g;var k=Ui,z=k.baseQueue,X=A.pending;if(X!==null){if(z!==null){var de=z.next;z.next=X.next,X.next=de}k.baseQueue=z=X,A.pending=null}if(z!==null){X=z.next,k=k.baseState;var Me=de=null,Ke=null,mt=X;do{var Vt=mt.lane;if((Ku&Vt)===Vt)Ke!==null&&(Ke=Ke.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),k=mt.hasEagerState?mt.eagerState:g(k,mt.action);else{var _n={lane:Vt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};Ke===null?(Me=Ke=_n,de=k):Ke=Ke.next=_n,Ur.lanes|=Vt,od|=Vt}mt=mt.next}while(mt!==null&&mt!==X);Ke===null?de=k:Ke.next=Me,Li(k,_.memoizedState)||(Vi=!0),_.memoizedState=k,_.baseState=de,_.baseQueue=Ke,A.lastRenderedState=k}if(g=A.interleaved,g!==null){z=g;do X=z.lane,Ur.lanes|=X,od|=X,z=z.next;while(z!==g)}else z===null&&(A.lanes=0);return[_.memoizedState,A.dispatch]}function jh(g){var _=Pa(),A=_.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=g;var k=A.dispatch,z=A.pending,X=_.memoizedState;if(z!==null){A.pending=null;var de=z=z.next;do X=g(X,de.action),de=de.next;while(de!==z);Li(X,_.memoizedState)||(Vi=!0),_.memoizedState=X,_.baseQueue===null&&(_.baseState=X),A.lastRenderedState=X}return[X,k]}function a0(){}function l0(g,_){var A=Ur,k=Pa(),z=_(),X=!Li(k.memoizedState,z);if(X&&(k.memoizedState=z,Vi=!0),k=k.queue,vf(jl.bind(null,A,k,g),[g]),k.getSnapshot!==_||X||zi!==null&&zi.memoizedState.tag&1){if(A.flags|=2048,Yh(9,u0.bind(null,A,k,z,_),void 0,null),zr===null)throw Error(o(349));(Ku&30)!==0||c0(A,_,z)}return z}function c0(g,_,A){g.flags|=16384,g={getSnapshot:_,value:A},_=Ur.updateQueue,_===null?(_={lastEffect:null,stores:null},Ur.updateQueue=_,_.stores=[g]):(A=_.stores,A===null?_.stores=[g]:A.push(g))}function u0(g,_,A,k){_.value=A,_.getSnapshot=k,sg(_)&&lo(g,1,-1)}function jl(g,_,A){return A(function(){sg(_)&&lo(g,1,-1)})}function sg(g){var _=g.getSnapshot;g=g.value;try{var A=_();return!Li(g,A)}catch{return!0}}function $h(g){var _=Aa();return typeof g=="function"&&(g=g()),_.memoizedState=_.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:g},_.queue=g,g=g.dispatch=pM.bind(null,Ur,g),[_.memoizedState,g]}function Yh(g,_,A,k){return g={tag:g,create:_,destroy:A,deps:k,next:null},_=Ur.updateQueue,_===null?(_={lastEffect:null,stores:null},Ur.updateQueue=_,_.lastEffect=g.next=g):(A=_.lastEffect,A===null?_.lastEffect=g.next=g:(k=A.next,A.next=g,g.next=k,_.lastEffect=g)),g}function vb(){return Pa().memoizedState}function jc(g,_,A,k){var z=Aa();Ur.flags|=g,z.memoizedState=Yh(1|_,A,void 0,k===void 0?null:k)}function og(g,_,A,k){var z=Pa();k=k===void 0?null:k;var X=void 0;if(Ui!==null){var de=Ui.memoizedState;if(X=de.destroy,k!==null&&ig(k,de.deps)){z.memoizedState=Yh(_,A,X,k);return}}Ur.flags|=g,z.memoizedState=Yh(1|_,A,X,k)}function ag(g,_){return jc(8390656,8,g,_)}function vf(g,_){return og(2048,8,g,_)}function yr(g,_){return og(4,2,g,_)}function lg(g,_){return og(4,4,g,_)}function Xh(g,_){if(typeof _=="function")return g=g(),_(g),function(){_(null)};if(_!=null)return g=g(),_.current=g,function(){_.current=null}}function yf(g,_,A){return A=A!=null?A.concat([g]):null,og(4,4,Xh.bind(null,_,g),A)}function cg(){}function ug(g,_){var A=Pa();_=_===void 0?null:_;var k=A.memoizedState;return k!==null&&_!==null&&ig(_,k[1])?k[0]:(A.memoizedState=[g,_],g)}function _f(g,_){var A=Pa();_=_===void 0?null:_;var k=A.memoizedState;return k!==null&&_!==null&&ig(_,k[1])?k[0]:(g=g(),A.memoizedState=[g,_],g)}function dg(g,_){var A=mn;mn=A!==0&&4>A?A:4,g(!0);var k=To.transition;To.transition={};try{g(!1),_()}finally{mn=A,To.transition=k}}function Qu(){return Pa().memoizedState}function yb(g,_,A){var k=dl(g);A={lane:k,action:A,hasEagerState:!1,eagerState:null,next:null},_b(g)?d0(_,A):(qh(g,_,A),A=Wi(),g=lo(g,k,A),g!==null&&Kh(g,_,k))}function pM(g,_,A){var k=dl(g),z={lane:k,action:A,hasEagerState:!1,eagerState:null,next:null};if(_b(g))d0(_,z);else{qh(g,_,z);var X=g.alternate;if(g.lanes===0&&(X===null||X.lanes===0)&&(X=_.lastRenderedReducer,X!==null))try{var de=_.lastRenderedState,Me=X(de,A);if(z.hasEagerState=!0,z.eagerState=Me,Li(Me,de))return}catch{}finally{}A=Wi(),g=lo(g,k,A),g!==null&&Kh(g,_,k)}}function _b(g){var _=g.alternate;return g===Ur||_!==null&&_===Ur}function d0(g,_){ol=rg=!0;var A=g.pending;A===null?_.next=_:(_.next=A.next,A.next=_),g.pending=_}function qh(g,_,A){zr!==null&&(g.mode&1)!==0&&(Cn&2)===0?(g=_.interleaved,g===null?(A.next=A,Ls===null?Ls=[_]:Ls.push(_)):(A.next=g.next,g.next=A),_.interleaved=A):(g=_.pending,g===null?A.next=A:(A.next=g.next,g.next=A),_.pending=A)}function Kh(g,_,A){if((A&4194240)!==0){var k=_.lanes;k&=g.pendingLanes,A|=k,_.lanes=A,rs(g,A)}}var xf={readContext:Nr,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},f0={readContext:Nr,useCallback:function(g,_){return Aa().memoizedState=[g,_===void 0?null:_],g},useContext:Nr,useEffect:ag,useImperativeHandle:function(g,_,A){return A=A!=null?A.concat([g]):null,jc(4194308,4,Xh.bind(null,_,g),A)},useLayoutEffect:function(g,_){return jc(4194308,4,g,_)},useInsertionEffect:function(g,_){return jc(4,2,g,_)},useMemo:function(g,_){var A=Aa();return _=_===void 0?null:_,g=g(),A.memoizedState=[g,_],g},useReducer:function(g,_,A){var k=Aa();return _=A!==void 0?A(_):_,k.memoizedState=k.baseState=_,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:_},k.queue=g,g=g.dispatch=yb.bind(null,Ur,g),[k.memoizedState,g]},useRef:function(g){var _=Aa();return g={current:g},_.memoizedState=g},useState:$h,useDebugValue:cg,useDeferredValue:function(g){var _=$h(g),A=_[0],k=_[1];return ag(function(){var z=To.transition;To.transition={};try{k(g)}finally{To.transition=z}},[g]),A},useTransition:function(){var g=$h(!1),_=g[0];return g=dg.bind(null,g[1]),Aa().memoizedState=g,[_,g]},useMutableSource:function(){},useSyncExternalStore:function(g,_,A){var k=Ur,z=Aa();if(Rr){if(A===void 0)throw Error(o(407));A=A()}else{if(A=_(),zr===null)throw Error(o(349));(Ku&30)!==0||c0(k,_,A)}z.memoizedState=A;var X={value:A,getSnapshot:_};return z.queue=X,ag(jl.bind(null,k,X,g),[g]),k.flags|=2048,Yh(9,u0.bind(null,k,X,A,_),void 0,null),A},useId:function(){var g=Aa(),_=zr.identifierPrefix;if(Rr){var A=Hl,k=Gl;A=(k&~(1<<32-no(k)-1)).toString(32)+A,_=":"+_+"R"+A,A=Zu++,0<A&&(_+="H"+A.toString(32)),_+=":"}else A=Hh++,_=":"+_+"r"+A.toString(32)+":";return g.memoizedState=_},unstable_isNewReconciler:!1},h0={readContext:Nr,useCallback:ug,useContext:Nr,useEffect:vf,useImperativeHandle:yf,useInsertionEffect:yr,useLayoutEffect:lg,useMemo:_f,useReducer:Wh,useRef:vb,useState:function(){return Wh(al)},useDebugValue:cg,useDeferredValue:function(g){var _=Wh(al),A=_[0],k=_[1];return vf(function(){var z=To.transition;To.transition={};try{k(g)}finally{To.transition=z}},[g]),A},useTransition:function(){var g=Wh(al)[0],_=Pa().memoizedState;return[g,_]},useMutableSource:a0,useSyncExternalStore:l0,useId:Qu,unstable_isNewReconciler:!1},p0={readContext:Nr,useCallback:ug,useContext:Nr,useEffect:vf,useImperativeHandle:yf,useInsertionEffect:yr,useLayoutEffect:lg,useMemo:_f,useReducer:jh,useRef:vb,useState:function(){return jh(al)},useDebugValue:cg,useDeferredValue:function(g){var _=jh(al),A=_[0],k=_[1];return vf(function(){var z=To.transition;To.transition={};try{k(g)}finally{To.transition=z}},[g]),A},useTransition:function(){var g=jh(al)[0],_=Pa().memoizedState;return[g,_]},useMutableSource:a0,useSyncExternalStore:l0,useId:Qu,unstable_isNewReconciler:!1};function m0(g,_){try{var A="",k=_;do A+=Fl(k),k=k.return;while(k);var z=A}catch(X){z=`
Error generating stack: `+X.message+`
`+X.stack}return{value:g,source:_,stack:z}}function fg(g,_){try{console.error(_.value)}catch(A){setTimeout(function(){throw A})}}var mM=typeof WeakMap=="function"?WeakMap:Map;function xb(g,_,A){A=Vl(-1,A),A.tag=3,A.payload={element:null};var k=_.value;return A.callback=function(){Kc||(Kc=!0,Jo=k),fg(g,_)},A}function hg(g,_,A){A=Vl(-1,A),A.tag=3;var k=g.type.getDerivedStateFromError;if(typeof k=="function"){var z=_.value;A.payload=function(){return k(z)},A.callback=function(){fg(g,_)}}var X=g.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(A.callback=function(){fg(g,_),typeof k!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var de=_.stack;this.componentDidCatch(_.value,{componentStack:de!==null?de:""})}),A}function $l(g,_,A){var k=g.pingCache;if(k===null){k=g.pingCache=new mM;var z=new Set;k.set(_,z)}else z=k.get(_),z===void 0&&(z=new Set,k.set(_,z));z.has(A)||(z.add(A),g=Eb.bind(null,g,_,A),_.then(g,g))}function g0(g){do{var _;if((_=g.tag===13)&&(_=g.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return g;g=g.return}while(g!==null);return null}function Ju(g,_,A,k,z){return(g.mode&1)===0?(g===_?g.flags|=65536:(g.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(_=Vl(-1,1),_.tag=2,Bc(A,_))),A.lanes|=1),g):(g.flags|=65536,g.lanes=z,g)}function Ti(g){g.flags|=4}function wf(g,_){if(g!==null&&g.child===_.child)return!0;if((_.flags&16)!==0)return!1;for(g=_.child;g!==null;){if((g.flags&12854)!==0||(g.subtreeFlags&12854)!==0)return!1;g=g.sibling}return!0}var Co,ed,pg,mg;if(pe)Co=function(g,_){for(var A=_.child;A!==null;){if(A.tag===5||A.tag===6)q(g,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===_)break;for(;A.sibling===null;){if(A.return===null||A.return===_)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},ed=function(){},pg=function(g,_,A,k,z){if(g=g.memoizedProps,g!==k){var X=_.stateNode,de=Ma(so.current);A=re(X,A,g,k,z,de),(_.updateQueue=A)&&Ti(_)}},mg=function(g,_,A,k){A!==k&&Ti(_)};else if(Z){Co=function(g,_,A,k){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;A&&k&&(X=we(X,z.type,z.memoizedProps,z)),q(g,X)}else if(z.tag===6)X=z.stateNode,A&&k&&(X=Ee(X,z.memoizedProps,z)),q(g,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),Co(g,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var $c=function(g,_,A,k){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;A&&k&&(X=we(X,z.type,z.memoizedProps,z)),pn(g,X)}else if(z.tag===6)X=z.stateNode,A&&k&&(X=Ee(X,z.memoizedProps,z)),pn(g,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),$c(g,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};ed=function(g,_){var A=_.stateNode;if(!wf(g,_)){g=A.containerInfo;var k=an(g);$c(k,_,!1,!1),A.pendingChildren=k,Ti(_),Un(g,k)}},pg=function(g,_,A,k,z){var X=g.stateNode,de=g.memoizedProps;if((g=wf(g,_))&&de===k)_.stateNode=X;else{var Me=_.stateNode,Ke=Ma(so.current),mt=null;de!==k&&(mt=re(Me,A,de,k,z,Ke)),g&&mt===null?_.stateNode=X:(X=yt(X,mt,A,de,k,_,g,Me),te(X,A,k,z,Ke)&&Ti(_),_.stateNode=X,g?Ti(_):Co(X,_,!1,!1))}},mg=function(g,_,A,k){A!==k?(g=Ma(Xu.current),A=Ma(so.current),_.stateNode=fe(k,g,A,_),Ti(_)):_.stateNode=g.stateNode}}else ed=function(){},pg=function(){},mg=function(){};function Yl(g,_){if(!Rr)switch(g.tailMode){case"hidden":_=g.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?g.tail=null:A.sibling=null;break;case"collapsed":A=g.tail;for(var k=null;A!==null;)A.alternate!==null&&(k=A),A=A.sibling;k===null?_||g.tail===null?g.tail=null:g.tail.sibling=null:k.sibling=null}}function Zr(g){var _=g.alternate!==null&&g.alternate.child===g.child,A=0,k=0;if(_)for(var z=g.child;z!==null;)A|=z.lanes|z.childLanes,k|=z.subtreeFlags&14680064,k|=z.flags&14680064,z.return=g,z=z.sibling;else for(z=g.child;z!==null;)A|=z.lanes|z.childLanes,k|=z.subtreeFlags,k|=z.flags,z.return=g,z=z.sibling;return g.subtreeFlags|=k,g.childLanes=A,_}function gg(g,_,A){var k=_.pendingProps;switch(r0(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(_),null;case 1:return or(_.type)&&bi(),Zr(_),null;case 3:return k=_.stateNode,mf(),ln(Ar),ln(Wr),qu(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(g===null||g.child===null)&&(Vh(_)?Ti(_):g===null||g.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,qo!==null&&(Jr(qo),qo=null))),ed(g,_),Zr(_),null;case 5:o0(_),A=Ma(Xu.current);var z=_.type;if(g!==null&&_.stateNode!=null)pg(g,_,z,k,A),g.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!k){if(_.stateNode===null)throw Error(o(166));return Zr(_),null}if(g=Ma(so.current),Vh(_)){if(!me)throw Error(o(175));g=Tn(_.stateNode,_.type,_.memoizedProps,A,g,_,!uf),_.updateQueue=g,g!==null&&Ti(_)}else{var X=U(z,k,A,g,_);Co(X,_,!1,!1),_.stateNode=X,te(X,z,k,A,g)&&Ti(_)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return Zr(_),null;case 6:if(g&&_.stateNode!=null)mg(g,_,g.memoizedProps,k);else{if(typeof k!="string"&&_.stateNode===null)throw Error(o(166));if(g=Ma(Xu.current),A=Ma(so.current),Vh(_)){if(!me)throw Error(o(176));if(g=_.stateNode,k=_.memoizedProps,(A=ae(g,k,_,!uf))&&(z=Ds,z!==null))switch(X=(z.mode&1)!==0,z.tag){case 3:tn(z.stateNode.containerInfo,g,k,X);break;case 5:dn(z.type,z.memoizedProps,z.stateNode,g,k,X)}A&&Ti(_)}else _.stateNode=fe(k,g,A,_)}return Zr(_),null;case 13:if(ln(Fr),k=_.memoizedState,Rr&&is!==null&&(_.mode&1)!==0&&(_.flags&128)===0){for(g=is;g;)g=pt(g);return df(),_.flags|=98560,_}if(k!==null&&k.dehydrated!==null){if(k=Vh(_),g===null){if(!k)throw Error(o(318));if(!me)throw Error(o(344));if(g=_.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));Ie(g,_)}else df(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;return Zr(_),null}return qo!==null&&(Jr(qo),qo=null),(_.flags&128)!==0?(_.lanes=A,_):(k=k!==null,A=!1,g===null?Vh(_):A=g.memoizedState!==null,k&&!A&&(_.child.flags|=8192,(_.mode&1)!==0&&(g===null||(Fr.current&1)!==0?fi===0&&(fi=3):sp())),_.updateQueue!==null&&(_.flags|=4),Zr(_),null);case 4:return mf(),ed(g,_),g===null&&_e(_.stateNode.containerInfo),Zr(_),null;case 10:return di(_.type._context),Zr(_),null;case 17:return or(_.type)&&bi(),Zr(_),null;case 19:if(ln(Fr),z=_.memoizedState,z===null)return Zr(_),null;if(k=(_.flags&128)!==0,X=z.rendering,X===null)if(k)Yl(z,!1);else{if(fi!==0||g!==null&&(g.flags&128)!==0)for(g=_.child;g!==null;){if(X=ng(g),X!==null){for(_.flags|=128,Yl(z,!1),g=X.updateQueue,g!==null&&(_.updateQueue=g,_.flags|=4),_.subtreeFlags=0,g=A,k=_.child;k!==null;)A=k,z=g,A.flags&=14680066,X=A.alternate,X===null?(A.childLanes=0,A.lanes=z,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=X.childLanes,A.lanes=X.lanes,A.child=X.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=X.memoizedProps,A.memoizedState=X.memoizedState,A.updateQueue=X.updateQueue,A.type=X.type,z=X.dependencies,A.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),k=k.sibling;return sn(Fr,Fr.current&1|2),_.child}g=g.sibling}z.tail!==null&&Pr()>qc&&(_.flags|=128,k=!0,Yl(z,!1),_.lanes=4194304)}else{if(!k)if(g=ng(X),g!==null){if(_.flags|=128,k=!0,g=g.updateQueue,g!==null&&(_.updateQueue=g,_.flags|=4),Yl(z,!0),z.tail===null&&z.tailMode==="hidden"&&!X.alternate&&!Rr)return Zr(_),null}else 2*Pr()-z.renderingStartTime>qc&&A!==1073741824&&(_.flags|=128,k=!0,Yl(z,!1),_.lanes=4194304);z.isBackwards?(X.sibling=_.child,_.child=X):(g=z.last,g!==null?g.sibling=X:_.child=X,z.last=X)}return z.tail!==null?(_=z.tail,z.rendering=_,z.tail=_.sibling,z.renderingStartTime=Pr(),_.sibling=null,g=Fr.current,sn(Fr,k?g&1|2:g&1),_):(Zr(_),null);case 22:case 23:return T0(),k=_.memoizedState!==null,g!==null&&g.memoizedState!==null!==k&&(_.flags|=8192),k&&(_.mode&1)!==0?(Bs&1073741824)!==0&&(Zr(_),pe&&_.subtreeFlags&6&&(_.flags|=8192)):Zr(_),null;case 24:return null;case 25:return null}throw Error(o(156,_.tag))}var v0=a.ReactCurrentOwner,Vi=!1;function jr(g,_,A,k){_.child=g===null?mb(_,null,A,k):Wl(_,g.child,A,k)}function _r(g,_,A,k,z){A=A.render;var X=_.ref;return Kr(_,z),k=gf(g,_,A,k,X,z),A=Wc(),g!==null&&!Vi?(_.updateQueue=g.updateQueue,_.flags&=-2053,g.lanes&=~z,oo(g,_,z)):(Rr&&A&&n0(_),_.flags|=1,jr(g,_,k,z),_.child)}function pr(g,_,A,k,z){if(g===null){var X=A.type;return typeof X=="function"&&!cp(X)&&X.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(_.tag=15,_.type=X,Xl(g,_,X,k,z)):(g=up(A.type,null,k,_,_.mode,z),g.ref=_.ref,g.return=_,_.child=g)}if(X=g.child,(g.lanes&z)===0){var de=X.memoizedProps;if(A=A.compare,A=A!==null?A:ro,A(de,k)&&g.ref===_.ref)return oo(g,_,z)}return _.flags|=1,g=tc(X,k),g.ref=_.ref,g.return=_,_.child=g}function Xl(g,_,A,k,z){if(g!==null&&ro(g.memoizedProps,k)&&g.ref===_.ref)if(Vi=!1,(g.lanes&z)!==0)(g.flags&131072)!==0&&(Vi=!0);else return _.lanes=g.lanes,oo(g,_,z);return ql(g,_,A,k,z)}function ss(g,_,A){var k=_.pendingProps,z=k.children,X=g!==null?g.memoizedState:null;if(k.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null},sn(ec,Bs),Bs|=A;else if((A&1073741824)!==0)_.memoizedState={baseLanes:0,cachePool:null},k=X!==null?X.baseLanes:A,sn(ec,Bs),Bs|=k;else return g=X!==null?X.baseLanes|A:A,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:g,cachePool:null},_.updateQueue=null,sn(ec,Bs),Bs|=g,null;else X!==null?(k=X.baseLanes|A,_.memoizedState=null):k=A,sn(ec,Bs),Bs|=k;return jr(g,_,z,A),_.child}function Ns(g,_){var A=_.ref;(g===null&&A!==null||g!==null&&g.ref!==A)&&(_.flags|=512,_.flags|=2097152)}function ql(g,_,A,k,z){var X=or(A)?to:Wr.current;return X=Zn(_,X),Kr(_,z),A=gf(g,_,A,k,X,z),k=Wc(),g!==null&&!Vi?(_.updateQueue=g.updateQueue,_.flags&=-2053,g.lanes&=~z,oo(g,_,z)):(Rr&&k&&n0(_),_.flags|=1,jr(g,_,A,z),_.child)}function td(g,_,A,k,z){if(or(A)){var X=!0;tl(_)}else X=!1;if(Kr(_,z),_.stateNode===null)g!==null&&(g.alternate=null,_.alternate=null,_.flags|=2),ub(_,A,k),t0(_,A,k,z),k=!0;else if(g===null){var de=_.stateNode,Me=_.memoizedProps;de.props=Me;var Ke=de.context,mt=A.contextType;typeof mt=="object"&&mt!==null?mt=Nr(mt):(mt=or(A)?to:Wr.current,mt=Zn(_,mt));var Vt=A.getDerivedStateFromProps,_n=typeof Vt=="function"||typeof de.getSnapshotBeforeUpdate=="function";_n||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Me!==k||Ke!==mt)&&db(_,de,k,mt),Yo=!1;var nn=_.memoizedState;de.state=nn,qm(_,k,de,z),Ke=_.memoizedState,Me!==k||nn!==Ke||Ar.current||Yo?(typeof Vt=="function"&&(Jy(_,A,Vt,k),Ke=_.memoizedState),(Me=Yo||e0(_,A,Me,k,nn,Ke,mt))?(_n||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(_.flags|=4194308)):(typeof de.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=k,_.memoizedState=Ke),de.props=k,de.state=Ke,de.context=mt,k=Me):(typeof de.componentDidMount=="function"&&(_.flags|=4194308),k=!1)}else{de=_.stateNode,Qy(g,_),Me=_.memoizedProps,mt=_.type===_.elementType?Me:Ni(_.type,Me),de.props=mt,_n=_.pendingProps,nn=de.context,Ke=A.contextType,typeof Ke=="object"&&Ke!==null?Ke=Nr(Ke):(Ke=or(A)?to:Wr.current,Ke=Zn(_,Ke));var mr=A.getDerivedStateFromProps;(Vt=typeof mr=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Me!==_n||nn!==Ke)&&db(_,de,k,Ke),Yo=!1,nn=_.memoizedState,de.state=nn,qm(_,k,de,z);var Nt=_.memoizedState;Me!==_n||nn!==Nt||Ar.current||Yo?(typeof mr=="function"&&(Jy(_,A,mr,k),Nt=_.memoizedState),(mt=Yo||e0(_,A,mt,k,nn,Nt,Ke)||!1)?(Vt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(k,Nt,Ke),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(k,Nt,Ke)),typeof de.componentDidUpdate=="function"&&(_.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof de.componentDidUpdate!="function"||Me===g.memoizedProps&&nn===g.memoizedState||(_.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Me===g.memoizedProps&&nn===g.memoizedState||(_.flags|=1024),_.memoizedProps=k,_.memoizedState=Nt),de.props=k,de.state=Nt,de.context=Ke,k=mt):(typeof de.componentDidUpdate!="function"||Me===g.memoizedProps&&nn===g.memoizedState||(_.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Me===g.memoizedProps&&nn===g.memoizedState||(_.flags|=1024),k=!1)}return gs(g,_,A,k,X,z)}function gs(g,_,A,k,z,X){Ns(g,_);var de=(_.flags&128)!==0;if(!k&&!de)return z&&Oi(_,A,!1),oo(g,_,X);k=_.stateNode,v0.current=_;var Me=de&&typeof A.getDerivedStateFromError!="function"?null:k.render();return _.flags|=1,g!==null&&de?(_.child=Wl(_,g.child,null,X),_.child=Wl(_,null,Me,X)):jr(g,_,Me,X),_.memoizedState=k.state,z&&Oi(_,A,!0),_.child}function Zh(g){var _=g.stateNode;_.pendingContext?Dr(g,_.pendingContext,_.pendingContext!==_.context):_.context&&Dr(g,_.context,!1),tg(g,_.containerInfo)}function y0(g,_,A,k,z){return df(),eg(z),_.flags|=256,jr(g,_,A,k),_.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function nd(g){return{baseLanes:g,cachePool:null}}function _0(g,_,A){var k=_.pendingProps,z=Fr.current,X=!1,de=(_.flags&128)!==0,Me;if((Me=de)||(Me=g!==null&&g.memoizedState===null?!1:(z&2)!==0),Me?(X=!0,_.flags&=-129):(g===null||g.memoizedState!==null)&&(z|=1),sn(Fr,z&1),g===null)return Gc(_),g=_.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((_.mode&1)===0?_.lanes=1:At(g)?_.lanes=8:_.lanes=1073741824,null):(z=k.children,g=k.fallback,X?(k=_.mode,X=_.child,z={mode:"hidden",children:z},(k&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=z):X=Of(z,k,0,null),g=tu(g,k,A,null),X.return=_,g.return=_,X.sibling=g,_.child=X,_.child.memoizedState=nd(A),_.memoizedState=Qh,g):Ra(_,z));if(z=g.memoizedState,z!==null){if(Me=z.dehydrated,Me!==null){if(de)return _.flags&256?(_.flags&=-257,ep(g,_,A,Error(o(422)))):_.memoizedState!==null?(_.child=g.child,_.flags|=128,null):(X=k.fallback,z=_.mode,k=Of({mode:"visible",children:k.children},z,0,null),X=tu(X,z,A,null),X.flags|=2,k.return=_,X.return=_,k.sibling=X,_.child=k,(_.mode&1)!==0&&Wl(_,g.child,null,A),_.child.memoizedState=nd(A),_.memoizedState=Qh,X);if((_.mode&1)===0)_=ep(g,_,A,null);else if(At(Me))_=ep(g,_,A,Error(o(419)));else if(k=(A&g.childLanes)!==0,Vi||k){if(k=zr,k!==null){switch(A&-A){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}k=(X&(k.suspendedLanes|A))!==0?0:X,k!==0&&k!==z.retryLane&&(z.retryLane=k,lo(g,k,-1))}sp(),_=ep(g,_,A,Error(o(421)))}else gt(Me)?(_.flags|=128,_.child=g.child,_=Tb.bind(null,g),xt(Me,_),_=null):(A=z.treeContext,me&&(is=rn(Me),Ds=_,Rr=!0,qo=null,uf=!1,A!==null&&(Xo[So++]=Gl,Xo[So++]=Hl,Xo[So++]=ju,Gl=A.id,Hl=A.overflow,ju=_)),_=Ra(_,_.pendingProps.children),_.flags|=4096);return _}return X?(k=vg(g,_,k.children,k.fallback,A),X=_.child,z=g.child.memoizedState,X.memoizedState=z===null?nd(A):{baseLanes:z.baseLanes|A,cachePool:null},X.childLanes=g.childLanes&~A,_.memoizedState=Qh,k):(A=Jh(g,_,k.children,A),_.memoizedState=null,A)}return X?(k=vg(g,_,k.children,k.fallback,A),X=_.child,z=g.child.memoizedState,X.memoizedState=z===null?nd(A):{baseLanes:z.baseLanes|A,cachePool:null},X.childLanes=g.childLanes&~A,_.memoizedState=Qh,k):(A=Jh(g,_,k.children,A),_.memoizedState=null,A)}function Ra(g,_){return _=Of({mode:"visible",children:_},g.mode,0,null),_.return=g,g.child=_}function Jh(g,_,A,k){var z=g.child;return g=z.sibling,A=tc(z,{mode:"visible",children:A}),(_.mode&1)===0&&(A.lanes=k),A.return=_,A.sibling=null,g!==null&&(k=_.deletions,k===null?(_.deletions=[g],_.flags|=16):k.push(g)),_.child=A}function vg(g,_,A,k,z){var X=_.mode;g=g.child;var de=g.sibling,Me={mode:"hidden",children:A};return(X&1)===0&&_.child!==g?(A=_.child,A.childLanes=0,A.pendingProps=Me,_.deletions=null):(A=tc(g,Me),A.subtreeFlags=g.subtreeFlags&14680064),de!==null?k=tc(de,k):(k=tu(k,X,z,null),k.flags|=2),k.return=_,A.return=_,A.sibling=k,_.child=A,k}function ep(g,_,A,k){return k!==null&&eg(k),Wl(_,g.child,null,A),g=Ra(_,_.pendingProps.children),g.flags|=2,_.memoizedState=null,g}function wb(g,_,A){g.lanes|=_;var k=g.alternate;k!==null&&(k.lanes|=_),Ei(g.return,_,A)}function ll(g,_,A,k,z){var X=g.memoizedState;X===null?g.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:k,tail:A,tailMode:z}:(X.isBackwards=_,X.rendering=null,X.renderingStartTime=0,X.last=k,X.tail=A,X.tailMode=z)}function rd(g,_,A){var k=_.pendingProps,z=k.revealOrder,X=k.tail;if(jr(g,_,k.children,A),k=Fr.current,(k&2)!==0)k=k&1|2,_.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=_.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&wb(g,A,_);else if(g.tag===19)wb(g,A,_);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===_)break e;for(;g.sibling===null;){if(g.return===null||g.return===_)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}k&=1}if(sn(Fr,k),(_.mode&1)===0)_.memoizedState=null;else switch(z){case"forwards":for(A=_.child,z=null;A!==null;)g=A.alternate,g!==null&&ng(g)===null&&(z=A),A=A.sibling;A=z,A===null?(z=_.child,_.child=null):(z=A.sibling,A.sibling=null),ll(_,!1,z,A,X);break;case"backwards":for(A=null,z=_.child,_.child=null;z!==null;){if(g=z.alternate,g!==null&&ng(g)===null){_.child=z;break}g=z.sibling,z.sibling=A,A=z,z=g}ll(_,!0,A,null,X);break;case"together":ll(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function oo(g,_,A){if(g!==null&&(_.dependencies=g.dependencies),od|=_.lanes,(A&_.childLanes)===0)return null;if(g!==null&&_.child!==g.child)throw Error(o(153));if(_.child!==null){for(g=_.child,A=tc(g,g.pendingProps),_.child=A,A.return=_;g.sibling!==null;)g=g.sibling,A=A.sibling=tc(g,g.pendingProps),A.return=_;A.sibling=null}return _.child}function yg(g,_,A){switch(_.tag){case 3:Zh(_),df();break;case 5:gb(_);break;case 1:or(_.type)&&tl(_);break;case 4:tg(_,_.stateNode.containerInfo);break;case 10:Bl(_,_.type._context,_.memoizedProps.value);break;case 13:var k=_.memoizedState;if(k!==null)return k.dehydrated!==null?(sn(Fr,Fr.current&1),_.flags|=128,null):(A&_.child.childLanes)!==0?_0(g,_,A):(sn(Fr,Fr.current&1),g=oo(g,_,A),g!==null?g.sibling:null);sn(Fr,Fr.current&1);break;case 19:if(k=(A&_.childLanes)!==0,(g.flags&128)!==0){if(k)return rd(g,_,A);_.flags|=128}var z=_.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),sn(Fr,Fr.current),k)break;return null;case 22:case 23:return _.lanes=0,ss(g,_,A)}return oo(g,_,A)}function _g(g,_){switch(r0(_),_.tag){case 1:return or(_.type)&&bi(),g=_.flags,g&65536?(_.flags=g&-65537|128,_):null;case 3:return mf(),ln(Ar),ln(Wr),qu(),g=_.flags,(g&65536)!==0&&(g&128)===0?(_.flags=g&-65537|128,_):null;case 5:return o0(_),null;case 13:if(ln(Fr),g=_.memoizedState,g!==null&&g.dehydrated!==null){if(_.alternate===null)throw Error(o(340));df()}return g=_.flags,g&65536?(_.flags=g&-65537|128,_):null;case 19:return ln(Fr),null;case 4:return mf(),null;case 10:return di(_.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var Fs=!1,Gi=!1,id=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Ko(g,_){var A=g.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(k){Gs(g,_,k)}else A.current=null}function Kl(g,_,A){try{A()}catch(k){Gs(g,_,k)}}var x0=!1;function w0(g,_){for(W(g.containerInfo),bt=_;bt!==null;)if(g=bt,_=g.child,(g.subtreeFlags&1028)!==0&&_!==null)_.return=g,bt=_;else for(;bt!==null;){g=bt;try{var A=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,z=A.memoizedState,X=g.stateNode,de=X.getSnapshotBeforeUpdate(g.elementType===g.type?k:Ni(g.type,k),z);X.__reactInternalSnapshotBeforeUpdate=de}break;case 3:pe&&st(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Me){Gs(g,g.return,Me)}if(_=g.sibling,_!==null){_.return=g.return,bt=_;break}bt=g.return}return A=x0,x0=!1,A}function Zl(g,_,A){var k=_.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var z=k=k.next;do{if((z.tag&g)===g){var X=z.destroy;z.destroy=void 0,X!==void 0&&Kl(_,A,X)}z=z.next}while(z!==k)}}function os(g,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&g)===g){var k=A.create;A.destroy=k()}A=A.next}while(A!==_)}}function Us(g){var _=g.ref;if(_!==null){var A=g.stateNode;switch(g.tag){case 5:g=K(A);break;default:g=A}typeof _=="function"?_(g):_.current=g}}function br(g,_,A){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(Nc,_)}catch{}switch(_.tag){case 0:case 11:case 14:case 15:if(g=_.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var k=g=g.next;do{var z=k,X=z.destroy;z=z.tag,X!==void 0&&((z&2)!==0||(z&4)!==0)&&Kl(_,A,X),k=k.next}while(k!==g)}break;case 1:if(Ko(_,A),g=_.stateNode,typeof g.componentWillUnmount=="function")try{g.props=_.memoizedProps,g.state=_.memoizedState,g.componentWillUnmount()}catch(de){Gs(_,A,de)}break;case 5:Ko(_,A);break;case 4:pe?E0(g,_,A):Z&&Z&&(_=_.stateNode.containerInfo,A=an(_),Rn(_,A))}}function Zo(g,_,A){for(var k=_;;)if(br(g,k,A),k.child===null||pe&&k.tag===4){if(k===_)break;for(;k.sibling===null;){if(k.return===null||k.return===_)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else k.child.return=k,k=k.child}function b0(g){var _=g.alternate;_!==null&&(g.alternate=null,b0(_)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(_=g.stateNode,_!==null&&Xe(_)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function S0(g){return g.tag===5||g.tag===3||g.tag===4}function xg(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||S0(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function wg(g){if(pe){e:{for(var _=g.return;_!==null;){if(S0(_))break e;_=_.return}throw Error(o(160))}var A=_;switch(A.tag){case 5:_=A.stateNode,A.flags&32&&(Rt(_),A.flags&=-33),A=xg(g),bf(g,A,_);break;case 3:case 4:_=A.stateNode.containerInfo,A=xg(g),bg(g,A,_);break;default:throw Error(o(161))}}}function bg(g,_,A){var k=g.tag;if(k===5||k===6)g=g.stateNode,_?dt(A,g,_):et(A,g);else if(k!==4&&(g=g.child,g!==null))for(bg(g,_,A),g=g.sibling;g!==null;)bg(g,_,A),g=g.sibling}function bf(g,_,A){var k=g.tag;if(k===5||k===6)g=g.stateNode,_?wt(A,g,_):He(A,g);else if(k!==4&&(g=g.child,g!==null))for(bf(g,_,A),g=g.sibling;g!==null;)bf(g,_,A),g=g.sibling}function E0(g,_,A){for(var k=_,z=!1,X,de;;){if(!z){z=k.return;e:for(;;){if(z===null)throw Error(o(160));switch(X=z.stateNode,z.tag){case 5:de=!1;break e;case 3:X=X.containerInfo,de=!0;break e;case 4:X=X.containerInfo,de=!0;break e}z=z.return}z=!0}if(k.tag===5||k.tag===6)Zo(g,k,A),de?ct(X,k.stateNode):tt(X,k.stateNode);else if(k.tag===18)de?Bt(X,k.stateNode):It(X,k.stateNode);else if(k.tag===4){if(k.child!==null){X=k.stateNode.containerInfo,de=!0,k.child.return=k,k=k.child;continue}}else if(br(g,k,A),k.child!==null){k.child.return=k,k=k.child;continue}if(k===_)break;for(;k.sibling===null;){if(k.return===null||k.return===_)return;k=k.return,k.tag===4&&(z=!1)}k.sibling.return=k.return,k=k.sibling}}function Yc(g,_){if(pe){switch(_.tag){case 0:case 11:case 14:case 15:Zl(3,_,_.return),os(3,_),Zl(5,_,_.return);return;case 1:return;case 5:var A=_.stateNode;if(A!=null){var k=_.memoizedProps;g=g!==null?g.memoizedProps:k;var z=_.type,X=_.updateQueue;_.updateQueue=null,X!==null&&lt(A,X,z,g,k,_)}return;case 6:if(_.stateNode===null)throw Error(o(162));A=_.memoizedProps,Ze(_.stateNode,g!==null?g.memoizedProps:A,A);return;case 3:me&&g!==null&&g.memoizedState.isDehydrated&&Ce(_.stateNode.containerInfo);return;case 12:return;case 13:Sf(_);return;case 19:Sf(_);return;case 17:return}throw Error(o(163))}switch(_.tag){case 0:case 11:case 14:case 15:Zl(3,_,_.return),os(3,_),Zl(5,_,_.return);return;case 12:return;case 13:Sf(_);return;case 19:Sf(_);return;case 3:me&&g!==null&&g.memoizedState.isDehydrated&&Ce(_.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(_.tag){case 1:case 5:case 6:break e;case 3:case 4:_=_.stateNode,Rn(_.containerInfo,_.pendingChildren);break e}throw Error(o(163))}}function Sf(g){var _=g.updateQueue;if(_!==null){g.updateQueue=null;var A=g.stateNode;A===null&&(A=g.stateNode=new id),_.forEach(function(k){var z=ap.bind(null,g,k);A.has(k)||(A.add(k),k.then(z,z))})}}function gM(g,_){for(bt=_;bt!==null;){_=bt;var A=_.deletions;if(A!==null)for(var k=0;k<A.length;k++){var z=A[k];try{var X=g;pe?E0(X,z,_):Zo(X,z,_);var de=z.alternate;de!==null&&(de.return=null),z.return=null}catch(Yt){Gs(z,_,Yt)}}if(A=_.child,(_.subtreeFlags&12854)!==0&&A!==null)A.return=_,bt=A;else for(;bt!==null;){_=bt;try{var Me=_.flags;if(Me&32&&pe&&Rt(_.stateNode),Me&512){var Ke=_.alternate;if(Ke!==null){var mt=Ke.ref;mt!==null&&(typeof mt=="function"?mt(null):mt.current=null)}}if(Me&8192)switch(_.tag){case 13:if(_.memoizedState!==null){var Vt=_.alternate;(Vt===null||Vt.memoizedState===null)&&(Tg=Pr())}break;case 22:var _n=_.memoizedState!==null,nn=_.alternate,mr=nn!==null&&nn.memoizedState!==null;if(A=_,pe){e:if(k=A,z=_n,X=null,pe)for(var Nt=k;;){if(Nt.tag===5){if(X===null){X=Nt;var er=Nt.stateNode;z?en(er):rt(Nt.stateNode,Nt.memoizedProps)}}else if(Nt.tag===6){if(X===null){var Po=Nt.stateNode;z?xe(Po):De(Po,Nt.memoizedProps)}}else if((Nt.tag!==22&&Nt.tag!==23||Nt.memoizedState===null||Nt===k)&&Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===k)break;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===k)break e;X===Nt&&(X=null),Nt=Nt.return}X===Nt&&(X=null),Nt.sibling.return=Nt.return,Nt=Nt.sibling}}if(_n&&!mr&&(A.mode&1)!==0){bt=A;for(var Be=A.child;Be!==null;){for(A=bt=Be;bt!==null;){k=bt;var Re=k.child;switch(k.tag){case 0:case 11:case 14:case 15:Zl(4,k,k.return);break;case 1:Ko(k,k.return);var $e=k.stateNode;if(typeof $e.componentWillUnmount=="function"){var Ot=k.return;try{$e.props=k.memoizedProps,$e.state=k.memoizedState,$e.componentWillUnmount()}catch(Yt){Gs(k,Ot,Yt)}}break;case 5:Ko(k,k.return);break;case 22:if(k.memoizedState!==null){sd(A);continue}}Re!==null?(Re.return=k,bt=Re):sd(A)}Be=Be.sibling}}}switch(Me&4102){case 2:wg(_),_.flags&=-3;break;case 6:wg(_),_.flags&=-3,Yc(_.alternate,_);break;case 4096:_.flags&=-4097;break;case 4100:_.flags&=-4097,Yc(_.alternate,_);break;case 4:Yc(_.alternate,_)}}catch(Yt){Gs(_,_.return,Yt)}if(A=_.sibling,A!==null){A.return=_.return,bt=A;break}bt=_.return}}}function Ia(g,_,A){bt=g,tp(g)}function tp(g,_,A){for(var k=(g.mode&1)!==0;bt!==null;){var z=bt,X=z.child;if(z.tag===22&&k){var de=z.memoizedState!==null||Fs;if(!de){var Me=z.alternate,Ke=Me!==null&&Me.memoizedState!==null||Gi;Me=Fs;var mt=Gi;if(Fs=de,(Gi=Ke)&&!mt)for(bt=z;bt!==null;)de=bt,Ke=de.child,de.tag===22&&de.memoizedState!==null?Sg(z):Ke!==null?(Ke.return=de,bt=Ke):Sg(z);for(;X!==null;)bt=X,tp(X),X=X.sibling;bt=z,Fs=Me,Gi=mt}np(g)}else(z.subtreeFlags&8772)!==0&&X!==null?(X.return=z,bt=X):np(g)}}function np(g){for(;bt!==null;){var _=bt;if((_.flags&8772)!==0){var A=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:Gi||os(5,_);break;case 1:var k=_.stateNode;if(_.flags&4&&!Gi)if(A===null)k.componentDidMount();else{var z=_.elementType===_.type?A.memoizedProps:Ni(_.type,A.memoizedProps);k.componentDidUpdate(z,A.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var X=_.updateQueue;X!==null&&lb(_,X,k);break;case 3:var de=_.updateQueue;if(de!==null){if(A=null,_.child!==null)switch(_.child.tag){case 5:A=K(_.child.stateNode);break;case 1:A=_.child.stateNode}lb(_,de,A)}break;case 5:var Me=_.stateNode;A===null&&_.flags&4&&Oe(Me,_.type,_.memoizedProps,_);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&_.memoizedState===null){var Ke=_.alternate;if(Ke!==null){var mt=Ke.memoizedState;if(mt!==null){var Vt=mt.dehydrated;Vt!==null&&Ye(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Gi||_.flags&512&&Us(_)}catch(_n){Gs(_,_.return,_n)}}if(_===g){bt=null;break}if(A=_.sibling,A!==null){A.return=_.return,bt=A;break}bt=_.return}}function sd(g){for(;bt!==null;){var _=bt;if(_===g){bt=null;break}var A=_.sibling;if(A!==null){A.return=_.return,bt=A;break}bt=_.return}}function Sg(g){for(;bt!==null;){var _=bt;try{switch(_.tag){case 0:case 11:case 15:var A=_.return;try{os(4,_)}catch(Ke){Gs(_,A,Ke)}break;case 1:var k=_.stateNode;if(typeof k.componentDidMount=="function"){var z=_.return;try{k.componentDidMount()}catch(Ke){Gs(_,z,Ke)}}var X=_.return;try{Us(_)}catch(Ke){Gs(_,X,Ke)}break;case 5:var de=_.return;try{Us(_)}catch(Ke){Gs(_,de,Ke)}}}catch(Ke){Gs(_,_.return,Ke)}if(_===g){bt=null;break}var Me=_.sibling;if(Me!==null){Me.return=_.return,bt=Me;break}bt=_.return}}var Ef=0,Tf=1,Cf=2,Ql=3,zs=4;if(typeof Symbol=="function"&&Symbol.for){var ka=Symbol.for;Ef=ka("selector.component"),Tf=ka("selector.has_pseudo_class"),Cf=ka("selector.role"),Ql=ka("selector.test_id"),zs=ka("selector.text")}function rp(g){var _=ue(g);if(_!=null){if(typeof _.memoizedProps["data-testname"]!="string")throw Error(o(364));return _}if(g=ke(g),g===null)throw Error(o(362));return g.stateNode.current}function Eg(g,_){switch(_.$$typeof){case Ef:if(g.type===_.value)return!0;break;case Tf:e:{_=_.value,g=[g,0];for(var A=0;A<g.length;){var k=g[A++],z=g[A++],X=_[z];if(k.tag!==5||!J(k)){for(;X!=null&&Eg(k,X);)z++,X=_[z];if(z===_.length){_=!0;break e}else for(k=k.child;k!==null;)g.push(k,z),k=k.sibling}}_=!1}return _;case Cf:if(g.tag===5&&he(g.stateNode,_.value))return!0;break;case zs:if((g.tag===5||g.tag===6)&&(g=ie(g),g!==null&&0<=g.indexOf(_.value)))return!0;break;case Ql:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===_.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Oa(g){switch(g.$$typeof){case Ef:return"<"+(I(g.value)||"Unknown")+">";case Tf:return":has("+(Oa(g)||"")+")";case Cf:return'[role="'+g.value+'"]';case zs:return'"'+g.value+'"';case Ql:return'[data-testname="'+g.value+'"]';default:throw Error(o(365))}}function Jl(g,_){var A=[];g=[g,0];for(var k=0;k<g.length;){var z=g[k++],X=g[k++],de=_[X];if(z.tag!==5||!J(z)){for(;de!=null&&Eg(z,de);)X++,de=_[X];if(X===_.length)A.push(z);else for(z=z.child;z!==null;)g.push(z,X),z=z.sibling}}return A}function ip(g,_){if(!je)throw Error(o(363));g=rp(g),g=Jl(g,_),_=[],g=Array.from(g);for(var A=0;A<g.length;){var k=g[A++];if(k.tag===5)J(k)||_.push(k.stateNode);else for(k=k.child;k!==null;)g.push(k),k=k.sibling}return _}var bb=Math.ceil,Qo=a.ReactCurrentDispatcher,cl=a.ReactCurrentOwner,Ir=a.ReactCurrentBatchConfig,Cn=0,zr=null,Qr=null,Hi=0,Bs=0,ec=Lt(0),fi=0,Mf=null,od=0,Af=0,ad=0,Xc=null,Vs=null,Tg=0,qc=1/0;function ld(){qc=Pr()+500}var Kc=!1,Jo=null,ea=null,Zc=!1,ao=null,Pf=0,ul=0,Cg=null,Rf=-1,xr=0;function Wi(){return(Cn&6)!==0?Pr():Rf!==-1?Rf:Rf=Pr()}function dl(g){return(g.mode&1)===0?1:(Cn&2)!==0&&Hi!==0?Hi&-Hi:zc.transition!==null?(xr===0&&(g=Ea,Ea<<=1,(Ea&4194240)===0&&(Ea=64),xr=g),xr):(g=mn,g!==0?g:ce())}function lo(g,_,A){if(50<ul)throw ul=0,Cg=null,Error(o(185));var k=cd(g,_);return k===null?null:(Ho(k,_,A),((Cn&2)===0||k!==zr)&&(k===zr&&((Cn&2)===0&&(Af|=_),fi===4&&La(k,Hi)),vs(k,A),_===1&&Cn===0&&(g.mode&1)===0&&(ld(),sl&&ms())),k)}function cd(g,_){g.lanes|=_;var A=g.alternate;for(A!==null&&(A.lanes|=_),A=g,g=g.return;g!==null;)g.childLanes|=_,A=g.alternate,A!==null&&(A.childLanes|=_),A=g,g=g.return;return A.tag===3?A.stateNode:null}function vs(g,_){var A=g.callbackNode;af(g,_);var k=Lc(g,g===zr?Hi:0);if(k===0)A!==null&&il(A),g.callbackNode=null,g.callbackPriority=0;else if(_=k&-k,g.callbackPriority!==_){if(A!=null&&il(A),_===1)g.tag===0?Uc(If.bind(null,g)):Wu(If.bind(null,g)),Ae?Ge(function(){Cn===0&&ms()}):wo(Ca,ms),A=null;else{switch(Wo(k)){case 1:A=Ca;break;case 4:A=$m;break;case 16:A=ps;break;case 536870912:A=Dc;break;default:A=ps}A=lp(A,Qc.bind(null,g))}g.callbackPriority=_,g.callbackNode=A}}function Qc(g,_){if(Rf=-1,xr=0,(Cn&6)!==0)throw Error(o(327));var A=g.callbackNode;if(eu()&&g.callbackNode!==A)return null;var k=Lc(g,g===zr?Hi:0);if(k===0)return null;if((k&30)!==0||(k&g.expiredLanes)!==0||_)_=Mo(g,k);else{_=k;var z=Cn;Cn|=2;var X=Ag();(zr!==g||Hi!==_)&&(ld(),$r(g,_));do try{op();break}catch(Me){Mg(g,Me)}while(!0);Fi(),Qo.current=X,Cn=z,Qr!==null?_=0:(zr=null,Hi=0,_=fi)}if(_!==0){if(_===2&&(z=rl(g),z!==0&&(k=z,_=Sr(g,z))),_===1)throw A=Mf,$r(g,0),La(g,k),vs(g,Pr()),A;if(_===6)La(g,k);else{if(z=g.current.alternate,(k&30)===0&&!ji(z)&&(_=Mo(g,k),_===2&&(X=rl(g),X!==0&&(k=X,_=Sr(g,X))),_===1))throw A=Mf,$r(g,0),La(g,k),vs(g,Pr()),A;switch(g.finishedWork=z,g.finishedLanes=k,_){case 0:case 1:throw Error(o(345));case 2:Jc(g,Vs);break;case 3:if(La(g,k),(k&130023424)===k&&(_=Tg+500-Pr(),10<_)){if(Lc(g,0)!==0)break;if(z=g.suspendedLanes,(z&k)!==k){Wi(),g.pingedLanes|=g.suspendedLanes&z;break}g.timeoutHandle=ye(Jc.bind(null,g,Vs),_);break}Jc(g,Vs);break;case 4:if(La(g,k),(k&4194240)===k)break;for(_=g.eventTimes,z=-1;0<k;){var de=31-no(k);X=1<<de,de=_[de],de>z&&(z=de),k&=~X}if(k=z,k=Pr()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*bb(k/1960))-k,10<k){g.timeoutHandle=ye(Jc.bind(null,g,Vs),k);break}Jc(g,Vs);break;case 5:Jc(g,Vs);break;default:throw Error(o(329))}}}return vs(g,Pr()),g.callbackNode===A?Qc.bind(null,g):null}function Sr(g,_){var A=Xc;return g.current.memoizedState.isDehydrated&&($r(g,_).flags|=256),g=Mo(g,_),g!==2&&(_=Vs,Vs=A,_!==null&&Jr(_)),g}function Jr(g){Vs===null?Vs=g:Vs.push.apply(Vs,g)}function ji(g){for(var _=g;;){if(_.flags&16384){var A=_.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var k=0;k<A.length;k++){var z=A[k],X=z.getSnapshot;z=z.value;try{if(!Li(X(),z))return!1}catch{return!1}}}if(A=_.child,_.subtreeFlags&16384&&A!==null)A.return=_,_=A;else{if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function La(g,_){for(_&=~ad,_&=~Af,g.suspendedLanes|=_,g.pingedLanes&=~_,g=g.expirationTimes;0<_;){var A=31-no(_),k=1<<A;g[A]=-1,_&=~k}}function If(g){if((Cn&6)!==0)throw Error(o(327));eu();var _=Lc(g,0);if((_&1)===0)return vs(g,Pr()),null;var A=Mo(g,_);if(g.tag!==0&&A===2){var k=rl(g);k!==0&&(_=k,A=Sr(g,k))}if(A===1)throw A=Mf,$r(g,0),La(g,_),vs(g,Pr()),A;if(A===6)throw Error(o(345));return g.finishedWork=g.current.alternate,g.finishedLanes=_,Jc(g,Vs),vs(g,Pr()),null}function kf(g){ao!==null&&ao.tag===0&&(Cn&6)===0&&eu();var _=Cn;Cn|=1;var A=Ir.transition,k=mn;try{if(Ir.transition=null,mn=1,g)return g()}finally{mn=k,Ir.transition=A,Cn=_,(Cn&6)===0&&ms()}}function T0(){Bs=ec.current,ln(ec)}function $r(g,_){g.finishedWork=null,g.finishedLanes=0;var A=g.timeoutHandle;if(A!==ve&&(g.timeoutHandle=ve,se(A)),Qr!==null)for(A=Qr.return;A!==null;){var k=A;switch(r0(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&bi();break;case 3:mf(),ln(Ar),ln(Wr),qu();break;case 5:o0(k);break;case 4:mf();break;case 13:ln(Fr);break;case 19:ln(Fr);break;case 10:di(k.type._context);break;case 22:case 23:T0()}A=A.return}if(zr=g,Qr=g=tc(g.current,null),Hi=Bs=_,fi=0,Mf=null,ad=Af=od=0,Vs=Xc=null,Ls!==null){for(_=0;_<Ls.length;_++)if(A=Ls[_],k=A.interleaved,k!==null){A.interleaved=null;var z=k.next,X=A.pending;if(X!==null){var de=X.next;X.next=z,k.next=de}A.pending=k}Ls=null}return g}function Mg(g,_){do{var A=Qr;try{if(Fi(),Gh.current=xf,rg){for(var k=Ur.memoizedState;k!==null;){var z=k.queue;z!==null&&(z.pending=null),k=k.next}rg=!1}if(Ku=0,zi=Ui=Ur=null,ol=!1,Zu=0,cl.current=null,A===null||A.return===null){fi=1,Mf=_,Qr=null;break}e:{var X=g,de=A.return,Me=A,Ke=_;if(_=Hi,Me.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var mt=Ke,Vt=Me,_n=Vt.tag;if((Vt.mode&1)===0&&(_n===0||_n===11||_n===15)){var nn=Vt.alternate;nn?(Vt.updateQueue=nn.updateQueue,Vt.memoizedState=nn.memoizedState,Vt.lanes=nn.lanes):(Vt.updateQueue=null,Vt.memoizedState=null)}var mr=g0(de);if(mr!==null){mr.flags&=-257,Ju(mr,de,Me,X,_),mr.mode&1&&$l(X,mt,_),_=mr,Ke=mt;var Nt=_.updateQueue;if(Nt===null){var er=new Set;er.add(Ke),_.updateQueue=er}else Nt.add(Ke);break e}else{if((_&1)===0){$l(X,mt,_),sp();break e}Ke=Error(o(426))}}else if(Rr&&Me.mode&1){var Po=g0(de);if(Po!==null){(Po.flags&65536)===0&&(Po.flags|=256),Ju(Po,de,Me,X,_),eg(Ke);break e}}X=Ke,fi!==4&&(fi=2),Xc===null?Xc=[X]:Xc.push(X),Ke=m0(Ke,Me),Me=de;do{switch(Me.tag){case 3:Me.flags|=65536,_&=-_,Me.lanes|=_;var Be=xb(Me,Ke,_);Xm(Me,Be);break e;case 1:X=Ke;var Re=Me.type,$e=Me.stateNode;if((Me.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(ea===null||!ea.has($e)))){Me.flags|=65536,_&=-_,Me.lanes|=_;var Ot=hg(Me,X,_);Xm(Me,Ot);break e}}Me=Me.return}while(Me!==null)}Rg(A)}catch(Yt){_=Yt,Qr===A&&A!==null&&(Qr=A=A.return);continue}break}while(!0)}function Ag(){var g=Qo.current;return Qo.current=xf,g===null?xf:g}function sp(){(fi===0||fi===3||fi===2)&&(fi=4),zr===null||(od&268435455)===0&&(Af&268435455)===0||La(zr,Hi)}function Mo(g,_){var A=Cn;Cn|=2;var k=Ag();zr===g&&Hi===_||$r(g,_);do try{ta();break}catch(z){Mg(g,z)}while(!0);if(Fi(),Cn=A,Qo.current=k,Qr!==null)throw Error(o(261));return zr=null,Hi=0,fi}function ta(){for(;Qr!==null;)Pg(Qr)}function op(){for(;Qr!==null&&!jo();)Pg(Qr)}function Pg(g){var _=A0(g.alternate,g,Bs);g.memoizedProps=g.pendingProps,_===null?Rg(g):Qr=_,cl.current=null}function Rg(g){var _=g;do{var A=_.alternate;if(g=_.return,(_.flags&32768)===0){if(A=gg(A,_,Bs),A!==null){Qr=A;return}}else{if(A=_g(A,_),A!==null){A.flags&=32767,Qr=A;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{fi=6,Qr=null;return}}if(_=_.sibling,_!==null){Qr=_;return}Qr=_=g}while(_!==null);fi===0&&(fi=5)}function Jc(g,_){var A=mn,k=Ir.transition;try{Ir.transition=null,mn=1,Sb(g,_,A)}finally{Ir.transition=k,mn=A}return null}function Sb(g,_,A){do eu();while(ao!==null);if((Cn&6)!==0)throw Error(o(327));var k=g.finishedWork,z=g.finishedLanes;if(k===null)return null;if(g.finishedWork=null,g.finishedLanes=0,k===g.current)throw Error(o(177));g.callbackNode=null,g.callbackPriority=0;var X=k.lanes|k.childLanes;if(Ta(g,X),g===zr&&(Qr=zr=null,Hi=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||Zc||(Zc=!0,lp(ps,function(){return eu(),null})),X=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||X){X=Ir.transition,Ir.transition=null;var de=mn;mn=1;var Me=Cn;Cn|=4,cl.current=null,w0(g,k),gM(g,k),F(g.containerInfo),g.current=k,Ia(k),jm(),Cn=Me,mn=de,Ir.transition=X}else g.current=k;if(Zc&&(Zc=!1,ao=g,Pf=z),X=g.pendingLanes,X===0&&(ea=null),Nl(k.stateNode),vs(g,Pr()),_!==null)for(A=g.onRecoverableError,k=0;k<_.length;k++)A(_[k]);if(Kc)throw Kc=!1,g=Jo,Jo=null,g;return(Pf&1)!==0&&g.tag!==0&&eu(),X=g.pendingLanes,(X&1)!==0?g===Cg?ul++:(ul=0,Cg=g):ul=0,ms(),null}function eu(){if(ao!==null){var g=Wo(Pf),_=Ir.transition,A=mn;try{if(Ir.transition=null,mn=16>g?16:g,ao===null)var k=!1;else{if(g=ao,ao=null,Pf=0,(Cn&6)!==0)throw Error(o(331));var z=Cn;for(Cn|=4,bt=g.current;bt!==null;){var X=bt,de=X.child;if((bt.flags&16)!==0){var Me=X.deletions;if(Me!==null){for(var Ke=0;Ke<Me.length;Ke++){var mt=Me[Ke];for(bt=mt;bt!==null;){var Vt=bt;switch(Vt.tag){case 0:case 11:case 15:Zl(8,Vt,X)}var _n=Vt.child;if(_n!==null)_n.return=Vt,bt=_n;else for(;bt!==null;){Vt=bt;var nn=Vt.sibling,mr=Vt.return;if(b0(Vt),Vt===mt){bt=null;break}if(nn!==null){nn.return=mr,bt=nn;break}bt=mr}}}var Nt=X.alternate;if(Nt!==null){var er=Nt.child;if(er!==null){Nt.child=null;do{var Po=er.sibling;er.sibling=null,er=Po}while(er!==null)}}bt=X}}if((X.subtreeFlags&2064)!==0&&de!==null)de.return=X,bt=de;else e:for(;bt!==null;){if(X=bt,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:Zl(9,X,X.return)}var Be=X.sibling;if(Be!==null){Be.return=X.return,bt=Be;break e}bt=X.return}}var Re=g.current;for(bt=Re;bt!==null;){de=bt;var $e=de.child;if((de.subtreeFlags&2064)!==0&&$e!==null)$e.return=de,bt=$e;else e:for(de=Re;bt!==null;){if(Me=bt,(Me.flags&2048)!==0)try{switch(Me.tag){case 0:case 11:case 15:os(9,Me)}}catch(Yt){Gs(Me,Me.return,Yt)}if(Me===de){bt=null;break e}var Ot=Me.sibling;if(Ot!==null){Ot.return=Me.return,bt=Ot;break e}bt=Me.return}}if(Cn=z,ms(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(Nc,g)}catch{}k=!0}return k}finally{mn=A,Ir.transition=_}}return!1}function C0(g,_,A){_=m0(A,_),_=xb(g,_,1),Bc(g,_),_=Wi(),g=cd(g,1),g!==null&&(Ho(g,1,_),vs(g,_))}function Gs(g,_,A){if(g.tag===3)C0(g,g,A);else for(;_!==null;){if(_.tag===3){C0(_,g,A);break}else if(_.tag===1){var k=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(ea===null||!ea.has(k))){g=m0(A,g),g=hg(_,g,1),Bc(_,g),g=Wi(),_=cd(_,1),_!==null&&(Ho(_,1,g),vs(_,g));break}}_=_.return}}function Eb(g,_,A){var k=g.pingCache;k!==null&&k.delete(_),_=Wi(),g.pingedLanes|=g.suspendedLanes&A,zr===g&&(Hi&A)===A&&(fi===4||fi===3&&(Hi&130023424)===Hi&&500>Pr()-Tg?$r(g,0):ad|=A),vs(g,_)}function M0(g,_){_===0&&((g.mode&1)===0?_=1:(_=zn,zn<<=1,(zn&130023424)===0&&(zn=4194304)));var A=Wi();g=cd(g,_),g!==null&&(Ho(g,_,A),vs(g,A))}function Tb(g){var _=g.memoizedState,A=0;_!==null&&(A=_.retryLane),M0(g,A)}function ap(g,_){var A=0;switch(g.tag){case 13:var k=g.stateNode,z=g.memoizedState;z!==null&&(A=z.retryLane);break;case 19:k=g.stateNode;break;default:throw Error(o(314))}k!==null&&k.delete(_),M0(g,A)}var A0;A0=function(g,_,A){if(g!==null)if(g.memoizedProps!==_.pendingProps||Ar.current)Vi=!0;else{if((g.lanes&A)===0&&(_.flags&128)===0)return Vi=!1,yg(g,_,A);Vi=(g.flags&131072)!==0}else Vi=!1,Rr&&(_.flags&1048576)!==0&&fb(_,Qm,_.index);switch(_.lanes=0,_.tag){case 2:var k=_.type;g!==null&&(g.alternate=null,_.alternate=null,_.flags|=2),g=_.pendingProps;var z=Zn(_,Wr.current);Kr(_,A),z=gf(null,_,k,g,z,A);var X=Wc();return _.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,or(k)?(X=!0,tl(_)):X=!1,_.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,lf(_),z.updater=Km,_.stateNode=z,z._reactInternals=_,t0(_,k,g,A),_=gs(null,_,k,!0,X,A)):(_.tag=0,Rr&&X&&n0(_),jr(null,_,z,A),_=_.child),_;case 16:k=_.elementType;e:{switch(g!==null&&(g.alternate=null,_.alternate=null,_.flags|=2),g=_.pendingProps,z=k._init,k=z(k._payload),_.type=k,z=_.tag=Cb(k),g=Ni(k,g),z){case 0:_=ql(null,_,k,g,A);break e;case 1:_=td(null,_,k,g,A);break e;case 11:_=_r(null,_,k,g,A);break e;case 14:_=pr(null,_,k,Ni(k.type,g),A);break e}throw Error(o(306,k,""))}return _;case 0:return k=_.type,z=_.pendingProps,z=_.elementType===k?z:Ni(k,z),ql(g,_,k,z,A);case 1:return k=_.type,z=_.pendingProps,z=_.elementType===k?z:Ni(k,z),td(g,_,k,z,A);case 3:e:{if(Zh(_),g===null)throw Error(o(387));k=_.pendingProps,X=_.memoizedState,z=X.element,Qy(g,_),qm(_,k,null,A);var de=_.memoizedState;if(k=de.element,me&&X.isDehydrated)if(X={element:k,isDehydrated:!1,cache:de.cache,transitions:de.transitions},_.updateQueue.baseState=X,_.memoizedState=X,_.flags&256){z=Error(o(423)),_=y0(g,_,k,A,z);break e}else if(k!==z){z=Error(o(424)),_=y0(g,_,k,A,z);break e}else for(me&&(is=Wt(_.stateNode.containerInfo),Ds=_,Rr=!0,qo=null,uf=!1),A=mb(_,null,k,A),_.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(df(),k===z){_=oo(g,_,A);break e}jr(g,_,k,A)}_=_.child}return _;case 5:return gb(_),g===null&&Gc(_),k=_.type,z=_.pendingProps,X=g!==null?g.memoizedProps:null,de=z.children,le(k,z)?de=null:X!==null&&le(k,X)&&(_.flags|=32),Ns(g,_),jr(g,_,de,A),_.child;case 6:return g===null&&Gc(_),null;case 13:return _0(g,_,A);case 4:return tg(_,_.stateNode.containerInfo),k=_.pendingProps,g===null?_.child=Wl(_,null,k,A):jr(g,_,k,A),_.child;case 11:return k=_.type,z=_.pendingProps,z=_.elementType===k?z:Ni(k,z),_r(g,_,k,z,A);case 7:return jr(g,_,_.pendingProps,A),_.child;case 8:return jr(g,_,_.pendingProps.children,A),_.child;case 12:return jr(g,_,_.pendingProps.children,A),_.child;case 10:e:{if(k=_.type._context,z=_.pendingProps,X=_.memoizedProps,de=z.value,Bl(_,k,de),X!==null)if(Li(X.value,de)){if(X.children===z.children&&!Ar.current){_=oo(g,_,A);break e}}else for(X=_.child,X!==null&&(X.return=_);X!==null;){var Me=X.dependencies;if(Me!==null){de=X.child;for(var Ke=Me.firstContext;Ke!==null;){if(Ke.context===k){if(X.tag===1){Ke=Vl(-1,A&-A),Ke.tag=2;var mt=X.updateQueue;if(mt!==null){mt=mt.shared;var Vt=mt.pending;Vt===null?Ke.next=Ke:(Ke.next=Vt.next,Vt.next=Ke),mt.pending=Ke}}X.lanes|=A,Ke=X.alternate,Ke!==null&&(Ke.lanes|=A),Ei(X.return,A,_),Me.lanes|=A;break}Ke=Ke.next}}else if(X.tag===10)de=X.type===_.type?null:X.child;else if(X.tag===18){if(de=X.return,de===null)throw Error(o(341));de.lanes|=A,Me=de.alternate,Me!==null&&(Me.lanes|=A),Ei(de,A,_),de=X.sibling}else de=X.child;if(de!==null)de.return=X;else for(de=X;de!==null;){if(de===_){de=null;break}if(X=de.sibling,X!==null){X.return=de.return,de=X;break}de=de.return}X=de}jr(g,_,z.children,A),_=_.child}return _;case 9:return z=_.type,k=_.pendingProps.children,Kr(_,A),z=Nr(z),k=k(z),_.flags|=1,jr(g,_,k,A),_.child;case 14:return k=_.type,z=Ni(k,_.pendingProps),z=Ni(k.type,z),pr(g,_,k,z,A);case 15:return Xl(g,_,_.type,_.pendingProps,A);case 17:return k=_.type,z=_.pendingProps,z=_.elementType===k?z:Ni(k,z),g!==null&&(g.alternate=null,_.alternate=null,_.flags|=2),_.tag=1,or(k)?(g=!0,tl(_)):g=!1,Kr(_,A),ub(_,k,z),t0(_,k,z,A),gs(null,_,k,!0,g,A);case 19:return rd(g,_,A);case 22:return ss(g,_,A)}throw Error(o(156,_.tag))};function lp(g,_){return wo(g,_)}function Ig(g,_,A,k){this.tag=g,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(g,_,A,k){return new Ig(g,_,A,k)}function cp(g){return g=g.prototype,!(!g||!g.isReactComponent)}function Cb(g){if(typeof g=="function")return cp(g)?1:0;if(g!=null){if(g=g.$$typeof,g===w)return 11;if(g===b)return 14}return 2}function tc(g,_){var A=g.alternate;return A===null?(A=Ao(g.tag,_,g.key,g.mode),A.elementType=g.elementType,A.type=g.type,A.stateNode=g.stateNode,A.alternate=g,g.alternate=A):(A.pendingProps=_,A.type=g.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=g.flags&14680064,A.childLanes=g.childLanes,A.lanes=g.lanes,A.child=g.child,A.memoizedProps=g.memoizedProps,A.memoizedState=g.memoizedState,A.updateQueue=g.updateQueue,_=g.dependencies,A.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},A.sibling=g.sibling,A.index=g.index,A.ref=g.ref,A}function up(g,_,A,k,z,X){var de=2;if(k=g,typeof g=="function")cp(g)&&(de=1);else if(typeof g=="string")de=5;else e:switch(g){case u:return tu(A.children,z,X,_);case d:de=8,z|=8;break;case f:return g=Ao(12,A,_,z|2),g.elementType=f,g.lanes=X,g;case x:return g=Ao(13,A,_,z),g.elementType=x,g.lanes=X,g;case y:return g=Ao(19,A,_,z),g.elementType=y,g.lanes=X,g;case T:return Of(A,z,X,_);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case m:de=10;break e;case v:de=9;break e;case w:de=11;break e;case b:de=14;break e;case S:de=16,k=null;break e}throw Error(o(130,g==null?g:typeof g,""))}return _=Ao(de,A,_,z),_.elementType=g,_.type=k,_.lanes=X,_}function tu(g,_,A,k){return g=Ao(7,g,k,_),g.lanes=A,g}function Of(g,_,A,k){return g=Ao(22,g,k,_),g.elementType=T,g.lanes=A,g.stateNode={},g}function kg(g,_,A){return g=Ao(6,g,null,_),g.lanes=A,g}function Og(g,_,A){return _=Ao(4,g.children!==null?g.children:[],g.key,_),_.lanes=A,_.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},_}function Mb(g,_,A,k,z){this.tag=_,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=k,this.onRecoverableError=z,me&&(this.mutableSourceEagerHydrationData=null)}function Ab(g,_,A,k,z,X,de,Me,Ke){return g=new Mb(g,_,A,Me,Ke),_===1?(_=1,X===!0&&(_|=8)):_=0,X=Ao(3,null,null,_),g.current=X,X.stateNode=g,X.memoizedState={element:k,isDehydrated:A,cache:null,transitions:null},lf(X),g}function P0(g){if(!g)return Xn;g=g._reactInternals;e:{if(R(g)!==g||g.tag!==1)throw Error(o(170));var _=g;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(or(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(o(171))}if(g.tag===1){var A=g.type;if(or(A))return el(g,A,_)}return _}function Pb(g){var _=g._reactInternals;if(_===void 0)throw typeof g.render=="function"?Error(o(188)):(g=Object.keys(g).join(","),Error(o(268,g)));return g=$(_),g===null?null:g.stateNode}function Rb(g,_){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var A=g.retryLane;g.retryLane=A!==0&&A<_?A:_}}function Lg(g,_){Rb(g,_),(g=g.alternate)&&Rb(g,_)}function Ib(g){return g=$(g),g===null?null:g.stateNode}function kb(){return null}return n.attemptContinuousHydration=function(g){if(g.tag===13){var _=Wi();lo(g,134217728,_),Lg(g,134217728)}},n.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var _=Wi(),A=dl(g);lo(g,A,_),Lg(g,A)}},n.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var _=g.stateNode;if(_.current.memoizedState.isDehydrated){var A=nl(_.pendingLanes);A!==0&&(rs(_,A|1),vs(_,Pr()),(Cn&6)===0&&(ld(),ms()))}break;case 13:var k=Wi();kf(function(){return lo(g,1,k)}),Lg(g,1)}},n.batchedUpdates=function(g,_){var A=Cn;Cn|=1;try{return g(_)}finally{Cn=A,Cn===0&&(ld(),sl&&ms())}},n.createComponentSelector=function(g){return{$$typeof:Ef,value:g}},n.createContainer=function(g,_,A,k,z,X,de){return Ab(g,_,!1,null,A,k,z,X,de)},n.createHasPseudoClassSelector=function(g){return{$$typeof:Tf,value:g}},n.createHydrationContainer=function(g,_,A,k,z,X,de,Me,Ke){return g=Ab(A,k,!0,g,z,X,de,Me,Ke),g.context=P0(null),A=g.current,k=Wi(),z=dl(A),X=Vl(k,z),X.callback=_??null,Bc(A,X),g.current.lanes=z,Ho(g,z,k),vs(g,k),g},n.createPortal=function(g,_,A){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:k==null?null:""+k,children:g,containerInfo:_,implementation:A}},n.createRoleSelector=function(g){return{$$typeof:Cf,value:g}},n.createTestNameSelector=function(g){return{$$typeof:Ql,value:g}},n.createTextSelector=function(g){return{$$typeof:zs,value:g}},n.deferredUpdates=function(g){var _=mn,A=Ir.transition;try{return Ir.transition=null,mn=16,g()}finally{mn=_,Ir.transition=A}},n.discreteUpdates=function(g,_,A,k,z){var X=mn,de=Ir.transition;try{return Ir.transition=null,mn=1,g(_,A,k,z)}finally{mn=X,Ir.transition=de,Cn===0&&ld()}},n.findAllNodes=ip,n.findBoundingRects=function(g,_){if(!je)throw Error(o(363));_=ip(g,_),g=[];for(var A=0;A<_.length;A++)g.push(nt(_[A]));for(_=g.length-1;0<_;_--){A=g[_];for(var k=A.x,z=k+A.width,X=A.y,de=X+A.height,Me=_-1;0<=Me;Me--)if(_!==Me){var Ke=g[Me],mt=Ke.x,Vt=mt+Ke.width,_n=Ke.y,nn=_n+Ke.height;if(k>=mt&&X>=_n&&z<=Vt&&de<=nn){g.splice(_,1);break}else if(k!==mt||A.width!==Ke.width||nn<X||_n>de){if(!(X!==_n||A.height!==Ke.height||Vt<k||mt>z)){mt>k&&(Ke.width+=mt-k,Ke.x=k),Vt<z&&(Ke.width=z-mt),g.splice(_,1);break}}else{_n>X&&(Ke.height+=_n-X,Ke.y=X),nn<de&&(Ke.height=de-_n),g.splice(_,1);break}}}return g},n.findHostInstance=Pb,n.findHostInstanceWithNoPortals=function(g){return g=j(g),g=g!==null?Q(g):null,g===null?null:g.stateNode},n.findHostInstanceWithWarning=function(g){return Pb(g)},n.flushControlled=function(g){var _=Cn;Cn|=1;var A=Ir.transition,k=mn;try{Ir.transition=null,mn=1,g()}finally{mn=k,Ir.transition=A,Cn=_,Cn===0&&(ld(),ms())}},n.flushPassiveEffects=eu,n.flushSync=kf,n.focusWithin=function(g,_){if(!je)throw Error(o(363));for(g=rp(g),_=Jl(g,_),_=Array.from(_),g=0;g<_.length;){var A=_[g++];if(!J(A)){if(A.tag===5&&Ne(A.stateNode))return!0;for(A=A.child;A!==null;)_.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return mn},n.getFindAllNodesFailureDescription=function(g,_){if(!je)throw Error(o(363));var A=0,k=[];g=[rp(g),0];for(var z=0;z<g.length;){var X=g[z++],de=g[z++],Me=_[de];if((X.tag!==5||!J(X))&&(Eg(X,Me)&&(k.push(Oa(Me)),de++,de>A&&(A=de)),de<_.length))for(X=X.child;X!==null;)g.push(X,de),X=X.sibling}if(A<_.length){for(g=[];A<_.length;A++)g.push(Oa(_[A]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},n.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return K(g.child.stateNode);default:return g.child.stateNode}},n.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Ib,findFiberByHostInstance:g.findFiberByHostInstance||kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled||!_.supportsFiber)g=!0;else{try{Nc=_.inject(g),bo=_}catch{}g=!!_.checkDCE}}return g},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(g,_,A,k){if(!je)throw Error(o(363));g=ip(g,_);var z=ze(g,A,k).disconnect;return{disconnect:function(){z()}}},n.registerMutableSourceForHydration=function(g,_){var A=_._getVersion;A=A(_._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[_,A]:g.mutableSourceEagerHydrationData.push(_,A)},n.runWithPriority=function(g,_){var A=mn;try{return mn=g,_()}finally{mn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(g,_,A,k){var z=_.current,X=Wi(),de=dl(z);return A=P0(A),_.context===null?_.context=A:_.pendingContext=A,_=Vl(X,de),_.payload={element:g},k=k===void 0?null:k,k!==null&&(_.callback=k),Bc(z,_),g=lo(z,de,X),g!==null&&Ym(g,z,de),de},n}),yP}var a4;function GTe(){return a4||(a4=1,mP.exports=VTe()),mP.exports}var HTe=GTe();const WTe=qa(HTe);var _P={exports:{}},xP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function jTe(){return l4||(l4=1,function(t){function e(G,W){var F=G.length;G.push(W);e:for(;0<F;){var U=F-1>>>1,q=G[U];if(0<i(q,W))G[U]=W,G[F]=q,F=U;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],F=G.pop();if(F!==W){G[0]=F;e:for(var U=0,q=G.length,te=q>>>1;U<te;){var re=2*(U+1)-1,le=G[re],fe=re+1,ye=G[fe];if(0>i(le,F))fe<q&&0>i(ye,le)?(G[U]=ye,G[fe]=F,U=fe):(G[U]=le,G[re]=F,U=re);else if(fe<q&&0>i(ye,F))G[U]=ye,G[fe]=F,U=fe;else break e}}return W}function i(G,W){var F=G.sortIndex-W.sortIndex;return F!==0?F:G.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=G)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function T(G){if(w=!1,S(G),!v)if(n(l)!==null)v=!0,K(C);else{var W=n(c);W!==null&&V(T,W.startTime-G)}}function C(G,W){v=!1,w&&(w=!1,y(O),O=-1),m=!0;var F=f;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||G&&!j());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var q=U(d.expirationTime<=W);W=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var re=n(c);re!==null&&V(T,re.startTime-W),te=!1}return te}finally{d=null,f=F,m=!1}}var M=!1,I=null,O=-1,R=5,D=-1;function j(){return!(t.unstable_now()-D<R)}function $(){if(I!==null){var G=t.unstable_now();D=G;var W=!0;try{W=I(!0,G)}finally{W?B():(M=!1,I=null)}}else M=!1}var B;if(typeof b=="function")B=function(){b($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=$,B=function(){ne.postMessage(null)}}else B=function(){x($,0)};function K(G){I=G,M||(M=!0,B())}function V(G,W){O=x(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,K(C))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return G()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=f;f=G;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(G,W,F){var U=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,G={id:u++,callback:W,priorityLevel:G,startTime:F,expirationTime:q,sortIndex:-1},F>U?(G.sortIndex=F,e(c,G),n(l)===null&&G===n(c)&&(w?(y(O),O=-1):w=!0,V(T,F-U))):(G.sortIndex=q,e(l,G),v||m||(v=!0,K(C))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var W=f;return function(){var F=f;f=W;try{return G.apply(this,arguments)}finally{f=F}}}}(xP)),xP}var c4;function $Te(){return c4||(c4=1,_P.exports=jTe()),_P.exports}var u4=$Te();const YTe=t=>typeof t=="object"&&typeof t.then=="function",fS=[];function XTe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function qTe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of fS)if(XTe(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=fS.indexOf(i);s!==-1&&fS.splice(s,1)},promise:(YTe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(fS.push(i),!n)throw i.promise}const KTe=(t,e,n)=>qTe(t,e,!1,n),XL={},EY=t=>void Object.assign(XL,t);function ZTe(t,e){function n(u,{args:d=[],attach:f,...m},v){let w=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=m.object;x=Ov(y,{type:u,root:v,attach:f,primitive:!0})}else{const y=XL[w];if(!y)throw new Error(`R3F: ${w} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Ov(new y(...d),{type:u,root:v,attach:f,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof Pn?x.__r3f.attach="geometry":x instanceof Js&&(x.__r3f.attach="material")),w!=="inject"&&SP(x,m),x}function r(u,d){let f=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?bP(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Ov(d,{}),d.__r3f.parent=u,S2(d),Lv(d)}}function i(u,d,f){let m=!1;if(d){var v,w;if((v=d.__r3f)!=null&&v.attach)bP(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const x=u.children.filter(b=>b!==d),y=x.indexOf(f);u.children=[...x.slice(0,y),d,...x.slice(y)],m=!0}m||(w=u.__r3f)==null||w.objects.push(d),d.__r3f||Ov(d,{}),d.__r3f.parent=u,S2(d),Lv(d)}}function s(u,d,f=!1){u&&[...u].forEach(m=>o(d,m,f))}function o(u,d,f){if(d){var m,v,w;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(T=>T!==d)),(v=d.__r3f)!=null&&v.attach)m4(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var x;u.remove(d),(x=d.__r3f)!=null&&x.root&&iCe(d.__r3f.root,d)}const b=(w=d.__r3f)==null?void 0:w.primitive,S=f===void 0?d.dispose!==null&&!b:f;if(!b){var y;s((y=d.__r3f)==null?void 0:y.objects,d,S),s(d.children,d,S)}delete d.__r3f,S&&d.dispose&&d.type!=="Scene"&&u4.unstable_scheduleCallback(u4.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Lv(u)}}function a(u,d,f,m){var v;const w=(v=u.__r3f)==null?void 0:v.parent;if(!w)return;const x=n(d,f,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(x,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(x,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(w,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(w,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(y=>{y!==null&&(y.stateNode=x,y.ref&&(typeof y.ref=="function"?y.ref(x):y.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:WTe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&i(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:x=[],children:y,...b}=m,{args:S=[],children:T,...C}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,O)=>I!==S[O]))return[!0];const M=IY(u,b,C,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[d,f],m,v,w,x){d?a(u,m,w,x):SP(u,f)},commitMount(u,d,f,m){var v;const w=(v=u.__r3f)!=null?v:{};u.raycast&&w.handlers&&w.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ov(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&m4(m,u,f),u.isObject3D&&(u.visible=!1),Lv(u)},unhideInstance(u,d){var f;const{attach:m,parent:v}=(f=u.__r3f)!=null?f:{};m&&v&&bP(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Lv(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Vv.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yr.fun(performance.now)?performance.now:Yr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:SP}}var d4,f4;const wP=t=>"colorSpace"in t||"outputColorSpace"in t,TY=()=>{var t;return(t=XL.ColorManagement)!=null?t:null},CY=t=>t&&t.isOrthographicCamera,QTe=t=>t&&t.hasOwnProperty("current"),Zw=typeof window<"u"&&((d4=window.document)!=null&&d4.createElement||((f4=window.navigator)==null?void 0:f4.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function MY(t){const e=N.useRef(t);return Zw(()=>void(e.current=t),[t]),e}function JTe({set:t}){return Zw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class AY extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AY.getDerivedStateFromError=()=>({error:!0});const PY="__default",h4=new Map,eCe=t=>t&&!!t.memoized&&!!t.changes;function RY(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const d_=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Yr={obj:t=>t===Object(t)&&!Yr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Yr.str(t)||Yr.num(t))return t===e;const s=Yr.obj(t);if(s&&r==="reference")return t===e;const o=Yr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Yr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Yr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function tCe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ov(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function b2(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const p4=/-\d+$/;function bP(t,e,n){if(Yr.str(n)){if(p4.test(n)){const s=n.replace(p4,""),{target:o,key:a}=b2(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=b2(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function m4(t,e,n){var r,i;if(Yr.str(n)){const{target:s,key:o}=b2(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function IY(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=t==null?void 0:t.__r3f)!=null?u:{},f=Object.entries(i),m=[];if(c){const w=Object.keys(l);for(let x=0;x<w.length;x++)i.hasOwnProperty(w[x])||f.unshift([w[x],PY+"remove"])}f.forEach(([w,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&w==="object"||Yr.equ(x,l[w]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(w))return m.push([w,x,!0,[]]);let b=[];w.includes("-")&&(b=w.split("-")),m.push([w,x,!1,b]);for(const S in i){const T=i[S];S.startsWith(`${w}-`)&&m.push([S,T,!1,S.split("-")])}});const v={...i};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}function SP(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=eCe(e)?e:IY(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[m,v,w,x]=c[f];if(wP(t)){const T="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?T:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?T:C)}let y=t,b=y[m];if(x.length&&(b=x.reduce((S,T)=>S[T],t),!(b&&b.set))){const[S,...T]=x.reverse();y=T.reverse().reduce((C,M)=>C[M],t),m=S}if(v===PY+"remove")if(y.constructor){let S=h4.get(y.constructor);S||(S=new y.constructor,h4.set(y.constructor,S)),v=S[m]}else v=0;if(w)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof cm)){if(Array.isArray(v))b.fromArray?b.fromArray(v):b.set(...v);else if(b.copy&&v&&v.constructor&&b.constructor===v.constructor)b.copy(v);else if(v!==void 0){const S=b instanceof Mt;!S&&b.setScalar?b.setScalar(v):b instanceof cm&&v instanceof cm?b.mask=v.mask:b.set(v),!TY()&&!a.linear&&S&&b.convertSRGBToLinear()}}else if(y[m]=v,y[m]instanceof ci&&y[m].format===ha&&y[m].type===Su){const S=y[m];wP(S)&&wP(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Lv(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(t);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&S2(t),t}function Lv(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function S2(t){t.onUpdate==null||t.onUpdate(t)}function nCe(t,e){t.manual||(CY(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function hS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function rCe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Vv.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vv.ContinuousEventPriority;default:return Vv.DefaultEventPriority}}function kY(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function iCe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{kY(n.capturedMap,e,r,i)})}function sCe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<m.length;y++){const b=d_(m[y]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(y){const b=d_(y);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(y,!0):[]}let w=m.flatMap(v).sort((y,b)=>{const S=d_(y.object),T=d_(b.object);return!S||!T?y.distance-b.distance:T.events.priority-S.events.priority||y.distance-b.distance}).filter(y=>{const b=hS(y);return d.has(b)?!1:(d.add(b),!0)});u.events.filter&&(w=u.events.filter(w,u));for(const y of w){let b=y.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&f.push({...y,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())d.has(hS(y.intersection))||f.push(y.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const w=d_(v.object)||f,{raycaster:x,pointer:y,camera:b,internal:S}=w,T=new oe(y.x,y.y,0).unproject(b),C=D=>{var j,$;return(j=($=S.capturedMap.get(D))==null?void 0:$.has(v.eventObject))!=null?j:!1},M=D=>{const j={intersection:v,target:c.target};S.capturedMap.has(D)?S.capturedMap.get(D).set(v.eventObject,j):S.capturedMap.set(D,new Map([[v.eventObject,j]])),c.target.setPointerCapture(D)},I=D=>{const j=S.capturedMap.get(D);j&&kY(S.capturedMap,v.eventObject,j,D)};let O={};for(let D in c){let j=c[D];typeof j!="function"&&(O[D]=j)}let R={...v,...O,pointer:y,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:T,ray:x.ray,camera:b,stopPropagation(){const D="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!D||D.has(v.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(j=>j.eventObject===v.eventObject))){const j=l.slice(0,l.indexOf(v));s([...j,v])}},target:{hasPointerCapture:C,setPointerCapture:M,releasePointerCapture:I},currentTarget:{hasPointerCapture:C,setPointerCapture:M,releasePointerCapture:I},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(hS(u)),f!=null&&f.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?n:void 0),y=v?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&y<=2&&(o(u,f.interaction),d&&d(u)),m&&s(x);function b(S){const T=S.eventObject,C=T.__r3f,M=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const I=hS(S),O=f.hovered.get(I);O?O.stopped&&S.stopPropagation():(f.hovered.set(I,S),M.onPointerOver==null||M.onPointerOver(S),M.onPointerEnter==null||M.onPointerEnter(S))}M.onPointerMove==null||M.onPointerMove(S)}else{const I=M[l];I?(!v||f.initialHits.includes(T))&&(o(u,f.interaction.filter(O=>!f.initialHits.includes(O))),I(S)):v&&f.initialHits.includes(T)&&o(u,f.interaction.filter(O=>!f.initialHits.includes(O)))}}i(x,u,y,b)}}return{handlePointer:a}}const OY=t=>!!(t!=null&&t.render),LY=N.createContext(null),oCe=(t,e)=>{const n=UTe((a,l)=>{const c=new oe,u=new oe,d=new oe;function f(y=l().camera,b=u,S=l().size){const{width:T,height:C,top:M,left:I}=S,O=T/C;b instanceof oe?d.copy(b):d.set(...b);const R=y.getWorldPosition(c).distanceTo(d);if(CY(y))return{width:T/y.zoom,height:C/y.zoom,top:M,left:I,factor:1,distance:R,aspect:O};{const D=y.fov*Math.PI/180,j=2*Math.tan(D/2)*R,$=j*(T/C);return{width:$,height:j,top:M,left:I,factor:T/$,distance:R,aspect:O}}}let m;const v=y=>a(b=>({performance:{...b.performance,current:y}})),w=new Je;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,b)=>e(y,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HL,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();m&&clearTimeout(m),y.performance.current!==y.performance.min&&v(y.performance.min),m=setTimeout(()=>v(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:y=>a(b=>({...b,events:{...b.events,...y}})),setSize:(y,b,S,T,C)=>{const M=l().camera,I={width:y,height:b,top:T||0,left:C||0,updateStyle:S};a(O=>({size:I,viewport:{...O.viewport,...f(M,u,I)}}))},setDpr:y=>a(b=>{const S=RY(y);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(y="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,y!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,b,S)=>{const T=l().internal;return T.priority=T.priority+(b>0?1:0),T.subscribers.push({ref:y,priority:b,store:S}),T.subscribers=T.subscribers.sort((C,M)=>C.priority-M.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(b>0?1:0),C.subscribers=C.subscribers.filter(M=>M.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l!==i||c.dpr!==s){var f;i=l,s=c.dpr,nCe(a,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function aCe(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let pS,DY=new Set,lCe=new Set,cCe=new Set;const uCe=t=>aCe(t,DY);function EP(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function f_(t,e){switch(t){case"before":return EP(DY,e);case"after":return EP(lCe,e);case"tail":return EP(cCe,e)}}let TP,CP;function MP(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),TP=e.internal.subscribers,pS=0;pS<TP.length;pS++)CP=TP[pS],CP.ref.current(CP.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dCe(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,f_("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=MP(l,i))}if(f_("after",l),n===0)return f_("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&f_("before",l),u)MP(l,u,d);else for(const f of t.values())MP(l,f.store.getState());c&&f_("after",l)}return{loop:s,invalidate:o,advance:a}}function NY(){const t=N.useContext(LY);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ji(t=n=>n,e){return NY()(t,e)}function VC(t,e=0){const n=NY(),r=n.getState().internal.subscribe,i=MY(t);return Zw(()=>r(i,e,n),[e,r,n]),null}const wy=new Map,{invalidate:g4,advance:v4}=dCe(wy),{reconciler:uT,applyProps:zp}=ZTe(wy,rCe),vv={objects:"shallow",strict:!1},fCe=(t,e)=>{const n=typeof t=="function"?t(e):t;return OY(n)?n:new SL({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function hCe(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function pCe(t){const e=wy.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||oCe(g4,v4),o=n||uT.createContainer(s,Vv.ConcurrentRoot,null,!1,null,"",i,null);e||wy.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:m,events:v,onCreated:w,shadows:x=!1,linear:y=!1,flat:b=!1,legacy:S=!1,orthographic:T=!1,frameloop:C="always",dpr:M=[1,2],performance:I,raycaster:O,camera:R,onPointerMissed:D}=u,j=s.getState(),$=j.gl;j.gl||j.set({gl:$=fCe(d,t)});let B=j.raycaster;B||j.set({raycaster:B=new YL});const{params:Q,...ne}=O||{};if(Yr.equ(ne,B,vv)||zp(B,{...ne}),Yr.equ(Q,B.params,vv)||zp(B,{params:{...B.params,...Q}}),!j.camera||j.camera===c&&!Yr.equ(c,R,vv)){c=R;const U=R instanceof Ww,q=U?R:T?new zm(0,0,0,0,.1,1e3):new Qi(75,0,.1,1e3);U||(q.position.z=5,R&&zp(q,R),!j.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),j.set({camera:q})}if(!j.scene){let U;m instanceof Qx?U=m:(U=new Qx,m&&zp(U,m)),j.set({scene:Ov(U)})}if(!j.xr){const U=(re,le)=>{const fe=s.getState();fe.frameloop!=="never"&&v4(re,!0,fe,le)},q=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?U:null),re.gl.xr.isPresenting||g4(re)},te={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",q),re.xr.addEventListener("sessionend",q)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",q),re.xr.removeEventListener("sessionend",q)}};$.xr&&te.connect(),j.set({xr:te})}if($.shadowMap){const U=$.shadowMap.enabled,q=$.shadowMap.type;if($.shadowMap.enabled=!!x,Yr.boo(x))$.shadowMap.type=ox;else if(Yr.str(x)){var K;const te={basic:S9,percentage:fC,soft:ox,variance:pc};$.shadowMap.type=(K=te[x])!=null?K:ox}else Yr.obj(x)&&Object.assign($.shadowMap,x);(U!==$.shadowMap.enabled||q!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const V=TY();V&&("enabled"in V?V.enabled=!S:"legacyMode"in V&&(V.legacyMode=S)),zp($,{outputEncoding:y?3e3:3001,toneMapping:b?Ec:iL}),j.legacy!==S&&j.set(()=>({legacy:S})),j.linear!==y&&j.set(()=>({linear:y})),j.flat!==b&&j.set(()=>({flat:b})),d&&!Yr.fun(d)&&!OY(d)&&!Yr.equ(d,$,vv)&&zp($,d),v&&!j.events.handlers&&j.set({events:v(s)});const F=hCe(t,f);return Yr.equ(F,j.size,vv)||j.setSize(F.width,F.height,F.updateStyle,F.top,F.left),M&&j.viewport.dpr!==RY(M)&&j.setDpr(M),j.frameloop!==C&&j.setFrameloop(C),j.onPointerMissed||j.set({onPointerMissed:D}),I&&!Yr.equ(I,j.performance,vv)&&j.set(U=>({performance:{...U.performance,...I}})),a=w,l=!0,this},render(u){return l||this.configure(),uT.updateContainer(N.createElement(mCe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){FY(t)}}}function mCe({store:t,children:e,onCreated:n,rootElement:r}){return Zw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),N.createElement(LY.Provider,{value:t},e)}function FY(t,e){const n=wy.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),uT.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),tCe(i),wy.delete(t)}catch{}},500)})}}uT.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});function y4(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function gCe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=N.useRef(!1);N.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,f,m]=N.useMemo(()=>{const y=()=>{if(!a.current.element)return;const{left:b,top:S,width:T,height:C,bottom:M,right:I,x:O,y:R}=a.current.element.getBoundingClientRect(),D={left:b,top:S,width:T,height:C,bottom:M,right:I,x:O,y:R};a.current.element instanceof HTMLElement&&r&&(D.height=a.current.element.offsetHeight,D.width=a.current.element.offsetWidth),Object.freeze(D),u.current&&!xCe(a.current.lastBounds,D)&&o(a.current.lastBounds=D)};return[y,c?y4(y,c):y,l?y4(y,l):y]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function w(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(y=>y.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=y=>{!y||y===a.current.element||(v(),a.current.element=y,a.current.scrollContainers=UY(y),w())};return yCe(m,!!e),vCe(f),N.useEffect(()=>{v(),w()},[e,m,f]),N.useEffect(()=>v,[]),[x,s,d]}function vCe(t){N.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function yCe(t,e){N.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function UY(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...UY(t.parentElement)]}const _Ce=["x","y","top","bottom","left","right","width","height"],xCe=(t,e)=>_Ce.every(n=>t[n]===e[n]);var wCe=Object.defineProperty,bCe=Object.defineProperties,SCe=Object.getOwnPropertyDescriptors,_4=Object.getOwnPropertySymbols,ECe=Object.prototype.hasOwnProperty,TCe=Object.prototype.propertyIsEnumerable,x4=(t,e,n)=>e in t?wCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w4=(t,e)=>{for(var n in e||(e={}))ECe.call(e,n)&&x4(t,n,e[n]);if(_4)for(var n of _4(e))TCe.call(e,n)&&x4(t,n,e[n]);return t},CCe=(t,e)=>bCe(t,SCe(e)),b4,S4;typeof window<"u"&&((b4=window.document)!=null&&b4.createElement||((S4=window.navigator)==null?void 0:S4.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function zY(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=zY(r,e,n);if(i)return i;r=r.sibling}}function BY(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const E4=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=E4;return}return E4.apply(this,arguments)};const qL=BY(N.createContext(null));class VY extends N.Component{render(){return N.createElement(qL.Provider,{value:this._reactInternals},this.props.children)}}function MCe(){const t=N.useContext(qL);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=zY(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function ACe(){const t=MCe(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==qL&&!e.has(i)&&e.set(i,N.useContext(BY(i)))}n=n.return}return e}function PCe(){const t=ACe();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,CCe(w4({},r),{value:t.get(n)}))),e=>N.createElement(VY,w4({},e))),[t])}const AP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function RCe(t){const{handlePointer:e}=sCe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(AP).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=AP[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=AP[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const ICe=N.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=RCe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:w,performance:x,raycaster:y,camera:b,onPointerMissed:S,onCreated:T,...C},M){N.useMemo(()=>EY(SY),[]);const I=PCe(),[O,R]=gCe({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=N.useRef(null),j=N.useRef(null);N.useImperativeHandle(M,()=>D.current);const $=MY(S),[B,Q]=N.useState(!1),[ne,K]=N.useState(!1);if(B)throw B;if(ne)throw ne;const V=N.useRef(null);Zw(()=>{const W=D.current;R.width>0&&R.height>0&&W&&(V.current||(V.current=pCe(W)),V.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:w,performance:x,raycaster:y,camera:b,size:R,onPointerMissed:(...F)=>$.current==null?void 0:$.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(a?QTe(a)?a.current:a:j.current),l&&F.setEvents({compute:(U,q)=>{const te=U[l+"X"],re=U[l+"Y"];q.pointer.set(te/q.size.width*2-1,-(re/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),T==null||T(F)}}),V.current.render(N.createElement(I,null,N.createElement(AY,{set:K},N.createElement(N.Suspense,{fallback:N.createElement(JTe,{set:Q})},e)))))}),N.useEffect(()=>{const W=D.current;if(W)return()=>FY(W)},[]);const G=a?"none":"auto";return N.createElement("div",mm({ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i}},C),N.createElement("div",{ref:O,style:{width:"100%",height:"100%"}},N.createElement("canvas",{ref:D,style:{display:"block"}},n)))}),kCe=N.forwardRef(function(e,n){return N.createElement(VY,null,N.createElement(ICe,mm({},e,{ref:n})))});function OCe(t,e,n){var r,i=1;t==null&&(t=0),e==null&&(e=0),n==null&&(n=0);function s(){var o,a=r.length,l,c=0,u=0,d=0;for(o=0;o<a;++o)l=r[o],c+=l.x||0,u+=l.y||0,d+=l.z||0;for(c=(c/a-t)*i,u=(u/a-e)*i,d=(d/a-n)*i,o=0;o<a;++o)l=r[o],c&&(l.x-=c),u&&(l.y-=u),d&&(l.z-=d)}return s.initialize=function(o){r=o},s.x=function(o){return arguments.length?(t=+o,s):t},s.y=function(o){return arguments.length?(e=+o,s):e},s.z=function(o){return arguments.length?(n=+o,s):n},s.strength=function(o){return arguments.length?(i=+o,s):i},s}function LCe(t){const e=+this._x.call(null,t);return GY(this.cover(e),e,t)}function GY(t,e,n){if(isNaN(e))return t;var r,i=t._root,s={data:n},o=t._x0,a=t._x1,l,c,u,d,f;if(!i)return t._root=s,t;for(;i.length;)if((u=e>=(l=(o+a)/2))?o=l:a=l,r=i,!(i=i[d=+u]))return r[d]=s,t;if(c=+t._x.call(null,i.data),e===c)return s.next=i,r?r[d]=s:t._root=s,t;do r=r?r[d]=new Array(2):t._root=new Array(2),(u=e>=(l=(o+a)/2))?o=l:a=l;while((d=+u)==(f=+(c>=l)));return r[f]=i,r[d]=s,t}function DCe(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e);let r=1/0,i=-1/0;for(let s=0,o;s<e;++s)isNaN(o=+this._x.call(null,t[s]))||(n[s]=o,o<r&&(r=o),o>i&&(i=o));if(r>i)return this;this.cover(r).cover(i);for(let s=0;s<e;++s)GY(this,n[s],t[s]);return this}function NCe(t){if(isNaN(t=+t))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(t))+1;else{for(var r=n-e||1,i=this._root,s,o;e>t||t>=n;)switch(o=+(t<e),s=new Array(2),s[o]=i,i=s,r*=2,o){case 0:n=e+r;break;case 1:e=n-r;break}this._root&&this._root.length&&(this._root=i)}return this._x0=e,this._x1=n,this}function FCe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function UCe(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function zd(t,e,n){this.node=t,this.x0=e,this.x1=n}function zCe(t,e){var n,r=this._x0,i,s,o=this._x1,a=[],l=this._root,c,u;for(l&&a.push(new zd(l,r,o)),e==null?e=1/0:(r=t-e,o=t+e);c=a.pop();)if(!(!(l=c.node)||(i=c.x0)>o||(s=c.x1)<r))if(l.length){var d=(i+s)/2;a.push(new zd(l[1],d,s),new zd(l[0],i,d)),(u=+(t>=d))&&(c=a[a.length-1],a[a.length-1]=a[a.length-1-u],a[a.length-1-u]=c)}else{var f=Math.abs(t-+this._x.call(null,l.data));f<e&&(e=f,r=t-f,o=t+f,n=l.data)}return n}function BCe(t){if(isNaN(l=+this._x.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._x1,l,c,u,d,f;if(!n)return this;if(n.length)for(;;){if((u=l>=(c=(o+a)/2))?o=c:a=c,e=n,!(n=n[d=+u]))return this;if(!n.length)break;e[d+1&1]&&(r=e,f=d)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[d]=s:delete e[d],(n=e[0]||e[1])&&n===(e[1]||e[0])&&!n.length&&(r?r[f]=n:this._root=n),this):(this._root=s,this)}function VCe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function GCe(){return this._root}function HCe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function WCe(t){var e=[],n,r=this._root,i,s,o;for(r&&e.push(new zd(r,this._x0,this._x1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.x1)&&r.length){var a=(s+o)/2;(i=r[1])&&e.push(new zd(i,a,o)),(i=r[0])&&e.push(new zd(i,s,a))}return this}function jCe(t){var e=[],n=[],r;for(this._root&&e.push(new zd(this._root,this._x0,this._x1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.x1,l=(o+a)/2;(s=i[0])&&e.push(new zd(s,o,l)),(s=i[1])&&e.push(new zd(s,l,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.x1);return this}function $Ce(t){return t[0]}function YCe(t){return arguments.length?(this._x=t,this):this._x}function KL(t,e){var n=new ZL(e??$Ce,NaN,NaN);return t==null?n:n.addAll(t)}function ZL(t,e,n){this._x=t,this._x0=e,this._x1=n,this._root=void 0}function T4(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ba=KL.prototype=ZL.prototype;ba.copy=function(){var t=new ZL(this._x,this._x0,this._x1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=T4(e),t;for(n=[{source:e,target:t._root=new Array(2)}];e=n.pop();)for(var i=0;i<2;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(2)}):e.target[i]=T4(r));return t};ba.add=LCe;ba.addAll=DCe;ba.cover=NCe;ba.data=FCe;ba.extent=UCe;ba.find=zCe;ba.remove=BCe;ba.removeAll=VCe;ba.root=GCe;ba.size=HCe;ba.visit=WCe;ba.visitAfter=jCe;ba.x=YCe;function XCe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return HY(this.cover(e,n),e,n,t)}function HY(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,c=t._x1,u=t._y1,d,f,m,v,w,x,y,b;if(!s)return t._root=o,t;for(;s.length;)if((w=e>=(d=(a+c)/2))?a=d:c=d,(x=n>=(f=(l+u)/2))?l=f:u=f,i=s,!(s=s[y=x<<1|w]))return i[y]=o,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return o.next=s,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(w=e>=(d=(a+c)/2))?a=d:c=d,(x=n>=(f=(l+u)/2))?l=f:u=f;while((y=x<<1|w)===(b=(v>=f)<<1|m>=d));return i[b]=s,i[y]=o,t}function qCe(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>u&&(u=i),s<c&&(c=s),s>d&&(d=s));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)HY(this,o[n],a[n],t[n]);return this}function KCe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function ZCe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function QCe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function No(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function JCe(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,c,u=this._x1,d=this._y1,f=[],m=this._root,v,w;for(m&&f.push(new No(m,i,s,u,d)),n==null?n=1/0:(i=t-n,s=e-n,u=t+n,d=e+n,n*=n);v=f.pop();)if(!(!(m=v.node)||(o=v.x0)>u||(a=v.y0)>d||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(o+l)/2,y=(a+c)/2;f.push(new No(m[3],x,y,l,c),new No(m[2],o,y,x,c),new No(m[1],x,a,l,y),new No(m[0],o,a,x,y)),(w=(e>=y)<<1|t>=x)&&(v=f[f.length-1],f[f.length-1]=f[f.length-1-w],f[f.length-1-w]=v)}else{var b=t-+this._x.call(null,m.data),S=e-+this._y.call(null,m.data),T=b*b+S*S;if(T<n){var C=Math.sqrt(n=T);i=t-C,s=e-C,u=t+C,d=e+C,r=m.data}}return r}function eMe(t){if(isNaN(u=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,m,v,w,x,y;if(!n)return this;if(n.length)for(;;){if((v=u>=(f=(o+l)/2))?o=f:l=f,(w=d>=(m=(a+c)/2))?a=m:c=m,e=n,!(n=n[x=w<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,y=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function tMe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function nMe(){return this._root}function rMe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function iMe(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new No(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,u=(o+l)/2;(i=r[3])&&e.push(new No(i,c,u,a,l)),(i=r[2])&&e.push(new No(i,s,u,c,l)),(i=r[1])&&e.push(new No(i,c,o,a,u)),(i=r[0])&&e.push(new No(i,s,o,c,u))}return this}function sMe(t){var e=[],n=[],r;for(this._root&&e.push(new No(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,d=(a+c)/2;(s=i[0])&&e.push(new No(s,o,a,u,d)),(s=i[1])&&e.push(new No(s,u,a,l,d)),(s=i[2])&&e.push(new No(s,o,d,u,c)),(s=i[3])&&e.push(new No(s,u,d,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function oMe(t){return t[0]}function aMe(t){return arguments.length?(this._x=t,this):this._x}function lMe(t){return t[1]}function cMe(t){return arguments.length?(this._y=t,this):this._y}function QL(t,e,n){var r=new JL(e??oMe,n??lMe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function JL(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function C4(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Go=QL.prototype=JL.prototype;Go.copy=function(){var t=new JL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=C4(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=C4(r));return t};Go.add=XCe;Go.addAll=qCe;Go.cover=KCe;Go.data=ZCe;Go.extent=QCe;Go.find=JCe;Go.remove=eMe;Go.removeAll=tMe;Go.root=nMe;Go.size=rMe;Go.visit=iMe;Go.visitAfter=sMe;Go.x=aMe;Go.y=cMe;function uMe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return WY(this.cover(e,n,r),e,n,r,t)}function WY(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var s,o=t._root,a={data:i},l=t._x0,c=t._y0,u=t._z0,d=t._x1,f=t._y1,m=t._z1,v,w,x,y,b,S,T,C,M,I,O;if(!o)return t._root=a,t;for(;o.length;)if((T=e>=(v=(l+d)/2))?l=v:d=v,(C=n>=(w=(c+f)/2))?c=w:f=w,(M=r>=(x=(u+m)/2))?u=x:m=x,s=o,!(o=o[I=M<<2|C<<1|T]))return s[I]=a,t;if(y=+t._x.call(null,o.data),b=+t._y.call(null,o.data),S=+t._z.call(null,o.data),e===y&&n===b&&r===S)return a.next=o,s?s[I]=a:t._root=a,t;do s=s?s[I]=new Array(8):t._root=new Array(8),(T=e>=(v=(l+d)/2))?l=v:d=v,(C=n>=(w=(c+f)/2))?c=w:f=w,(M=r>=(x=(u+m)/2))?u=x:m=x;while((I=M<<2|C<<1|T)===(O=(S>=x)<<2|(b>=w)<<1|y>=v));return s[O]=o,s[I]=a,t}function dMe(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let s=1/0,o=1/0,a=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=0,f,m,v,w;d<e;++d)isNaN(m=+this._x.call(null,f=t[d]))||isNaN(v=+this._y.call(null,f))||isNaN(w=+this._z.call(null,f))||(n[d]=m,r[d]=v,i[d]=w,m<s&&(s=m),m>l&&(l=m),v<o&&(o=v),v>c&&(c=v),w<a&&(a=w),w>u&&(u=w));if(s>l||o>c||a>u)return this;this.cover(s,o,a).cover(l,c,u);for(let d=0;d<e;++d)WY(this,n[d],r[d],i[d],t[d]);return this}function fMe(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,s=this._z0,o=this._x1,a=this._y1,l=this._z1;if(isNaN(r))o=(r=Math.floor(t))+1,a=(i=Math.floor(e))+1,l=(s=Math.floor(n))+1;else{for(var c=o-r||1,u=this._root,d,f;r>t||t>=o||i>e||e>=a||s>n||n>=l;)switch(f=(n<s)<<2|(e<i)<<1|t<r,d=new Array(8),d[f]=u,u=d,c*=2,f){case 0:o=r+c,a=i+c,l=s+c;break;case 1:r=o-c,a=i+c,l=s+c;break;case 2:o=r+c,i=a-c,l=s+c;break;case 3:r=o-c,i=a-c,l=s+c;break;case 4:o=r+c,a=i+c,s=l-c;break;case 5:r=o-c,a=i+c,s=l-c;break;case 6:o=r+c,i=a-c,s=l-c;break;case 7:r=o-c,i=a-c,s=l-c;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._z0=s,this._x1=o,this._y1=a,this._z1=l,this}function hMe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function pMe(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Cr(t,e,n,r,i,s,o){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=s,this.z1=o}function mMe(t,e,n,r){var i,s=this._x0,o=this._y0,a=this._z0,l,c,u,d,f,m,v=this._x1,w=this._y1,x=this._z1,y=[],b=this._root,S,T;for(b&&y.push(new Cr(b,s,o,a,v,w,x)),r==null?r=1/0:(s=t-r,o=e-r,a=n-r,v=t+r,w=e+r,x=n+r,r*=r);S=y.pop();)if(!(!(b=S.node)||(l=S.x0)>v||(c=S.y0)>w||(u=S.z0)>x||(d=S.x1)<s||(f=S.y1)<o||(m=S.z1)<a))if(b.length){var C=(l+d)/2,M=(c+f)/2,I=(u+m)/2;y.push(new Cr(b[7],C,M,I,d,f,m),new Cr(b[6],l,M,I,C,f,m),new Cr(b[5],C,c,I,d,M,m),new Cr(b[4],l,c,I,C,M,m),new Cr(b[3],C,M,u,d,f,I),new Cr(b[2],l,M,u,C,f,I),new Cr(b[1],C,c,u,d,M,I),new Cr(b[0],l,c,u,C,M,I)),(T=(n>=I)<<2|(e>=M)<<1|t>=C)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-T],y[y.length-1-T]=S)}else{var O=t-+this._x.call(null,b.data),R=e-+this._y.call(null,b.data),D=n-+this._z.call(null,b.data),j=O*O+R*R+D*D;if(j<r){var $=Math.sqrt(r=j);s=t-$,o=e-$,a=n-$,v=t+$,w=e+$,x=n+$,i=b.data}}return i}const gMe=(t,e,n,r,i,s)=>Math.sqrt((t-r)**2+(e-i)**2+(n-s)**2);function vMe(t,e,n,r){const i=[],s=t-r,o=e-r,a=n-r,l=t+r,c=e+r,u=n+r;return this.visit((d,f,m,v,w,x,y)=>{if(!d.length)do{const b=d.data;gMe(t,e,n,this._x(b),this._y(b),this._z(b))<=r&&i.push(b)}while(d=d.next);return f>l||m>c||v>u||w<s||x<o||y<a}),i}function yMe(t){if(isNaN(f=+this._x.call(null,t))||isNaN(m=+this._y.call(null,t))||isNaN(v=+this._z.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._z0,c=this._x1,u=this._y1,d=this._z1,f,m,v,w,x,y,b,S,T,C,M;if(!n)return this;if(n.length)for(;;){if((b=f>=(w=(o+c)/2))?o=w:c=w,(S=m>=(x=(a+u)/2))?a=x:u=x,(T=v>=(y=(l+d)/2))?l=y:d=y,e=n,!(n=n[C=T<<2|S<<1|b]))return this;if(!n.length)break;(e[C+1&7]||e[C+2&7]||e[C+3&7]||e[C+4&7]||e[C+5&7]||e[C+6&7]||e[C+7&7])&&(r=e,M=C)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[C]=s:delete e[C],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[M]=n:this._root=n),this):(this._root=s,this)}function _Me(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function xMe(){return this._root}function wMe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function bMe(t){var e=[],n,r=this._root,i,s,o,a,l,c,u;for(r&&e.push(new Cr(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.z0,l=n.x1,c=n.y1,u=n.z1)&&r.length){var d=(s+l)/2,f=(o+c)/2,m=(a+u)/2;(i=r[7])&&e.push(new Cr(i,d,f,m,l,c,u)),(i=r[6])&&e.push(new Cr(i,s,f,m,d,c,u)),(i=r[5])&&e.push(new Cr(i,d,o,m,l,f,u)),(i=r[4])&&e.push(new Cr(i,s,o,m,d,f,u)),(i=r[3])&&e.push(new Cr(i,d,f,a,l,c,m)),(i=r[2])&&e.push(new Cr(i,s,f,a,d,c,m)),(i=r[1])&&e.push(new Cr(i,d,o,a,l,f,m)),(i=r[0])&&e.push(new Cr(i,s,o,a,d,f,m))}return this}function SMe(t){var e=[],n=[],r;for(this._root&&e.push(new Cr(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1,f=(o+c)/2,m=(a+u)/2,v=(l+d)/2;(s=i[0])&&e.push(new Cr(s,o,a,l,f,m,v)),(s=i[1])&&e.push(new Cr(s,f,a,l,c,m,v)),(s=i[2])&&e.push(new Cr(s,o,m,l,f,u,v)),(s=i[3])&&e.push(new Cr(s,f,m,l,c,u,v)),(s=i[4])&&e.push(new Cr(s,o,a,v,f,m,d)),(s=i[5])&&e.push(new Cr(s,f,a,v,c,m,d)),(s=i[6])&&e.push(new Cr(s,o,m,v,f,u,d)),(s=i[7])&&e.push(new Cr(s,f,m,v,c,u,d))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function EMe(t){return t[0]}function TMe(t){return arguments.length?(this._x=t,this):this._x}function CMe(t){return t[1]}function MMe(t){return arguments.length?(this._y=t,this):this._y}function AMe(t){return t[2]}function PMe(t){return arguments.length?(this._z=t,this):this._z}function eD(t,e,n,r){var i=new tD(e??EMe,n??CMe,r??AMe,NaN,NaN,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function tD(t,e,n,r,i,s,o,a,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=s,this._x1=o,this._y1=a,this._z1=l,this._root=void 0}function M4(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var eo=eD.prototype=tD.prototype;eo.copy=function(){var t=new tD(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=M4(e),t;for(n=[{source:e,target:t._root=new Array(8)}];e=n.pop();)for(var i=0;i<8;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(8)}):e.target[i]=M4(r));return t};eo.add=uMe;eo.addAll=dMe;eo.cover=fMe;eo.data=hMe;eo.extent=pMe;eo.find=mMe;eo.findAllWithinRadius=vMe;eo.remove=yMe;eo.removeAll=_Me;eo.root=xMe;eo.size=wMe;eo.visit=bMe;eo.visitAfter=SMe;eo.x=TMe;eo.y=MMe;eo.z=PMe;function ai(t){return function(){return t}}function Cl(t){return(t()-.5)*1e-6}function PP(t){return t.x+t.vx}function A4(t){return t.y+t.vy}function RMe(t){return t.z+t.vz}function jY(t){var e,n,r,i,s=1,o=1;typeof t!="function"&&(t=ai(t==null?1:+t));function a(){for(var u,d=e.length,f,m,v,w,x,y,b,S=0;S<o;++S)for(f=(n===1?KL(e,PP):n===2?QL(e,PP,A4):n===3?eD(e,PP,A4,RMe):null).visitAfter(l),u=0;u<d;++u)m=e[u],y=r[m.index],b=y*y,v=m.x+m.vx,n>1&&(w=m.y+m.vy),n>2&&(x=m.z+m.vz),f.visit(T);function T(C,M,I,O,R,D,j){var $=[M,I,O,R,D,j],B=$[0],Q=$[1],ne=$[2],K=$[n],V=$[n+1],G=$[n+2],W=C.data,F=C.r,U=y+F;if(W){if(W.index>m.index){var q=v-W.x-W.vx,te=n>1?w-W.y-W.vy:0,re=n>2?x-W.z-W.vz:0,le=q*q+te*te+re*re;le<U*U&&(q===0&&(q=Cl(i),le+=q*q),n>1&&te===0&&(te=Cl(i),le+=te*te),n>2&&re===0&&(re=Cl(i),le+=re*re),le=(U-(le=Math.sqrt(le)))/le*s,m.vx+=(q*=le)*(U=(F*=F)/(b+F)),n>1&&(m.vy+=(te*=le)*U),n>2&&(m.vz+=(re*=le)*U),W.vx-=q*(U=1-U),n>1&&(W.vy-=te*U),n>2&&(W.vz-=re*U))}return}return B>v+U||K<v-U||n>1&&(Q>w+U||V<w-U)||n>2&&(ne>x+U||G<x-U)}}function l(u){if(u.data)return u.r=r[u.data.index];for(var d=u.r=0;d<Math.pow(2,n);++d)u[d]&&u[d].r>u.r&&(u.r=u[d].r)}function c(){if(e){var u,d=e.length,f;for(r=new Array(d),u=0;u<d;++u)f=e[u],r[f.index]=+t(f,u,e)}}return a.initialize=function(u,...d){e=u,i=d.find(f=>typeof f=="function")||Math.random,n=d.find(f=>[1,2,3].includes(f))||2,c()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(s=+u,a):s},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:ai(+u),c(),a):t},a}function IMe(t){return t.index}function P4(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function $Y(t){var e=IMe,n=f,r,i=ai(30),s,o,a,l,c,u,d=1;t==null&&(t=[]);function f(y){return 1/Math.min(l[y.source.index],l[y.target.index])}function m(y){for(var b=0,S=t.length;b<d;++b)for(var T=0,C,M,I,O=0,R=0,D=0,j,$;T<S;++T)C=t[T],M=C.source,I=C.target,O=I.x+I.vx-M.x-M.vx||Cl(u),a>1&&(R=I.y+I.vy-M.y-M.vy||Cl(u)),a>2&&(D=I.z+I.vz-M.z-M.vz||Cl(u)),j=Math.sqrt(O*O+R*R+D*D),j=(j-s[T])/j*y*r[T],O*=j,R*=j,D*=j,I.vx-=O*($=c[T]),a>1&&(I.vy-=R*$),a>2&&(I.vz-=D*$),M.vx+=O*($=1-$),a>1&&(M.vy+=R*$),a>2&&(M.vz+=D*$)}function v(){if(o){var y,b=o.length,S=t.length,T=new Map(o.map((M,I)=>[e(M,I,o),M])),C;for(y=0,l=new Array(b);y<S;++y)C=t[y],C.index=y,typeof C.source!="object"&&(C.source=P4(T,C.source)),typeof C.target!="object"&&(C.target=P4(T,C.target)),l[C.source.index]=(l[C.source.index]||0)+1,l[C.target.index]=(l[C.target.index]||0)+1;for(y=0,c=new Array(S);y<S;++y)C=t[y],c[y]=l[C.source.index]/(l[C.source.index]+l[C.target.index]);r=new Array(S),w(),s=new Array(S),x()}}function w(){if(o)for(var y=0,b=t.length;y<b;++y)r[y]=+n(t[y],y,t)}function x(){if(o)for(var y=0,b=t.length;y<b;++y)s[y]=+i(t[y],y,t)}return m.initialize=function(y,...b){o=y,u=b.find(S=>typeof S=="function")||Math.random,a=b.find(S=>[1,2,3].includes(S))||2,v()},m.links=function(y){return arguments.length?(t=y,v(),m):t},m.id=function(y){return arguments.length?(e=y,m):e},m.iterations=function(y){return arguments.length?(d=+y,m):d},m.strength=function(y){return arguments.length?(n=typeof y=="function"?y:ai(+y),w(),m):n},m.distance=function(y){return arguments.length?(i=typeof y=="function"?y:ai(+y),x(),m):i},m}var kMe={value:()=>{}};function YY(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sE(n)}function sE(t){this._=t}function OMe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sE.prototype=YY.prototype={constructor:sE,on:function(t,e){var n=this._,r=OMe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=LMe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=R4(n[i],t.name,e);else if(e==null)for(i in n)n[i]=R4(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sE(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function LMe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function R4(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=kMe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var by=0,j_=0,h_=0,XY=1e3,dT,$_,fT=0,Pm=0,GC=0,aw=typeof performance=="object"&&performance.now?performance:Date,qY=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function KY(){return Pm||(qY(DMe),Pm=aw.now()+GC)}function DMe(){Pm=0}function E2(){this._call=this._time=this._next=null}E2.prototype=ZY.prototype={constructor:E2,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?KY():+n)+(e==null?0:+e),!this._next&&$_!==this&&($_?$_._next=this:dT=this,$_=this),this._call=t,this._time=n,T2()},stop:function(){this._call&&(this._call=null,this._time=1/0,T2())}};function ZY(t,e,n){var r=new E2;return r.restart(t,e,n),r}function NMe(){KY(),++by;for(var t=dT,e;t;)(e=Pm-t._time)>=0&&t._call.call(void 0,e),t=t._next;--by}function I4(){Pm=(fT=aw.now())+GC,by=j_=0;try{NMe()}finally{by=0,UMe(),Pm=0}}function FMe(){var t=aw.now(),e=t-fT;e>XY&&(GC-=e,fT=t)}function UMe(){for(var t,e=dT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:dT=n);$_=t,T2(r)}function T2(t){if(!by){j_&&(j_=clearTimeout(j_));var e=t-Pm;e>24?(t<1/0&&(j_=setTimeout(I4,t-aw.now()-GC)),h_&&(h_=clearInterval(h_))):(h_||(fT=aw.now(),h_=setInterval(FMe,XY)),by=1,qY(I4))}}const zMe=1664525,BMe=1013904223,k4=4294967296;function VMe(){let t=1;return()=>(t=(zMe*t+BMe)%k4)/k4}var O4=3;function RP(t){return t.x}function L4(t){return t.y}function GMe(t){return t.z}var HMe=10,WMe=Math.PI*(3-Math.sqrt(5)),jMe=Math.PI*20/(9+Math.sqrt(221));function QY(t,e){e=e||2;var n=Math.min(O4,Math.max(1,Math.round(e))),r,i=1,s=.001,o=1-Math.pow(s,1/300),a=0,l=.6,c=new Map,u=ZY(m),d=YY("tick","end"),f=VMe();t==null&&(t=[]);function m(){v(),d.call("tick",r),i<s&&(u.stop(),d.call("end",r))}function v(y){var b,S=t.length,T;y===void 0&&(y=1);for(var C=0;C<y;++C)for(i+=(a-i)*o,c.forEach(function(M){M(i)}),b=0;b<S;++b)T=t[b],T.fx==null?T.x+=T.vx*=l:(T.x=T.fx,T.vx=0),n>1&&(T.fy==null?T.y+=T.vy*=l:(T.y=T.fy,T.vy=0)),n>2&&(T.fz==null?T.z+=T.vz*=l:(T.z=T.fz,T.vz=0));return r}function w(){for(var y=0,b=t.length,S;y<b;++y){if(S=t[y],S.index=y,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||n>1&&isNaN(S.y)||n>2&&isNaN(S.z)){var T=HMe*(n>2?Math.cbrt(.5+y):n>1?Math.sqrt(.5+y):y),C=y*WMe,M=y*jMe;n===1?S.x=T:n===2?(S.x=T*Math.cos(C),S.y=T*Math.sin(C)):(S.x=T*Math.sin(C)*Math.cos(M),S.y=T*Math.cos(C),S.z=T*Math.sin(C)*Math.sin(M))}(isNaN(S.vx)||n>1&&isNaN(S.vy)||n>2&&isNaN(S.vz))&&(S.vx=0,n>1&&(S.vy=0),n>2&&(S.vz=0))}}function x(y){return y.initialize&&y.initialize(t,f,n),y}return w(),r={tick:v,restart:function(){return u.restart(m),r},stop:function(){return u.stop(),r},numDimensions:function(y){return arguments.length?(n=Math.min(O4,Math.max(1,Math.round(y))),c.forEach(x),r):n},nodes:function(y){return arguments.length?(t=y,w(),c.forEach(x),r):t},alpha:function(y){return arguments.length?(i=+y,r):i},alphaMin:function(y){return arguments.length?(s=+y,r):s},alphaDecay:function(y){return arguments.length?(o=+y,r):+o},alphaTarget:function(y){return arguments.length?(a=+y,r):a},velocityDecay:function(y){return arguments.length?(l=1-y,r):1-l},randomSource:function(y){return arguments.length?(f=y,c.forEach(x),r):f},force:function(y,b){return arguments.length>1?(b==null?c.delete(y):c.set(y,x(b)),r):c.get(y)},find:function(){var y=Array.prototype.slice.call(arguments),b=y.shift()||0,S=(n>1?y.shift():null)||0,T=(n>2?y.shift():null)||0,C=y.shift()||1/0,M=0,I=t.length,O,R,D,j,$,B;for(C*=C,M=0;M<I;++M)$=t[M],O=b-$.x,R=S-($.y||0),D=T-($.z||0),j=O*O+R*R+D*D,j<C&&(B=$,C=j);return B},on:function(y,b){return arguments.length>1?(d.on(y,b),r):d.on(y)}}}function JY(){var t,e,n,r,i,s=ai(-30),o,a=1,l=1/0,c=.81;function u(v){var w,x=t.length,y=(e===1?KL(t,RP):e===2?QL(t,RP,L4):e===3?eD(t,RP,L4,GMe):null).visitAfter(f);for(i=v,w=0;w<x;++w)n=t[w],y.visit(m)}function d(){if(t){var v,w=t.length,x;for(o=new Array(w),v=0;v<w;++v)x=t[v],o[x.index]=+s(x,v,t)}}function f(v){var w=0,x,y,b=0,S,T,C,M,I=v.length;if(I){for(S=T=C=M=0;M<I;++M)(x=v[M])&&(y=Math.abs(x.value))&&(w+=x.value,b+=y,S+=y*(x.x||0),T+=y*(x.y||0),C+=y*(x.z||0));w*=Math.sqrt(4/I),v.x=S/b,e>1&&(v.y=T/b),e>2&&(v.z=C/b)}else{x=v,x.x=x.data.x,e>1&&(x.y=x.data.y),e>2&&(x.z=x.data.z);do w+=o[x.data.index];while(x=x.next)}v.value=w}function m(v,w,x,y,b){if(!v.value)return!0;var S=[x,y,b][e-1],T=v.x-n.x,C=e>1?v.y-n.y:0,M=e>2?v.z-n.z:0,I=S-w,O=T*T+C*C+M*M;if(I*I/c<O)return O<l&&(T===0&&(T=Cl(r),O+=T*T),e>1&&C===0&&(C=Cl(r),O+=C*C),e>2&&M===0&&(M=Cl(r),O+=M*M),O<a&&(O=Math.sqrt(a*O)),n.vx+=T*v.value*i/O,e>1&&(n.vy+=C*v.value*i/O),e>2&&(n.vz+=M*v.value*i/O)),!0;if(v.length||O>=l)return;(v.data!==n||v.next)&&(T===0&&(T=Cl(r),O+=T*T),e>1&&C===0&&(C=Cl(r),O+=C*C),e>2&&M===0&&(M=Cl(r),O+=M*M),O<a&&(O=Math.sqrt(a*O)));do v.data!==n&&(I=o[v.data.index]*i/O,n.vx+=T*I,e>1&&(n.vy+=C*I),e>2&&(n.vz+=M*I));while(v=v.next)}return u.initialize=function(v,...w){t=v,r=w.find(x=>typeof x=="function")||Math.random,e=w.find(x=>[1,2,3].includes(x))||2,d()},u.strength=function(v){return arguments.length?(s=typeof v=="function"?v:ai(+v),d(),u):s},u.distanceMin=function(v){return arguments.length?(a=v*v,u):Math.sqrt(a)},u.distanceMax=function(v){return arguments.length?(l=v*v,u):Math.sqrt(l)},u.theta=function(v){return arguments.length?(c=v*v,u):Math.sqrt(c)},u}function $Me(t,e,n,r){var i,s,o=ai(.1),a,l;typeof t!="function"&&(t=ai(+t)),e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function c(d){for(var f=0,m=i.length;f<m;++f){var v=i[f],w=v.x-e||1e-6,x=(v.y||0)-n||1e-6,y=(v.z||0)-r||1e-6,b=Math.sqrt(w*w+x*x+y*y),S=(l[f]-b)*a[f]*d/b;v.vx+=w*S,s>1&&(v.vy+=x*S),s>2&&(v.vz+=y*S)}}function u(){if(i){var d,f=i.length;for(a=new Array(f),l=new Array(f),d=0;d<f;++d)l[d]=+t(i[d],d,i),a[d]=isNaN(l[d])?0:+o(i[d],d,i)}}return c.initialize=function(d,...f){i=d,s=f.find(m=>[1,2,3].includes(m))||2,u()},c.strength=function(d){return arguments.length?(o=typeof d=="function"?d:ai(+d),u(),c):o},c.radius=function(d){return arguments.length?(t=typeof d=="function"?d:ai(+d),u(),c):t},c.x=function(d){return arguments.length?(e=+d,c):e},c.y=function(d){return arguments.length?(n=+d,c):n},c.z=function(d){return arguments.length?(r=+d,c):r},c}function C2(t){var e=ai(.1),n,r,i;typeof t!="function"&&(t=ai(t==null?0:+t));function s(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:ai(+a),o(),s):e},s.x=function(a){return arguments.length?(t=typeof a=="function"?a:ai(+a),o(),s):t},s}function M2(t){var e=ai(.1),n,r,i;typeof t!="function"&&(t=ai(t==null?0:+t));function s(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:ai(+a),o(),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:ai(+a),o(),s):t},s}function YMe(t){var e=ai(.1),n,r,i;typeof t!="function"&&(t=ai(t==null?0:+t));function s(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vz+=(i[l]-u.z)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:ai(+a),o(),s):e},s.z=function(a){return arguments.length?(t=typeof a=="function"?a:ai(+a),o(),s):t},s}function XMe(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function qMe(){return this.eachAfter(XMe)}function KMe(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function ZMe(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function QMe(t,e){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function JMe(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function eAe(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function tAe(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function nAe(t){for(var e=this,n=rAe(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function rAe(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function iAe(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function sAe(){return Array.from(this)}function oAe(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function aAe(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*lAe(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function HC(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=dAe)):e===void 0&&(e=uAe);for(var n=new Sy(t),r,i=[n],s,o,a,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new Sy(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(eX)}function cAe(){return HC(this).eachBefore(fAe)}function uAe(t){return t.children}function dAe(t){return Array.isArray(t)?t[1]:null}function fAe(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function eX(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Sy(t){this.data=t,this.depth=this.height=0,this.parent=null}Sy.prototype=HC.prototype={constructor:Sy,count:qMe,each:KMe,eachAfter:QMe,eachBefore:ZMe,find:JMe,sum:eAe,sort:tAe,path:nAe,ancestors:iAe,descendants:sAe,leaves:oAe,links:aAe,copy:cAe,[Symbol.iterator]:lAe};function IP(t){return t==null?null:tX(t)}function tX(t){if(typeof t!="function")throw new Error;return t}function p_(){return 0}function m_(t){return function(){return t}}function hAe(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function pAe(t,e,n,r,i){for(var s=t.children,o,a=-1,l=s.length,c=t.value&&(r-e)/t.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}var mAe={depth:-1},D4={},kP={};function gAe(t){return t.id}function vAe(t){return t.parentId}function yAe(){var t=gAe,e=vAe,n;function r(i){var s=Array.from(i),o=t,a=e,l,c,u,d,f,m,v,w,x=new Map;if(n!=null){const y=s.map((T,C)=>_Ae(n(T,C,i))),b=y.map(N4),S=new Set(y).add("");for(const T of b)S.has(T)||(S.add(T),y.push(T),b.push(N4(T)),s.push(kP));o=(T,C)=>y[C],a=(T,C)=>b[C]}for(u=0,l=s.length;u<l;++u)c=s[u],m=s[u]=new Sy(c),(v=o(c,u,i))!=null&&(v+="")&&(w=m.id=v,x.set(w,x.has(w)?D4:m)),(v=a(c,u,i))!=null&&(v+="")&&(m.parent=v);for(u=0;u<l;++u)if(m=s[u],v=m.parent){if(f=x.get(v),!f)throw new Error("missing: "+v);if(f===D4)throw new Error("ambiguous: "+v);f.children?f.children.push(m):f.children=[m],m.parent=f}else{if(d)throw new Error("multiple roots");d=m}if(!d)throw new Error("no root");if(n!=null){for(;d.data===kP&&d.children.length===1;)d=d.children[0],--l;for(let y=s.length-1;y>=0&&(m=s[y],m.data===kP);--y)m.data=null}if(d.parent=mAe,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(eX),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(t=IP(i),r):t},r.parentId=function(i){return arguments.length?(e=IP(i),r):e},r.path=function(i){return arguments.length?(n=IP(i),r):n},r}function _Ae(t){t=`${t}`;let e=t.length;return A2(t,e-1)&&!A2(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function N4(t){let e=t.length;if(e<2)return"";for(;--e>1&&!A2(t,e););return t.slice(0,e)}function A2(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function xAe(t,e){return t.parent===e.parent?1:2}function OP(t){var e=t.children;return e?e[0]:t.t}function LP(t){var e=t.children;return e?e[e.length-1]:t.t}function wAe(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function bAe(t){for(var e=0,n=0,r=t.children,i=r.length,s;--i>=0;)s=r[i],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function SAe(t,e,n){return t.a.parent===e.parent?t.a:n}function oE(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}oE.prototype=Object.create(Sy.prototype);function EAe(t){for(var e=new oE(t,0),n,r=[e],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new oE(s[o],o)),i.parent=n;return(e.parent=new oE(null,0)).children=[e],e}function TAe(){var t=xAe,e=1,n=1,r=null;function i(c){var u=EAe(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var d=c,f=c,m=c;c.eachBefore(function(b){b.x<d.x&&(d=b),b.x>f.x&&(f=b),b.depth>m.depth&&(m=b)});var v=d===f?1:t(d,f)/2,w=v-d.x,x=e/(f.x+v+w),y=n/(m.depth||1);c.eachBefore(function(b){b.x=(b.x+w)*x,b.y=b.depth*y})}return c}function s(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){bAe(c);var m=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-m):c.z=m}else f&&(c.z=f.z+t(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,d){if(u){for(var f=c,m=c,v=u,w=f.parent.children[0],x=f.m,y=m.m,b=v.m,S=w.m,T;v=LP(v),f=OP(f),v&&f;)w=OP(w),m=LP(m),m.a=c,T=v.z+b-f.z-x+t(v._,f._),T>0&&(wAe(SAe(v,c,d),c,T),x+=T,y+=T),b+=v.m,x+=f.m,S+=w.m,y+=m.m;v&&!LP(m)&&(m.t=v,m.m+=b-y),f&&!OP(w)&&(w.t=f,w.m+=x-S,d=c)}return d}function l(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}function CAe(t,e,n,r,i){for(var s=t.children,o,a=-1,l=s.length,c=t.value&&(i-n)/t.value;++a<l;)o=s[a],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var MAe=(1+Math.sqrt(5))/2;function AAe(t,e,n,r,i,s){for(var o=[],a=e.children,l,c,u=0,d=0,f=a.length,m,v,w=e.value,x,y,b,S,T,C,M;u<f;){m=i-n,v=s-r;do x=a[d++].value;while(!x&&d<f);for(y=b=x,C=Math.max(v/m,m/v)/(w*t),M=x*x*C,T=Math.max(b/M,M/y);d<f;++d){if(x+=c=a[d].value,c<y&&(y=c),c>b&&(b=c),M=x*x*C,S=Math.max(b/M,M/y),S>T){x-=c;break}T=S}o.push(l={value:x,dice:m<v,children:a.slice(u,d)}),l.dice?pAe(l,n,r,i,w?r+=v*x/w:s):CAe(l,n,r,w?n+=m*x/w:i,s),w-=x,u=d}return o}const PAe=function t(e){function n(r,i,s,o,a){AAe(e,r,i,s,o,a)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(MAe);function RAe(){var t=PAe,e=!1,n=1,r=1,i=[0],s=p_,o=p_,a=p_,l=p_,c=p_;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],e&&f.eachBefore(hAe),f}function d(f){var m=i[f.depth],v=f.x0+m,w=f.y0+m,x=f.x1-m,y=f.y1-m;x<v&&(v=x=(v+x)/2),y<w&&(w=y=(w+y)/2),f.x0=v,f.y0=w,f.x1=x,f.y1=y,f.children&&(m=i[f.depth+1]=s(f)/2,v+=c(f)-m,w+=o(f)-m,x-=a(f)-m,y-=l(f)-m,x<v&&(v=x=(v+x)/2),y<w&&(w=y=(w+y)/2),t(f,v,w,x,y))}return u.round=function(f){return arguments.length?(e=!!f,u):e},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(t=tX(f),u):t},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:m_(+f),u):s},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:m_(+f),u):o},u.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:m_(+f),u):a},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:m_(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:m_(+f),u):c},u}var DP,F4;function nD(){if(F4)return DP;F4=1;function t(n){return!n||typeof n!="object"||typeof n=="function"||Array.isArray(n)||n instanceof Set||n instanceof Map||n instanceof RegExp||n instanceof Date}function e(n,r){n=n||{};var i={};for(var s in r){var o=n[s],a=r[s];if(!t(a)){i[s]=e(o,a);continue}o===void 0?i[s]=a:i[s]=o}return i}return DP=e,DP}var NP,U4;function rf(){return U4||(U4=1,NP=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"}),NP}var FP,z4;function IAe(){if(z4)return FP;z4=1;var t=nD(),e=rf(),n={dimensions:["x","y"],center:.5,scale:1};function r(s,o,a){if(!e(o))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");a=t(a,n);var l=a.dimensions;if(!Array.isArray(l)||l.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");var c=a.center,u=a.scale,d=Math.PI*2,f=(c-.5)*u,m=o.order,v=l[0],w=l[1];function x(S,T){return T[v]=u*Math.cos(S*d/m)+f,T[w]=u*Math.sin(S*d/m)+f,T}var y=0;if(!s){var b={};return o.forEachNode(function(S){b[S]=x(y++,{})}),b}o.updateEachNodeAttributes(function(S,T){return x(y++,T),T},{attributes:l})}var i=r.bind(null,!1);return i.assign=r.bind(null,!0),FP=i,FP}var kAe=IAe();const OAe=qa(kAe);var UP,B4;function LAe(){if(B4)return UP;B4=1;var t=0,e=1,n=2,r=3;function i(o,a){return o+""+a}function s(){return .01*(.5-Math.random())}return UP=function(a,l){var c=a.margin,u=a.ratio,d=a.expansion,f=a.gridSize,m=a.speed,v,w,x,y,b,S,T=!0,C=l.length,M=C/r|0,I=new Float32Array(M),O=new Float32Array(M),R=1/0,D=1/0,j=-1/0,$=-1/0;for(v=0;v<C;v+=r)x=l[v+t],y=l[v+e],S=l[v+n]*u+c,R=Math.min(R,x-S),j=Math.max(j,x+S),D=Math.min(D,y-S),$=Math.max($,y+S);var B=j-R,Q=$-D,ne=(R+j)/2,K=(D+$)/2;R=ne-d*B/2,j=ne+d*B/2,D=K-d*Q/2,$=K+d*Q/2;var V=new Array(f*f),G=V.length,W;for(W=0;W<G;W++)V[W]=[];var F,U,q,te,re,le,fe,ye,se,ve;for(v=0;v<C;v+=r)for(x=l[v+t],y=l[v+e],S=l[v+n]*u+c,F=x-S,U=x+S,q=y-S,te=y+S,re=Math.floor(f*(F-R)/(j-R)),le=Math.floor(f*(U-R)/(j-R)),fe=Math.floor(f*(q-D)/($-D)),ye=Math.floor(f*(te-D)/($-D)),se=re;se<=le;se++)for(ve=fe;ve<=ye;ve++)V[se*f+ve].push(v);var Se,pe=new Set,Z,me,ue,_e,ce,Xe,Ae,Ge,je,ke,nt,ie,J;for(W=0;W<G;W++)for(Se=V[W],v=0,b=Se.length;v<b;v++)for(Z=Se[v],ue=l[Z+t],ce=l[Z+e],Ae=l[Z+n],w=v+1;w<b;w++)me=Se[w],je=i(Z,me),!(G>1&&pe.has(je))&&(G>1&&pe.add(je),_e=l[me+t],Xe=l[me+e],Ge=l[me+n],ke=_e-ue,nt=Xe-ce,ie=Math.sqrt(ke*ke+nt*nt),J=ie<Ae*u+c+(Ge*u+c),J&&(T=!1,me=me/r|0,ie>0?(I[me]+=ke/ie*(1+Ae),O[me]+=nt/ie*(1+Ae)):(I[me]+=B*s(),O[me]+=Q*s())));for(v=0,w=0;v<C;v+=r,w++)l[v+t]+=I[w]*.1*m,l[v+e]+=O[w]*.1*m;return{converged:T}},UP}var Ap={},V4;function DAe(){if(V4)return Ap;V4=1;var t=3;return Ap.validateSettings=function(e){return"gridSize"in e&&typeof e.gridSize!="number"||e.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in e&&typeof e.margin!="number"||e.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in e&&typeof e.expansion!="number"||e.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in e&&typeof e.ratio!="number"||e.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in e&&typeof e.speed!="number"||e.speed<=0?{message:"the `speed` setting should be a positive number."}:null},Ap.graphToByteArray=function(e,n){var r=e.order,i=new Float32Array(r*t),s=0;return e.forEachNode(function(o,a){typeof n=="function"&&(a=n(o,a)),i[s]=a.x,i[s+1]=a.y,i[s+2]=a.size||1,s+=t}),i},Ap.assignLayoutChanges=function(e,n,r){var i=0;e.forEachNode(function(s){var o={x:n[i],y:n[i+1]};typeof r=="function"&&(o=r(s,o)),e.mergeNodeAttributes(s,o),i+=t})},Ap.collectLayoutChanges=function(e,n,r){var i={},s=0;return e.forEachNode(function(o){var a={x:n[s],y:n[s+1]};typeof r=="function"&&(a=r(o,a)),i[o]=a,s+=t}),i},Ap.createWorker=function(n){var r=window.URL||window.webkitURL,i=n.toString(),s=r.createObjectURL(new Blob(["("+i+").call(this);"],{type:"text/javascript"})),o=new Worker(s);return r.revokeObjectURL(s),o},Ap}var zP,G4;function NAe(){return G4||(G4=1,zP={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3}),zP}var BP,H4;function FAe(){if(H4)return BP;H4=1;var t=rf(),e=LAe(),n=DAe(),r=NAe(),i=500;function s(a,l,c){if(!t(l))throw new Error("graphology-layout-noverlap: the given graph is not a valid graphology instance.");typeof c=="number"?c={maxIterations:c}:c=c||{};var u=c.maxIterations||i;if(typeof u!="number"||u<=0)throw new Error("graphology-layout-force: you should provide a positive number of maximum iterations.");var d=Object.assign({},r,c.settings),f=n.validateSettings(d);if(f)throw new Error("graphology-layout-noverlap: "+f.message);var m=n.graphToByteArray(l,c.inputReducer),v=!1,w;for(w=0;w<u&&!v;w++)v=e(d,m).converged;if(a){n.assignLayoutChanges(l,m,c.outputReducer);return}return n.collectLayoutChanges(l,m,c.outputReducer)}var o=s.bind(null,!1);return o.assign=s.bind(null,!0),BP=o,BP}var UAe=FAe();const zAe=qa(UAe);var g_={},W4;function WC(){if(W4)return g_;W4=1;function t(r){return typeof r!="number"||isNaN(r)?1:r}function e(r,i){var s={},o=function(c){return typeof c>"u"?i:c};typeof i=="function"&&(o=i);var a=function(c){return o(c[r])},l=function(){return o(void 0)};return typeof r=="string"?(s.fromAttributes=a,s.fromGraph=function(c,u){return a(c.getNodeAttributes(u))},s.fromEntry=function(c,u){return a(u)}):typeof r=="function"?(s.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},s.fromGraph=function(c,u){return o(r(u,c.getNodeAttributes(u)))},s.fromEntry=function(c,u){return o(r(c,u))}):(s.fromAttributes=l,s.fromGraph=l,s.fromEntry=l),s}function n(r,i){var s={},o=function(c){return typeof c>"u"?i:c};typeof i=="function"&&(o=i);var a=function(c){return o(c[r])},l=function(){return o(void 0)};return typeof r=="string"?(s.fromAttributes=a,s.fromGraph=function(c,u){return a(c.getEdgeAttributes(u))},s.fromEntry=function(c,u){return a(u)},s.fromPartialEntry=s.fromEntry,s.fromMinimalEntry=s.fromEntry):typeof r=="function"?(s.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},s.fromGraph=function(c,u){var d=c.extremities(u);return o(r(u,c.getEdgeAttributes(u),d[0],d[1],c.getNodeAttributes(d[0]),c.getNodeAttributes(d[1]),c.isUndirected(u)))},s.fromEntry=function(c,u,d,f,m,v,w){return o(r(c,u,d,f,m,v,w))},s.fromPartialEntry=function(c,u,d,f){return o(r(c,u,d,f))},s.fromMinimalEntry=function(c,u){return o(r(c,u))}):(s.fromAttributes=l,s.fromGraph=l,s.fromEntry=l,s.fromMinimalEntry=l),s}return g_.createNodeValueGetter=e,g_.createEdgeValueGetter=n,g_.createEdgeWeightGetter=function(r){return n(r,t)},g_}var VP,j4;function BAe(){if(j4)return VP;j4=1;var t=0,e=1,n=2,r=3,i=4,s=5,o=6,a=7,l=8,c=9,u=0,d=1,f=2,m=0,v=1,w=2,x=3,y=4,b=5,S=6,T=7,C=8,M=3,I=10,O=3,R=9,D=10;return VP=function($,B,Q){var ne,K,V,G,W,F,U,q,te,re,le=B.length,fe=Q.length,ye=$.adjustSizes,se=$.barnesHutTheta*$.barnesHutTheta,ve,Se,pe,Z,me,ue,_e,ce=[];for(V=0;V<le;V+=I)B[V+i]=B[V+n],B[V+s]=B[V+r],B[V+n]=0,B[V+r]=0;if($.outboundAttractionDistribution){for(ve=0,V=0;V<le;V+=I)ve+=B[V+o];ve/=le/I}if($.barnesHutOptimize){var Xe=1/0,Ae=-1/0,Ge=1/0,je=-1/0,ke,nt,ie;for(V=0;V<le;V+=I)Xe=Math.min(Xe,B[V+t]),Ae=Math.max(Ae,B[V+t]),Ge=Math.min(Ge,B[V+e]),je=Math.max(je,B[V+e]);var J=Ae-Xe,he=je-Ge;for(J>he?(Ge-=(J-he)/2,je=Ge+J):(Xe-=(he-J)/2,Ae=Xe+he),ce[0+m]=-1,ce[0+v]=(Xe+Ae)/2,ce[0+w]=(Ge+je)/2,ce[0+x]=Math.max(Ae-Xe,je-Ge),ce[0+y]=-1,ce[0+b]=-1,ce[0+S]=0,ce[0+T]=0,ce[0+C]=0,ne=1,V=0;V<le;V+=I)for(K=0,ie=M;;)if(ce[K+b]>=0){B[V+t]<ce[K+v]?B[V+e]<ce[K+w]?ke=ce[K+b]:ke=ce[K+b]+R:B[V+e]<ce[K+w]?ke=ce[K+b]+R*2:ke=ce[K+b]+R*3,ce[K+T]=(ce[K+T]*ce[K+S]+B[V+t]*B[V+o])/(ce[K+S]+B[V+o]),ce[K+C]=(ce[K+C]*ce[K+S]+B[V+e]*B[V+o])/(ce[K+S]+B[V+o]),ce[K+S]+=B[V+o],K=ke;continue}else if(ce[K+m]<0){ce[K+m]=V;break}else{if(ce[K+b]=ne*R,q=ce[K+x]/2,te=ce[K+b],ce[te+m]=-1,ce[te+v]=ce[K+v]-q,ce[te+w]=ce[K+w]-q,ce[te+x]=q,ce[te+y]=te+R,ce[te+b]=-1,ce[te+S]=0,ce[te+T]=0,ce[te+C]=0,te+=R,ce[te+m]=-1,ce[te+v]=ce[K+v]-q,ce[te+w]=ce[K+w]+q,ce[te+x]=q,ce[te+y]=te+R,ce[te+b]=-1,ce[te+S]=0,ce[te+T]=0,ce[te+C]=0,te+=R,ce[te+m]=-1,ce[te+v]=ce[K+v]+q,ce[te+w]=ce[K+w]-q,ce[te+x]=q,ce[te+y]=te+R,ce[te+b]=-1,ce[te+S]=0,ce[te+T]=0,ce[te+C]=0,te+=R,ce[te+m]=-1,ce[te+v]=ce[K+v]+q,ce[te+w]=ce[K+w]+q,ce[te+x]=q,ce[te+y]=ce[K+y],ce[te+b]=-1,ce[te+S]=0,ce[te+T]=0,ce[te+C]=0,ne+=4,B[ce[K+m]+t]<ce[K+v]?B[ce[K+m]+e]<ce[K+w]?ke=ce[K+b]:ke=ce[K+b]+R:B[ce[K+m]+e]<ce[K+w]?ke=ce[K+b]+R*2:ke=ce[K+b]+R*3,ce[K+S]=B[ce[K+m]+o],ce[K+T]=B[ce[K+m]+t],ce[K+C]=B[ce[K+m]+e],ce[ke+m]=ce[K+m],ce[K+m]=-1,B[V+t]<ce[K+v]?B[V+e]<ce[K+w]?nt=ce[K+b]:nt=ce[K+b]+R:B[V+e]<ce[K+w]?nt=ce[K+b]+R*2:nt=ce[K+b]+R*3,ke===nt)if(ie--){K=ke;continue}else{ie=M;break}ce[nt+m]=V;break}}if($.barnesHutOptimize)for(Se=$.scalingRatio,V=0;V<le;V+=I)for(K=0;;)if(ce[K+b]>=0)if(ue=Math.pow(B[V+t]-ce[K+T],2)+Math.pow(B[V+e]-ce[K+C],2),re=ce[K+x],4*re*re/ue<se){if(pe=B[V+t]-ce[K+T],Z=B[V+e]-ce[K+C],ye===!0?ue>0?(_e=Se*B[V+o]*ce[K+S]/ue,B[V+n]+=pe*_e,B[V+r]+=Z*_e):ue<0&&(_e=-Se*B[V+o]*ce[K+S]/Math.sqrt(ue),B[V+n]+=pe*_e,B[V+r]+=Z*_e):ue>0&&(_e=Se*B[V+o]*ce[K+S]/ue,B[V+n]+=pe*_e,B[V+r]+=Z*_e),K=ce[K+y],K<0)break;continue}else{K=ce[K+b];continue}else{if(F=ce[K+m],F>=0&&F!==V&&(pe=B[V+t]-B[F+t],Z=B[V+e]-B[F+e],ue=pe*pe+Z*Z,ye===!0?ue>0?(_e=Se*B[V+o]*B[F+o]/ue,B[V+n]+=pe*_e,B[V+r]+=Z*_e):ue<0&&(_e=-Se*B[V+o]*B[F+o]/Math.sqrt(ue),B[V+n]+=pe*_e,B[V+r]+=Z*_e):ue>0&&(_e=Se*B[V+o]*B[F+o]/ue,B[V+n]+=pe*_e,B[V+r]+=Z*_e)),K=ce[K+y],K<0)break;continue}else for(Se=$.scalingRatio,G=0;G<le;G+=I)for(W=0;W<G;W+=I)pe=B[G+t]-B[W+t],Z=B[G+e]-B[W+e],ye===!0?(ue=Math.sqrt(pe*pe+Z*Z)-B[G+l]-B[W+l],ue>0?(_e=Se*B[G+o]*B[W+o]/ue/ue,B[G+n]+=pe*_e,B[G+r]+=Z*_e,B[W+n]-=pe*_e,B[W+r]-=Z*_e):ue<0&&(_e=100*Se*B[G+o]*B[W+o],B[G+n]+=pe*_e,B[G+r]+=Z*_e,B[W+n]-=pe*_e,B[W+r]-=Z*_e)):(ue=Math.sqrt(pe*pe+Z*Z),ue>0&&(_e=Se*B[G+o]*B[W+o]/ue/ue,B[G+n]+=pe*_e,B[G+r]+=Z*_e,B[W+n]-=pe*_e,B[W+r]-=Z*_e));for(te=$.gravity/$.scalingRatio,Se=$.scalingRatio,V=0;V<le;V+=I)_e=0,pe=B[V+t],Z=B[V+e],ue=Math.sqrt(Math.pow(pe,2)+Math.pow(Z,2)),$.strongGravityMode?ue>0&&(_e=Se*B[V+o]*te):ue>0&&(_e=Se*B[V+o]*te/ue),B[V+n]-=pe*_e,B[V+r]-=Z*_e;for(Se=1*($.outboundAttractionDistribution?ve:1),U=0;U<fe;U+=O)G=Q[U+u],W=Q[U+d],q=Q[U+f],me=Math.pow(q,$.edgeWeightInfluence),pe=B[G+t]-B[W+t],Z=B[G+e]-B[W+e],ye===!0?(ue=Math.sqrt(pe*pe+Z*Z)-B[G+l]-B[W+l],$.linLogMode?$.outboundAttractionDistribution?ue>0&&(_e=-Se*me*Math.log(1+ue)/ue/B[G+o]):ue>0&&(_e=-Se*me*Math.log(1+ue)/ue):$.outboundAttractionDistribution?ue>0&&(_e=-Se*me/B[G+o]):ue>0&&(_e=-Se*me)):(ue=Math.sqrt(Math.pow(pe,2)+Math.pow(Z,2)),$.linLogMode?$.outboundAttractionDistribution?ue>0&&(_e=-Se*me*Math.log(1+ue)/ue/B[G+o]):ue>0&&(_e=-Se*me*Math.log(1+ue)/ue):$.outboundAttractionDistribution?(ue=1,_e=-Se*me/B[G+o]):(ue=1,_e=-Se*me)),ue>0&&(B[G+n]+=pe*_e,B[G+r]+=Z*_e,B[W+n]-=pe*_e,B[W+r]-=Z*_e);var Ne,ze,He,et,Ze,Oe;if(ye===!0)for(V=0;V<le;V+=I)B[V+c]!==1&&(Ne=Math.sqrt(Math.pow(B[V+n],2)+Math.pow(B[V+r],2)),Ne>D&&(B[V+n]=B[V+n]*D/Ne,B[V+r]=B[V+r]*D/Ne),ze=B[V+o]*Math.sqrt((B[V+i]-B[V+n])*(B[V+i]-B[V+n])+(B[V+s]-B[V+r])*(B[V+s]-B[V+r])),He=Math.sqrt((B[V+i]+B[V+n])*(B[V+i]+B[V+n])+(B[V+s]+B[V+r])*(B[V+s]+B[V+r]))/2,et=.1*Math.log(1+He)/(1+Math.sqrt(ze)),Ze=B[V+t]+B[V+n]*(et/$.slowDown),B[V+t]=Ze,Oe=B[V+e]+B[V+r]*(et/$.slowDown),B[V+e]=Oe);else for(V=0;V<le;V+=I)B[V+c]!==1&&(ze=B[V+o]*Math.sqrt((B[V+i]-B[V+n])*(B[V+i]-B[V+n])+(B[V+s]-B[V+r])*(B[V+s]-B[V+r])),He=Math.sqrt((B[V+i]+B[V+n])*(B[V+i]+B[V+n])+(B[V+s]+B[V+r])*(B[V+s]+B[V+r]))/2,et=B[V+a]*Math.log(1+He)/(1+Math.sqrt(ze)),B[V+a]=Math.min(1,Math.sqrt(et*(Math.pow(B[V+n],2)+Math.pow(B[V+r],2))/(1+Math.sqrt(ze)))),Ze=B[V+t]+B[V+n]*(et/$.slowDown),B[V+t]=Ze,Oe=B[V+e]+B[V+r]*(et/$.slowDown),B[V+e]=Oe);return{}},VP}var Sd={},$4;function VAe(){if($4)return Sd;$4=1;var t=10,e=3;return Sd.assign=function(n){n=n||{};var r=Array.prototype.slice.call(arguments).slice(1),i,s,o;for(i=0,o=r.length;i<o;i++)if(r[i])for(s in r[i])n[s]=r[i][s];return n},Sd.validateSettings=function(n){return"linLogMode"in n&&typeof n.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in n&&typeof n.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in n&&typeof n.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in n&&typeof n.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in n&&!(typeof n.scalingRatio=="number"&&n.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in n&&typeof n.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in n&&!(typeof n.gravity=="number"&&n.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in n&&!(typeof n.slowDown=="number"||n.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in n&&typeof n.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in n&&!(typeof n.barnesHutTheta=="number"&&n.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},Sd.graphToByteArrays=function(n,r){var i=n.order,s=n.size,o={},a,l=new Float32Array(i*t),c=new Float32Array(s*e);return a=0,n.forEachNode(function(u,d){o[u]=a,l[a]=d.x,l[a+1]=d.y,l[a+2]=0,l[a+3]=0,l[a+4]=0,l[a+5]=0,l[a+6]=1,l[a+7]=1,l[a+8]=d.size||1,l[a+9]=d.fixed?1:0,a+=t}),a=0,n.forEachEdge(function(u,d,f,m,v,w,x){var y=o[f],b=o[m],S=r(u,d,f,m,v,w,x);l[y+6]+=S,l[b+6]+=S,c[a]=y,c[a+1]=b,c[a+2]=S,a+=e}),{nodes:l,edges:c}},Sd.assignLayoutChanges=function(n,r,i){var s=0;n.updateEachNodeAttributes(function(o,a){return a.x=r[s],a.y=r[s+1],s+=t,i?i(o,a):a})},Sd.readGraphPositions=function(n,r){var i=0;n.forEachNode(function(s,o){r[i]=o.x,r[i+1]=o.y,i+=t})},Sd.collectLayoutChanges=function(n,r,i){for(var s=n.nodes(),o={},a=0,l=0,c=r.length;a<c;a+=t){if(i){var u=Object.assign({},n.getNodeAttributes(s[l]));u.x=r[a],u.y=r[a+1],u=i(s[l],u),o[s[l]]={x:u.x,y:u.y}}else o[s[l]]={x:r[a],y:r[a+1]};l++}return o},Sd.createWorker=function(r){var i=window.URL||window.webkitURL,s=r.toString(),o=i.createObjectURL(new Blob(["("+s+").call(this);"],{type:"text/javascript"})),a=new Worker(o);return i.revokeObjectURL(o),a},Sd}var GP,Y4;function GAe(){return Y4||(Y4=1,GP={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}),GP}var HP,X4;function HAe(){if(X4)return HP;X4=1;var t=rf(),e=WC().createEdgeWeightGetter,n=BAe(),r=VAe(),i=GAe();function s(l,c,u){if(!t(c))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof u=="number"&&(u={iterations:u});var d=u.iterations;if(typeof d!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(d<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var f=e("getEdgeWeight"in u?u.getEdgeWeight:"weight").fromEntry,m=typeof u.outputReducer=="function"?u.outputReducer:null,v=r.assign({},i,u.settings),w=r.validateSettings(v);if(w)throw new Error("graphology-layout-forceatlas2: "+w.message);var x=r.graphToByteArrays(c,f),y;for(y=0;y<d;y++)n(v,x.nodes,x.edges);if(l){r.assignLayoutChanges(c,x.nodes,m);return}return r.collectLayoutChanges(c,x.nodes)}function o(l){var c=typeof l=="number"?l:l.order;return{barnesHutOptimize:c>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(c)}}var a=s.bind(null,!1);return a.assign=s.bind(null,!0),a.inferSettings=o,HP=a,HP}var WAe=HAe();const jAe=qa(WAe);var WP,q4;function $Ae(){if(q4)return WP;q4=1;var t=nD(),e=rf(),n={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function r(s,o,a){if(!e(o))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");a=t(a,n);var l=a.dimensions;if(!Array.isArray(l)||l.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var c=l.length,u=a.center,d=a.rng,f=a.scale,m=(u-.5)*f;function v(x){for(var y=0;y<c;y++)x[l[y]]=d()*f+m;return x}if(!s){var w={};return o.forEachNode(function(x){w[x]=v({})}),w}o.updateEachNodeAttributes(function(x,y){return v(y),y},{attributes:l})}var i=r.bind(null,!1);return i.assign=r.bind(null,!0),WP=i,WP}var YAe=$Ae();const XAe=qa(YAe);var mS={},jP={},K4;function nX(){return K4||(K4=1,function(t){var e=Math.pow(2,8)-1,n=Math.pow(2,16)-1,r=Math.pow(2,32)-1,i=Math.pow(2,7)-1,s=Math.pow(2,15)-1,o=Math.pow(2,31)-1;t.getPointerArray=function(l){var c=l-1;if(c<=e)return Uint8Array;if(c<=n)return Uint16Array;if(c<=r)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(l){var c=l-1;return c<=i?Int8Array:c<=s?Int16Array:c<=o?Int32Array:Float64Array},t.getNumberType=function(l){return l===(l|0)?Math.sign(l)===-1?l<=127&&l>=-128?Int8Array:l<=32767&&l>=-32768?Int16Array:Int32Array:l<=255?Uint8Array:l<=65535?Uint16Array:Uint32Array:Float64Array};var a={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(l,c){var u=null,d=0,f,m,v,w,x;for(w=0,x=l.length;w<x;w++)v=c?c(l[w]):l[w],m=t.getNumberType(v),f=a[m.name],f>d&&(d=f,u=m);return u},t.isTypedArray=function(l){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(l)},t.concat=function(){var l=0,c,u,d;for(c=0,d=arguments.length;c<d;c++)l+=arguments[c].length;var f=new arguments[0].constructor(l);for(c=0,u=0;c<d;c++)f.set(arguments[c],u),u+=arguments[c].length;return f},t.indices=function(l){for(var c=t.getPointerArray(l),u=new c(l),d=0;d<l;d++)u[d]=d;return u}}(jP)),jP}var Z4;function qAe(){if(Z4)return mS;Z4=1;var t=nX(),e=WC().createEdgeWeightGetter;function n(s,o){return s==="outbound"||s==="inbound"?o.directedSize+o.undirectedSize*2:s==="in"||s==="out"||s==="directed"?o.directedSize:o.undirectedSize*2}function r(s,o){o=o||"outbound";var a=s[o+"Neighbors"].bind(s),l=n(o,s),c=t.getPointerArray(l),u=t.getPointerArray(s.order);this.graph=s,this.neighborhood=new u(l),this.starts=new c(s.order+1),this.nodes=s.nodes();var d={},f,m,v,w,x,y,b=0;for(f=0,m=s.order;f<m;f++)d[this.nodes[f]]=f;for(f=0,m=s.order;f<m;f++)for(x=this.nodes[f],y=a(x),this.starts[f]=b,v=0,w=y.length;v<w;v++)this.neighborhood[b++]=d[y[v]];this.starts[f]=l}r.prototype.bounds=function(s){return[this.starts[s],this.starts[s+1]]},r.prototype.project=function(){var s=this,o={};return s.nodes.forEach(function(a,l){o[a]=Array.from(s.neighborhood.slice(s.starts[l],s.starts[l+1])).map(function(c){return s.nodes[c]})}),o},r.prototype.collect=function(s){var o,a,l={};for(o=0,a=s.length;o<a;o++)l[this.nodes[o]]=s[o];return l},r.prototype.assign=function(s,o){var a=0;this.graph.updateEachNodeAttributes(function(l,c){return c[s]=o[a++],c},{attributes:[s]})},mS.NeighborhoodIndex=r;function i(s,o,a){a=a||"outbound";var l=s[a+"Edges"].bind(s),c=n(a,s),u=t.getPointerArray(c),d=t.getPointerArray(s.order),f=e(o).fromMinimalEntry;this.graph=s,this.neighborhood=new d(c),this.weights=new Float64Array(c),this.outDegrees=new Float64Array(s.order),this.starts=new u(s.order+1),this.nodes=s.nodes();var m={},v,w,x,y,b,S,T,C,M,I=0;for(v=0,w=s.order;v<w;v++)m[this.nodes[v]]=v;for(v=0,w=s.order;v<w;v++)for(b=this.nodes[v],T=l(b),this.starts[v]=I,x=0,y=T.length;x<y;x++)C=T[x],S=s.opposite(b,C),M=f(C,s.getEdgeAttributes(C)),this.neighborhood[I]=m[S],this.weights[I++]=M,this.outDegrees[v]+=M;this.starts[v]=c}return i.prototype.bounds=r.prototype.bounds,i.prototype.project=r.prototype.project,i.prototype.collect=r.prototype.collect,i.prototype.assign=r.prototype.assign,mS.WeightedNeighborhoodIndex=i,mS}var $P,Q4;function KAe(){if(Q4)return $P;Q4=1;var t=rf(),e=nD(),n=qAe().WeightedNeighborhoodIndex,r={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function i(o,a,l){if(!t(a))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");l=e(l,r);var c=l.alpha,u=l.maxIterations,d=l.tolerance,f=l.nodePagerankAttribute,m=a.order,v=1/m,w=new n(a,l.getEdgeWeight),x,y,b,S,T=new Float64Array(a.order),C=new Float64Array(w.weights.length),M=[];for(x=0;x<m;x++)for(T[x]=v,b=w.starts[x+1],S=w.outDegrees[x],S===0&&M.push(x),y=w.starts[x];y<b;y++)C[y]=w.weights[y]/S;for(var I=0,O=0,R,D,j,$=!1;I<u;){for(j=T,T=new Float64Array(a.order),R=0,x=0,b=M.length;x<b;x++)R+=j[M[x]];for(R*=c,x=0;x<m;x++){for(b=w.starts[x+1],y=w.starts[x];y<b;y++)D=w.neighborhood[y],T[D]+=c*j[x]*C[y];T[x]+=R*v+(1-c)*v}for(O=0,x=0;x<m;x++)O+=Math.abs(T[x]-j[x]);if(O<m*d){$=!0;break}I++}if(!$)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(o){w.assign(f,T);return}return w.collect(T)}var s=i.bind(null,!1);return s.assign=i.bind(null,!0),$P=s,$P}var ZAe=KAe();const QAe=qa(ZAe);var v_={},J4;function JAe(){if(J4)return v_;J4=1;var t=rf();function e(s,o,a,l){var c=o+"Centrality";if(!t(a))throw new Error("graphology-centrality/"+c+": the given graph is not a valid graphology instance.");if(o!=="degree"&&a.type==="undirected")throw new Error("graphology-centrality/"+c+": cannot compute "+o+" centrality on an undirected graph.");l=l||{};var u=l.nodeCentralityAttribute||c,d=a.order-1,f=a[o].bind(a);if(s){a.updateEachNodeAttributes(function(v,w){return w[u]=f(v)/d,w},{attributes:[u]});return}var m={};return a.forEachNode(function(v){m[v]=f(v)/d}),m}var n=e.bind(null,!1,"degree"),r=e.bind(null,!1,"inDegree"),i=e.bind(null,!1,"outDegree");return n.assign=e.bind(null,!0,"degree"),r.assign=e.bind(null,!0,"inDegree"),i.assign=e.bind(null,!0,"outDegree"),v_.degreeCentrality=n,v_.inDegreeCentrality=r,v_.outDegreeCentrality=i,v_}var ePe=JAe();function aE(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rX(t){let e,n,r;t.length!==2?(e=aE,n=(a,l)=>aE(t(a),l),r=(a,l)=>t(a)-l):(e=t===aE||t===tPe?t:nPe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function nPe(){return 0}function rPe(t){return t===null?NaN:+t}const iPe=rX(aE),sPe=iPe.right;rX(rPe).center;const oPe=Math.sqrt(50),aPe=Math.sqrt(10),lPe=Math.sqrt(2);function hT(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=oPe?10:s>=aPe?5:s>=lPe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?hT(t,e,n*2):[a,l,c]}function cPe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?hT(e,t,n):hT(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function P2(t,e,n){return e=+e,t=+t,n=+n,hT(t,e,n)[2]}function uPe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?P2(e,t,n):P2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dPe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qw(){}var lw=.7,pT=1/lw,ny="\\s*([+-]?\\d+)\\s*",cw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fPe=/^#([0-9a-f]{3,8})$/,hPe=new RegExp(`^rgb\\(${ny},${ny},${ny}\\)$`),pPe=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),mPe=new RegExp(`^rgba\\(${ny},${ny},${ny},${cw}\\)$`),gPe=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${cw}\\)$`),vPe=new RegExp(`^hsl\\(${cw},${Tu},${Tu}\\)$`),yPe=new RegExp(`^hsla\\(${cw},${Tu},${Tu},${cw}\\)$`),eB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rD(Qw,uw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tB,formatHex:tB,formatHex8:_Pe,formatHsl:xPe,formatRgb:nB,toString:nB});function tB(){return this.rgb().formatHex()}function _Pe(){return this.rgb().formatHex8()}function xPe(){return sX(this).formatHsl()}function nB(){return this.rgb().formatRgb()}function uw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fPe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rB(e):n===3?new ma(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hPe.exec(t))?new ma(e[1],e[2],e[3],1):(e=pPe.exec(t))?new ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mPe.exec(t))?gS(e[1],e[2],e[3],e[4]):(e=gPe.exec(t))?gS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vPe.exec(t))?oB(e[1],e[2]/100,e[3]/100,1):(e=yPe.exec(t))?oB(e[1],e[2]/100,e[3]/100,e[4]):eB.hasOwnProperty(t)?rB(eB[t]):t==="transparent"?new ma(NaN,NaN,NaN,0):null}function rB(t){return new ma(t>>16&255,t>>8&255,t&255,1)}function gS(t,e,n,r){return r<=0&&(t=e=n=NaN),new ma(t,e,n,r)}function wPe(t){return t instanceof Qw||(t=uw(t)),t?(t=t.rgb(),new ma(t.r,t.g,t.b,t.opacity)):new ma}function R2(t,e,n,r){return arguments.length===1?wPe(t):new ma(t,e,n,r??1)}function ma(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rD(ma,R2,iX(Qw,{brighter(t){return t=t==null?pT:Math.pow(pT,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lw:Math.pow(lw,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ma(dm(this.r),dm(this.g),dm(this.b),mT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iB,formatHex:iB,formatHex8:bPe,formatRgb:sB,toString:sB}));function iB(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}`}function bPe(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}${nm((isNaN(this.opacity)?1:this.opacity)*255)}`}function sB(){const t=mT(this.opacity);return`${t===1?"rgb(":"rgba("}${dm(this.r)}, ${dm(this.g)}, ${dm(this.b)}${t===1?")":`, ${t})`}`}function mT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nm(t){return t=dm(t),(t<16?"0":"")+t.toString(16)}function oB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _c(t,e,n,r)}function sX(t){if(t instanceof _c)return new _c(t.h,t.s,t.l,t.opacity);if(t instanceof Qw||(t=uw(t)),!t)return new _c;if(t instanceof _c)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new _c(o,a,l,t.opacity)}function SPe(t,e,n,r){return arguments.length===1?sX(t):new _c(t,e,n,r??1)}function _c(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rD(_c,SPe,iX(Qw,{brighter(t){return t=t==null?pT:Math.pow(pT,t),new _c(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lw:Math.pow(lw,t),new _c(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ma(YP(t>=240?t-240:t+120,i,r),YP(t,i,r),YP(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _c(aB(this.h),vS(this.s),vS(this.l),mT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mT(this.opacity);return`${t===1?"hsl(":"hsla("}${aB(this.h)}, ${vS(this.s)*100}%, ${vS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aB(t){return t=(t||0)%360,t<0?t+360:t}function vS(t){return Math.max(0,Math.min(1,t||0))}function YP(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iD=t=>()=>t;function EPe(t,e){return function(n){return t+n*e}}function TPe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CPe(t){return(t=+t)==1?oX:function(e,n){return n-e?TPe(e,n,t):iD(isNaN(e)?n:e)}}function oX(t,e){var n=e-t;return n?EPe(t,n):iD(isNaN(t)?e:t)}const lB=function t(e){var n=CPe(e);function r(i,s){var o=n((i=R2(i)).r,(s=R2(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=oX(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function MPe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function APe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PPe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=sD(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function RPe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gT(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function IPe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sD(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var I2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XP=new RegExp(I2.source,"g");function kPe(t){return function(){return t}}function OPe(t){return function(e){return t(e)+""}}function LPe(t,e){var n=I2.lastIndex=XP.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=I2.exec(t))&&(i=XP.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:gT(r,i)})),n=XP.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?OPe(l[0].x):kPe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function sD(t,e){var n=typeof e,r;return e==null||n==="boolean"?iD(e):(n==="number"?gT:n==="string"?(r=uw(e))?(e=r,lB):LPe:e instanceof uw?lB:e instanceof Date?RPe:APe(e)?MPe:Array.isArray(e)?PPe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IPe:gT)(t,e)}function DPe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function NPe(t){return function(){return t}}function FPe(t){return+t}var cB=[0,1];function Gv(t){return t}function k2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NPe(isNaN(e)?NaN:.5)}function UPe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zPe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=k2(i,r),s=n(o,s)):(r=k2(r,i),s=n(s,o)),function(a){return s(r(a))}}function BPe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=k2(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=sPe(t,a,1,r)-1;return s[l](i[l](a))}}function VPe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function GPe(){var t=cB,e=cB,n=sD,r,i,s,o=Gv,a,l,c;function u(){var f=Math.min(t.length,e.length);return o!==Gv&&(o=UPe(t[0],t[f-1])),a=f>2?BPe:zPe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((c||(c=a(e,t.map(r),gT)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,FPe),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=DPe,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Gv,u()):o!==Gv},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,m){return r=f,i=m,u()}}function HPe(){return GPe()(Gv,Gv)}function WPe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vT(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ey(t){return t=vT(Math.abs(t)),t?t[1]:NaN}function jPe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function $Pe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var YPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yT(t){if(!(e=YPe.exec(t)))throw new Error("invalid format: "+t);var e;return new oD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yT.prototype=oD.prototype;function oD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XPe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aX;function qPe(t,e){var n=vT(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(aX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+vT(t,Math.max(0,e+s-1))[0]}function uB(t,e){var n=vT(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:WPe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uB(t*100,e),r:uB,s:qPe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fB(t){return t}var hB=Array.prototype.map,pB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KPe(t){var e=t.grouping===void 0||t.thousands===void 0?fB:jPe(hB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fB:$Pe(hB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=yT(d);var f=d.fill,m=d.align,v=d.sign,w=d.symbol,x=d.zero,y=d.width,b=d.comma,S=d.precision,T=d.trim,C=d.type;C==="n"?(b=!0,C="g"):dB[C]||(S===void 0&&(S=12),T=!0,C="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var M=w==="$"?n:w==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=w==="$"?r:/[%p]/.test(C)?o:"",O=dB[C],R=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(j){var $=M,B=I,Q,ne,K;if(C==="c")B=O(j)+B,j="";else{j=+j;var V=j<0||1/j<0;if(j=isNaN(j)?l:O(Math.abs(j),S),T&&(j=XPe(j)),V&&+j==0&&v!=="+"&&(V=!1),$=(V?v==="("?v:a:v==="-"||v==="("?"":v)+$,B=(C==="s"?pB[8+aX/3]:"")+B+(V&&v==="("?")":""),R){for(Q=-1,ne=j.length;++Q<ne;)if(K=j.charCodeAt(Q),48>K||K>57){B=(K===46?i+j.slice(Q+1):j.slice(Q))+B,j=j.slice(0,Q);break}}}b&&!x&&(j=e(j,1/0));var G=$.length+j.length+B.length,W=G<y?new Array(y-G+1).join(f):"";switch(b&&x&&(j=e(W+j,W.length?y-B.length:1/0),W=""),m){case"<":j=$+j+B+W;break;case"=":j=$+W+j+B;break;case"^":j=W.slice(0,G=W.length>>1)+$+j+B+W.slice(G);break;default:j=W+$+j+B;break}return s(j)}return D.toString=function(){return d+""},D}function u(d,f){var m=c((d=yT(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ey(f)/3)))*3,w=Math.pow(10,-v),x=pB[8+v/3];return function(y){return m(w*y)+x}}return{format:c,formatPrefix:u}}var yS,lX,cX;ZPe({thousands:",",grouping:[3],currency:["$",""]});function ZPe(t){return yS=KPe(t),lX=yS.format,cX=yS.formatPrefix,yS}function QPe(t){return Math.max(0,-Ey(Math.abs(t)))}function JPe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ey(e)/3)))*3-Ey(Math.abs(t)))}function eRe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ey(e)-Ey(t))+1}function tRe(t,e,n,r){var i=uPe(t,e,n),s;switch(r=yT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=JPe(i,o))&&(r.precision=s),cX(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=eRe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=QPe(i))&&(r.precision=s-(r.type==="%")*2);break}}return lX(r)}function nRe(t){var e=t.domain;return t.ticks=function(n){var r=e();return cPe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return tRe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=P2(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function uX(){var t=HPe();return t.copy=function(){return VPe(t,uX())},dPe.apply(t,arguments),nRe(t)}const rRe={},mB=t=>{let e;const n=new Set,r=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const d=e;e=c??typeof u!="object"?u:Object.assign({},e,u),n.forEach(f=>f(e,d))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(rRe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,a),a},iRe=t=>t?mB(t):mB;var qP={exports:{}},KP={},ZP={exports:{}},QP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gB;function sRe(){if(gB)return QP;gB=1;var t=Oy();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var m=f(),v=r({inst:{value:m,getSnapshot:f}}),w=v[0].inst,x=v[1];return s(function(){w.value=m,w.getSnapshot=f,l(w)&&x({inst:w})},[d,m,f]),i(function(){return l(w)&&x({inst:w}),d(function(){l(w)&&x({inst:w})})},[d]),o(m),m}function l(d){var f=d.getSnapshot;d=d.value;try{var m=f();return!n(d,m)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return QP.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,QP}var vB;function oRe(){return vB||(vB=1,ZP.exports=sRe()),ZP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yB;function aRe(){if(yB)return KP;yB=1;var t=Oy(),e=oRe();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return KP.useSyncExternalStoreWithSelector=function(c,u,d,f,m){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=a(function(){function y(M){if(!b){if(b=!0,S=M,M=f(M),m!==void 0&&w.hasValue){var I=w.value;if(m(I,M))return T=I}return T=M}if(I=T,r(S,M))return I;var O=f(M);return m!==void 0&&m(I,O)?I:(S=M,T=O)}var b=!1,S,T,C=d===void 0?null:d;return[function(){return y(u())},C===null?void 0:function(){return y(C())}]},[u,d,f,m]);var x=i(c,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=x},[x]),l(x),x},KP}var _B;function lRe(){return _B||(_B=1,qP.exports=aRe()),qP.exports}var cRe=lRe();const uRe=qa(cRe),dRe={},{useSyncExternalStoreWithSelector:fRe}=uRe;function dX(t,e=t.getState,n){const r=fRe(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return N.useDebugValue(r),r}const xB=t=>{(dRe?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?iRe(t):t,n=(r,i)=>dX(e,r,i);return Object.assign(n,e),n},hRe=t=>t?xB(t):xB,pRe={};function mRe(){(pRe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `context` will be removed in a future version. Instead use `import { createStore, useStore } from 'zustand'`. See: https://github.com/pmndrs/zustand/discussions/1180.");const t=N.createContext(void 0);return{Provider:({createStore:i,children:s})=>{const o=N.useRef();return o.current||(o.current=i()),N.createElement(t.Provider,{value:o.current},s)},useStore:(i,s)=>{const o=N.useContext(t);if(!o)throw new Error("Seems like you have not used zustand provider as an ancestor.");return dX(o,i,s)},useStoreApi:()=>{const i=N.useContext(t);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return N.useMemo(()=>({...i}),[i])}}}function gRe(t,e,n){return Math.max(e,Math.min(t,n))}const Gr={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function wB(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function bB(t,e,n,r=.15){return r===0?gRe(t,e,n):t<e?-wB(e-t,n-e,r)+e:t>n?+wB(t-n,n-e,r)+n:t}function vRe(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[bB(e,s,o,r),bB(n,a,l,i)]}function yRe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Re(t){var e=yRe(t,"string");return typeof e=="symbol"?e:String(e)}function qi(t,e,n){return e=_Re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const fX={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function EB(t){return t?t[0].toUpperCase()+t.slice(1):""}const xRe=["enter","leave"];function wRe(t=!1,e){return t&&!xRe.includes(e)}function bRe(t,e="",n=!1){const r=fX[t],i=r&&r[e]||e;return"on"+EB(t)+EB(i)+(wRe(n,i)?"Capture":"")}const SRe=["gotpointercapture","lostpointercapture"];function ERe(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=SRe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function TRe(t,e=""){const n=fX[t],r=n&&n[e]||e;return t+r}function jC(t){return"touches"in t}function hX(t){return jC(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function CRe(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function MRe(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function pX(t){return jC(t)?MRe(t)[0]:t}function O2(t,e){try{const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function ARe(t){return CRe(t).map(e=>e.identifier)}function TB(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return O2(n,r)}function JP(t){const e=pX(t);return jC(t)?e.identifier:e.pointerId}function Ty(t){const e=pX(t);return[e.clientX,e.clientY]}const CB=40,MB=800;function mX(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=CB,n*=CB):r===2&&(e*=MB,n*=MB),[e,n]}function PRe(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=t.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(n=i??o)!==null&&n!==void 0?n:0]}function RRe(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function _T(t,...e){return typeof t=="function"?t(...e):t}function IRe(){}function kRe(...t){return t.length===0?IRe:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function AB(t,e){return Object.assign({},e,t||{})}const ORe=32;class gX{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?_T(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,RRe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const M=n._delta.map(Math.abs);Gr.addTo(n._distance,M)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:u,values:d}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&d[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&d[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[M,I]=d;f[0]=u[0]!==!1?M-u[0]:0,f[1]=u[1]!==!1?I-u[1]:0}else f[0]=u[0]!==!1?o-u[0]:0,f[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(f);const m=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=_T(r.bounds,n)),this.setup&&this.setup()),n.movement=f,this.computeOffset()));const[w,x]=n.offset,[[y,b],[S,T]]=n._bounds;n.overflow=[w<y?-1:w>b?1:0,x<S?-1:x>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=vRe(n._bounds,n.offset,C),n.delta=Gr.sub(n.offset,m),this.computeMovement(),v&&(!n.last||s>ORe)){n.delta=Gr.sub(n.offset,m);const M=n.delta.map(Math.abs);Gr.addTo(n.distance,M),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[M[0]/s,M[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(li(li(li({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function LRe([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class Jw extends gX{constructor(...e){super(...e),qi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Gr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Gr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[hX(e)]:r.axisThreshold;n.axis=LRe(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const DRe=t=>t,PB=.15,vX={enabled(t=!0){return t},eventOptions(t,e,n){return li(li({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[PB,PB];case!1:return[0,0];default:return Gr.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Gr.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||DRe},threshold(t){return Gr.toVector(t,0)}},NRe=0,Hm=li(li({},vX),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=NRe){return t},bounds(t={}){if(typeof t=="function")return s=>Hm.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),RB={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class FRe extends Jw{constructor(...e){super(...e),qi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Hm.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=JP(e),r._pointerActive=!0,this.computeValues(Ty(e)),this.computeInitial(),n.preventScrollAxis&&hX(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=JP(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=Ty(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Gr.sub(s,n._values),this.computeValues(s)),Gr.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=JP(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,u]=n._movement,[d,f]=r.swipe.velocity,[m,v]=r.swipe.distance,w=r.swipe.duration;if(n.elapsedTime<w){const x=Math.abs(a/n.timeDelta),y=Math.abs(l/n.timeDelta);x>d&&Math.abs(c)>m&&(n.swipe[0]=Math.sign(a)),y>f&&Math.abs(u)>v&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,URe(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=RB[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Gr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in RB&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function URe(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const eb=typeof window<"u"&&window.document&&window.document.createElement;function yX(){return eb&&"ontouchstart"in window}function zRe(){return yX()||eb&&window.navigator.maxTouchPoints>1}function BRe(){return eb&&"onpointerdown"in window}function VRe(){return eb&&"exitPointerLock"in window.document}function GRe(){try{return"constructor"in GestureEvent}catch{return!1}}const Ml={isBrowser:eb,gesture:GRe(),touch:yX(),touchscreen:zRe(),pointer:BRe(),pointerLock:VRe()},HRe=250,WRe=180,jRe=.5,$Re=50,YRe=250,XRe=10,IB={mouse:0,touch:0,pen:8},qRe=li(li({},Hm),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ml.pointerLock,Ml.touch&&n?"touch":this.pointerLock?"mouse":Ml.pointer&&!i?"pointer":Ml.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?HRe:void 0,!(!Ml.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Gr.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=jRe,distance:e=$Re,duration:n=YRe}={}){return{velocity:this.transform(Gr.toVector(t)),distance:this.transform(Gr.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return WRe;case!1:return 0;default:return t}},axisThreshold(t){return t?li(li({},IB),t):IB},keyboardDisplacement(t=XRe){return t}});function _X(t){const[e,n]=t.overflow,[r,i]=t._delta,[s,o]=t._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&o<0||n>0&&i<0&&o>0)&&(t._movement[1]=t._movementBound[1])}const KRe=30,ZRe=100;class QRe extends gX{constructor(...e){super(...e),qi(this,"ingKey","pinching"),qi(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=Gr.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*KRe-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=TB(e,n._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const s=O2(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=TB(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=O2(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],s=n.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=Gr.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>e[r]):!e[n])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-mX(e)[1]/ZRe*r.offset[0],0],Gr.addTo(r._movement,r._delta),_X(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const JRe=li(li({},vX),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ml.touch&&Ml.gesture)return"gesture";if(Ml.touch&&r)return"touch";if(Ml.touchscreen){if(Ml.pointer)return"pointer";if(Ml.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=AB(_T(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=AB(_T(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Gr.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class eIe extends Jw{constructor(...e){super(...e),qi(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Ty(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=Ty(e),r=this.state;r._delta=Gr.sub(n,r._values),Gr.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const tIe=li(li({},Hm),{},{mouseOnly:(t=!0)=>t});class nIe extends Jw{constructor(...e){super(...e),qi(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=PRe(e);n._delta=Gr.sub(r,n._values),Gr.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const rIe=Hm;class iIe extends Jw{constructor(...e){super(...e),qi(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=mX(e),Gr.addTo(n._movement,n._delta),_X(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const sIe=Hm;class oIe extends Jw{constructor(...e){super(...e),qi(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Ty(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Ty(e);n._movement=n._delta=Gr.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const aIe=li(li({},Hm),{},{mouseOnly:(t=!0)=>t}),aD=new Map,L2=new Map;function lIe(t){aD.set(t.key,t.engine),L2.set(t.key,t.resolver)}const cIe={key:"drag",engine:FRe,resolver:qRe},uIe={key:"hover",engine:oIe,resolver:aIe},dIe={key:"move",engine:eIe,resolver:tIe},fIe={key:"pinch",engine:QRe,resolver:JRe},hIe={key:"scroll",engine:nIe,resolver:rIe},pIe={key:"wheel",engine:iIe,resolver:sIe};function mIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gIe(t,e){if(t==null)return{};var n=mIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const vIe={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Ml.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},yIe=["target","eventOptions","window","enabled","transform"];function lE(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=lE(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function _Ie(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=gIe(r,yIe);if(n.shared=lE({target:i,eventOptions:s,window:o,enabled:a,transform:l},vIe),e){const u=L2.get(e);n[e]=lE(li({shared:n.shared},c),u)}else for(const u in c){const d=L2.get(u);d&&(n[u]=lE(li({shared:n.shared},c[u]),d))}return n}class xX{constructor(e,n){qi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=TRe(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=li(li({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class xIe{constructor(){qi(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let wIe=class{constructor(e){qi(this,"gestures",new Set),qi(this,"_targetEventStore",new xX(this)),qi(this,"gestureEventStores",{}),qi(this,"gestureTimeoutStores",{}),qi(this,"handlers",{}),qi(this,"config",{}),qi(this,"pointerIds",new Set),qi(this,"touchIds",new Set),qi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),bIe(this,e)}setEventIds(e){if(jC(e))return this.touchIds=new Set(ARe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=_Ie(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=kB(r,a.eventOptions,!!i);if(a.enabled){const c=aD.get(o);new c(this,e,o).bind(l)}}const s=kB(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](li(li({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=kRe(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=ERe(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function yv(t,e){t.gestures.add(e),t.gestureEventStores[e]=new xX(t,e),t.gestureTimeoutStores[e]=new xIe}function bIe(t,e){e.drag&&yv(t,"drag"),e.wheel&&yv(t,"wheel"),e.scroll&&yv(t,"scroll"),e.move&&yv(t,"move"),e.pinch&&yv(t,"pinch"),e.hover&&yv(t,"hover")}const kB=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,d=(c=o.passive)!==null&&c!==void 0?c:e.passive;let f=a?r:bRe(r,i,u);n&&d&&(f+="Passive"),t[f]=t[f]||[],t[f].push(s)},SIe=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function EIe(t){const e={},n={},r=new Set;for(let i in t)SIe.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function _v(t,e,n,r,i,s){if(!t.has(n)||!aD.has(r))return;const o=n+"Start",a=n+"End",l=c=>{let u;return c.first&&o in e&&e[o](c),n in e&&(u=e[n](c)),c.last&&a in e&&e[a](c),u};i[r]=l,s[r]=s[r]||{}}function TIe(t,e){const[n,r,i]=EIe(t),s={};return _v(i,n,"onDrag","drag",s,e),_v(i,n,"onWheel","wheel",s,e),_v(i,n,"onScroll","scroll",s,e),_v(i,n,"onPinch","pinch",s,e),_v(i,n,"onMove","move",s,e),_v(i,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function CIe(t,e={},n,r){const i=ts.useMemo(()=>new wIe(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),ts.useEffect(i.effect.bind(i)),ts.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function MIe(t){return t.forEach(lIe),function(n,r){const{handlers:i,nativeHandlers:s,config:o}=TIe(n,r||{});return CIe(i,o,void 0,s)}}function AIe(t,e){return MIe([cIe,fIe,hIe,pIe,dIe,uIe])(t,e||{})}var uc={},Pp={},eR,OB;function $C(){if(OB)return eR;OB=1;function t(e){if(typeof e!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=e}return typeof Symbol<"u"&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t(function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}})},t.empty=function(){var e=new t(function(){return{done:!0}});return e},t.fromSequence=function(e){var n=0,r=e.length;return new t(function(){return n>=r?{done:!0}:{done:!1,value:e[n++]}})},t.is=function(e){return e instanceof t?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"},eR=t,eR}var _S={},LB;function wX(){return LB||(LB=1,_S.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",_S.SYMBOL_SUPPORT=typeof Symbol<"u"),_S}var tR,DB;function lD(){if(DB)return tR;DB=1;var t=wX(),e=t.ARRAY_BUFFER_SUPPORT,n=t.SYMBOL_SUPPORT;return tR=function(i,s){var o,a,l,c,u;if(!i)throw new Error("obliterator/forEach: invalid iterable.");if(typeof s!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(i)||e&&ArrayBuffer.isView(i)||typeof i=="string"||i.toString()==="[object Arguments]"){for(l=0,c=i.length;l<c;l++)s(i[l],l);return}if(typeof i.forEach=="function"){i.forEach(s);return}if(n&&Symbol.iterator in i&&typeof i.next!="function"&&(i=i[Symbol.iterator]()),typeof i.next=="function"){for(o=i,l=0;u=o.next(),u.done!==!0;)s(u.value,l),l++;return}for(a in i)i.hasOwnProperty(a)&&s(i[a],a)},tR}var nR,NB;function PIe(){if(NB)return nR;NB=1;var t=$C(),e=lD();function n(){this.clear()}return n.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},n.prototype.enqueue=function(r){return this.items.push(r),++this.size},n.prototype.dequeue=function(){if(this.size){var r=this.items[this.offset];return++this.offset*2>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,r}},n.prototype.peek=function(){if(this.size)return this.items[this.offset]},n.prototype.forEach=function(r,i){i=arguments.length>1?i:this;for(var s=this.offset,o=0,a=this.items.length;s<a;s++,o++)r.call(i,this.items[s],o,this)},n.prototype.toArray=function(){return this.items.slice(this.offset)},n.prototype.values=function(){var r=this.items,i=this.offset;return new t(function(){if(i>=r.length)return{done:!0};var s=r[i];return i++,{value:s,done:!1}})},n.prototype.entries=function(){var r=this.items,i=this.offset,s=0;return new t(function(){if(i>=r.length)return{done:!0};var o=r[i];return i++,{value:[s++,o],done:!1}})},typeof Symbol<"u"&&(n.prototype[Symbol.iterator]=n.prototype.values),n.prototype.toString=function(){return this.toArray().join(",")},n.prototype.toJSON=function(){return this.toArray()},n.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:n,enumerable:!1}),r},typeof Symbol<"u"&&(n.prototype[Symbol.for("nodejs.util.inspect.custom")]=n.prototype.inspect),n.from=function(r){var i=new n;return e(r,function(s){i.enqueue(s)}),i},n.of=function(){return n.from(arguments)},nR=n,nR}var rR,FB;function RIe(){return FB||(FB=1,rR=function(e,n){var r=n.length;if(r!==0){var i=e.length;e.length+=r;for(var s=0;s<r;s++)e[i+s]=n[s]}}),rR}var UB;function IIe(){if(UB)return Pp;UB=1;var t=rf(),e=PIe(),n=RIe();function r(c,u,d){if(!t(c))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!c.hasNode(u))throw new Error('graphology-shortest-path: the "'+u+'" source node does not exist in the given graph.');if(!c.hasNode(d))throw new Error('graphology-shortest-path: the "'+d+'" target node does not exist in the given graph.');if(u=""+u,d=""+d,u===d)return[u];var f=c.inboundNeighbors.bind(c),m=c.outboundNeighbors.bind(c),v={},w={};v[u]=null,w[d]=null;var x=[u],y=[d],b,S,T,C,M,I,O,R,D=!1;e:for(;x.length&&y.length;)if(x.length<=y.length){for(b=x,x=[],M=0,O=b.length;M<O;M++)for(S=b[M],T=m(S),I=0,R=T.length;I<R;I++)if(C=T[I],C in v||(x.push(C),v[C]=S),C in w){D=!0;break e}}else for(b=y,y=[],M=0,O=b.length;M<O;M++)for(S=b[M],T=f(S),I=0,R=T.length;I<R;I++)if(C=T[I],C in w||(y.push(C),w[C]=S),C in v){D=!0;break e}if(!D)return null;for(var j=[];C;)j.unshift(C),C=v[C];for(C=w[j[j.length-1]];C;)j.push(C),C=w[C];return j.length?j:null}function i(c,u){if(!t(c))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!c.hasNode(u))throw new Error('graphology-shortest-path: the "'+u+'" source node does not exist in the given graph.');u=""+u;var d={},f={},m,v,w,x,y,b;for(d[u]=!0,f[u]=[u];Object.keys(d).length;){m=d,d={};for(w in m)for(v=c.outboundNeighbors(w),y=0,b=v.length;y<b;y++)x=v[y],f[x]||(f[x]=f[w].concat(x),d[x]=!0)}return f}function s(c,u,d){if(!t(u))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!u.hasNode(d))throw new Error('graphology-shortest-path: the "'+d+'" source node does not exist in the given graph.');d=""+d;var f=new Set,m={},v=0;m[d]=0;for(var w=[d],x,y,b;w.length!==0;){var S=[];for(x=0,y=w.length;x<y;x++)b=w[x],!f.has(b)&&(f.add(b),n(S,u[c](b)),m[b]=v);v++,w=S}return m}var o=s.bind(null,"outboundNeighbors"),a=s.bind(null,"neighbors");function l(c,u){u=""+u;var d=[],f={},m={},v=c.nodes(),w,x,y,b,S,T,C,M,I;for(T=0,M=v.length;T<M;T++)b=v[T],f[b]=[],m[b]=0;var O={};m[u]=1,O[u]=0;for(var R=e.of(u);R.size;)for(b=R.dequeue(),d.push(b),w=O[b],x=m[b],y=c.outboundNeighbors(b),C=0,I=y.length;C<I;C++)S=y[C],S in O||(R.enqueue(S),O[S]=w+1),O[S]===w+1&&(m[S]+=x,f[S].push(b));return[d,f,m]}return Pp.bidirectional=r,Pp.singleSource=i,Pp.singleSourceLength=o,Pp.undirectedSingleSourceLength=a,Pp.brandes=l,Pp}var iR={},zB;function kIe(){if(zB)return iR;zB=1;var t=function(){return!0};return iR.edgePathFromNodePath=function(e,n){var r=n.length,i,s,o,a;if(r<2)return s=n[0],a=e.multi?e.findEdge(s,s,t):e.edge(s,s),a?[a]:[];r--;var l=new Array(r);for(i=0;i<r;i++){if(s=n[i],o=n[i+1],a=e.multi?e.findOutboundEdge(s,o,t):e.edge(s,o),a===void 0)throw new Error("graphology-shortest-path: given path is impossible in given graph.");l[i]=a}return l},iR}var y_={},xv={},BB;function OIe(){if(BB)return xv;BB=1;var t=function(i,s){return i<s?-1:i>s?1:0},e=function(i,s){return i<s?1:i>s?-1:0};function n(i){return function(s,o){return i(o,s)}}function r(i){return i===2?function(s,o){return s[0]<o[0]?-1:s[0]>o[0]?1:s[1]<o[1]?-1:s[1]>o[1]?1:0}:function(s,o){for(var a=0;a<i;){if(s[a]<o[a])return-1;if(s[a]>o[a])return 1;a++}return 0}}return xv.DEFAULT_COMPARATOR=t,xv.DEFAULT_REVERSE_COMPARATOR=e,xv.reverseComparator=n,xv.createTupleComparator=r,xv}var wv={},VB;function LIe(){if(VB)return wv;VB=1;var t=lD(),e=nX();function n(o){return Array.isArray(o)||e.isTypedArray(o)}function r(o){if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size}function i(o){var a=r(o),l=typeof a=="number"?new Array(a):[],c=0;return t(o,function(u){l[c++]=u}),l}function s(o){var a=r(o),l=typeof a=="number"?e.getPointerArray(a):Array,c=typeof a=="number"?new Array(a):[],u=typeof a=="number"?new l(a):[],d=0;return t(o,function(f){c[d]=f,u[d]=d++}),[c,u]}return wv.isArrayLike=n,wv.guessLength=r,wv.toArray=i,wv.toArrayWithIndices=s,wv}var sR,GB;function bX(){if(GB)return sR;GB=1;var t=lD(),e=OIe(),n=LIe(),r=e.DEFAULT_COMPARATOR,i=e.reverseComparator;function s(y,b,S,T){for(var C=b[T],M,I;T>S;){if(M=T-1>>1,I=b[M],y(C,I)<0){b[T]=I,T=M;continue}break}b[T]=C}function o(y,b,S){for(var T=b.length,C=S,M=b[S],I=2*S+1,O;I<T;)O=I+1,O<T&&y(b[I],b[O])>=0&&(I=O),b[S]=b[I],S=I,I=2*S+1;b[S]=M,s(y,b,C,S)}function a(y,b,S){b.push(S),s(y,b,0,b.length-1)}function l(y,b){var S=b.pop();if(b.length!==0){var T=b[0];return b[0]=S,o(y,b,0),T}return S}function c(y,b,S){if(b.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var T=b[0];return b[0]=S,o(y,b,0),T}function u(y,b,S){var T;return b.length!==0&&y(b[0],S)<0&&(T=b[0],b[0]=S,S=T,o(y,b,0)),S}function d(y,b){for(var S=b.length,T=S>>1,C=T;--C>=0;)o(y,b,C)}function f(y,b){for(var S=b.length,T=0,C=new Array(S);T<S;)C[T++]=l(y,b);return C}function m(y,b,S){arguments.length===2&&(S=b,b=y,y=r);var T=i(y),C,M,I,O=1/0,R;if(b===1){if(n.isArrayLike(S)){for(C=0,M=S.length;C<M;C++)I=S[C],(O===1/0||y(I,O)<0)&&(O=I);return R=new S.constructor(1),R[0]=O,R}return t(S,function(j){(O===1/0||y(j,O)<0)&&(O=j)}),[O]}if(n.isArrayLike(S)){if(b>=S.length)return S.slice().sort(y);for(R=S.slice(0,b),d(T,R),C=b,M=S.length;C<M;C++)T(S[C],R[0])>0&&c(T,R,S[C]);return R.sort(y)}var D=n.guessLength(S);return D!==null&&D<b&&(b=D),R=new Array(b),C=0,t(S,function(j){C<b?R[C]=j:(C===b&&d(T,R),T(j,R[0])>0&&c(T,R,j)),C++}),R.length>C&&(R.length=C),R.sort(y)}function v(y,b,S){arguments.length===2&&(S=b,b=y,y=r);var T=i(y),C,M,I,O=-1/0,R;if(b===1){if(n.isArrayLike(S)){for(C=0,M=S.length;C<M;C++)I=S[C],(O===-1/0||y(I,O)>0)&&(O=I);return R=new S.constructor(1),R[0]=O,R}return t(S,function(j){(O===-1/0||y(j,O)>0)&&(O=j)}),[O]}if(n.isArrayLike(S)){if(b>=S.length)return S.slice().sort(T);for(R=S.slice(0,b),d(y,R),C=b,M=S.length;C<M;C++)y(S[C],R[0])>0&&c(y,R,S[C]);return R.sort(T)}var D=n.guessLength(S);return D!==null&&D<b&&(b=D),R=new Array(b),C=0,t(S,function(j){C<b?R[C]=j:(C===b&&d(y,R),y(j,R[0])>0&&c(y,R,j)),C++}),R.length>C&&(R.length=C),R.sort(T)}function w(y){if(this.clear(),this.comparator=y||r,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}w.prototype.clear=function(){this.items=[],this.size=0},w.prototype.push=function(y){return a(this.comparator,this.items,y),++this.size},w.prototype.peek=function(){return this.items[0]},w.prototype.pop=function(){return this.size!==0&&this.size--,l(this.comparator,this.items)},w.prototype.replace=function(y){return c(this.comparator,this.items,y)},w.prototype.pushpop=function(y){return u(this.comparator,this.items,y)},w.prototype.consume=function(){return this.size=0,f(this.comparator,this.items)},w.prototype.toArray=function(){return f(this.comparator,this.items.slice())},w.prototype.inspect=function(){var y=this.toArray();return Object.defineProperty(y,"constructor",{value:w,enumerable:!1}),y},typeof Symbol<"u"&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=w.prototype.inspect);function x(y){if(this.clear(),this.comparator=y||r,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=i(this.comparator)}return x.prototype=w.prototype,w.from=function(y,b){var S=new w(b),T;return n.isArrayLike(y)?T=y.slice():T=n.toArray(y),d(S.comparator,T),S.items=T,S.size=T.length,S},x.from=function(y,b){var S=new x(b),T;return n.isArrayLike(y)?T=y.slice():T=n.toArray(y),d(S.comparator,T),S.items=T,S.size=T.length,S},w.siftUp=o,w.siftDown=s,w.push=a,w.pop=l,w.replace=c,w.pushpop=u,w.heapify=d,w.consume=f,w.nsmallest=m,w.nlargest=v,w.MinHeap=w,w.MaxHeap=x,sR=w,sR}var HB;function DIe(){if(HB)return y_;HB=1;var t=rf(),e=WC().createEdgeWeightGetter,n=bX(),r="weight";function i(d,f){return d[0]>f[0]?1:d[0]<f[0]?-1:d[1]>f[1]?1:d[1]<f[1]?-1:d[2]>f[2]?1:d[2]<f[2]?-1:0}function s(d,f){return d[0]>f[0]?1:d[0]<f[0]?-1:d[1]>f[1]?1:d[1]<f[1]?-1:d[2]>f[2]?1:d[2]<f[2]?-1:d[3]>f[3]?1:d[3]<f[3]?-1:0}function o(d,f,m,v){if(f=""+f,m=""+m,!t(d))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");if(f&&!d.hasNode(f))throw new Error('graphology-shortest-path/dijkstra: the "'+f+'" source node does not exist in the given graph.');if(m&&!d.hasNode(m))throw new Error('graphology-shortest-path/dijkstra: the "'+m+'" target node does not exist in the given graph.');if(v=e(v||r).fromMinimalEntry,f===m)return[0,[f]];var w=[{},{}],x=[{},{}],y=[new n(i),new n(i)],b=[{},{}];x[0][f]=[f],x[1][m]=[m],b[0][f]=0,b[1][m]=0;var S=[],T=1/0,C=0,M=1,I,O,R,D,j,$,B,Q,ne;for(y[0].push([0,C++,f]),y[1].push([0,C++,m]);y[0].size&&y[1].size;)if(M=1-M,I=y[M].pop(),D=I[0],j=I[2],!(j in w[M])){if(w[M][j]=D,j in w[1-M])return[T,S];for(O=M===1?d.inboundEdges(j):d.outboundEdges(j),Q=0,ne=O.length;Q<ne;Q++){if(B=O[Q],$=d.opposite(j,B),R=w[M][j]+v(B,d.getEdgeAttributes(B)),$ in w[M]&&R<w[M][$])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");(!($ in b[M])||R<b[M][$])&&(b[M][$]=R,y[M].push([R,C++,$]),x[M][$]=x[M][j].concat($),$ in b[0]&&$ in b[1]&&(D=b[0][$]+b[1][$],(S.length===0||T>D)&&(T=D,S=x[0][$].concat(x[1][$].slice(0,-1).reverse()))))}}return[1/0,null]}function a(d,f,m,v,w,x){if(!t(d))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");m=e(m||r).fromMinimalEntry;var y={},b={},S=new n(i),T=0,C,M,I,O,R,D,j,$,B,Q,ne;for($=0,Q=f.length;$<Q;$++)O=f[$],b[O]=0,S.push([0,T++,O]),x&&(x[O]=[O]);for(;S.size;)if(M=S.pop(),j=M[0],O=M[2],!(O in y)){if(y[O]=j,O===w)break;for(C=d.outboundEdges(O),B=0,ne=C.length;B<ne;B++){if(D=C[B],R=d.opposite(O,D),I=m(D,d.getEdgeAttributes(D))+y[O],R in y&&I<y[R])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");(!(R in b)||I<b[R])&&(b[R]=I,S.push([I,T++,R]),x&&(x[R]=x[O].concat(R)))}}return y}function l(d,f,m){var v={};return a(d,[f],m,0,null,v),v}function c(d,f,m,v){return o(d,f,m,v)[1]}function u(d,f,m){f=""+f,m=e(m||r).fromMinimalEntry;var v=[],w={},x={},y=d.nodes(),b,S,T,C,M,I,O,R,D,j;for(D=0,j=y.length;D<j;D++)I=y[D],w[I]=[],x[I]=0;var $={};x[f]=1;var B={};B[f]=0;var Q=0,ne=new n(s);for(ne.push([0,Q++,f,f]);ne.size;)if(S=ne.pop(),C=S[0],T=S[2],I=S[3],!(I in $))for(x[I]+=x[T],v.push(I),$[I]=C,b=d.outboundEdges(I),D=0,j=b.length;D<j;D++)R=b[D],O=d.opposite(I,R),M=C+m(R,d.getEdgeAttributes(R)),!(O in $)&&(!(O in B)||M<B[O])?(B[O]=M,ne.push([M,Q++,I,O]),x[O]=0,w[O]=[I]):M===B[O]&&(x[O]+=x[I],w[O].push(I));return[v,w,x]}return y_.bidirectional=c,y_.singleSource=l,y_.brandes=u,y_}var oR={},WB;function NIe(){if(WB)return oR;WB=1;var t=rf(),e=WC().createEdgeWeightGetter,n=bX(),r="weight";function i(o,a){return o[0]>a[0]?1:o[0]<a[0]?-1:o[1]>a[1]?1:o[1]<a[1]?-1:0}function s(o,a,l,c,u,d){if(!t(o))throw new Error("graphology-shortest-path/astar: invalid graphology instance.");if(a&&!o.hasNode(a))throw new Error('graphology-shortest-path/astar: the "'+a+'" source node does not exist in the given graph.');if(l&&!o.hasNode(l))throw new Error('graphology-shortest-path/astar: the "'+l+'" target node does not exist in the given graph.');if(c=e(c||r).fromMinimalEntry,a===l)return[a];u=u||function(){return 0},d=d||{};var f=0,m=new n(i);m.push([0,f++,a,0,null]);var v={},w={},x,y,b,S,T,C,M,I,O,R,D,j;function $(B,Q,ne,K){if(j=y===ne?K:ne,R=c(B,Q),R!==null){if(D=S+R,v.hasOwnProperty(j)){if(b=v[j],I=b[0],O=b[1],I<=D)return}else O=u(j,l);d.cutoff&&D+O>d.cutoff||(v[j]=[D,O],m.push([D+O,f++,j,D,y]))}}for(;m.size!==0;){if(x=m.pop(),y=x[2],S=x[3],T=x[4],y===l){for(C=[y],M=T;M!==null;)C.push(M),M=w[M];return C.reverse(),C}w.hasOwnProperty(y)&&(w[y]===null||(I=v[y][0],I<S))||(w[y]=T,o.forEachOutboundEdge(y,$))}return null}return oR.bidirectional=s,oR}var jB;function FIe(){if(jB)return uc;jB=1;var t=IIe(),e=kIe();return uc.unweighted=t,uc.dijkstra=DIe(),uc.astar=NIe(),uc.bidirectional=t.bidirectional,uc.singleSource=t.singleSource,uc.singleSourceLength=t.singleSourceLength,uc.undirectedSingleSourceLength=t.undirectedSingleSourceLength,uc.brandes=t.brandes,uc.edgePathFromNodePath=e.edgePathFromNodePath,uc}FIe();var xS={exports:{}},$B;function UIe(){if($B)return xS.exports;$B=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,M,I){return Function.prototype.apply.call(C,M,I)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}xS.exports=s,xS.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");o=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(C){for(var M=[],I=1;I<arguments.length;I++)M.push(arguments[I]);var O=C==="error",R=this._events;if(R!==void 0)O=O&&R.error===void 0;else if(!O)return!1;if(O){var D;if(M.length>0&&(D=M[0]),D instanceof Error)throw D;var j=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw j.context=D,j}var $=R[C];if($===void 0)return!1;if(typeof $=="function")e($,this,M);else for(var B=$.length,Q=v($,B),I=0;I<B;++I)e(Q[I],this,M);return!0};function c(T,C,M,I){var O,R,D;if(a(M),R=T._events,R===void 0?(R=T._events=Object.create(null),T._eventsCount=0):(R.newListener!==void 0&&(T.emit("newListener",C,M.listener?M.listener:M),R=T._events),D=R[C]),D===void 0)D=R[C]=M,++T._eventsCount;else if(typeof D=="function"?D=R[C]=I?[M,D]:[D,M]:I?D.unshift(M):D.push(M),O=l(T),O>0&&D.length>O&&!D.warned){D.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=T,j.type=C,j.count=D.length,r(j)}return T}s.prototype.addListener=function(C,M){return c(this,C,M,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,M){return c(this,C,M,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(T,C,M){var I={fired:!1,wrapFn:void 0,target:T,type:C,listener:M},O=u.bind(I);return O.listener=M,I.wrapFn=O,O}s.prototype.once=function(C,M){return a(M),this.on(C,d(this,C,M)),this},s.prototype.prependOnceListener=function(C,M){return a(M),this.prependListener(C,d(this,C,M)),this},s.prototype.removeListener=function(C,M){var I,O,R,D,j;if(a(M),O=this._events,O===void 0)return this;if(I=O[C],I===void 0)return this;if(I===M||I.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete O[C],O.removeListener&&this.emit("removeListener",C,I.listener||M));else if(typeof I!="function"){for(R=-1,D=I.length-1;D>=0;D--)if(I[D]===M||I[D].listener===M){j=I[D].listener,R=D;break}if(R<0)return this;R===0?I.shift():w(I,R),I.length===1&&(O[C]=I[0]),O.removeListener!==void 0&&this.emit("removeListener",C,j||M)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var M,I,O;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[C]),this;if(arguments.length===0){var R=Object.keys(I),D;for(O=0;O<R.length;++O)D=R[O],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=I[C],typeof M=="function")this.removeListener(C,M);else if(M!==void 0)for(O=M.length-1;O>=0;O--)this.removeListener(C,M[O]);return this};function f(T,C,M){var I=T._events;if(I===void 0)return[];var O=I[C];return O===void 0?[]:typeof O=="function"?M?[O.listener||O]:[O]:M?x(O):v(O,O.length)}s.prototype.listeners=function(C){return f(this,C,!0)},s.prototype.rawListeners=function(C){return f(this,C,!1)},s.listenerCount=function(T,C){return typeof T.listenerCount=="function"?T.listenerCount(C):m.call(T,C)},s.prototype.listenerCount=m;function m(T){var C=this._events;if(C!==void 0){var M=C[T];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(T,C){for(var M=new Array(C),I=0;I<C;++I)M[I]=T[I];return M}function w(T,C){for(;C+1<T.length;C++)T[C]=T[C+1];T.pop()}function x(T){for(var C=new Array(T.length),M=0;M<C.length;++M)C[M]=T[M].listener||T[M];return C}function y(T,C){return new Promise(function(M,I){function O(D){T.removeListener(C,R),I(D)}function R(){typeof T.removeListener=="function"&&T.removeListener("error",O),M([].slice.call(arguments))}S(T,C,R,{once:!0}),C!=="error"&&b(T,O,{once:!0})})}function b(T,C,M){typeof T.on=="function"&&S(T,"error",C,M)}function S(T,C,M,I){if(typeof T.on=="function")I.once?T.once(C,M):T.on(C,M);else if(typeof T.addEventListener=="function")T.addEventListener(C,function O(R){I.once&&T.removeEventListener(C,O),M(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return xS.exports}var zIe=UIe(),BIe=$C();const kl=qa(BIe);var aR,YB;function SX(){if(YB)return aR;YB=1;var t=$C(),e=wX(),n=e.ARRAY_BUFFER_SUPPORT,r=e.SYMBOL_SUPPORT;function i(s){return typeof s=="string"||Array.isArray(s)||n&&ArrayBuffer.isView(s)?t.fromSequence(s):typeof s!="object"||s===null?null:r&&typeof s[Symbol.iterator]=="function"?s[Symbol.iterator]():typeof s.next=="function"?s:null}return aR=function(o){var a=i(o);if(!a)throw new Error("obliterator: target is not iterable nor a valid iterator.");return a},aR}var lR,XB;function VIe(){if(XB)return lR;XB=1;var t=SX();return lR=function(n,r){for(var i=arguments.length>1?r:1/0,s=i!==1/0?new Array(i):[],o,a=0,l=t(n);;){if(a===i)return s;if(o=l.next(),o.done)return a!==r&&(s.length=a),s;s[a++]=o.value}},lR}var GIe=VIe();const EX=qa(GIe);var cR,qB;function HIe(){if(qB)return cR;qB=1;var t=$C(),e=SX();return cR=function(){var r=arguments,i=null,s=-1;return new t(function(){var a=null;do{if(i===null){if(s++,s>=r.length)return{done:!0};i=e(r[s])}if(a=i.next(),a.done===!0){i=null;continue}break}while(!0);return a})},cR}var WIe=HIe();const Bd=qa(WIe);function jIe(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let cs=jIe;typeof Object.assign=="function"&&(cs=Object.assign);function Il(t,e,n,r){const i=t._nodes.get(e);let s=null;return i&&(r==="mixed"?s=i.out&&i.out[n]||i.undirected&&i.undirected[n]:r==="directed"?s=i.out&&i.out[n]:s=i.undirected&&i.undirected[n]),s}function Ks(t){return typeof t=="object"&&t!==null}function TX(t){let e;for(e in t)return!1;return!0}function _l(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function dc(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function KB(t){return!(!Ks(t)||t.attributes&&!Array.isArray(t.attributes))}function $Ie(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class cD extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class Ft extends cD{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ft.prototype.constructor)}}class St extends cD{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,St.prototype.constructor)}}class fn extends cD{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fn.prototype.constructor)}}function CX(t,e){this.key=t,this.attributes=e,this.clear()}CX.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function MX(t,e){this.key=t,this.attributes=e,this.clear()}MX.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function AX(t,e){this.key=t,this.attributes=e,this.clear()}AX.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Xy(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Xy.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};Xy.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const i=this.source[t],s=i[r];if(typeof s>"u"){i[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}s.previous=this,this.next=s,i[r]=this,this.target[e][n]=this};Xy.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};Xy.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const PX=0,RX=1,YIe=2,IX=3;function sf(t,e,n,r,i,s,o){let a,l,c,u;if(r=""+r,n===PX){if(a=t._nodes.get(r),!a)throw new St(`Graph.${e}: could not find the "${r}" node in the graph.`);c=i,u=s}else if(n===IX){if(i=""+i,l=t._edges.get(i),!l)throw new St(`Graph.${e}: could not find the "${i}" edge in the graph.`);const d=l.source.key,f=l.target.key;if(r===d)a=l.target;else if(r===f)a=l.source;else throw new St(`Graph.${e}: the "${r}" node is not attached to the "${i}" edge (${d}, ${f}).`);c=s,u=o}else{if(l=t._edges.get(r),!l)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===RX?a=l.source:a=l.target,c=i,u=s}return[a,c,u]}function XIe(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);return o.attributes[a]}}function qIe(t,e,n){t.prototype[e]=function(r,i){const[s]=sf(this,e,n,r,i);return s.attributes}}function KIe(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);return o.attributes.hasOwnProperty(a)}}function ZIe(t,e,n){t.prototype[e]=function(r,i,s,o){const[a,l,c]=sf(this,e,n,r,i,s,o);return a.attributes[l]=c,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:l}),this}}function QIe(t,e,n){t.prototype[e]=function(r,i,s,o){const[a,l,c]=sf(this,e,n,r,i,s,o);if(typeof c!="function")throw new Ft(`Graph.${e}: updater should be a function.`);const u=a.attributes,d=c(u[l]);return u[l]=d,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:l}),this}}function JIe(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);return delete o.attributes[a],this.emit("nodeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:a}),this}}function e2e(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);if(!Ks(a))throw new Ft(`Graph.${e}: provided attributes are not a plain object.`);return o.attributes=a,this.emit("nodeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function t2e(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);if(!Ks(a))throw new Ft(`Graph.${e}: provided attributes are not a plain object.`);return cs(o.attributes,a),this.emit("nodeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:a}),this}}function n2e(t,e,n){t.prototype[e]=function(r,i,s){const[o,a]=sf(this,e,n,r,i,s);if(typeof a!="function")throw new Ft(`Graph.${e}: provided updater is not a function.`);return o.attributes=a(o.attributes),this.emit("nodeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}const r2e=[{name:t=>`get${t}Attribute`,attacher:XIe},{name:t=>`get${t}Attributes`,attacher:qIe},{name:t=>`has${t}Attribute`,attacher:KIe},{name:t=>`set${t}Attribute`,attacher:ZIe},{name:t=>`update${t}Attribute`,attacher:QIe},{name:t=>`remove${t}Attribute`,attacher:JIe},{name:t=>`replace${t}Attributes`,attacher:e2e},{name:t=>`merge${t}Attributes`,attacher:t2e},{name:t=>`update${t}Attributes`,attacher:n2e}];function i2e(t){r2e.forEach(function({name:e,attacher:n}){n(t,e("Node"),PX),n(t,e("Source"),RX),n(t,e("Target"),YIe),n(t,e("Opposite"),IX)})}function s2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return s.attributes[i]}}function o2e(t,e,n){t.prototype[e]=function(r){let i;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+r,o=""+arguments[1];if(i=Il(this,s,o,n),!i)throw new St(`Graph.${e}: could not find an edge for the given path ("${s}" - "${o}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,i=this._edges.get(r),!i)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return i.attributes}}function a2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return s.attributes.hasOwnProperty(i)}}function l2e(t,e,n){t.prototype[e]=function(r,i,s){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+r,l=""+i;if(i=arguments[2],s=arguments[3],o=Il(this,a,l,n),!o)throw new St(`Graph.${e}: could not find an edge for the given path ("${a}" - "${l}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes[i]=s,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:i}),this}}function c2e(t,e,n){t.prototype[e]=function(r,i,s){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+r,l=""+i;if(i=arguments[2],s=arguments[3],o=Il(this,a,l,n),!o)throw new St(`Graph.${e}: could not find an edge for the given path ("${a}" - "${l}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof s!="function")throw new Ft(`Graph.${e}: updater should be a function.`);return o.attributes[i]=s(o.attributes[i]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:i}),this}}function u2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete s.attributes[i],this.emit("edgeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:i}),this}}function d2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Ks(i))throw new Ft(`Graph.${e}: provided attributes are not a plain object.`);return s.attributes=i,this.emit("edgeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function f2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Ks(i))throw new Ft(`Graph.${e}: provided attributes are not a plain object.`);return cs(s.attributes,i),this.emit("edgeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:i}),this}}function h2e(t,e,n){t.prototype[e]=function(r,i){let s;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new fn(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new fn(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+r,a=""+i;if(i=arguments[2],s=Il(this,o,a,n),!s)throw new St(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(n!=="mixed")throw new fn(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new St(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof i!="function")throw new Ft(`Graph.${e}: provided updater is not a function.`);return s.attributes=i(s.attributes),this.emit("edgeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}const p2e=[{name:t=>`get${t}Attribute`,attacher:s2e},{name:t=>`get${t}Attributes`,attacher:o2e},{name:t=>`has${t}Attribute`,attacher:a2e},{name:t=>`set${t}Attribute`,attacher:l2e},{name:t=>`update${t}Attribute`,attacher:c2e},{name:t=>`remove${t}Attribute`,attacher:u2e},{name:t=>`replace${t}Attributes`,attacher:d2e},{name:t=>`merge${t}Attributes`,attacher:f2e},{name:t=>`update${t}Attributes`,attacher:h2e}];function m2e(t){p2e.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const g2e=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function v2e(t,e,n,r){let i=!1;for(const s in e){if(s===r)continue;const o=e[s];if(i=n(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),t&&i)return o.key}}function y2e(t,e,n,r){let i,s,o,a=!1;for(const l in e)if(l!==r){i=e[l];do{if(s=i.source,o=i.target,a=n(i.key,i.attributes,s.key,o.key,s.attributes,o.attributes,i.undirected),t&&a)return i.key;i=i.next}while(i!==void 0)}}function uR(t,e){const n=Object.keys(t),r=n.length;let i,s=0;return new kl(function(){do if(i)i=i.next;else{if(s>=r)return{done:!0};const a=n[s++];if(a===e){i=void 0;continue}i=t[a]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function _2e(t,e,n,r){const i=e[n];if(!i)return;const s=i.source,o=i.target;if(r(i.key,i.attributes,s.key,o.key,s.attributes,o.attributes,i.undirected)&&t)return i.key}function x2e(t,e,n,r){let i=e[n];if(!i)return;let s=!1;do{if(s=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&s)return i.key;i=i.next}while(i!==void 0)}function dR(t,e){let n=t[e];return n.next!==void 0?new kl(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):kl.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function w2e(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):EX(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),i=e==="undirected",s=t._edges.values();let o=0,a,l;for(;a=s.next(),a.done!==!0;)l=a.value,l.undirected===i&&(r[o++]=l.key);return r}function kX(t,e,n,r){if(e.size===0)return;const i=n!=="mixed"&&n!==e.type,s=n==="undirected";let o,a,l=!1;const c=e._edges.values();for(;o=c.next(),o.done!==!0;){if(a=o.value,i&&a.undirected!==s)continue;const{key:u,attributes:d,source:f,target:m}=a;if(l=r(u,d,f.key,m.key,f.attributes,m.attributes,a.undirected),t&&l)return u}}function b2e(t,e){if(t.size===0)return kl.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",i=t._edges.values();return new kl(function(){let o,a;for(;;){if(o=i.next(),o.done)return o;if(a=o.value,!(n&&a.undirected!==r))break}return{value:{edge:a.key,attributes:a.attributes,source:a.source.key,target:a.target.key,sourceAttributes:a.source.attributes,targetAttributes:a.target.attributes,undirected:a.undirected},done:!1}})}function uD(t,e,n,r,i,s){const o=e?y2e:v2e;let a;if(n!=="undirected"&&(r!=="out"&&(a=o(t,i.in,s),t&&a)||r!=="in"&&(a=o(t,i.out,s,r?void 0:i.key),t&&a))||n!=="directed"&&(a=o(t,i.undirected,s),t&&a))return a}function S2e(t,e,n,r){const i=[];return uD(!1,t,e,n,r,function(s){i.push(s)}),i}function E2e(t,e,n){let r=kl.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=Bd(r,uR(n.in))),e!=="in"&&typeof n.out<"u"&&(r=Bd(r,uR(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=Bd(r,uR(n.undirected))),r}function dD(t,e,n,r,i,s,o){const a=n?x2e:_2e;let l;if(e!=="undirected"&&(typeof i.in<"u"&&r!=="out"&&(l=a(t,i.in,s,o),t&&l)||typeof i.out<"u"&&r!=="in"&&(r||i.key!==s)&&(l=a(t,i.out,s,o),t&&l))||e!=="directed"&&typeof i.undirected<"u"&&(l=a(t,i.undirected,s,o),t&&l))return l}function T2e(t,e,n,r,i){const s=[];return dD(!1,t,e,n,r,i,function(o){s.push(o)}),s}function C2e(t,e,n,r){let i=kl.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(i=Bd(i,dR(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(i=Bd(i,dR(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(i=Bd(i,dR(n.undirected,r))),i}function M2e(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(s,o){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return w2e(this,r);if(arguments.length===1){s=""+s;const a=this._nodes.get(s);if(typeof a>"u")throw new St(`Graph.${n}: could not find the "${s}" node in the graph.`);return S2e(this.multi,r==="mixed"?this.type:r,i,a)}if(arguments.length===2){s=""+s,o=""+o;const a=this._nodes.get(s);if(!a)throw new St(`Graph.${n}:  could not find the "${s}" source node in the graph.`);if(!this._nodes.has(o))throw new St(`Graph.${n}:  could not find the "${o}" target node in the graph.`);return T2e(r,this.multi,i,a,o)}throw new Ft(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function A2e(t,e){const{name:n,type:r,direction:i}=e,s="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[s]=function(c,u,d){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return d=c,kX(!1,this,r,d);if(arguments.length===2){c=""+c,d=u;const f=this._nodes.get(c);if(typeof f>"u")throw new St(`Graph.${s}: could not find the "${c}" node in the graph.`);return uD(!1,this.multi,r==="mixed"?this.type:r,i,f,d)}if(arguments.length===3){c=""+c,u=""+u;const f=this._nodes.get(c);if(!f)throw new St(`Graph.${s}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(u))throw new St(`Graph.${s}:  could not find the "${u}" target node in the graph.`);return dD(!1,r,this.multi,i,f,u,d)}throw new Ft(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const o="map"+n[0].toUpperCase()+n.slice(1);t.prototype[o]=function(){const c=Array.prototype.slice.call(arguments),u=c.pop();let d;if(c.length===0){let f=0;r!=="directed"&&(f+=this.undirectedSize),r!=="undirected"&&(f+=this.directedSize),d=new Array(f);let m=0;c.push((v,w,x,y,b,S,T)=>{d[m++]=u(v,w,x,y,b,S,T)})}else d=[],c.push((f,m,v,w,x,y,b)=>{d.push(u(f,m,v,w,x,y,b))});return this[s].apply(this,c),d};const a="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){const c=Array.prototype.slice.call(arguments),u=c.pop(),d=[];return c.push((f,m,v,w,x,y,b)=>{u(f,m,v,w,x,y,b)&&d.push(f)}),this[s].apply(this,c),d};const l="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){let c=Array.prototype.slice.call(arguments);if(c.length<2||c.length>4)throw new Ft(`Graph.${l}: invalid number of arguments (expecting 2, 3 or 4 and got ${c.length}).`);if(typeof c[c.length-1]=="function"&&typeof c[c.length-2]!="function")throw new Ft(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let u,d;c.length===2?(u=c[0],d=c[1],c=[]):c.length===3?(u=c[1],d=c[2],c=[c[0]]):c.length===4&&(u=c[2],d=c[3],c=[c[0],c[1]]);let f=d;return c.push((m,v,w,x,y,b,S)=>{f=u(f,m,v,w,x,y,b,S)}),this[s].apply(this,c),f}}function P2e(t,e){const{name:n,type:r,direction:i}=e,s="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[s]=function(l,c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return u=l,kX(!0,this,r,u);if(arguments.length===2){l=""+l,u=c;const d=this._nodes.get(l);if(typeof d>"u")throw new St(`Graph.${s}: could not find the "${l}" node in the graph.`);return uD(!0,this.multi,r==="mixed"?this.type:r,i,d,u)}if(arguments.length===3){l=""+l,c=""+c;const d=this._nodes.get(l);if(!d)throw new St(`Graph.${s}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(c))throw new St(`Graph.${s}:  could not find the "${c}" target node in the graph.`);return dD(!0,r,this.multi,i,d,c,u)}throw new Ft(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const o="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(){const l=Array.prototype.slice.call(arguments),c=l.pop();return l.push((d,f,m,v,w,x,y)=>c(d,f,m,v,w,x,y)),!!this[s].apply(this,l)};const a="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){const l=Array.prototype.slice.call(arguments),c=l.pop();return l.push((d,f,m,v,w,x,y)=>!c(d,f,m,v,w,x,y)),!this[s].apply(this,l)}}function R2e(t,e){const{name:n,type:r,direction:i}=e,s=n.slice(0,-1)+"Entries";t.prototype[s]=function(o,a){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return kl.empty();if(!arguments.length)return b2e(this,r);if(arguments.length===1){o=""+o;const l=this._nodes.get(o);if(!l)throw new St(`Graph.${s}: could not find the "${o}" node in the graph.`);return E2e(r,i,l)}if(arguments.length===2){o=""+o,a=""+a;const l=this._nodes.get(o);if(!l)throw new St(`Graph.${s}:  could not find the "${o}" source node in the graph.`);if(!this._nodes.has(a))throw new St(`Graph.${s}:  could not find the "${a}" target node in the graph.`);return C2e(r,i,l,a)}throw new Ft(`Graph.${s}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function I2e(t){g2e.forEach(e=>{M2e(t,e),A2e(t,e),P2e(t,e),R2e(t,e)})}const k2e=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function YC(){this.A=null,this.B=null}YC.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};YC.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function __(t,e,n,r,i){for(const s in r){const o=r[s],a=o.source,l=o.target,c=a===n?l:a;if(e&&e.has(c.key))continue;const u=i(c.key,c.attributes);if(t&&u)return c.key}}function fD(t,e,n,r,i){if(e!=="mixed"){if(e==="undirected")return __(t,null,r,r.undirected,i);if(typeof n=="string")return __(t,null,r,r[n],i)}const s=new YC;let o;if(e!=="undirected"){if(n!=="out"){if(o=__(t,null,r,r.in,i),t&&o)return o;s.wrap(r.in)}if(n!=="in"){if(o=__(t,s,r,r.out,i),t&&o)return o;s.wrap(r.out)}}if(e!=="directed"&&(o=__(t,s,r,r.undirected,i),t&&o))return o}function O2e(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return fD(!1,t,e,n,function(i){r.push(i)}),r}function x_(t,e,n){const r=Object.keys(n),i=r.length;let s=0;return new kl(function(){let a=null;do{if(s>=i)return t&&t.wrap(n),{done:!0};const l=n[r[s++]],c=l.source,u=l.target;if(a=c===e?u:c,t&&t.has(a.key)){a=null;continue}}while(a===null);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}})}function L2e(t,e,n){if(t!=="mixed"){if(t==="undirected")return x_(null,n,n.undirected);if(typeof e=="string")return x_(null,n,n[e])}let r=kl.empty();const i=new YC;return t!=="undirected"&&(e!=="out"&&(r=Bd(r,x_(i,n,n.in))),e!=="in"&&(r=Bd(r,x_(i,n,n.out)))),t!=="directed"&&(r=Bd(r,x_(i,n,n.undirected))),r}function D2e(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(s){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];s=""+s;const o=this._nodes.get(s);if(typeof o>"u")throw new St(`Graph.${n}: could not find the "${s}" node in the graph.`);return O2e(r==="mixed"?this.type:r,i,o)}}function N2e(t,e){const{name:n,type:r,direction:i}=e,s="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[s]=function(c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new St(`Graph.${s}: could not find the "${c}" node in the graph.`);fD(!1,r==="mixed"?this.type:r,i,d,u)};const o="map"+n[0].toUpperCase()+n.slice(1);t.prototype[o]=function(c,u){const d=[];return this[s](c,(f,m)=>{d.push(u(f,m))}),d};const a="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(c,u){const d=[];return this[s](c,(f,m)=>{u(f,m)&&d.push(f)}),d};const l="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(c,u,d){if(arguments.length<3)throw new Ft(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let f=d;return this[s](c,(m,v)=>{f=u(f,m,v)}),f}}function F2e(t,e){const{name:n,type:r,direction:i}=e,s=n[0].toUpperCase()+n.slice(1,-1),o="find"+s;t.prototype[o]=function(c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new St(`Graph.${o}: could not find the "${c}" node in the graph.`);return fD(!0,r==="mixed"?this.type:r,i,d,u)};const a="some"+s;t.prototype[a]=function(c,u){return!!this[o](c,u)};const l="every"+s;t.prototype[l]=function(c,u){return!this[o](c,(f,m)=>!u(f,m))}}function U2e(t,e){const{name:n,type:r,direction:i}=e,s=n.slice(0,-1)+"Entries";t.prototype[s]=function(o){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return kl.empty();o=""+o;const a=this._nodes.get(o);if(typeof a>"u")throw new St(`Graph.${s}: could not find the "${o}" node in the graph.`);return L2e(r==="mixed"?this.type:r,i,a)}}function z2e(t){k2e.forEach(e=>{D2e(t,e),N2e(t,e),F2e(t,e),U2e(t,e)})}function wS(t,e,n,r,i){const s=r._nodes.values(),o=r.type;let a,l,c,u,d,f;for(;a=s.next(),a.done!==!0;){let m=!1;if(l=a.value,o!=="undirected"){u=l.out;for(c in u){d=u[c];do f=d.target,m=!0,i(l.key,f.key,l.attributes,f.attributes,d.key,d.attributes,d.undirected),d=d.next;while(d)}}if(o!=="directed"){u=l.undirected;for(c in u)if(!(e&&l.key>c)){d=u[c];do f=d.target,f.key!==c&&(f=d.source),m=!0,i(l.key,f.key,l.attributes,f.attributes,d.key,d.attributes,d.undirected),d=d.next;while(d)}}n&&!m&&i(l.key,null,l.attributes,null,null,null,null)}}function B2e(t,e){const n={key:t};return TX(e.attributes)||(n.attributes=cs({},e.attributes)),n}function V2e(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return TX(n.attributes)||(r.attributes=cs({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function G2e(t){if(!Ks(t))throw new Ft('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new Ft("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Ks(t.attributes)||t.attributes===null))throw new Ft("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function H2e(t){if(!Ks(t))throw new Ft('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new Ft("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new Ft("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Ks(t.attributes)||t.attributes===null))throw new Ft("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new Ft("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const W2e=$Ie(),j2e=new Set(["directed","undirected","mixed"]),ZB=new Set(["domain","_events","_eventsCount","_maxListeners"]),$2e=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],Y2e={allowSelfLoops:!0,multi:!1,type:"mixed"};function X2e(t,e,n){if(n&&!Ks(n))throw new Ft(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new fn(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function QB(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function OX(t,e,n,r,i,s,o,a){if(!r&&t.type==="undirected")throw new fn(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new fn(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(a&&!Ks(a))throw new Ft(`Graph.${e}: invalid attributes. Expecting an object but got "${a}"`);if(s=""+s,o=""+o,a=a||{},!t.allowSelfLoops&&s===o)throw new fn(`Graph.${e}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const l=t._nodes.get(s),c=t._nodes.get(o);if(!l)throw new St(`Graph.${e}: source node "${s}" not found.`);if(!c)throw new St(`Graph.${e}: target node "${o}" not found.`);const u={key:null,undirected:r,source:s,target:o,attributes:a};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new fn(`Graph.${e}: the "${i}" edge already exists in the graph.`);if(!t.multi&&(r?typeof l.undirected[o]<"u":typeof l.out[o]<"u"))throw new fn(`Graph.${e}: an edge linking "${s}" to "${o}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const d=new Xy(r,i,l,c,a);t._edges.set(i,d);const f=s===o;return r?(l.undirectedDegree++,c.undirectedDegree++,f&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,c.inDegree++,f&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?d.attachMulti():d.attach(),r?t._undirectedSize++:t._directedSize++,u.key=i,t.emit("edgeAdded",u),i}function q2e(t,e,n,r,i,s,o,a,l){if(!r&&t.type==="undirected")throw new fn(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new fn(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(a){if(l){if(typeof a!="function")throw new Ft(`Graph.${e}: invalid updater function. Expecting a function but got "${a}"`)}else if(!Ks(a))throw new Ft(`Graph.${e}: invalid attributes. Expecting an object but got "${a}"`)}s=""+s,o=""+o;let c;if(l&&(c=a,a=void 0),!t.allowSelfLoops&&s===o)throw new fn(`Graph.${e}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let u=t._nodes.get(s),d=t._nodes.get(o),f,m;if(!n&&(f=t._edges.get(i),f)){if((f.source.key!==s||f.target.key!==o)&&(!r||f.source.key!==o||f.target.key!==s))throw new fn(`Graph.${e}: inconsistency detected when attempting to merge the "${i}" edge with "${s}" source & "${o}" target vs. ("${f.source.key}", "${f.target.key}").`);m=f}if(!m&&!t.multi&&u&&(m=r?u.undirected[o]:u.out[o]),m){const b=[m.key,!1,!1,!1];if(l?!c:!a)return b;if(l){const S=m.attributes;m.attributes=c(S),t.emit("edgeAttributesUpdated",{type:"replace",key:m.key,attributes:m.attributes})}else cs(m.attributes,a),t.emit("edgeAttributesUpdated",{type:"merge",key:m.key,attributes:m.attributes,data:a});return b}a=a||{},l&&c&&(a=c(a));const v={key:null,undirected:r,source:s,target:o,attributes:a};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new fn(`Graph.${e}: the "${i}" edge already exists in the graph.`);let w=!1,x=!1;u||(u=QB(t,s,{}),w=!0,s===o&&(d=u,x=!0)),d||(d=QB(t,o,{}),x=!0),f=new Xy(r,i,u,d,a),t._edges.set(i,f);const y=s===o;return r?(u.undirectedDegree++,d.undirectedDegree++,y&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,y&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?f.attachMulti():f.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),[i,!0,w,x]}function bv(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:i}=e,s=e.undirected,o=n===r;s?(n.undirectedDegree--,r.undirectedDegree--,o&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,o&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),s?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:s})}class wr extends zIe.EventEmitter{constructor(e){if(super(),e=cs({},Y2e,e),typeof e.multi!="boolean")throw new Ft(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!j2e.has(e.type))throw new Ft(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new Ft(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?CX:e.type==="directed"?MX:AX;_l(this,"NodeDataClass",n);const r="geid_"+W2e()+"_";let i=0;const s=()=>{let o;do o=r+i++;while(this._edges.has(o));return o};_l(this,"_attributes",{}),_l(this,"_nodes",new Map),_l(this,"_edges",new Map),_l(this,"_directedSize",0),_l(this,"_undirectedSize",0),_l(this,"_directedSelfLoopCount",0),_l(this,"_undirectedSelfLoopCount",0),_l(this,"_edgeKeyGenerator",s),_l(this,"_options",e),ZB.forEach(o=>_l(this,o,this[o])),dc(this,"order",()=>this._nodes.size),dc(this,"size",()=>this._edges.size),dc(this,"directedSize",()=>this._directedSize),dc(this,"undirectedSize",()=>this._undirectedSize),dc(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),dc(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),dc(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),dc(this,"multi",this._options.multi),dc(this,"type",this._options.type),dc(this,"allowSelfLoops",this._options.allowSelfLoops),dc(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&!i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new Ft(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new Ft(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new Ft(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new fn("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new St(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new St(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||void 0;if(i)return i.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new fn("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new St(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new St(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const i=r.undirected&&r.undirected[n]||void 0;if(i)return i.key}edge(e,n){if(this.multi)throw new fn("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new St(`Graph.edge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(i)return i.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new St(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,i+=n.directedLoops),r-i}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,i+=n.directedLoops),r-i}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,i+=n.directedLoops*2),r-i}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new St(`Graph.opposite: could not find the "${n}" edge in the graph.`);const i=r.source.key,s=r.target.key;if(e===i)return s;if(e===s)return i;throw new St(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${i}, ${s}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new St(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new St(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return X2e(this,e,n).key}mergeNode(e,n){if(n&&!Ks(n))throw new Ft(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(cs(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new Ft(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const s=r.attributes;r.attributes=n(s),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const i=n?n({}):{};return r=new this.NodeDataClass(e,i),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new St(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const i in n.out){r=n.out[i];do bv(this,r),r=r.next;while(r)}for(const i in n.in){r=n.in[i];do bv(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const i in n.undirected){r=n.undirected[i];do bv(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],i=""+arguments[1];if(n=Il(this,r,i,this.type),!n)throw new St(`Graph.dropEdge: could not find the "${r}" -> "${i}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new St(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return bv(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new fn("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new fn("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Il(this,e,n,"directed");if(!r)throw new St(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return bv(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new fn("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new fn("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Il(this,e,n,"undirected");if(!r)throw new St(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return bv(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new Ft("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Ks(e))throw new Ft("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Ks(e))throw new Ft("Graph.mergeAttributes: provided attributes are not a plain object.");return cs(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new Ft("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new Ft("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!KB(n))throw new Ft("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let i,s;for(;i=r.next(),i.done!==!0;)s=i.value,s.attributes=e(s.key,s.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new Ft("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!KB(n))throw new Ft("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let i,s,o,a;for(;i=r.next(),i.done!==!0;)s=i.value,o=s.source,a=s.target,s.attributes=e(s.key,s.attributes,o.key,a.key,o.attributes,a.attributes,s.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new Ft("Graph.forEachAdjacencyEntry: expecting a callback.");wS(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ft("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");wS(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new Ft("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");wS(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ft("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");wS(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):EX(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new Ft("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)}findNode(e){if(typeof e!="function")throw new Ft("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return i.key}mapNodes(e){if(typeof e!="function")throw new Ft("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,i;const s=new Array(this.order);let o=0;for(;r=n.next(),r.done!==!0;)i=r.value,s[o++]=e(i.key,i.attributes);return s}someNode(e){if(typeof e!="function")throw new Ft("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new Ft("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,!e(i.key,i.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new Ft("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,i;const s=[];for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)&&s.push(i.key);return s}reduceNodes(e,n){if(typeof e!="function")throw new Ft("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Ft("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const i=this._nodes.values();let s,o;for(;s=i.next(),s.done!==!0;)o=s.value,r=e(r,o.key,o.attributes);return r}nodeEntries(){const e=this._nodes.values();return new kl(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((i,s)=>{e[n++]=B2e(s,i)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((i,s)=>{r[n++]=V2e(this.type,s,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof wr)return e.forEachNode((l,c)=>{n?this.mergeNode(l,c):this.addNode(l,c)}),e.forEachEdge((l,c,u,d,f,m,v)=>{n?v?this.mergeUndirectedEdgeWithKey(l,u,d,c):this.mergeDirectedEdgeWithKey(l,u,d,c):v?this.addUndirectedEdgeWithKey(l,u,d,c):this.addDirectedEdgeWithKey(l,u,d,c)}),this;if(!Ks(e))throw new Ft("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Ks(e.attributes))throw new Ft("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,i,s,o,a;if(e.nodes){if(s=e.nodes,!Array.isArray(s))throw new Ft("Graph.import: invalid nodes. Expecting an array.");for(r=0,i=s.length;r<i;r++){o=s[r],G2e(o);const{key:l,attributes:c}=o;n?this.mergeNode(l,c):this.addNode(l,c)}}if(e.edges){let l=!1;if(this.type==="undirected"&&(l=!0),s=e.edges,!Array.isArray(s))throw new Ft("Graph.import: invalid edges. Expecting an array.");for(r=0,i=s.length;r<i;r++){a=s[r],H2e(a);const{source:c,target:u,attributes:d,undirected:f=l}=a;let m;"key"in a?(m=n?f?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:f?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,m.call(this,a.key,c,u,d)):(m=n?f?this.mergeUndirectedEdge:this.mergeDirectedEdge:f?this.addUndirectedEdge:this.addDirectedEdge,m.call(this,c,u,d))}}return this}nullCopy(e){const n=new wr(cs({},this._options,e));return n.replaceAttributes(cs({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,i)=>{const s=cs({},r.attributes);r=new n.NodeDataClass(i,s),n._nodes.set(i,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new fn(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new fn("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new fn("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let i,s;for(;i=r.next(),i.done!==!0;)s=i.value,OX(n,"copy",!1,s.undirected,s.key,s.source.key,s.target.key,cs({},s.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((s,o)=>{e[o]=s.attributes});const n={},r={};this._edges.forEach((s,o)=>{const a=s.undirected?"--":"->";let l="",c=s.source.key,u=s.target.key,d;s.undirected&&c>u&&(d=c,c=u,u=d);const f=`(${c})${a}(${u})`;o.startsWith("geid_")?this.multi&&(typeof r[f]>"u"?r[f]=0:r[f]++,l+=`${r[f]}. `):l+=`[${o}]: `,l+=f,n[l]=s.attributes});const i={};for(const s in this)this.hasOwnProperty(s)&&!ZB.has(s)&&typeof this[s]!="function"&&typeof s!="symbol"&&(i[s]=this[s]);return i.attributes=this._attributes,i.nodes=e,i.edges=n,_l(i,"constructor",this.constructor),i}}typeof Symbol<"u"&&(wr.prototype[Symbol.for("nodejs.util.inspect.custom")]=wr.prototype.inspect);$2e.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?OX:q2e;t.generateKey?wr.prototype[n]=function(i,s,o){return r(this,n,!0,(t.type||this.type)==="undirected",null,i,s,o,e==="update")}:wr.prototype[n]=function(i,s,o,a){return r(this,n,!1,(t.type||this.type)==="undirected",i,s,o,a,e==="update")}})});i2e(wr);m2e(wr);I2e(wr);z2e(wr);class LX extends wr{constructor(e){const n=cs({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new Ft("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new Ft('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class DX extends wr{constructor(e){const n=cs({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new Ft("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new Ft('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class NX extends wr{constructor(e){const n=cs({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ft("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class FX extends wr{constructor(e){const n=cs({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ft("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new Ft('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class UX extends wr{constructor(e){const n=cs({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ft("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new Ft('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function qy(t){t.from=function(e,n){const r=cs({},e.options,n),i=new t(r);return i.import(e),i}}qy(wr);qy(LX);qy(DX);qy(NX);qy(FX);qy(UX);wr.Graph=wr;wr.DirectedGraph=LX;wr.UndirectedGraph=DX;wr.MultiGraph=NX;wr.MultiDirectedGraph=FX;wr.MultiUndirectedGraph=UX;wr.InvalidArgumentsGraphError=Ft;wr.NotFoundGraphError=St;wr.UsageGraphError=fn;const tb=new oe,hD=new oe,K2e=new oe;function Z2e(t,e,n){const r=tb.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Q2e(t,e){const n=tb.setFromMatrixPosition(t.matrixWorld),r=hD.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(K2e);return i.angleTo(s)>Math.PI/2}function J2e(t,e,n,r){const i=tb.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function eke(t,e){if(e instanceof zm)return e.zoom;if(e instanceof Qi){const n=tb.setFromMatrixPosition(t.matrixWorld),r=hD.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function tke(t,e,n){if(e instanceof Qi||e instanceof zm){const r=tb.setFromMatrixPosition(t.matrixWorld),i=hD.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const D2=t=>Math.abs(t)<1e-10?0:t;function zX(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=D2(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const nke=(t=>e=>zX(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),rke=(t=>(e,n)=>zX(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function ike(t){return t&&typeof t=="object"&&"current"in t}const pD=N.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:f,castShadow:m,receiveShadow:v,material:w,geometry:x,zIndexRange:y=[16777271,0],calculatePosition:b=Z2e,as:S="div",wrapperClass:T,pointerEvents:C="auto",...M},I)=>{const{gl:O,camera:R,scene:D,size:j,raycaster:$,events:B,viewport:Q}=Ji(),[ne]=N.useState(()=>document.createElement(S)),K=N.useRef(),V=N.useRef(null),G=N.useRef(0),W=N.useRef([0,0]),F=N.useRef(null),U=N.useRef(null),q=(a==null?void 0:a.current)||B.connected||O.domElement.parentNode,te=N.useRef(null),re=N.useRef(!1),le=N.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&ike(d[0]),[d]);N.useLayoutEffect(()=>{const Se=O.domElement;d&&d==="blending"?(Se.style.zIndex=`${Math.floor(y[0]/2)}`,Se.style.position="absolute",Se.style.pointerEvents="none"):(Se.style.zIndex=null,Se.style.position=null,Se.style.pointerEvents=null)},[d]),N.useLayoutEffect(()=>{if(V.current){const Se=K.current=DG.createRoot(ne);if(D.updateMatrixWorld(),u)ne.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const pe=b(V.current,R,j);ne.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${pe[0]}px,${pe[1]}px,0);transform-origin:0 0;`}return q&&(i?q.prepend(ne):q.appendChild(ne)),()=>{q&&q.removeChild(ne),Se.unmount()}}},[q,u]),N.useLayoutEffect(()=>{T&&(ne.className=T)},[T]);const fe=N.useMemo(()=>u?{position:"absolute",top:0,left:0,width:j.width,height:j.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-j.height/2,left:-j.width/2,width:j.width,height:j.height},...n},[n,s,o,j,u]),ye=N.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);N.useLayoutEffect(()=>{if(re.current=!1,u){var Se;(Se=K.current)==null||Se.render(N.createElement("div",{ref:F,style:fe},N.createElement("div",{ref:U,style:ye},N.createElement("div",{ref:I,className:r,style:n,children:t}))))}else{var pe;(pe=K.current)==null||pe.render(N.createElement("div",{ref:I,style:fe,className:r,children:t}))}});const se=N.useRef(!0);VC(Se=>{if(V.current){R.updateMatrixWorld(),V.current.updateWorldMatrix(!0,!1);const pe=u?W.current:b(V.current,R,j);if(u||Math.abs(G.current-R.zoom)>e||Math.abs(W.current[0]-pe[0])>e||Math.abs(W.current[1]-pe[1])>e){const Z=Q2e(V.current,R);let me=!1;le&&(Array.isArray(d)?me=d.map(Xe=>Xe.current):d!=="blending"&&(me=[D]));const ue=se.current;if(me){const Xe=J2e(V.current,R,$,me);se.current=Xe&&!Z}else se.current=!Z;ue!==se.current&&(f?f(!se.current):ne.style.display=se.current?"block":"none");const _e=Math.floor(y[0]/2),ce=d?le?[y[0],_e]:[_e-1,0]:y;if(ne.style.zIndex=`${tke(V.current,R,ce)}`,u){const[Xe,Ae]=[j.width/2,j.height/2],Ge=R.projectionMatrix.elements[5]*Ae,{isOrthographicCamera:je,top:ke,left:nt,bottom:ie,right:J}=R,he=nke(R.matrixWorldInverse),Ne=je?`scale(${Ge})translate(${D2(-(J+nt)/2)}px,${D2((ke+ie)/2)}px)`:`translateZ(${Ge}px)`;let ze=V.current.matrixWorld;c&&(ze=R.matrixWorldInverse.clone().transpose().copyPosition(ze).scale(V.current.scale),ze.elements[3]=ze.elements[7]=ze.elements[11]=0,ze.elements[15]=1),ne.style.width=j.width+"px",ne.style.height=j.height+"px",ne.style.perspective=je?"":`${Ge}px`,F.current&&U.current&&(F.current.style.transform=`${Ne}${he}translate(${Xe}px,${Ae}px)`,U.current.style.transform=rke(ze,1/((l||10)/400)))}else{const Xe=l===void 0?1:eke(V.current,R)*l;ne.style.transform=`translate3d(${pe[0]}px,${pe[1]}px,0) scale(${Xe})`}W.current=pe,G.current=R.zoom}}if(!le&&te.current&&!re.current)if(u){if(F.current){const pe=F.current.children[0];if(pe!=null&&pe.clientWidth&&pe!=null&&pe.clientHeight){const{isOrthographicCamera:Z}=R;if(Z||x)M.scale&&(Array.isArray(M.scale)?M.scale instanceof oe?te.current.scale.copy(M.scale.clone().divideScalar(1)):te.current.scale.set(1/M.scale[0],1/M.scale[1],1/M.scale[2]):te.current.scale.setScalar(1/M.scale));else{const me=(l||10)/400,ue=pe.clientWidth*me,_e=pe.clientHeight*me;te.current.scale.set(ue,_e,1)}re.current=!0}}}else{const pe=ne.children[0];if(pe!=null&&pe.clientWidth&&pe!=null&&pe.clientHeight){const Z=1/Q.factor,me=pe.clientWidth*Z,ue=pe.clientHeight*Z;te.current.scale.set(me,ue,1),re.current=!0}te.current.lookAt(Se.camera.position)}});const ve=N.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return N.createElement("group",mm({},M,{ref:V}),d&&!le&&N.createElement("mesh",{castShadow:m,receiveShadow:v,ref:te},x||N.createElement("planeGeometry",null),w||N.createElement("shaderMaterial",{side:ri,vertexShader:ve.vertexShader,fragmentShader:ve.fragmentShader})))});function fm(t,e="pointer",n="auto",r=document.body){N.useEffect(()=>{if(t)return r.style.cursor=e,()=>void(r.style.cursor=n)},[t])}let mD=rb();const Sn=t=>nb(t,mD);let gD=rb();Sn.write=t=>nb(t,gD);let XC=rb();Sn.onStart=t=>nb(t,XC);let vD=rb();Sn.onFrame=t=>nb(t,vD);let yD=rb();Sn.onFinish=t=>nb(t,yD);let ry=[];Sn.setTimeout=(t,e)=>{let n=Sn.now()+e,r=()=>{let s=ry.findIndex(o=>o.cancel==r);~s&&ry.splice(s,1),ah-=~s?1:0},i={time:n,handler:t,cancel:r};return ry.splice(BX(n),0,i),ah+=1,VX(),i};let BX=t=>~(~ry.findIndex(e=>e.time>t)||~ry.length);Sn.cancel=t=>{XC.delete(t),vD.delete(t),yD.delete(t),mD.delete(t),gD.delete(t)};Sn.sync=t=>{N2=!0,Sn.batchedUpdates(t),N2=!1};Sn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Sn.onStart(n)}return r.handler=t,r.cancel=()=>{XC.delete(n),e=null},r};let _D=typeof window<"u"?window.requestAnimationFrame:()=>{};Sn.use=t=>_D=t;Sn.now=typeof performance<"u"?()=>performance.now():Date.now;Sn.batchedUpdates=t=>t();Sn.catch=console.error;Sn.frameLoop="always";Sn.advance=()=>{Sn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):HX()};let oh=-1,ah=0,N2=!1;function nb(t,e){N2?(e.delete(t),t(0)):(e.add(t),VX())}function VX(){oh<0&&(oh=0,Sn.frameLoop!=="demand"&&_D(GX))}function ske(){oh=-1}function GX(){~oh&&(_D(GX),Sn.batchedUpdates(HX))}function HX(){let t=oh;oh=Sn.now();let e=BX(oh);if(e&&(WX(ry.splice(0,e),n=>n.handler()),ah-=e),!ah){ske();return}XC.flush(),mD.flush(t?Math.min(64,oh-t):16.667),vD.flush(),gD.flush(),yD.flush()}function rb(){let t=new Set,e=t;return{add(n){ah+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return ah-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,ah-=e.size,WX(e,r=>r(n)&&t.add(r)),ah+=t.size,e=t)}}}function WX(t,e){t.forEach(n=>{try{e(n)}catch(r){Sn.catch(r)}})}function F2(){}const oke=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ct={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Pd(t,e){if(Ct.arr(t)){if(!Ct.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const hr=(t,e)=>t.forEach(e);function Yd(t,e,n){if(Ct.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const Rl=t=>Ct.und(t)?[]:Ct.arr(t)?t:[t];function fx(t,e){if(t.size){const n=Array.from(t);t.clear(),hr(n,e)}}const Y_=(t,...e)=>fx(t,n=>n(...e)),xD=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let wD,jX,vh=null,$X=!1,bD=F2;const ake=t=>{t.to&&(jX=t.to),t.now&&(Sn.now=t.now),t.colors!==void 0&&(vh=t.colors),t.skipAnimation!=null&&($X=t.skipAnimation),t.createStringInterpolator&&(wD=t.createStringInterpolator),t.requestAnimationFrame&&Sn.use(t.requestAnimationFrame),t.batchedUpdates&&(Sn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(bD=t.willAdvance),t.frameLoop&&(Sn.frameLoop=t.frameLoop)};var ku=Object.freeze({__proto__:null,get createStringInterpolator(){return wD},get to(){return jX},get colors(){return vh},get skipAnimation(){return $X},get willAdvance(){return bD},assign:ake});const hx=new Set;let Al=[],fR=[],xT=0;const qC={get idle(){return!hx.size&&!Al.length},start(t){xT>t.priority?(hx.add(t),Sn.onStart(lke)):(YX(t),Sn(U2))},advance:U2,sort(t){if(xT)Sn.onFrame(()=>qC.sort(t));else{const e=Al.indexOf(t);~e&&(Al.splice(e,1),XX(t))}},clear(){Al=[],hx.clear()}};function lke(){hx.forEach(YX),hx.clear(),Sn(U2)}function YX(t){Al.includes(t)||XX(t)}function XX(t){Al.splice(cke(Al,e=>e.priority>t.priority),0,t)}function U2(t){const e=fR;for(let n=0;n<Al.length;n++){const r=Al[n];xT=r.priority,r.idle||(bD(r),r.advance(t),r.idle||e.push(r))}return xT=0,fR=Al,fR.length=0,Al=e,Al.length>0}function cke(t,e){const n=t.findIndex(e);return n<0?t.length:n}const uke={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},bc="[-+]?\\d*\\.?\\d+",wT=bc+"%";function KC(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const dke=new RegExp("rgb"+KC(bc,bc,bc)),fke=new RegExp("rgba"+KC(bc,bc,bc,bc)),hke=new RegExp("hsl"+KC(bc,wT,wT)),pke=new RegExp("hsla"+KC(bc,wT,wT,bc)),mke=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gke=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,vke=/^#([0-9a-fA-F]{6})$/,yke=/^#([0-9a-fA-F]{8})$/;function _ke(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=vke.exec(t))?parseInt(e[1]+"ff",16)>>>0:vh&&vh[t]!==void 0?vh[t]:(e=dke.exec(t))?(Sv(e[1])<<24|Sv(e[2])<<16|Sv(e[3])<<8|255)>>>0:(e=fke.exec(t))?(Sv(e[1])<<24|Sv(e[2])<<16|Sv(e[3])<<8|t5(e[4]))>>>0:(e=mke.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=yke.exec(t))?parseInt(e[1],16)>>>0:(e=gke.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=hke.exec(t))?(JB(e5(e[1]),bS(e[2]),bS(e[3]))|255)>>>0:(e=pke.exec(t))?(JB(e5(e[1]),bS(e[2]),bS(e[3]))|t5(e[4]))>>>0:null}function hR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JB(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=hR(i,r,t+1/3),o=hR(i,r,t),a=hR(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Sv(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function e5(t){return(parseFloat(t)%360+360)%360/360}function t5(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function bS(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function n5(t){let e=_ke(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const dw=(t,e,n)=>{if(Ct.fun(t))return t;if(Ct.arr(t))return dw({range:t,output:e,extrapolate:n});if(Ct.str(t.output[0]))return wD(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=wke(c,s);return xke(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function xke(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function wke(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const bke={linear:t=>t};function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z2.apply(this,arguments)}const Cy=Symbol.for("FluidValue.get"),Rm=Symbol.for("FluidValue.observers"),mu=t=>!!(t&&t[Cy]),El=t=>t&&t[Cy]?t[Cy]():t,r5=t=>t[Rm]||null;function Ske(t,e){t.eventObserved?t.eventObserved(e):t(e)}function bT(t,e){let n=t[Rm];n&&n.forEach(r=>{Ske(r,e)})}class Eke{constructor(e){if(this[Cy]=void 0,this[Rm]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Tke(this,e)}}const Tke=(t,e)=>qX(t,Cy,e);function ib(t,e){if(t[Cy]){let n=t[Rm];n||qX(t,Rm,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ST(t,e){let n=t[Rm];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Rm]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const qX=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),cE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Cke=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,i5=new RegExp(`(${cE.source})(%|[a-z]+)`,"i"),Mke=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ZC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,KX=t=>{const[e,n]=Ake(t);if(!e||xD())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&ZC.test(n))return KX(n);if(n)return n}return t},Ake=t=>{const e=ZC.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let pR;const Pke=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,ZX=t=>{pR||(pR=vh?new RegExp(`(${Object.keys(vh).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>El(s).replace(ZC,KX).replace(Cke,n5).replace(pR,n5)),n=e.map(s=>s.match(cE).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>dw(z2({},t,{output:s})));return s=>{var o;const a=!i5.test(e[0])&&((o=e.find(c=>i5.test(c)))==null?void 0:o.replace(cE,""));let l=0;return e[0].replace(cE,()=>`${i[l++](s)}${a||""}`).replace(Mke,Pke)}},SD="react-spring: ",QX=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${SD}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},Rke=QX(console.warn);function Ike(){Rke(`${SD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const kke=QX(console.warn);function Oke(){kke(`${SD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function QC(t){return Ct.str(t)&&(t[0]=="#"||/\d/.test(t)||!xD()&&ZC.test(t)||t in(vh||{}))}const ED=xD()?N.useEffect:N.useLayoutEffect,Lke=()=>{const t=N.useRef(!1);return ED(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function JX(){const t=N.useState()[1],e=Lke();return()=>{e.current&&t(Math.random())}}function Dke(t,e){const[n]=N.useState(()=>({inputs:e,result:t()})),r=N.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&Nke(e,s.inputs)||(s={inputs:e,result:t()}):s=n,N.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Nke(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const eq=t=>N.useEffect(t,Fke),Fke=[];function s5(t){const e=N.useRef();return N.useEffect(()=>{e.current=t}),e.current}const fw=Symbol.for("Animated:node"),Uke=t=>!!t&&t[fw]===t,du=t=>t&&t[fw],TD=(t,e)=>oke(t,fw,e),JC=t=>t&&t[fw]&&t[fw].getPayload();class tq{constructor(){this.payload=void 0,TD(this,this)}getPayload(){return this.payload||[]}}class Ky extends tq{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Ct.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Ky(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return Ct.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ct.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class My extends Ky{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=dw({output:[e,e]})}static create(e){return new My(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Ct.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=dw({output:[this.getValue(),e]})),this._value=0,super.reset()}}const ET={dependencies:null};class CD extends tq{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Yd(this.source,(r,i)=>{Uke(r)?n[i]=r.getValue(e):mu(r)?n[i]=El(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&hr(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Yd(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){ET.dependencies&&mu(e)&&ET.dependencies.add(e);const n=JC(e);n&&hr(n,r=>this.add(r))}}class MD extends CD{constructor(e){super(e)}static create(e){return new MD(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(zke)),!0)}}function zke(t){return(QC(t)?My:Ky).create(t)}function B2(t){const e=du(t);return e?e.constructor:Ct.arr(t)?MD:QC(t)?My:Ky}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(this,arguments)}const o5=(t,e)=>{const n=!Ct.fun(t)||t.prototype&&t.prototype.isReactComponent;return N.forwardRef((r,i)=>{const s=N.useRef(null),o=n&&N.useCallback(v=>{s.current=Gke(i,v)},[i]),[a,l]=Vke(r,e),c=JX(),u=()=>{const v=s.current;if(n&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},d=new Bke(u,l),f=N.useRef();ED(()=>(f.current=d,hr(l,v=>ib(v,d)),()=>{f.current&&(hr(f.current.deps,v=>ST(v,f.current)),Sn.cancel(f.current.update))})),N.useEffect(u,[]),eq(()=>()=>{const v=f.current;hr(v.deps,w=>ST(w,v))});const m=e.getComponentProps(a.getValue());return N.createElement(t,TT({},m,{ref:o}))})};class Bke{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&Sn.write(this.update)}}function Vke(t,e){const n=new Set;return ET.dependencies=n,t.style&&(t=TT({},t,{style:e.createAnimatedStyle(t.style)})),t=new CD(t),ET.dependencies=null,[t,n]}function Gke(t,e){return t&&(Ct.fun(t)?t(e):t.current=e),e}const a5=Symbol.for("AnimatedComponent"),Hke=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new CD(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=l5(o)||"Anonymous";return Ct.str(o)?o=s[o]||(s[o]=o5(o,i)):o=o[a5]||(o[a5]=o5(o,i)),o.displayName=`Animated(${a})`,o};return Yd(t,(o,a)=>{Ct.arr(t)&&(a=l5(o)),s[a]=s(o)}),{animated:s}},l5=t=>Ct.str(t)?t:t&&Ct.str(t.displayName)?t.displayName:Ct.fun(t)&&t.name||null;function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}function jp(t,...e){return Ct.fun(t)?t(...e):t}const px=(t,e)=>t===!0||!!(e&&t&&(Ct.fun(t)?t(e):Rl(t).includes(e))),nq=(t,e)=>Ct.obj(t)?e&&t[e]:t,rq=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Wke=t=>t,AD=(t,e=Wke)=>{let n=jke;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Ct.und(s)||(r[i]=s)}return r},jke=["config","onProps","onStart","onChange","onPause","onResume","onRest"],$ke={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Yke(t){const e={};let n=0;if(Yd(t,(r,i)=>{$ke[i]||(e[i]=r,n++)}),n)return e}function iq(t){const e=Yke(t);if(e){const n={to:e};return Yd(t,(r,i)=>i in e||(n[i]=r)),n}return Rs({},t)}function hw(t){return t=El(t),Ct.arr(t)?t.map(hw):QC(t)?ku.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Xke(t){for(const e in t)return!0;return!1}function V2(t){return Ct.fun(t)||Ct.arr(t)&&Ct.obj(t[0])}function qke(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function Kke(t,e){if(e&&t.ref!==e){var n;(n=t.ref)==null||n.delete(t),e.add(t),t.ref=e}}const Zke={default:{tension:170,friction:26}},G2=Rs({},Zke.default,{mass:1,damping:1,easing:bke.linear,clamp:!1});class Qke{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,G2)}}function Jke(t,e,n){n&&(n=Rs({},n),c5(n,e),e=Rs({},n,e)),c5(t,e),Object.assign(t,e);for(const o in G2)t[o]==null&&(t[o]=G2[o]);let{mass:r,frequency:i,damping:s}=t;return Ct.und(i)||(i<.01&&(i=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*s*r/i),t}function c5(t,e){if(!Ct.und(e.decay))t.duration=void 0;else{const n=!Ct.und(e.tension)||!Ct.und(e.friction);(n||!Ct.und(e.frequency)||!Ct.und(e.damping)||!Ct.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}const u5=[];class eOe{constructor(){this.changed=!1,this.values=u5,this.toValues=null,this.fromValues=u5,this.to=void 0,this.from=void 0,this.config=new Qke,this.immediate=!1}}function sq(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{var l;let c,u,d=px((l=n.cancel)!=null?l:r==null?void 0:r.cancel,e);if(d)v();else{Ct.und(n.pause)||(i.paused=px(n.pause,e));let w=r==null?void 0:r.pause;w!==!0&&(w=i.paused||px(w,e)),c=jp(n.delay||0,e),w?(i.resumeQueue.add(m),s.pause()):(s.resume(),m())}function f(){i.resumeQueue.add(m),i.timeouts.delete(u),u.cancel(),c=u.time-Sn.now()}function m(){c>0&&!ku.skipAnimation?(i.delayed=!0,u=Sn.setTimeout(v,c),i.pauseQueue.add(f),i.timeouts.add(u)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),t<=(i.cancelId||0)&&(d=!0);try{s.start(Rs({},n,{callId:t,cancel:d}),o)}catch(w){a(w)}}})}const PD=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?iy(t.get()):e.every(n=>n.noop)?oq(t.get()):vc(t.get(),e.every(n=>n.finished)),oq=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),vc=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),iy=t=>({value:t,cancelled:!0,finished:!1});function aq(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=AD(e,(x,y)=>y==="onRest"?void 0:x);let u,d;const f=new Promise((x,y)=>(u=x,d=y)),m=x=>{const y=i<=(n.cancelId||0)&&iy(r)||i!==n.asyncId&&vc(r,!1);if(y)throw x.result=y,d(x),x},v=(x,y)=>{const b=new d5,S=new f5;return(async()=>{if(ku.skipAnimation)throw pw(n),S.result=vc(r,!1),d(S),S;m(b);const T=Ct.obj(x)?Rs({},x):Rs({},y,{to:x});T.parentId=i,Yd(c,(M,I)=>{Ct.und(T[I])&&(T[I]=M)});const C=await r.start(T);return m(b),n.paused&&await new Promise(M=>{n.resumeQueue.add(M)}),C})()};let w;if(ku.skipAnimation)return pw(n),vc(r,!1);try{let x;Ct.arr(t)?x=(async y=>{for(const b of y)await v(b)})(t):x=Promise.resolve(t(v,r.stop.bind(r))),await Promise.all([x.then(u),f]),w=vc(r.get(),!0,!1)}catch(x){if(x instanceof d5)w=x.result;else if(x instanceof f5)w=x.result;else throw x}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ct.fun(o)&&Sn.batchedUpdates(()=>{o(w,r,r.item)}),w})()}function pw(t,e){fx(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class d5 extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class f5 extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const H2=t=>t instanceof RD;let tOe=1;class RD extends Eke{constructor(...e){super(...e),this.id=tOe++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=du(this);return e&&e.getValue()}to(...e){return ku.to(this,e)}interpolate(...e){return Ike(),ku.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){bT(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||qC.sort(this),bT(this,{type:"priority",parent:this,priority:e})}}const Im=Symbol.for("SpringPhase"),lq=1,cq=2,uq=4,mR=t=>(t[Im]&lq)>0,Qf=t=>(t[Im]&cq)>0,w_=t=>(t[Im]&uq)>0,h5=(t,e)=>e?t[Im]|=cq|lq:t[Im]&=-3,p5=(t,e)=>e?t[Im]|=uq:t[Im]&=-5;class nOe extends RD{constructor(e,n){if(super(),this.key=void 0,this.animation=new eOe,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ct.und(e)||!Ct.und(n)){const r=Ct.obj(e)?Rs({},e):Rs({},n,{from:e});Ct.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Qf(this)||this._state.asyncTo)||w_(this)}get goal(){return El(this.animation.to)}get velocity(){const e=du(this);return e instanceof Ky?e.lastVelocity||0:e.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return mR(this)}get isAnimating(){return Qf(this)}get isPaused(){return w_(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1;const i=this.animation;let{config:s,toValues:o}=i;const a=JC(i.to);!a&&mu(i.to)&&(o=Rl(El(i.to))),i.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==My?1:a?a[d].lastPosition:o[d];let m=i.immediate,v=f;if(!m){if(v=u.lastPosition,s.tension<=0){u.done=!0;return}let w=u.elapsedTime+=e;const x=i.fromValues[d],y=u.v0!=null?u.v0:u.v0=Ct.arr(s.velocity)?s.velocity[d]:s.velocity;let b;const S=s.precision||(x==f?.005:Math.min(1,Math.abs(f-x)*.001));if(Ct.und(s.duration))if(s.decay){const T=s.decay===!0?.998:s.decay,C=Math.exp(-(1-T)*w);v=x+y/(1-T)*(1-C),m=Math.abs(u.lastPosition-v)<=S,b=y*C}else{b=u.lastVelocity==null?y:u.lastVelocity;const T=s.restVelocity||S/10,C=s.clamp?0:s.bounce,M=!Ct.und(C),I=x==f?u.v0>0:x<f;let O,R=!1;const D=1,j=Math.ceil(e/D);for(let $=0;$<j&&(O=Math.abs(b)>T,!(!O&&(m=Math.abs(f-v)<=S,m)));++$){M&&(R=v==f||v>f==I,R&&(b=-b*C,v=f));const B=-s.tension*1e-6*(v-f),Q=-s.friction*.001*b,ne=(B+Q)/s.mass;b=b+ne*D,v=v+b*D}}else{let T=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,w=u.elapsedTime+=e)),T=(s.progress||0)+w/this._memoizedDuration,T=T>1?1:T<0?0:T,u.durationProgress=T),v=x+s.easing(T)*(f-x),b=(v-u.lastPosition)/e,m=T==1}u.lastVelocity=b,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[d].done&&(m=!1),m?u.done=!0:n=!1,u.setValue(v,s.round)&&(r=!0)});const l=du(this),c=l.getValue();if(n){const u=El(i.to);(c!==u||r)&&!s.decay?(l.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return Sn.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Qf(this)){const{to:e,config:n}=this.animation;Sn.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return Ct.und(e)?(r=this.queue||[],this.queue=[]):r=[Ct.obj(e)?e:Rs({},n,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>PD(this,i))}stop(e){const{to:n}=this.animation;return this._focus(this.get()),pw(this._state,e&&this._lastCallId),Sn.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const n=this.key||"";let{to:r,from:i}=e;r=Ct.obj(r)?r[n]:r,(r==null||V2(r))&&(r=void 0),i=Ct.obj(i)?i[n]:i,i==null&&(i=void 0);const s={to:r,from:i};return mR(this)||(e.reverse&&([r,i]=[i,r]),i=El(i),Ct.und(i)?du(this)||this._set(r):this._set(i)),s}_update(e,n){let r=Rs({},e);const{key:i,defaultProps:s}=this;r.default&&Object.assign(s,AD(r,(l,c)=>/^on/.test(c)?nq(l,i):l)),g5(this,r,"onProps"),S_(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return sq(++this._lastCallId,{key:i,props:r,defaultProps:s,state:a,actions:{pause:()=>{w_(this)||(p5(this,!0),Y_(a.pauseQueue),S_(this,"onPause",vc(this,b_(this,this.animation.to)),this))},resume:()=>{w_(this)&&(p5(this,!1),Qf(this)&&this._resume(),Y_(a.resumeQueue),S_(this,"onResume",vc(this,b_(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(r.loop&&l.finished&&!(n&&l.noop)){const c=dq(r);if(c)return this._update(c,!0)}return l})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(iy(this));const i=!Ct.und(e.to),s=!Ct.und(e.from);if(i||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(iy(this));const{key:o,defaultProps:a,animation:l}=this,{to:c,from:u}=l;let{to:d=c,from:f=u}=e;s&&!i&&(!n.default||Ct.und(d))&&(d=f),n.reverse&&([d,f]=[f,d]);const m=!Pd(f,u);m&&(l.from=f),f=El(f);const v=!Pd(d,c);v&&this._focus(d);const w=V2(n.to),{config:x}=l,{decay:y,velocity:b}=x;(i||s)&&(x.velocity=0),n.config&&!w&&Jke(x,jp(n.config,o),n.config!==a.config?jp(a.config,o):void 0);let S=du(this);if(!S||Ct.und(d))return r(vc(this,!0));const T=Ct.und(n.reset)?s&&!n.default:!Ct.und(f)&&px(n.reset,o),C=T?f:this.get(),M=hw(d),I=Ct.num(M)||Ct.arr(M)||QC(M),O=!w&&(!I||px(a.immediate||n.immediate,o));if(v){const $=B2(d);if($!==S.constructor)if(O)S=this._set(M);else throw Error(`Cannot animate between ${S.constructor.name} and ${$.name}, as the "to" prop suggests`)}const R=S.constructor;let D=mu(d),j=!1;if(!D){const $=T||!mR(this)&&m;(v||$)&&(j=Pd(hw(C),M),D=!j),(!Pd(l.immediate,O)&&!O||!Pd(x.decay,y)||!Pd(x.velocity,b))&&(D=!0)}if(j&&Qf(this)&&(l.changed&&!T?D=!0:D||this._stop(c)),!w&&((D||mu(c))&&(l.values=S.getPayload(),l.toValues=mu(d)?null:R==My?[1]:Rl(M)),l.immediate!=O&&(l.immediate=O,!O&&!T&&this._set(c)),D)){const{onRest:$}=l;hr(iOe,Q=>g5(this,n,Q));const B=vc(this,b_(this,c));Y_(this._pendingCalls,B),this._pendingCalls.add(r),l.changed&&Sn.batchedUpdates(()=>{l.changed=!T,$==null||$(B,this),T?jp(a.onRest,B):l.onStart==null||l.onStart(B,this)})}T&&this._set(C),w?r(aq(n.to,n,this._state,this)):D?this._start():Qf(this)&&!v?this._pendingCalls.add(r):r(oq(C))}_focus(e){const n=this.animation;e!==n.to&&(r5(this)&&this._detach(),n.to=e,r5(this)&&this._attach())}_attach(){let e=0;const{to:n}=this.animation;mu(n)&&(ib(n,this),H2(n)&&(e=n.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;mu(e)&&ST(e,this)}_set(e,n=!0){const r=El(e);if(!Ct.und(r)){const i=du(this);if(!i||!Pd(r,i.getValue())){const s=B2(r);!i||i.constructor!=s?TD(this,s.create(r)):i.setValue(r),i&&Sn.batchedUpdates(()=>{this._onChange(r,n)})}}return du(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,S_(this,"onStart",vc(this,b_(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),jp(this.animation.onChange,e,this)),jp(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){const e=this.animation;du(this).reset(El(e.to)),e.immediate||(e.fromValues=e.values.map(n=>n.lastPosition)),Qf(this)||(h5(this,!0),w_(this)||this._resume())}_resume(){ku.skipAnimation?this.finish():qC.start(this)}_stop(e,n){if(Qf(this)){h5(this,!1);const r=this.animation;hr(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),bT(this,{type:"idle",parent:this});const i=n?iy(this.get()):vc(this.get(),b_(this,e??r.to));Y_(this._pendingCalls,i),r.changed&&(r.changed=!1,S_(this,"onRest",i,this))}}}function b_(t,e){const n=hw(e),r=hw(t.get());return Pd(r,n)}function dq(t,e=t.loop,n=t.to){let r=jp(e);if(r){const i=r!==!0&&iq(r),s=(i||t).reverse,o=!i||i.reset;return mw(Rs({},t,{loop:e,default:!1,pause:void 0,to:!s||V2(n)?n:void 0,from:o?t.from:void 0,reset:o},i))}}function mw(t){const{to:e,from:n}=t=iq(t),r=new Set;return Ct.obj(e)&&m5(e,r),Ct.obj(n)&&m5(n,r),t.keys=r.size?Array.from(r):null,t}function rOe(t){const e=mw(t);return Ct.und(e.default)&&(e.default=AD(e)),e}function m5(t,e){Yd(t,(n,r)=>n!=null&&e.add(r))}const iOe=["onStart","onRest","onChange","onPause","onResume"];function g5(t,e,n){t.animation[n]=e[n]!==rq(e,n)?nq(e[n],t.key):void 0}function S_(t,e,...n){var r,i,s,o;(r=(i=t.animation)[e])==null||r.call(i,...n),(s=(o=t.defaultProps)[e])==null||s.call(o,...n)}const sOe=["onStart","onChange","onRest"];let oOe=1;class aOe{constructor(e,n){this.id=oOe++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(Rs({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];Ct.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(mw(e)),this}start(e){let{queue:n}=this;return e?n=Rl(e).map(mw):this.queue=[],this._flush?this._flush(this,n):(gq(this,n),W2(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;hr(Rl(n),i=>r[i].stop(!!e))}else pw(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Ct.und(e))this.start({pause:!0});else{const n=this.springs;hr(Rl(e),r=>n[r].pause())}return this}resume(e){if(Ct.und(e))this.start({pause:!1});else{const n=this.springs;hr(Rl(e),r=>n[r].resume())}return this}each(e){Yd(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,fx(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&n.size&&fx(n,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,fx(r,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Sn.onFrame(this._onFrame)}}function W2(t,e){return Promise.all(e.map(n=>fq(t,n))).then(n=>PD(t,n))}async function fq(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Ct.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=Ct.arr(i)||Ct.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):hr(sOe,w=>{const x=e[w];if(Ct.fun(x)){const y=t._events[w];e[w]=({finished:b,cancelled:S})=>{const T=y.get(x);T?(b||(T.finished=!1),S&&(T.cancelled=!0)):y.set(x,{value:null,finished:b||!1,cancelled:S||!1})},c&&(c[w]=e[w])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Y_(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const f=(r||Object.keys(t.springs)).map(w=>t.springs[w].start(e)),m=e.cancel===!0||rq(e,"cancel")===!0;(u||m&&d.asyncId)&&f.push(sq(++t._lastAsyncId,{props:e,state:d,actions:{pause:F2,resume:F2,start(w,x){m?(pw(d,t._lastAsyncId),x(iy(t))):(w.onRest=a,x(aq(u,w,d,t)))}}})),d.paused&&await new Promise(w=>{d.resumeQueue.add(w)});const v=PD(t,await Promise.all(f));if(o&&v.finished&&!(n&&v.noop)){const w=dq(e,o,i);if(w)return gq(t,[w]),fq(t,w,!0)}return l&&Sn.batchedUpdates(()=>l(v,t,t.item)),v}function v5(t,e){const n=Rs({},t.springs);return e&&hr(Rl(e),r=>{Ct.und(r.keys)&&(r=mw(r)),Ct.obj(r.to)||(r=Rs({},r,{to:void 0})),mq(n,r,i=>pq(i))}),hq(t,n),n}function hq(t,e){Yd(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,ib(n,t))})}function pq(t,e){const n=new nOe;return n.key=t,e&&ib(n,e),n}function mq(t,e,n){e.keys&&hr(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function gq(t,e){hr(e,n=>{mq(t.springs,n,r=>pq(r,t))})}function lOe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const cOe=["children"],eM=t=>{let{children:e}=t,n=lOe(t,cOe);const r=N.useContext(CT),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=Dke(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=CT;return N.createElement(o,{value:n},e)},CT=uOe(eM,{});eM.Provider=CT.Provider;eM.Consumer=CT.Consumer;function uOe(t,e){return Object.assign(t,N.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const dOe=()=>{const t=[],e=function(i){Oke();const s=[];return hr(t,(o,a)=>{if(Ct.und(i))s.push(o.start());else{const l=n(i,o,a);l&&s.push(o.start(l))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return hr(t,r=>r.pause(...arguments)),this},e.resume=function(){return hr(t,r=>r.resume(...arguments)),this},e.set=function(r){hr(t,i=>i.set(r))},e.start=function(r){const i=[];return hr(t,(s,o)=>{if(Ct.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return hr(t,r=>r.stop(...arguments)),this},e.update=function(r){return hr(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(i,s,o){return Ct.fun(i)?i(o,s):i};return e._getProps=n,e};function fOe(t,e,n){const r=Ct.fun(e)&&e;r&&!n&&(n=[]);const i=N.useMemo(()=>r||arguments.length==3?dOe():void 0,[]),s=N.useRef(0),o=JX(),a=N.useMemo(()=>({ctrls:[],queue:[],flush(y,b){const S=v5(y,b);return s.current>0&&!a.queue.length&&!Object.keys(S).some(C=>!y.springs[C])?W2(y,b):new Promise(C=>{hq(y,S),a.queue.push(()=>{C(W2(y,b))}),o()})}}),[]),l=N.useRef([...a.ctrls]),c=[],u=s5(t)||0;N.useMemo(()=>{hr(l.current.slice(t,u),y=>{qke(y,i),y.stop(!0)}),l.current.length=t,d(u,t)},[t]),N.useMemo(()=>{d(0,Math.min(u,t))},n);function d(y,b){for(let S=y;S<b;S++){const T=l.current[S]||(l.current[S]=new aOe(null,a.flush)),C=r?r(S,T):e[S];C&&(c[S]=rOe(C))}}const f=l.current.map((y,b)=>v5(y,c[b])),m=N.useContext(eM),v=s5(m),w=m!==v&&Xke(m);ED(()=>{s.current++,a.ctrls=l.current;const{queue:y}=a;y.length&&(a.queue=[],hr(y,b=>b())),hr(l.current,(b,S)=>{i==null||i.add(b),w&&b.start({default:m});const T=c[S];T&&(Kke(b,T.ref),b.ref?b.queue.push(T):b.start(T))})}),eq(()=>()=>{hr(a.ctrls,y=>y.stop(!0))});const x=f.map(y=>Rs({},y));return i?[x,i]:x}function Ya(t,e){const n=Ct.fun(t),[[r],i]=fOe(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}let y5;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(y5||(y5={}));class hOe extends RD{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=dw(...n);const r=this._get(),i=B2(r);TD(this,i.create(r))}advance(e){const n=this._get(),r=this.get();Pd(n,r)||(du(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&_5(this._active)&&gR(this)}_get(){const e=Ct.arr(this.source)?this.source.map(El):Rl(El(this.source));return this.calc(...e)}_start(){this.idle&&!_5(this._active)&&(this.idle=!1,hr(JC(this),e=>{e.done=!1}),ku.skipAnimation?(Sn.batchedUpdates(()=>this.advance()),gR(this)):qC.start(this))}_attach(){let e=1;hr(Rl(this.source),n=>{mu(n)&&ib(n,this),H2(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){hr(Rl(this.source),e=>{mu(e)&&ST(e,this)}),this._active.clear(),gR(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Rl(this.source).reduce((n,r)=>Math.max(n,(H2(r)?r.priority:0)+1),0))}}function pOe(t){return t.idle!==!1}function _5(t){return!t.size||Array.from(t).every(pOe)}function gR(t){t.idle||(t.idle=!0,hr(JC(t),e=>{e.done=!0}),bT(t,{type:"idle",parent:t}))}ku.assign({createStringInterpolator:ZX,to:(t,e)=>new hOe(t,e)});const mOe=["primitive"].concat(Object.keys(SY).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));ku.assign({createStringInterpolator:ZX,colors:uke,frameLoop:"demand"});uCe(()=>{Sn.advance()});const gOe=Hke(mOe,{applyAnimatedValues:zp}),_i=gOe.animated,SS=(t,e)=>{const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),s={},o={},a=t[0].morphTargetsRelative,l=new Pn;let c=0;if(t.forEach((u,d)=>{let f=0;if(n!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let m in u.attributes){if(!r.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;s[m]===void 0&&(s[m]=[]),s[m].push(u.attributes[m]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(a!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let m in u.morphAttributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;o[m]===void 0&&(o[m]=[]),o[m].push(u.morphAttributes[m])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(u.userData),e){let m;if(u.index)m=u.index.count;else if(u.attributes.position!==void 0)m=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,m,d),c+=m}}),n){let u=0;const d=[];t.forEach(f=>{const m=f.index;for(let v=0;v<m.count;++v)d.push(m.getX(v)+u);u+=f.attributes.position.count}),l.setIndex(d)}for(let u in s){const d=x5(s[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,d)}for(let u in o){const d=o[u][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let f=0;f<d;++f){const m=[];for(let w=0;w<o[u].length;++w)m.push(o[u][w][f]);const v=x5(m);if(!v)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(v)}}return l},x5=t=>{let e,n,r,i=0;if(t.forEach(s=>{if(e===void 0&&(e=s.array.constructor),e!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=s.normalized),r!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=s.array.length}),e&&n){const s=new e(i);let o=0;return t.forEach(a=>{s.set(a.array,o),o+=a.array.length}),new gr(s,n,r)}},vR=new $w,yR=new oe,Ev=new oe,fc=new oe,Ed=new oe,lu=new oe,Td=new oe,Cd=new oe,E_=new oe,T_=new oe,C_=new oe,ES=new oe,M_=new oe,A_=new oe,P_=new oe;class w5{constructor(e,n,r){this.camera=e,this.scene=n,this.startPoint=new oe,this.endPoint=new oe,this.collection=[],this.deep=r||Number.MAX_VALUE}select(e,n){return this.startPoint=e||this.startPoint,this.endPoint=n||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(vR,this.scene),this.collection}updateFrustum(e,n){if(e=e||this.startPoint,n=n||this.endPoint,e.x===n.x&&(n.x+=Number.EPSILON),e.y===n.y&&(n.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){Ev.copy(e),Ev.x=Math.min(e.x,n.x),Ev.y=Math.max(e.y,n.y),n.x=Math.max(e.x,n.x),n.y=Math.min(e.y,n.y),fc.setFromMatrixPosition(this.camera.matrixWorld),Ed.copy(Ev),lu.set(n.x,Ev.y,0),Td.copy(n),Cd.set(Ev.x,n.y,0),Ed.unproject(this.camera),lu.unproject(this.camera),Td.unproject(this.camera),Cd.unproject(this.camera),M_.copy(Ed).sub(fc),A_.copy(lu).sub(fc),P_.copy(Td).sub(fc),M_.normalize(),A_.normalize(),P_.normalize(),M_.multiplyScalar(this.deep),A_.multiplyScalar(this.deep),P_.multiplyScalar(this.deep),M_.add(fc),A_.add(fc),P_.add(fc);var r=vR.planes;r[0].setFromCoplanarPoints(fc,Ed,lu),r[1].setFromCoplanarPoints(fc,lu,Td),r[2].setFromCoplanarPoints(Td,Cd,fc),r[3].setFromCoplanarPoints(Cd,Ed,fc),r[4].setFromCoplanarPoints(lu,Td,Cd),r[5].setFromCoplanarPoints(P_,A_,M_),r[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const i=Math.min(e.x,n.x),s=Math.max(e.y,n.y),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y);Ed.set(i,s,-1),lu.set(o,s,-1),Td.set(o,a,-1),Cd.set(i,a,-1),E_.set(i,s,1),T_.set(o,s,1),C_.set(o,a,1),ES.set(i,a,1),Ed.unproject(this.camera),lu.unproject(this.camera),Td.unproject(this.camera),Cd.unproject(this.camera),E_.unproject(this.camera),T_.unproject(this.camera),C_.unproject(this.camera),ES.unproject(this.camera);var r=vR.planes;r[0].setFromCoplanarPoints(Ed,E_,T_),r[1].setFromCoplanarPoints(lu,T_,C_),r[2].setFromCoplanarPoints(C_,ES,Cd),r[3].setFromCoplanarPoints(ES,E_,Ed),r[4].setFromCoplanarPoints(lu,Td,Cd),r[5].setFromCoplanarPoints(C_,T_,E_),r[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,n){if((n.isMesh||n.isLine||n.isPoints)&&n.material!==void 0&&(n.geometry.boundingSphere===null&&n.geometry.computeBoundingSphere(),yR.copy(n.geometry.boundingSphere.center),yR.applyMatrix4(n.matrixWorld),e.containsPoint(yR)&&this.collection.push(n)),n.children.length>0)for(let r=0;r<n.children.length;r++)this.searchChildInFrustum(e,n.children[r])}}const vq=N.forwardRef(function({children:e,follow:n=!0,lockX:r=!1,lockY:i=!1,lockZ:s=!1,...o},a){const l=N.useRef(null),c=N.useRef(null),u=new Zs;return VC(({camera:d})=>{if(!n||!c.current)return;const f=c.current.rotation.clone();c.current.updateMatrix(),c.current.updateWorldMatrix(!1,!1),c.current.getWorldQuaternion(u),d.getWorldQuaternion(l.current.quaternion).premultiply(u.invert()),r&&(c.current.rotation.x=f.x),i&&(c.current.rotation.y=f.y),s&&(c.current.rotation.z=f.z)}),N.useImperativeHandle(a,()=>c.current,[]),N.createElement("group",mm({ref:c,matrixAutoUpdate:!1,matrixWorldAutoUpdate:!1},o),N.createElement("group",{ref:l},e))});function vOe(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[o])try{l=l.map(function(f){return f&&f.isWorkerModule&&(e(f,function(m){if(m instanceof Error)throw m}),f=t[f.id].value),f}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:d,getTransferables:u},s(d)}catch(f){f&&f.noLog||console.error(f),s(f)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=t[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(d){return s(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){s(d)}function u(d){try{var f=t[a].getTransferables&&t[a].getTransferables(d);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),s(d,f)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function yOe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var yq=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return yq=function(){return t},t},_Oe=0,xOe=0,_R=!1,mx=Object.create(null),gx=Object.create(null),j2=Object.create(null);function sb(t){if((!t||typeof t.init!="function")&&!_R)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!yq())return yOe(t);i==null&&(i="#default");var s="workerModule"+ ++_Oe,o=t.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(_R=!0,c=sb({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+uE(c)+`
)}`}),_R=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=b5(i,"registerModule",l.workerModuleData);var d=function(){a=null,gx[i].delete(d)};(gx[i]||(gx[i]=new Set)).add(d)}return a.then(function(f){var m=f.isCallable;if(m)return b5(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:uE(n),getTransferables:r&&uE(r)},l}function wOe(t){gx[t]&&gx[t].forEach(function(e){e()}),mx[t]&&(mx[t].terminate(),delete mx[t])}function uE(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function bOe(t){var e=mx[t];if(!e){var n=uE(vOe);e=mx[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=j2[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete j2[s],o(i)}}return e}function b5(t,e,n){return new Promise(function(r,i){var s=++xOe;j2[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},bOe(t).postMessage({messageId:s,action:e,data:n})})}function _q(){var t=function(e){function n(W,F,U,q,te,re,le,fe){var ye=1-le;fe.x=ye*ye*W+2*ye*le*U+le*le*te,fe.y=ye*ye*F+2*ye*le*q+le*le*re}function r(W,F,U,q,te,re,le,fe,ye,se){var ve=1-ye;se.x=ve*ve*ve*W+3*ve*ve*ye*U+3*ve*ye*ye*te+ye*ye*ye*le,se.y=ve*ve*ve*F+3*ve*ve*ye*q+3*ve*ye*ye*re+ye*ye*ye*fe}function i(W,F){for(var U=/([MLQCZ])([^MLQCZ]*)/g,q,te,re,le,fe;q=U.exec(W);){var ye=q[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(se){return parseFloat(se)});switch(q[1]){case"M":le=te=ye[0],fe=re=ye[1];break;case"L":(ye[0]!==le||ye[1]!==fe)&&F("L",le,fe,le=ye[0],fe=ye[1]);break;case"Q":{F("Q",le,fe,le=ye[2],fe=ye[3],ye[0],ye[1]);break}case"C":{F("C",le,fe,le=ye[4],fe=ye[5],ye[0],ye[1],ye[2],ye[3]);break}case"Z":(le!==te||fe!==re)&&F("L",le,fe,te,re);break}}}function s(W,F,U){U===void 0&&(U=16);var q={x:0,y:0};i(W,function(te,re,le,fe,ye,se,ve,Se,pe){switch(te){case"L":F(re,le,fe,ye);break;case"Q":{for(var Z=re,me=le,ue=1;ue<U;ue++)n(re,le,se,ve,fe,ye,ue/(U-1),q),F(Z,me,q.x,q.y),Z=q.x,me=q.y;break}case"C":{for(var _e=re,ce=le,Xe=1;Xe<U;Xe++)r(re,le,se,ve,Se,pe,fe,ye,Xe/(U-1),q),F(_e,ce,q.x,q.y),_e=q.x,ce=q.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(W,F){var U=W.getContext?W.getContext("webgl",c):W,q=l.get(U);if(!q){let ve=function(_e){var ce=re[_e];if(!ce&&(ce=re[_e]=U.getExtension(_e),!ce))throw new Error(_e+" not supported");return ce},Se=function(_e,ce){var Xe=U.createShader(ce);return U.shaderSource(Xe,_e),U.compileShader(Xe),Xe},pe=function(_e,ce,Xe,Ae){if(!le[_e]){var Ge={},je={},ke=U.createProgram();U.attachShader(ke,Se(ce,U.VERTEX_SHADER)),U.attachShader(ke,Se(Xe,U.FRAGMENT_SHADER)),U.linkProgram(ke),le[_e]={program:ke,transaction:function(ie){U.useProgram(ke),ie({setUniform:function(he,Ne){for(var ze=[],He=arguments.length-2;He-- >0;)ze[He]=arguments[He+2];var et=je[Ne]||(je[Ne]=U.getUniformLocation(ke,Ne));U["uniform"+he].apply(U,[et].concat(ze))},setAttribute:function(he,Ne,ze,He,et){var Ze=Ge[he];Ze||(Ze=Ge[he]={buf:U.createBuffer(),loc:U.getAttribLocation(ke,he),data:null}),U.bindBuffer(U.ARRAY_BUFFER,Ze.buf),U.vertexAttribPointer(Ze.loc,Ne,U.FLOAT,!1,0,0),U.enableVertexAttribArray(Ze.loc),te?U.vertexAttribDivisor(Ze.loc,He):ve("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ze.loc,He),et!==Ze.data&&(U.bufferData(U.ARRAY_BUFFER,et,ze),Ze.data=et)}})}}}le[_e].transaction(Ae)},Z=function(_e,ce){ye++;try{U.activeTexture(U.TEXTURE0+ye);var Xe=fe[_e];Xe||(Xe=fe[_e]=U.createTexture(),U.bindTexture(U.TEXTURE_2D,Xe),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.NEAREST)),U.bindTexture(U.TEXTURE_2D,Xe),ce(Xe,ye)}finally{ye--}},me=function(_e,ce,Xe){var Ae=U.createFramebuffer();se.push(Ae),U.bindFramebuffer(U.FRAMEBUFFER,Ae),U.activeTexture(U.TEXTURE0+ce),U.bindTexture(U.TEXTURE_2D,_e),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,_e,0);try{Xe(Ae)}finally{U.deleteFramebuffer(Ae),U.bindFramebuffer(U.FRAMEBUFFER,se[--se.length-1]||null)}},ue=function(){re={},le={},fe={},ye=-1,se.length=0};var te=typeof WebGL2RenderingContext<"u"&&U instanceof WebGL2RenderingContext,re={},le={},fe={},ye=-1,se=[];U.canvas.addEventListener("webglcontextlost",function(_e){ue(),_e.preventDefault()},!1),l.set(U,q={gl:U,isWebGL2:te,getExtension:ve,withProgram:pe,withTexture:Z,withTextureFramebuffer:me,handleContextLoss:ue})}F(q)}function d(W,F,U,q,te,re,le,fe){le===void 0&&(le=15),fe===void 0&&(fe=null),u(W,function(ye){var se=ye.gl,ve=ye.withProgram,Se=ye.withTexture;Se("copy",function(pe,Z){se.texImage2D(se.TEXTURE_2D,0,se.RGBA,te,re,0,se.RGBA,se.UNSIGNED_BYTE,F),ve("copy",o,a,function(me){var ue=me.setUniform,_e=me.setAttribute;_e("aUV",2,se.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ue("1i","image",Z),se.bindFramebuffer(se.FRAMEBUFFER,fe||null),se.disable(se.BLEND),se.colorMask(le&8,le&4,le&2,le&1),se.viewport(U,q,te,re),se.scissor(U,q,te,re),se.drawArrays(se.TRIANGLES,0,3)})})})}function f(W,F,U){var q=W.width,te=W.height;u(W,function(re){var le=re.gl,fe=new Uint8Array(q*te*4);le.readPixels(0,0,q,te,le.RGBA,le.UNSIGNED_BYTE,fe),W.width=F,W.height=U,d(le,fe,0,0,q,te)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:f});function v(W,F,U,q,te,re){re===void 0&&(re=1);var le=new Uint8Array(W*F),fe=q[2]-q[0],ye=q[3]-q[1],se=[];s(U,function(_e,ce,Xe,Ae){se.push({x1:_e,y1:ce,x2:Xe,y2:Ae,minX:Math.min(_e,Xe),minY:Math.min(ce,Ae),maxX:Math.max(_e,Xe),maxY:Math.max(ce,Ae)})}),se.sort(function(_e,ce){return _e.maxX-ce.maxX});for(var ve=0;ve<W;ve++)for(var Se=0;Se<F;Se++){var pe=me(q[0]+fe*(ve+.5)/W,q[1]+ye*(Se+.5)/F),Z=Math.pow(1-Math.abs(pe)/te,re)/2;pe<0&&(Z=1-Z),Z=Math.max(0,Math.min(255,Math.round(Z*255))),le[Se*W+ve]=Z}return le;function me(_e,ce){for(var Xe=1/0,Ae=1/0,Ge=se.length;Ge--;){var je=se[Ge];if(je.maxX+Ae<=_e)break;if(_e+Ae>je.minX&&ce-Ae<je.maxY&&ce+Ae>je.minY){var ke=y(_e,ce,je.x1,je.y1,je.x2,je.y2);ke<Xe&&(Xe=ke,Ae=Math.sqrt(Xe))}}return ue(_e,ce)&&(Ae=-Ae),Ae}function ue(_e,ce){for(var Xe=0,Ae=se.length;Ae--;){var Ge=se[Ae];if(Ge.maxX<=_e)break;var je=Ge.y1>ce!=Ge.y2>ce&&_e<(Ge.x2-Ge.x1)*(ce-Ge.y1)/(Ge.y2-Ge.y1)+Ge.x1;je&&(Xe+=Ge.y1<Ge.y2?1:-1)}return Xe!==0}}function w(W,F,U,q,te,re,le,fe,ye,se){re===void 0&&(re=1),fe===void 0&&(fe=0),ye===void 0&&(ye=0),se===void 0&&(se=0),x(W,F,U,q,te,re,le,null,fe,ye,se)}function x(W,F,U,q,te,re,le,fe,ye,se,ve){re===void 0&&(re=1),ye===void 0&&(ye=0),se===void 0&&(se=0),ve===void 0&&(ve=0);for(var Se=v(W,F,U,q,te,re),pe=new Uint8Array(Se.length*4),Z=0;Z<Se.length;Z++)pe[Z*4+ve]=Se[Z];d(le,pe,ye,se,W,F,1<<3-ve,fe)}function y(W,F,U,q,te,re){var le=te-U,fe=re-q,ye=le*le+fe*fe,se=ye?Math.max(0,Math.min(1,((W-U)*le+(F-q)*fe)/ye)):0,ve=W-(U+se*le),Se=F-(q+se*fe);return ve*ve+Se*Se}var b=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:w,generateIntoFramebuffer:x}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",T="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),I=null,O=!1,R={},D=new WeakMap;function j(W){if(!O&&!ne(W))throw new Error("WebGL generation not supported")}function $(W,F,U,q,te,re,le){if(re===void 0&&(re=1),le===void 0&&(le=null),!le&&(le=I,!le)){var fe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!fe)throw new Error("OffscreenCanvas or DOM canvas not supported");le=I=fe.getContext("webgl",{depth:!1})}j(le);var ye=new Uint8Array(W*F*4);u(le,function(pe){var Z=pe.gl,me=pe.withTexture,ue=pe.withTextureFramebuffer;me("readable",function(_e,ce){Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,W,F,0,Z.RGBA,Z.UNSIGNED_BYTE,null),ue(_e,ce,function(Xe){Q(W,F,U,q,te,re,Z,Xe,0,0,0),Z.readPixels(0,0,W,F,Z.RGBA,Z.UNSIGNED_BYTE,ye)})})});for(var se=new Uint8Array(W*F),ve=0,Se=0;ve<ye.length;ve+=4)se[Se++]=ye[ve];return se}function B(W,F,U,q,te,re,le,fe,ye,se){re===void 0&&(re=1),fe===void 0&&(fe=0),ye===void 0&&(ye=0),se===void 0&&(se=0),Q(W,F,U,q,te,re,le,null,fe,ye,se)}function Q(W,F,U,q,te,re,le,fe,ye,se,ve){re===void 0&&(re=1),ye===void 0&&(ye=0),se===void 0&&(se=0),ve===void 0&&(ve=0),j(le);var Se=[];s(U,function(pe,Z,me,ue){Se.push(pe,Z,me,ue)}),Se=new Float32Array(Se),u(le,function(pe){var Z=pe.gl,me=pe.isWebGL2,ue=pe.getExtension,_e=pe.withProgram,ce=pe.withTexture,Xe=pe.withTextureFramebuffer,Ae=pe.handleContextLoss;if(ce("rawDistances",function(Ge,je){(W!==Ge._lastWidth||F!==Ge._lastHeight)&&Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,Ge._lastWidth=W,Ge._lastHeight=F,0,Z.RGBA,Z.UNSIGNED_BYTE,null),_e("main",S,T,function(ke){var nt=ke.setAttribute,ie=ke.setUniform,J=!me&&ue("ANGLE_instanced_arrays"),he=!me&&ue("EXT_blend_minmax");nt("aUV",2,Z.STATIC_DRAW,0,M),nt("aLineSegment",4,Z.DYNAMIC_DRAW,1,Se),ie.apply(void 0,["4f","uGlyphBounds"].concat(q)),ie("1f","uMaxDistance",te),ie("1f","uExponent",re),Xe(Ge,je,function(Ne){Z.enable(Z.BLEND),Z.colorMask(!0,!0,!0,!0),Z.viewport(0,0,W,F),Z.scissor(0,0,W,F),Z.blendFunc(Z.ONE,Z.ONE),Z.blendEquationSeparate(Z.FUNC_ADD,me?Z.MAX:he.MAX_EXT),Z.clear(Z.COLOR_BUFFER_BIT),me?Z.drawArraysInstanced(Z.TRIANGLES,0,3,Se.length/4):J.drawArraysInstancedANGLE(Z.TRIANGLES,0,3,Se.length/4)})}),_e("post",o,C,function(ke){ke.setAttribute("aUV",2,Z.STATIC_DRAW,0,M),ke.setUniform("1i","tex",je),Z.bindFramebuffer(Z.FRAMEBUFFER,fe),Z.disable(Z.BLEND),Z.colorMask(ve===0,ve===1,ve===2,ve===3),Z.viewport(ye,se,W,F),Z.scissor(ye,se,W,F),Z.drawArrays(Z.TRIANGLES,0,3)})}),Z.isContextLost())throw Ae(),new Error("webgl context lost")})}function ne(W){var F=!W||W===I?R:W.canvas||W,U=D.get(F);if(U===void 0){O=!0;var q=null;try{var te=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=$(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);U=re&&te.length===re.length&&re.every(function(le,fe){return le===te[fe]}),U||(q="bad trial run results",console.info(te,re))}catch(le){U=!1,q=le.message}q&&console.warn("WebGL SDF generation not supported:",q),O=!1,D.set(F,U)}return U}var K=Object.freeze({__proto__:null,generate:$,generateIntoCanvas:B,generateIntoFramebuffer:Q,isSupported:ne});function V(W,F,U,q,te,re){te===void 0&&(te=Math.max(q[2]-q[0],q[3]-q[1])/2),re===void 0&&(re=1);try{return $.apply(K,arguments)}catch(le){return console.info("WebGL SDF generation failed, falling back to JS",le),v.apply(b,arguments)}}function G(W,F,U,q,te,re,le,fe,ye,se){te===void 0&&(te=Math.max(q[2]-q[0],q[3]-q[1])/2),re===void 0&&(re=1),fe===void 0&&(fe=0),ye===void 0&&(ye=0),se===void 0&&(se=0);try{return B.apply(K,arguments)}catch(ve){return console.info("WebGL SDF generation failed, falling back to JS",ve),w.apply(b,arguments)}}return e.forEachPathCommand=i,e.generate=V,e.generateIntoCanvas=G,e.javascript=b,e.pathToLineSegments=s,e.webgl=K,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function SOe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ae,Ge){r[Ae]=1<<Ge+1,i[r[Ae]]=Ae}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function d(){if(!u){u=new Map;var Ae=function(je){if(n.hasOwnProperty(je)){var ke=0;n[je].split(",").forEach(function(nt){var ie=nt.split("+"),J=ie[0],he=ie[1];J=parseInt(J,36),he=he?parseInt(he,36):0,u.set(ke+=J,r[je]);for(var Ne=0;Ne<he;Ne++)u.set(++ke,r[je])})}};for(var Ge in n)Ae(Ge)}}function f(Ae){return d(),u.get(Ae.codePointAt(0))||r.L}function m(Ae){return i[f(Ae)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(Ae,Ge){var je=36,ke=0,nt=new Map,ie=Ge&&new Map,J;return Ae.split(",").forEach(function he(Ne){if(Ne.indexOf("+")!==-1)for(var ze=+Ne;ze--;)he(J);else{J=Ne;var He=Ne.split(">"),et=He[0],Ze=He[1];et=String.fromCodePoint(ke+=parseInt(et,je)),Ze=String.fromCodePoint(ke+=parseInt(Ze,je)),nt.set(et,Ze),Ge&&ie.set(Ze,et)}}),{map:nt,reverseMap:ie}}var x,y,b;function S(){if(!x){var Ae=w(v.pairs,!0),Ge=Ae.map,je=Ae.reverseMap;x=Ge,y=je,b=w(v.canonical,!1).map}}function T(Ae){return S(),x.get(Ae)||null}function C(Ae){return S(),y.get(Ae)||null}function M(Ae){return S(),b.get(Ae)||null}var I=r.L,O=r.R,R=r.EN,D=r.ES,j=r.ET,$=r.AN,B=r.CS,Q=r.B,ne=r.S,K=r.ON,V=r.BN,G=r.NSM,W=r.AL,F=r.LRO,U=r.RLO,q=r.LRE,te=r.RLE,re=r.PDF,le=r.LRI,fe=r.RLI,ye=r.FSI,se=r.PDI;function ve(Ae,Ge){for(var je=125,ke=new Uint32Array(Ae.length),nt=0;nt<Ae.length;nt++)ke[nt]=f(Ae[nt]);var ie=new Map;function J(di,Ei){var Kr=ke[di];ke[di]=Ei,ie.set(Kr,ie.get(Kr)-1),Kr&a&&ie.set(a,ie.get(a)-1),ie.set(Ei,(ie.get(Ei)||0)+1),Ei&a&&ie.set(a,(ie.get(a)||0)+1)}for(var he=new Uint8Array(Ae.length),Ne=new Map,ze=[],He=null,et=0;et<Ae.length;et++)He||ze.push(He={start:et,end:Ae.length-1,level:Ge==="rtl"?1:Ge==="ltr"?0:Fi(et,!1)}),ke[et]&Q&&(He.end=et,He=null);for(var Ze=te|q|U|F|s|se|re|Q,Oe=function(di){return di+(di&1?1:2)},lt=function(di){return di+(di&1?2:1)},wt=0;wt<ze.length;wt++){He=ze[wt];var dt=[{_level:He.level,_override:0,_isolate:0}],tt=void 0,ct=0,Rt=0,en=0;ie.clear();for(var xe=He.start;xe<=He.end;xe++){var rt=ke[xe];if(tt=dt[dt.length-1],ie.set(rt,(ie.get(rt)||0)+1),rt&a&&ie.set(a,(ie.get(a)||0)+1),rt&Ze)if(rt&(te|q)){he[xe]=tt._level;var De=(rt===te?lt:Oe)(tt._level);De<=je&&!ct&&!Rt?dt.push({_level:De,_override:0,_isolate:0}):ct||Rt++}else if(rt&(U|F)){he[xe]=tt._level;var st=(rt===U?lt:Oe)(tt._level);st<=je&&!ct&&!Rt?dt.push({_level:st,_override:rt&U?O:I,_isolate:0}):ct||Rt++}else if(rt&s){rt&ye&&(rt=Fi(xe+1,!0)===1?fe:le),he[xe]=tt._level,tt._override&&J(xe,tt._override);var yt=(rt===fe?lt:Oe)(tt._level);yt<=je&&ct===0&&Rt===0?(en++,dt.push({_level:yt,_override:0,_isolate:1,_isolInitIndex:xe})):ct++}else if(rt&se){if(ct>0)ct--;else if(en>0){for(Rt=0;!dt[dt.length-1]._isolate;)dt.pop();var an=dt[dt.length-1]._isolInitIndex;an!=null&&(Ne.set(an,xe),Ne.set(xe,an)),dt.pop(),en--}tt=dt[dt.length-1],he[xe]=tt._level,tt._override&&J(xe,tt._override)}else rt&re?(ct===0&&(Rt>0?Rt--:!tt._isolate&&dt.length>1&&(dt.pop(),tt=dt[dt.length-1])),he[xe]=tt._level):rt&Q&&(he[xe]=He.level);else he[xe]=tt._level,tt._override&&rt!==V&&J(xe,tt._override)}for(var pn=[],Un=null,Rn=He.start;Rn<=He.end;Rn++){var we=ke[Rn];if(!(we&l)){var Ee=he[Rn],Pe=we&s,Qe=we===se;Un&&Ee===Un._level?(Un._end=Rn,Un._endsWithIsolInit=Pe):pn.push(Un={_start:Rn,_end:Rn,_level:Ee,_startsWithPDI:Qe,_endsWithIsolInit:Pe})}}for(var ft=[],gt=0;gt<pn.length;gt++){var At=pn[gt];if(!At._startsWithPDI||At._startsWithPDI&&!Ne.has(At._start)){for(var xt=[Un=At],pt=void 0;Un&&Un._endsWithIsolInit&&(pt=Ne.get(Un._end))!=null;)for(var at=gt+1;at<pn.length;at++)if(pn[at]._start===pt){xt.push(Un=pn[at]);break}for(var Wt=[],rn=0;rn<xt.length;rn++)for(var Tn=xt[rn],ae=Tn._start;ae<=Tn._end;ae++)Wt.push(ae);for(var Ie=he[Wt[0]],Fe=He.level,Ce=Wt[0]-1;Ce>=0;Ce--)if(!(ke[Ce]&l)){Fe=he[Ce];break}var Ye=Wt[Wt.length-1],It=he[Ye],Bt=He.level;if(!(ke[Ye]&s)){for(var Gt=Ye+1;Gt<=He.end;Gt++)if(!(ke[Gt]&l)){Bt=he[Gt];break}}ft.push({_seqIndices:Wt,_sosType:Math.max(Fe,Ie)%2?O:I,_eosType:Math.max(Bt,It)%2?O:I})}}for(var tn=0;tn<ft.length;tn++){var dn=ft[tn],qe=dn._seqIndices,Qt=dn._sosType,Wn=dn._eosType,$t=he[qe[0]]&1?O:I;if(ie.get(G))for(var On=0;On<qe.length;On++){var qr=qe[On];if(ke[qr]&G){for(var Ln=Qt,Lt=On-1;Lt>=0;Lt--)if(!(ke[qe[Lt]]&l)){Ln=ke[qe[Lt]];break}J(qr,Ln&(s|se)?K:Ln)}}if(ie.get(R))for(var ln=0;ln<qe.length;ln++){var sn=qe[ln];if(ke[sn]&R)for(var Xn=ln-1;Xn>=-1;Xn--){var Wr=Xn===-1?Qt:ke[qe[Xn]];if(Wr&o){Wr===W&&J(sn,$);break}}}if(ie.get(W))for(var Ar=0;Ar<qe.length;Ar++){var to=qe[Ar];ke[to]&W&&J(to,O)}if(ie.get(D)||ie.get(B))for(var Zn=1;Zn<qe.length-1;Zn++){var or=qe[Zn];if(ke[or]&(D|B)){for(var bi=0,Dr=0,el=Zn-1;el>=0&&(bi=ke[qe[el]],!!(bi&l));el--);for(var tl=Zn+1;tl<qe.length&&(Dr=ke[qe[tl]],!!(Dr&l));tl++);bi===Dr&&(ke[or]===D?bi===R:bi&(R|$))&&J(or,bi)}}if(ie.get(R))for(var Oi=0;Oi<qe.length;Oi++){var no=qe[Oi];if(ke[no]&R){for(var Oc=Oi-1;Oc>=0&&ke[qe[Oc]]&(j|l);Oc--)J(qe[Oc],R);for(Oi++;Oi<qe.length&&ke[qe[Oi]]&(j|l|R);Oi++)ke[qe[Oi]]!==R&&J(qe[Oi],R)}}if(ie.get(j)||ie.get(D)||ie.get(B))for(var Sa=0;Sa<qe.length;Sa++){var Wm=qe[Sa];if(ke[Wm]&(j|D|B)){J(Wm,K);for(var Ea=Sa-1;Ea>=0&&ke[qe[Ea]]&l;Ea--)J(qe[Ea],K);for(var zn=Sa+1;zn<qe.length&&ke[qe[zn]]&l;zn++)J(qe[zn],K)}}if(ie.get(R))for(var nl=0,Lc=Qt;nl<qe.length;nl++){var of=qe[nl],af=ke[of];af&R?Lc===I&&J(of,I):af&o&&(Lc=af)}if(ie.get(a)){var rl=O|R|$,Hu=rl|I,Ho=[];{for(var Ta=[],rs=0;rs<qe.length;rs++)if(ke[qe[rs]]&a){var mn=Ae[qe[rs]],Wo=void 0;if(T(mn)!==null)if(Ta.length<63)Ta.push({char:mn,seqIndex:rs});else break;else if((Wo=C(mn))!==null)for(var wo=Ta.length-1;wo>=0;wo--){var il=Ta[wo].char;if(il===Wo||il===C(M(mn))||T(M(il))===mn){Ho.push([Ta[wo].seqIndex,rs]),Ta.length=wo;break}}}Ho.sort(function(di,Ei){return di[0]-Ei[0]})}for(var jo=0;jo<Ho.length;jo++){for(var jm=Ho[jo],Pr=jm[0],Ca=jm[1],$m=!1,ps=0,Dc=Pr+1;Dc<Ca;Dc++){var Nc=qe[Dc];if(ke[Nc]&Hu){$m=!0;var bo=ke[Nc]&rl?O:I;if(bo===$t){ps=bo;break}}}if($m&&!ps){ps=Qt;for(var Nl=Pr-1;Nl>=0;Nl--){var Fc=qe[Nl];if(ke[Fc]&Hu){var Li=ke[Fc]&rl?O:I;Li!==$t?ps=Li:ps=$t;break}}}if(ps){if(ke[qe[Pr]]=ke[qe[Ca]]=ps,ps!==$t){for(var Di=Pr+1;Di<qe.length;Di++)if(!(ke[qe[Di]]&l)){f(Ae[qe[Di]])&G&&(ke[qe[Di]]=ps);break}}if(ps!==$t){for(var sl=Ca+1;sl<qe.length;sl++)if(!(ke[qe[sl]]&l)){f(Ae[qe[sl]])&G&&(ke[qe[sl]]=ps);break}}}}for(var $o=0;$o<qe.length;$o++)if(ke[qe[$o]]&a){for(var Wu=$o,Uc=$o,ms=Qt,zc=$o-1;zc>=0;zc--)if(ke[qe[zc]]&l)Wu=zc;else{ms=ke[qe[zc]]&rl?O:I;break}for(var ro=Wn,Fl=$o+1;Fl<qe.length;Fl++)if(ke[qe[Fl]]&(a|l))Uc=Fl;else{ro=ke[qe[Fl]]&rl?O:I;break}for(var Ni=Wu;Ni<=Uc;Ni++)ke[qe[Ni]]=ms===ro?ms:$t;$o=Uc}}}for(var Si=He.start;Si<=He.end;Si++){var Ul=he[Si],io=ke[Si];if(Ul&1?io&(I|R|$)&&he[Si]++:io&O?he[Si]++:io&($|R)&&(he[Si]+=2),io&l&&(he[Si]=Si===0?He.level:he[Si-1]),Si===He.end||f(Ae[Si])&(ne|Q))for(var zl=Si;zl>=0&&f(Ae[zl])&c;zl--)he[zl]=He.level}}return{levels:he,paragraphs:ze};function Fi(di,Ei){for(var Kr=di;Kr<Ae.length;Kr++){var Nr=ke[Kr];if(Nr&(O|W))return 1;if(Nr&(Q|I)||Ei&&Nr===se)return 0;if(Nr&s){var Ls=Bl(Kr);Kr=Ls===-1?Ae.length:Ls}}return 0}function Bl(di){for(var Ei=1,Kr=di+1;Kr<Ae.length;Kr++){var Nr=ke[Kr];if(Nr&Q)break;if(Nr&se){if(--Ei===0)return Kr}else Nr&s&&Ei++}return-1}}var Se="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",pe;function Z(){if(!pe){var Ae=w(Se,!0),Ge=Ae.map,je=Ae.reverseMap;je.forEach(function(ke,nt){Ge.set(nt,ke)}),pe=Ge}}function me(Ae){return Z(),pe.get(Ae)||null}function ue(Ae,Ge,je,ke){var nt=Ae.length;je=Math.max(0,je==null?0:+je),ke=Math.min(nt-1,ke==null?nt-1:+ke);for(var ie=new Map,J=je;J<=ke;J++)if(Ge[J]&1){var he=me(Ae[J]);he!==null&&ie.set(J,he)}return ie}function _e(Ae,Ge,je,ke){var nt=Ae.length;je=Math.max(0,je==null?0:+je),ke=Math.min(nt-1,ke==null?nt-1:+ke);var ie=[];return Ge.paragraphs.forEach(function(J){var he=Math.max(je,J.start),Ne=Math.min(ke,J.end);if(he<Ne){for(var ze=Ge.levels.slice(he,Ne+1),He=Ne;He>=he&&f(Ae[He])&c;He--)ze[He]=J.level;for(var et=J.level,Ze=1/0,Oe=0;Oe<ze.length;Oe++){var lt=ze[Oe];lt>et&&(et=lt),lt<Ze&&(Ze=lt|1)}for(var wt=et;wt>=Ze;wt--)for(var dt=0;dt<ze.length;dt++)if(ze[dt]>=wt){for(var tt=dt;dt+1<ze.length&&ze[dt+1]>=wt;)dt++;dt>tt&&ie.push([tt+he,dt+he])}}}),ie}function ce(Ae,Ge,je,ke){var nt=Xe(Ae,Ge,je,ke),ie=[].concat(Ae);return nt.forEach(function(J,he){ie[he]=(Ge.levels[J]&1?me(Ae[J]):null)||Ae[J]}),ie.join("")}function Xe(Ae,Ge,je,ke){for(var nt=_e(Ae,Ge,je,ke),ie=[],J=0;J<Ae.length;J++)ie[J]=J;return nt.forEach(function(he){for(var Ne=he[0],ze=he[1],He=ie.slice(Ne,ze+1),et=He.length;et--;)ie[ze-et]=He[et]}),ie}return e.closingToOpeningBracket=C,e.getBidiCharType=f,e.getBidiCharTypeName=m,e.getCanonicalBracket=M,e.getEmbeddingLevels=ve,e.getMirroredCharacter=me,e.getMirroredCharactersMap=ue,e.getReorderSegments=_e,e.getReorderedIndices=Xe,e.getReorderedString=ce,e.openingToClosingBracket=T,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const xq=/\bvoid\s+main\s*\(\s*\)\s*{/g;function $2(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=Mn[i];return s?$2(s):r}return t.replace(e,n)}const js=[];for(let t=0;t<256;t++)js[t]=(t<16?"0":"")+t.toString(16);function EOe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(js[t&255]+js[t>>8&255]+js[t>>16&255]+js[t>>24&255]+"-"+js[e&255]+js[e>>8&255]+"-"+js[e>>16&15|64]+js[e>>24&255]+"-"+js[n&63|128]+js[n>>8&255]+"-"+js[n>>16&255]+js[n>>24&255]+js[r&255]+js[r>>8&255]+js[r>>16&255]+js[r>>24&255]).toUpperCase()}const Rp=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},TOe=Date.now(),S5=new WeakMap,E5=new Map;let COe=1e10;function Y2(t,e){const n=ROe(e);let r=S5.get(t);if(r||S5.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(c,u){t.onBeforeCompile.call(this,c,u);const d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=E5[d];if(!f){const m=MOe(this,c,e,n);f=E5[d]=m}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Rp(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-TOe}}),this[i]&&this[i](c)},o=function(){return a(e.chained?t:t.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:COe++}),u.uuid=EOe(),u.uniforms=Rp({},c.uniforms,e.uniforms),u.defines=Rp({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Rp({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Rp(this.extensions,c.extensions),Rp(this.defines,c.defines),Rp(this.uniforms,wL.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=Y2(t.isDerivedMaterial?t.getDepthMaterial():new yC({depthPacking:pL}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=Y2(t.isDerivedMaterial?t.getDistanceMaterial():new _C,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function MOe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:f,customRewriter:m,timeUniform:v}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",d=d||"",(l||m)&&(e=$2(e)),(f||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=$2(n)),m){let w=m({vertexShader:e,fragmentShader:n});e=w.vertexShader,n=w.fragmentShader}if(f){let w=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(w.push(x),"")),d=`${f}
${w.join(`
`)}
${d}`}if(v){const w=`
uniform float ${v};
`;s=w+s,c=w+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(w,x,y,b)=>/\battribute\s+vec[23]\s+$/.test(b.substr(0,y))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=T5(e,i,s,o,a),n=T5(n,i,c,u,d),{vertexShader:e,fragmentShader:n}}function T5(t,e,n,r,i){return(r||i||n)&&(t=t.replace(xq,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function AOe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let POe=0;const C5=new Map;function ROe(t){const e=JSON.stringify(t,AOe);let n=C5.get(e);return n==null&&C5.set(e,n=++POe),n}function IOe(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(b,S){function T(){const C=M=>{console.error(`Failure loading font ${b}${b===r?"":"; trying fallback"}`,M),b!==r&&(b=r,T())};try{const M=new XMLHttpRequest;M.open("get",b,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)C(new Error(M.statusText));else if(M.status>0)try{const I=t(M.response);S(I)}catch(I){C(I)}},M.onerror=C,M.send()}catch(M){C(M)}}T()}function u(b,S){b||(b=r);let T=i[b];T?T.pending?T.pending.push(S):S(T):(i[b]={pending:[S]},c(b,C=>{let M=i[b].pending;i[b]=C,M.forEach(I=>I(C))}))}function d({text:b="",font:S=r,sdfGlyphSize:T=64,fontSize:C=1,letterSpacing:M=0,lineHeight:I="normal",maxWidth:O=s,direction:R,textAlign:D="left",textIndent:j=0,whiteSpace:$="normal",overflowWrap:B="normal",anchorX:Q=0,anchorY:ne=0,includeCaretPositions:K=!1,chunkedBoundsSize:V=8192,colorRanges:G=null},W,F=!1){const U=w(),q={fontLoad:0,typesetting:0};b.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),b=b.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),C=+C,M=+M,O=+O,I=I||"normal",j=+j,u(S,te=>{const re=isFinite(O);let le=null,fe=null,ye=null,se=null,ve=null,Se=null,pe=null,Z=0,me=0,ue=$!=="nowrap";const{ascender:_e,descender:ce,unitsPerEm:Xe,lineGap:Ae,capHeight:Ge,xHeight:je}=te;q.fontLoad=w()-U;const ke=w(),nt=C/Xe;I==="normal"&&(I=(_e-ce+Ae)/Xe),I=I*C;const ie=(I-(_e-ce)*nt)/2,J=-(_e*nt+ie),he=Math.min(I,(_e-ce)*nt),Ne=(_e+ce)/2*nt-he/2;let ze=j,He=new x;const et=[He];te.forEachGlyph(b,C,M,(lt,wt,dt)=>{const tt=b.charAt(dt),ct=lt.advanceWidth*nt,Rt=He.count;let en;if("isEmpty"in lt||(lt.isWhitespace=!!tt&&new RegExp(a).test(tt),lt.canBreakAfter=!!tt&&l.test(tt),lt.isEmpty=lt.xMin===lt.xMax||lt.yMin===lt.yMax||o.test(tt)),!lt.isWhitespace&&!lt.isEmpty&&me++,ue&&re&&!lt.isWhitespace&&wt+ct+ze>O&&Rt){if(He.glyphAt(Rt-1).glyphObj.canBreakAfter)en=new x,ze=-wt;else for(let rt=Rt;rt--;)if(rt===0&&B==="break-word"){en=new x,ze=-wt;break}else if(He.glyphAt(rt).glyphObj.canBreakAfter){en=He.splitAt(rt+1);const De=en.glyphAt(0).x;ze-=De;for(let st=en.count;st--;)en.glyphAt(st).x-=De;break}en&&(He.isSoftWrapped=!0,He=en,et.push(He),Z=O)}let xe=He.glyphAt(He.count);xe.glyphObj=lt,xe.x=wt+ze,xe.width=ct,xe.charIndex=dt,tt===`
`&&(He=new x,et.push(He),ze=-(wt+ct+M*C)+j)}),et.forEach(lt=>{for(let wt=lt.count;wt--;){let{glyphObj:dt,x:tt,width:ct}=lt.glyphAt(wt);if(!dt.isWhitespace){lt.width=tt+ct,lt.width>Z&&(Z=lt.width);return}}});let Ze=0,Oe=0;if(Q&&(typeof Q=="number"?Ze=-Q:typeof Q=="string"&&(Ze=-Z*(Q==="left"?0:Q==="center"?.5:Q==="right"?1:m(Q)))),ne){if(typeof ne=="number")Oe=-ne;else if(typeof ne=="string"){let lt=et.length*I;Oe=ne==="top"?0:ne==="top-baseline"?-J:ne==="top-cap"?-J-Ge*nt:ne==="top-ex"?-J-je*nt:ne==="middle"?lt/2:ne==="bottom"?lt:ne==="bottom-baseline"?lt-ie+ce*nt:m(ne)*lt}}if(!F){const lt=e.getEmbeddingLevels(b,R);le=new Uint16Array(me),fe=new Float32Array(me*2),ye={},Se=[s,s,-s,-s],pe=[];let wt=J;K&&(ve=new Float32Array(b.length*3)),G&&(se=new Uint8Array(me*3));let dt=0,tt=-1,ct=-1,Rt,en;if(et.forEach((xe,rt)=>{let{count:De,width:st}=xe;if(De>0){let yt=0;for(let Ee=De;Ee--&&xe.glyphAt(Ee).glyphObj.isWhitespace;)yt++;let an=0,pn=0;if(D==="center")an=(Z-st)/2;else if(D==="right")an=Z-st;else if(D==="justify"&&xe.isSoftWrapped){let Ee=0;for(let Pe=De-yt;Pe--;)xe.glyphAt(Pe).glyphObj.isWhitespace&&Ee++;pn=(Z-st)/Ee}if(pn||an){let Ee=0;for(let Pe=0;Pe<De;Pe++){let Qe=xe.glyphAt(Pe);const ft=Qe.glyphObj;Qe.x+=an+Ee,pn!==0&&ft.isWhitespace&&Pe<De-yt&&(Ee+=pn,Qe.width+=pn)}}const Un=e.getReorderSegments(b,lt,xe.glyphAt(0).charIndex,xe.glyphAt(xe.count-1).charIndex);for(let Ee=0;Ee<Un.length;Ee++){const[Pe,Qe]=Un[Ee];let ft=1/0,gt=-1/0;for(let At=0;At<De;At++)if(xe.glyphAt(At).charIndex>=Pe){let xt=At,pt=At;for(;pt<De;pt++){let at=xe.glyphAt(pt);if(at.charIndex>Qe)break;pt<De-yt&&(ft=Math.min(ft,at.x),gt=Math.max(gt,at.x+at.width))}for(let at=xt;at<pt;at++){const Wt=xe.glyphAt(at);Wt.x=gt-(Wt.x+Wt.width-ft)}break}}let Rn;const we=Ee=>Rn=Ee;for(let Ee=0;Ee<De;Ee++){let Pe=xe.glyphAt(Ee);Rn=Pe.glyphObj;const Qe=Rn.index,ft=lt.levels[Pe.charIndex]&1;if(ft){const gt=e.getMirroredCharacter(b[Pe.charIndex]);gt&&te.forEachGlyph(gt,0,0,we)}if(K){const{charIndex:gt}=Pe,At=Pe.x+Ze,xt=Pe.x+Pe.width+Ze;ve[gt*3]=ft?xt:At,ve[gt*3+1]=ft?At:xt,ve[gt*3+2]=wt+Ne+Oe;const pt=gt-tt;pt>1&&v(ve,tt,pt),tt=gt}if(G){const{charIndex:gt}=Pe;for(;gt>ct;)ct++,G.hasOwnProperty(ct)&&(en=G[ct])}if(!Rn.isWhitespace&&!Rn.isEmpty){const gt=dt++;ye[Qe]||(ye[Qe]={path:Rn.path,pathBounds:[Rn.xMin,Rn.yMin,Rn.xMax,Rn.yMax]});const At=Pe.x+Ze,xt=wt+Oe;fe[gt*2]=At,fe[gt*2+1]=xt;const pt=At+Rn.xMin*nt,at=xt+Rn.yMin*nt,Wt=At+Rn.xMax*nt,rn=xt+Rn.yMax*nt;pt<Se[0]&&(Se[0]=pt),at<Se[1]&&(Se[1]=at),Wt>Se[2]&&(Se[2]=Wt),rn>Se[3]&&(Se[3]=rn),gt%V===0&&(Rt={start:gt,end:gt,rect:[s,s,-s,-s]},pe.push(Rt)),Rt.end++;const Tn=Rt.rect;if(pt<Tn[0]&&(Tn[0]=pt),at<Tn[1]&&(Tn[1]=at),Wt>Tn[2]&&(Tn[2]=Wt),rn>Tn[3]&&(Tn[3]=rn),le[gt]=Qe,G){const ae=gt*3;se[ae]=en>>16&255,se[ae+1]=en>>8&255,se[ae+2]=en&255}}}}wt-=I}),ve){const xe=b.length-tt;xe>1&&v(ve,tt,xe)}}q.typesetting=w()-ke,W({glyphIds:le,glyphPositions:fe,glyphData:ye,caretPositions:ve,caretHeight:he,glyphColors:se,chunkedBounds:pe,fontSize:C,unitsPerEm:Xe,ascender:_e*nt,descender:ce*nt,capHeight:Ge*nt,xHeight:je*nt,lineHeight:I,topBaseline:J,blockBounds:[Ze,Oe-et.length*I,Ze+Z,Oe],visibleBounds:Se,timings:q})})}function f(b,S){d(b,T=>{const[C,M,I,O]=T.blockBounds;S({width:I-C,height:O-M})},{})}function m(b){let S=b.match(/^([\d.]+)%$/),T=S?parseFloat(S[1]):NaN;return isNaN(T)?0:T/100}function v(b,S,T){const C=b[S*3],M=b[S*3+1],I=b[S*3+2],O=(M-C)/T;for(let R=0;R<T;R++){const D=(S+R)*3;b[D]=C+O*R,b[D+1]=C+O*(R+1),b[D+2]=I}}function w(){return(self.performance||Date).now()}function x(){this.data=[]}const y=["glyphObj","x","width","charIndex"];return x.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(b){let S=x.flyweight;return S.data=this.data,S.index=b,S},splitAt(b){let S=new x;return S.data=this.data.splice(b*y.length),S}},x.flyweight=y.reduce((b,S,T,C)=>(Object.defineProperty(b,S,{get(){return this.data[this.index*y.length+T]},set(M){this.data[this.index*y.length+T]=M}}),b),{data:null,index:0}),{typeset:d,measure:f,loadFont:u}}const hm=()=>(self.performance||Date).now(),tM=_q();let M5;function kOe(t,e,n,r,i,s,o,a,l,c,u=!0){return u?LOe(t,e,n,r,i,s,o,a,l,c).then(null,d=>(M5||(console.warn("WebGL SDF generation failed, falling back to JS",d),M5=!0),P5(t,e,n,r,i,s,o,a,l,c))):P5(t,e,n,r,i,s,o,a,l,c)}const dE=[],OOe=5;let X2=0;function wq(){const t=hm();for(;dE.length&&hm()-t<OOe;)dE.shift()();X2=dE.length?setTimeout(wq,0):0}const LOe=(...t)=>new Promise((e,n)=>{dE.push(()=>{const r=hm();try{tM.webgl.generateIntoCanvas(...t),e({timing:hm()-r})}catch(i){n(i)}}),X2||(X2=setTimeout(wq,0))}),DOe=4,NOe=2e3,A5={};let FOe=0;function P5(t,e,n,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+FOe++%DOe;let d=A5[u];return d||(d=A5[u]={workerModule:sb({name:u,workerId:u,dependencies:[_q,hm],init(f,m){const v=f().javascript.generate;return function(...w){const x=m();return{textureData:v(...w),timing:m()-x}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(t,e,n,r,i,s).then(({textureData:f,timing:m})=>{const v=hm(),w=new Uint8Array(f.length*4);for(let x=0;x<f.length;x++)w[x*4+c]=f[x];return tM.webglUtils.renderImageData(o,w,a,l,t,e,1<<3-c),m+=hm()-v,--d.requests===0&&(d.idleTimer=setTimeout(()=>{wOe(u)},NOe)),{timing:m}})}function UOe(t){t._warm||(tM.webgl.isSupported(t),t._warm=!0)}const zOe=tM.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function BOe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var d=s.readUint(o,a);a+=4,c.push(e._readFont(o,d))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},d={},f=0;f<l;f++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var v=o.readUint(i,s);s+=4;var w=o.readUint(i,s);s+=4,d[m]={offset:v,length:w}}for(f=0;f<c.length;f++){var x=c[f];d[x]&&(u[x.trim()]=e[x.trim()].parse(i,d[x].offset,d[x].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var d=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var f=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,d==s)return f}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},d=s;c.readFixed(i,s),s+=4;var f=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);s+=2;var v=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,d+f),u.featureList=e._lctf.readFeatureList(i,d+m),u.lookupList=e._lctf.readLookupList(i,d+v,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+f,o);c.push(m)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var d=c.ltype,f=0;f<u;f++){var m=a.readUshort(i,s);s+=2;var v=o(i,d,l+m,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)(i>>>o&1)!=0&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++)a.push(c+d),a.push(c+d),a.push(o.readUshort(i,s)),s+=2}if(l==2){var f=o.readUshort(i,s);for(s+=2,d=0;d<f;d++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(i,s,4);s+=4;var f=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+f);m.tag=d.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(o.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(i,s,4);s+=4;var f=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,a+f)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var f=[];for(u=0;u<d.length-1;u++)f.push(e.CFF.readDict(i,s+d[u],s+d[u+1]));s+=d[d.length-1];var m=f[0],v=[];s=e.CFF.readIndex(i,s,v);var w=[];for(u=0;u<v.length-1;u++)w.push(a.readASCII(i,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,v=[],s=e.CFF.readIndex(i,s,v);var x=[];for(u=0;u<v.length-1;u++)x.push(a.readBytes(i,s+v[u],v[u+1]-v[u]));m.CharStrings=x}if(m.ROS){s=m.FDArray;var y=[];for(s=e.CFF.readIndex(i,s,y),m.FDArray=[],u=0;u<y.length-1;u++){var b=e.CFF.readDict(i,s+y[u],s+y[u+1]);e.CFF._readFDict(i,b,w),m.FDArray.push(b)}s+=y[y.length-1],s=m.FDSelect,m.FDSelect=[];var S=i[s];if(s++,S!=3)throw S;var T=a.readUshort(i,s);for(s+=2,u=0;u<T+1;u++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,w),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var d=a.readUshort(i,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){d=a.readUshort(i,s),s+=2;var f=0;for(c==1?(f=i[s],s++):(f=a.readUshort(i,s),s+=2),u=0;u<=f;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,d=null,f=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(f=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(f=l-139,u=1),247<=l&&l<=250&&(f=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(f=256*-(l-251)-c-108,u=2),l==255&&(f=a.readInt(i,s+1)/65535,u=5),o.val=f??"o"+d,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var f=1,m=null,v=null;u<=20&&(m=u,f=1),u==12&&(m=100*u+d,f=2),u!=19&&u!=20||(m=u,f=2),21<=u&&u<=27&&(m=u,f=1),u==28&&(v=l.readShort(i,s+1),f=3),29<=u&&u<=31&&(m=u,f=1),32<=u&&u<=246&&(v=u-139,f=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,f=2),u==255&&(v=l.readInt(i,s+1)/65535,f=5),c.push(v??"o"+m),s+=f}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var f=1,m=null,v=null;if(u==28&&(v=a.readShort(i,s+1),f=3),u==29&&(v=a.readInt(i,s+1),f=5),32<=u&&u<=246&&(v=u-139,f=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,f=2),u==255)throw v=a.readInt(i,s+1)/65535,f=5,"unknown number";if(u==30){var w=[];for(f=1;;){var x=i[s+f];f++;var y=x>>4,b=15&x;if(y!=15&&w.push(y),b!=15&&w.push(b),b==15)break}for(var S="",T=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<w.length;C++)S+=T[w[C]];v=parseFloat(S)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],f=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],f=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(v),s+=f}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var f=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var v=a.readUint(i,s);s+=4;var w="p"+f+"e"+m,x=u.indexOf(v);if(x==-1){var y;x=l.tables.length,u.push(v);var b=a.readUshort(i,v);b==0?y=e.cmap.parse0(i,v):b==4?y=e.cmap.parse4(i,v):b==6?y=e.cmap.parse6(i,v):b==12?y=e.cmap.parse12(i,v):console.debug("unknown format: "+b,f,m,v),l.tables.push(y)}if(l[w]!=null)throw"multiple tables for one platform+encoding";l[w]=x}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var d=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var f=0;f<d;f++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,d=o.readUint(i,u+0),f=o.readUint(i,u+4),m=o.readUint(i,u+8);a.groups.push([d,f,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;c.instructions=o.readBytes(a,l,d),l+=d;var f=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<f;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var v=a[l];l++;for(var w=0;w<v;w++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<f;u++){var x=(2&c.flags[u])!=0,y=(16&c.flags[u])!=0;x?(c.xs.push(y?a[l]:-a[l]),l++):y?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<f;u++)x=(4&c.flags[u])!=0,y=(32&c.flags[u])!=0,x?(c.ys.push(y?a[l]:-a[l]),l++):y?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var b=0,S=0;for(u=0;u<f;u++)b+=c.xs[u],S+=c.ys[u],c.xs[u]=b,c.ys[u]=S}else{var T;c.parts=[];do{T=o.readUshort(a,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(C),C.glyphIndex=o.readUshort(a,l),l+=2,1&T){var M=o.readShort(a,l);l+=2;var I=o.readShort(a,l);l+=2}else M=o.readInt8(a,l),l++,I=o.readInt8(a,l),l++;2&T?(C.m.tx=M,C.m.ty=I):(C.p1=M,C.p2=I),8&T?(C.m.a=C.m.d=o.readF2dot14(a,l),l+=2):64&T?(C.m.a=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2):128&T&&(C.m.a=o.readF2dot14(a,l),l+=2,C.m.b=o.readF2dot14(a,l),l+=2,C.m.c=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2)}while(32&T);if(256&T){var O=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<O;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var d=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,d+c)}if(s==1&&u.fmt==1){var f=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(f);f!=0&&(u.pos=e.GPOS.readValueRecord(i,o,f))}else if(s==2&&u.fmt>=1&&u.fmt<=2){f=l.readUshort(i,o),o+=2;var v=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(f);var w=e._lctf.numOfOnes(v);if(u.fmt==1){u.pairsets=[];var x=l.readUshort(i,o);o+=2;for(var y=0;y<x;y++){var b=c+l.readUshort(i,o);o+=2;var S=l.readUshort(i,b);b+=2;for(var T=[],C=0;C<S;C++){var M=l.readUshort(i,b);b+=2,f!=0&&($=e.GPOS.readValueRecord(i,b,f),b+=2*m),v!=0&&(B=e.GPOS.readValueRecord(i,b,v),b+=2*w),T.push({gid2:M,val1:$,val2:B})}u.pairsets.push(T)}}if(u.fmt==2){var I=l.readUshort(i,o);o+=2;var O=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+I),u.classDef2=e._lctf.readClassDef(i,c+O),u.matrix=[],y=0;y<R;y++){var j=[];for(C=0;C<D;C++){var $=null,B=null;f!=0&&($=e.GPOS.readValueRecord(i,o,f),o+=2*m),v!=0&&(B=e.GPOS.readValueRecord(i,o,v),o+=2*w),j.push({val1:$,val2:B})}u.matrix.push(j)}}}else{if(s==9&&u.fmt==1){var Q=l.readUshort(i,o);o+=2;var ne=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=Q;else if(a.ltype!=Q)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+ne)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var d=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+d)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var f=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,f),o+=2*u.newg.length}}else if(s==4){u.vals=[],f=l.readUshort(i,o),o+=2;for(var m=0;m<f;m++){var v=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var w=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+w),u.scset=[];var x=l.readUshort(i,o);for(o+=2,m=0;m<x;m++){var y=l.readUshort(i,o);o+=2,u.scset.push(y==0?null:e.GSUB.readSubClassSet(i,c+y))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){f=l.readUshort(i,o),o+=2;for(var b=[],S=0;S<f;S++)b.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*S)));o+=2*f,m==0&&(u.backCvg=b),m==1&&(u.inptCvg=b),m==2&&(u.ahedCvg=b)}f=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,f)}}else{if(s==7&&u.fmt==1){var T=l.readUshort(i,o);o+=2;var C=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=T;else if(a.ltype!=T)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+C)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var d=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+d))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+d))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,f=0;f<a.maxp.numGlyphs;f++)f<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},f=0;f<u;f++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var v=m>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(i,s),s+=4;var f=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=f>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var d=a.readUshort(i,s);s+=2;var f=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(f),v.vals.push(m),l=d}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(u==0)for(var f=0;f<d;f++)c.push(l.readUshort(i,s+(f<<1))<<1);if(u==1)for(f=0;f<d;f++)c.push(l.readUint(i,s+(f<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=s+=2,m=0;m<c;m++){var v=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var b=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var T,C=d[y],M=f+12*c+S;if(v==0)T=a.readUnicode(i,M,b/2);else if(v==3&&w==0)T=a.readUnicode(i,M,b/2);else if(w==0)T=a.readASCII(i,M,b);else if(w==1)T=a.readUnicode(i,M,b/2);else if(w==3)T=a.readUnicode(i,M,b/2);else{if(v!=1)throw"unknown encoding "+w+", platformID: "+v;T=a.readASCII(i,M,b),console.debug("reading unknown MAC encoding "+w+" as ASCII")}var I="p"+v+","+x.toString(16);l[I]==null&&(l[I]={}),l[I][C!==void 0?C:y]=T,l[I]._lang=x}for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==1033)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==0)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==3084)return l[O];for(var O in l)if(l[O].postScriptName!=null)return l[O];for(var O in l){u=O;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,d=c==l?a:c+1,f=1&i.flags[c],m=1&i.flags[u],v=1&i.flags[d],w=i.xs[c],x=i.ys[c];if(c==a)if(f){if(!m){e.U.P.moveTo(s,w,x);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else m?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+w)/2,(i.ys[u]+x)/2);f?m&&e.U.P.lineTo(s,w,x):v?e.U.P.qcurveTo(s,w,x,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,w,x,(w+i.xs[d])/2,(x+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var f=l.crds[d],m=l.crds[d+1];o.crds.push(f*u.a+m*u.b+u.tx),o.crds.push(f*u.c+m*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,d=[],f=0;f<u.length;f++){var m=u[f];if(m.tag=="kern"){a=!0;for(var v=0;v<m.tab.length;v++)if(!d[m.tab[v]]){d[m.tab[v]]=!0;for(var w=c[m.tab[v]],x=0;x<w.tabs.length;x++)if(w.tabs[x]!=null){var y,b=w.tabs[x];if((!b.coverage||(y=e._lctf.coverageIndex(b.coverage,s))!=-1)&&w.ltype!=1){if(w.ltype==2){var S=null;if(b.fmt==1){var T=b.pairsets[y];for(f=0;f<T.length;f++)T[f].gid2==o&&(S=T[f])}else if(b.fmt==2){var C=e.U._getGlyphClass(s,b.classDef1),M=e.U._getGlyphClass(o,b.classDef2);S=b.matrix[C][M]}if(S){var I=0;return S.val1&&S.val1[2]&&(I+=S.val1[2]),S.val2&&S.val2[0]&&(I+=S.val2[0]),I}}}}}}}if(i.kern&&!a){var O=i.kern.glyph1.indexOf(s);if(O!=-1){var R=i.kern.rval[O].glyph2.indexOf(o);if(R!=-1)return i.kern.rval[O].vals[R]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,d=o.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(o.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[u];else if(o.ltype==4)for(var f=d.vals[u],m=0;m<f.length;m++){var v=f[m],w=v.chain.length;if(!(w>l)){for(var x=!0,y=0,b=0;b<w;b++){for(;i[s+y+(1+b)]==-1;)y++;v.chain[b]!=i[s+y+(1+b)]&&(x=!1)}if(x){for(i[s]=v.nglyph,b=0;b<w+y;b++)i[s+b+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var S=e._lctf.getInterval(d.cDef,i[s]),T=d.cDef[S+2],C=d.scset[T],M=0;M<C.length;M++){var I=C[M],O=I.input;if(!(O.length>l)){for(x=!0,b=0;b<O.length;b++){var R=e._lctf.getInterval(d.cDef,i[s+1+b]);if(S==-1&&d.cDef[R+2]!=O[b]){x=!1;break}}if(x){var D=I.substLookupRecords;for(m=0;m<D.length;m+=2)D[m],D[m+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var j=d.lookupRec;for(M=0;M<j.length;M+=2){S=j[M];var $=a[j[M+1]];e.U._applySubs(i,s+S,$,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,f=e.U.glyphToPath(i,u),m=0;m<f.crds.length;m+=2)a.crds.push(f.crds[m]+l),a.crds.push(f.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<f.cmds.length;m++)a.cmds.push(f.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,d))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,d=s.haveWidth,f=s.width,m=s.open,v=0,w=s.x,x=s.y,y=0,b=0,S=0,T=0,C=0,M=0,I=0,O=0,R=0,D=0,j={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,j);var $=j.val;if(v+=j.size,$=="o1"||$=="o18")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if($=="o3"||$=="o23")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if($=="o4")c.length>1&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),m&&e.U.P.closePath(l),x+=c.pop(),e.U.P.moveTo(l,w,x),m=!0;else if($=="o5")for(;c.length>0;)w+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,w,x);else if($=="o6"||$=="o7")for(var B=c.length,Q=$=="o6",ne=0;ne<B;ne++){var K=c.shift();Q?w+=K:x+=K,Q=!Q,e.U.P.lineTo(l,w,x)}else if($=="o8"||$=="o24"){B=c.length;for(var V=0;V+6<=B;)y=w+c.shift(),b=x+c.shift(),S=y+c.shift(),T=b+c.shift(),w=S+c.shift(),x=T+c.shift(),e.U.P.curveTo(l,y,b,S,T,w,x),V+=6;$=="o24"&&(w+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,w,x))}else{if($=="o11")break;if($=="o1234"||$=="o1235"||$=="o1236"||$=="o1237")$=="o1234"&&(b=x,S=(y=w+c.shift())+c.shift(),D=T=b+c.shift(),M=T,O=x,w=(I=(C=(R=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,y,b,S,T,R,D),e.U.P.curveTo(l,C,M,I,O,w,x)),$=="o1235"&&(y=w+c.shift(),b=x+c.shift(),S=y+c.shift(),T=b+c.shift(),R=S+c.shift(),D=T+c.shift(),C=R+c.shift(),M=D+c.shift(),I=C+c.shift(),O=M+c.shift(),w=I+c.shift(),x=O+c.shift(),c.shift(),e.U.P.curveTo(l,y,b,S,T,R,D),e.U.P.curveTo(l,C,M,I,O,w,x)),$=="o1236"&&(y=w+c.shift(),b=x+c.shift(),S=y+c.shift(),D=T=b+c.shift(),M=T,I=(C=(R=S+c.shift())+c.shift())+c.shift(),O=M+c.shift(),w=I+c.shift(),e.U.P.curveTo(l,y,b,S,T,R,D),e.U.P.curveTo(l,C,M,I,O,w,x)),$=="o1237"&&(y=w+c.shift(),b=x+c.shift(),S=y+c.shift(),T=b+c.shift(),R=S+c.shift(),D=T+c.shift(),C=R+c.shift(),M=D+c.shift(),I=C+c.shift(),O=M+c.shift(),Math.abs(I-w)>Math.abs(O-x)?w=I+c.shift():x=O+c.shift(),e.U.P.curveTo(l,y,b,S,T,R,D),e.U.P.curveTo(l,C,M,I,O,w,x));else if($=="o14"){if(c.length>0&&!d&&(f=c.shift()+o.nominalWidthX,d=!0),c.length==4){var G=c.shift(),W=c.shift(),F=c.shift(),U=c.shift(),q=e.CFF.glyphBySE(o,F),te=e.CFF.glyphBySE(o,U);e.U._drawCFF(o.CharStrings[q],s,o,a,l),s.x=G,s.y=W,e.U._drawCFF(o.CharStrings[te],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if($=="o19"||$=="o20")c.length%2!=0&&!d&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,v+=u+7>>3;else if($=="o21")c.length>2&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),x+=c.pop(),w+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,w,x),m=!0;else if($=="o22")c.length>1&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),w+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,w,x),m=!0;else if($=="o25"){for(;c.length>6;)w+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,w,x);y=w+c.shift(),b=x+c.shift(),S=y+c.shift(),T=b+c.shift(),w=S+c.shift(),x=T+c.shift(),e.U.P.curveTo(l,y,b,S,T,w,x)}else if($=="o26")for(c.length%2&&(w+=c.shift());c.length>0;)y=w,b=x+c.shift(),w=S=y+c.shift(),x=(T=b+c.shift())+c.shift(),e.U.P.curveTo(l,y,b,S,T,w,x);else if($=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)b=x,S=(y=w+c.shift())+c.shift(),T=b+c.shift(),w=S+c.shift(),x=T,e.U.P.curveTo(l,y,b,S,T,w,x);else if($=="o10"||$=="o29"){var re=$=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var le=c.pop(),fe=re.Subrs[le+re.Bias];s.x=w,s.y=x,s.nStems=u,s.haveWidth=d,s.width=f,s.open=m,e.U._drawCFF(fe,s,o,a,l),w=s.x,x=s.y,u=s.nStems,d=s.haveWidth,f=s.width,m=s.open}}else if($=="o30"||$=="o31"){var ye=c.length,se=(V=0,$=="o31");for(V+=ye-(B=-3&ye);V<B;)se?(b=x,S=(y=w+c.shift())+c.shift(),x=(T=b+c.shift())+c.shift(),B-V==5?(w=S+c.shift(),V++):w=S,se=!1):(y=w,b=x+c.shift(),S=y+c.shift(),T=b+c.shift(),w=S+c.shift(),B-V==5?(x=T+c.shift(),V++):x=T,se=!0),e.U.P.curveTo(l,y,b,S,T,w,x),V+=4}else{if(($+"").charAt(0)=="o")throw console.debug("Unknown operation: "+$,i),$;c.push($)}}}s.x=w,s.y=x,s.nStems=u,s.haveWidth=d,s.width=f,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function VOe(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function($,B){for(var Q=new n(31),ne=0;ne<31;++ne)Q[ne]=B+=1<<$[ne-1];var K=new r(Q[30]);for(ne=1;ne<30;++ne)for(var V=Q[ne];V<Q[ne+1];++V)K[V]=V-Q[ne]<<5|ne;return[Q,K]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(s,0)[0],f=new n(32768),m=0;m<32768;++m){var v=(43690&m)>>>1|(21845&m)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,f[m]=((65280&v)>>>8|(255&v)<<8)>>>1}var w=function($,B,Q){for(var ne=$.length,K=0,V=new n(B);K<ne;++K)++V[$[K]-1];var G,W=new n(B);for(K=0;K<B;++K)W[K]=W[K-1]+V[K-1]<<1;{G=new n(1<<B);var F=15-B;for(K=0;K<ne;++K)if($[K])for(var U=K<<4|$[K],q=B-$[K],te=W[$[K]-1]++<<q,re=te|(1<<q)-1;te<=re;++te)G[f[te]>>>F]=U}return G},x=new e(288);for(m=0;m<144;++m)x[m]=8;for(m=144;m<256;++m)x[m]=9;for(m=256;m<280;++m)x[m]=7;for(m=280;m<288;++m)x[m]=8;var y=new e(32);for(m=0;m<32;++m)y[m]=5;var b=w(x,9),S=w(y,5),T=function($){for(var B=$[0],Q=1;Q<$.length;++Q)$[Q]>B&&(B=$[Q]);return B},C=function($,B,Q){var ne=B/8|0;return($[ne]|$[ne+1]<<8)>>(7&B)&Q},M=function($,B){var Q=B/8|0;return($[Q]|$[Q+1]<<8|$[Q+2]<<16)>>(7&B)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function($,B,Q){var ne=new Error(B||I[$]);if(ne.code=$,Error.captureStackTrace&&Error.captureStackTrace(ne,O),!Q)throw ne;return ne},R=function($,B,Q){var ne=$.length;if(!ne||Q&&!Q.l&&ne<5)return B||new e(0);var K=!B||Q,V=!Q||Q.i;Q||(Q={}),B||(B=new e(3*ne));var G,W=function(tt){var ct=B.length;if(tt>ct){var Rt=new e(Math.max(2*ct,tt));Rt.set(B),B=Rt}},F=Q.f||0,U=Q.p||0,q=Q.b||0,te=Q.l,re=Q.d,le=Q.m,fe=Q.n,ye=8*ne;do{if(!te){Q.f=F=C($,U,1);var se=C($,U+1,3);if(U+=3,!se){var ve=$[(je=((G=U)/8|0)+(7&G&&1)+4)-4]|$[je-3]<<8,Se=je+ve;if(Se>ne){V&&O(0);break}K&&W(q+ve),B.set($.subarray(je,Se),q),Q.b=q+=ve,Q.p=U=8*Se;continue}if(se==1)te=b,re=S,le=9,fe=5;else if(se==2){var pe=C($,U,31)+257,Z=C($,U+10,15)+4,me=pe+C($,U+5,31)+1;U+=14;for(var ue=new e(me),_e=new e(19),ce=0;ce<Z;++ce)_e[o[ce]]=C($,U+3*ce,7);U+=3*Z;var Xe=T(_e),Ae=(1<<Xe)-1,Ge=w(_e,Xe);for(ce=0;ce<me;){var je,ke=Ge[C($,U,Ae)];if(U+=15&ke,(je=ke>>>4)<16)ue[ce++]=je;else{var nt=0,ie=0;for(je==16?(ie=3+C($,U,3),U+=2,nt=ue[ce-1]):je==17?(ie=3+C($,U,7),U+=3):je==18&&(ie=11+C($,U,127),U+=7);ie--;)ue[ce++]=nt}}var J=ue.subarray(0,pe),he=ue.subarray(pe);le=T(J),fe=T(he),te=w(J,le),re=w(he,fe)}else O(1);if(U>ye){V&&O(0);break}}K&&W(q+131072);for(var Ne=(1<<le)-1,ze=(1<<fe)-1,He=U;;He=U){var et=(nt=te[M($,U)&Ne])>>>4;if((U+=15&nt)>ye){V&&O(0);break}if(nt||O(2),et<256)B[q++]=et;else{if(et==256){He=U,te=null;break}var Ze=et-254;if(et>264){var Oe=i[ce=et-257];Ze=C($,U,(1<<Oe)-1)+c[ce],U+=Oe}var lt=re[M($,U)&ze],wt=lt>>>4;if(lt||O(3),U+=15&lt,he=d[wt],wt>3&&(Oe=s[wt],he+=M($,U)&(1<<Oe)-1,U+=Oe),U>ye){V&&O(0);break}K&&W(q+131072);for(var dt=q+Ze;q<dt;q+=4)B[q]=B[q-he],B[q+1]=B[q+1-he],B[q+2]=B[q+2-he],B[q+3]=B[q+3-he];q=dt}}Q.l=te,Q.p=He,Q.b=q,te&&(F=1,Q.m=le,Q.d=re,Q.n=fe)}while(!F);return q==B.length?B:function(tt,ct,Rt){(Rt==null||Rt>tt.length)&&(Rt=tt.length);var en=new(tt instanceof n?n:tt instanceof r?r:e)(Rt-ct);return en.set(tt.subarray(ct,Rt)),en}(B,0,q)},D=new e(0),j=typeof TextDecoder<"u"&&new TextDecoder;try{j.decode(D,{stream:!0})}catch{}return t.convert_streams=function($){var B=new DataView($),Q=0;function ne(){var pe=B.getUint16(Q);return Q+=2,pe}function K(){var pe=B.getUint32(Q);return Q+=4,pe}function V(pe){ve.setUint16(Se,pe),Se+=2}function G(pe){ve.setUint32(Se,pe),Se+=4}for(var W={signature:K(),flavor:K(),length:K(),numTables:ne(),reserved:ne(),totalSfntSize:K(),majorVersion:ne(),minorVersion:ne(),metaOffset:K(),metaLength:K(),metaOrigLength:K(),privOffset:K(),privLength:K()},F=0;Math.pow(2,F)<=W.numTables;)F++;F--;for(var U=16*Math.pow(2,F),q=16*W.numTables-U,te=12,re=[],le=0;le<W.numTables;le++)re.push({tag:K(),offset:K(),compLength:K(),origLength:K(),origChecksum:K()}),te+=16;var fe,ye=new Uint8Array(12+16*re.length+re.reduce(function(pe,Z){return pe+Z.origLength+4},0)),se=ye.buffer,ve=new DataView(se),Se=0;return G(W.flavor),V(W.numTables),V(U),V(F),V(q),re.forEach(function(pe){G(pe.tag),G(pe.origChecksum),G(te),G(pe.origLength),pe.outOffset=te,(te+=pe.origLength)%4!=0&&(te+=4-te%4)}),re.forEach(function(pe){var Z,me=$.slice(pe.offset,pe.offset+pe.compLength);if(pe.compLength!=pe.origLength){var ue=new Uint8Array(pe.origLength);Z=new Uint8Array(me,2),R(Z,ue)}else ue=new Uint8Array(me);ye.set(ue,pe.outOffset);var _e=0;(te=pe.outOffset+pe.origLength)%4!=0&&(_e=4-te%4),ye.set(new Uint8Array(_e).buffer,pe.outOffset+pe.origLength),fe=te+_e}),se.slice(0,fe)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function GOe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function d(C){if(!u){const M={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let I in r){let O=0;r[I].split(",").forEach(R=>{let[D,j]=R.split("+");D=parseInt(D,36),j=j?parseInt(j,36):0,u.set(O+=D,M[I]);for(let $=j;$--;)u.set(++O,M[I])})}}return u.get(C)||c}const f=1,m=2,v=3,w=4,x=[null,"isol","init","fina","medi"];function y(C){const M=new Uint8Array(C.length);let I=c,O=f,R=-1;for(let D=0;D<C.length;D++){const j=C.codePointAt(D);let $=d(j)|0,B=f;$&a||(I&(i|o|l)?$&(s|o|l)?(B=v,(O===f||O===v)&&M[R]++):$&(i|c)&&(O===m||O===w)&&M[R]--:I&(s|c)&&(O===m||O===w)&&M[R]--,O=M[D]=B,I=$,R=D,j>65535&&D++)}return M}function b(C,M){const I=[];for(let R=0;R<M.length;R++){const D=M.codePointAt(R);D>65535&&R++,I.push(t.U.codeToGlyph(C,D))}const O=C.GSUB;if(O){const{lookupList:R,featureList:D}=O;let j;const $=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,B=[];D.forEach(Q=>{if($.test(Q.tag))for(let ne=0;ne<Q.tab.length;ne++){if(B[Q.tab[ne]])continue;B[Q.tab[ne]]=!0;const K=R[Q.tab[ne]],V=/^(isol|init|fina|medi)$/.test(Q.tag);V&&!j&&(j=y(M));for(let G=0;G<I.length;G++)(!j||!V||x[j[G]]===Q.tag)&&t.U._applySubs(I,G,K,R)}})}return I}function S(...C){for(let M=0;M<C.length;M++)if(typeof C[M]=="number")return C[M]}function T(C){const M=Object.create(null),I=C["OS/2"],O=C.hhea,R=C.head.unitsPerEm,D=S(I&&I.sTypoAscender,O&&O.ascender,R),j={unitsPerEm:R,ascender:D,descender:S(I&&I.sTypoDescender,O&&O.descender,0),capHeight:S(I&&I.sCapHeight,D),xHeight:S(I&&I.sxHeight,D),lineGap:S(I&&I.sTypoLineGap,O&&O.lineGap),forEachGlyph($,B,Q,ne){let K=0;const V=1/j.unitsPerEm*B,G=b(C,$);let W=0,F=-1;return G.forEach((U,q)=>{if(U!==-1){let te=M[U];if(!te){const{cmds:re,crds:le}=t.U.glyphToPath(C,U);let fe="",ye=0;for(let Z=0,me=re.length;Z<me;Z++){const ue=n[re[Z]];fe+=re[Z];for(let _e=1;_e<=ue;_e++)fe+=(_e>1?",":"")+le[ye++]}let se,ve,Se,pe;if(le.length){se=ve=1/0,Se=pe=-1/0;for(let Z=0,me=le.length;Z<me;Z+=2){let ue=le[Z],_e=le[Z+1];ue<se&&(se=ue),_e<ve&&(ve=_e),ue>Se&&(Se=ue),_e>pe&&(pe=_e)}}else se=Se=ve=pe=0;te=M[U]={index:U,advanceWidth:C.hmtx.aWidth[U],xMin:se,yMin:ve,xMax:Se,yMax:pe,path:fe,pathCommandCount:re.length}}F!==-1&&(K+=t.U.getPairAdjustment(C,F,U)*V),ne.call(null,te,K,W),te.advanceWidth&&(K+=te.advanceWidth*V),Q&&(K+=Q*B),F=U}W+=$.codePointAt(W)>65535?2:1}),K}};return j}return function(M){const I=new Uint8Array(M,0,4),O=t._bin.readASCII(I,0,4);if(O==="wOFF")M=e(M);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return T(t.parse(M)[0])}}const HOe=sb({name:"Typr Font Parser",dependencies:[BOe,VOe,GOe],init(t,e,n){const r=t(),i=e();return n(r,i)}}),Hv={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},WOe=new Mt;function Tv(){return(self.performance||Date).now()}const R5=Object.create(null);function bq(t,e){t=YOe({},t);const n=Tv();if(t.font=XOe(t.font||Hv.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Hv.sdfGlyphSize,t.colorRanges!=null){let d={};for(let f in t.colorRanges)if(t.colorRanges.hasOwnProperty(f)){let m=t.colorRanges[f];typeof m!="number"&&(m=WOe.set(m).getHex()),d[f]=m}t.colorRanges=d}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=Hv,{sdfGlyphSize:s}=t,o=r/s*4;let a=R5[s];if(!a){const d=document.createElement("canvas");d.width=r,d.height=s*256/o,a=R5[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:d,sdfTexture:new ci(d,void 0,void 0,void 0,Xr,Xr),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,jOe(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(t.font);u||a.glyphsByFont.set(t.font,u=new Map),KOe(t).then(d=>{const{glyphIds:f,glyphPositions:m,fontSize:v,unitsPerEm:w,timings:x}=d,y=[],b=new Float32Array(f.length*4),S=v/w;let T=0,C=0;const M=Tv();f.forEach((j,$)=>{let B=u.get(j);if(!B){const{path:V,pathBounds:G}=d.glyphData[j],W=Math.max(G[2]-G[0],G[3]-G[1])/s*(Hv.sdfMargin*s+.5),F=a.glyphCount++,U=[G[0]-W,G[1]-W,G[2]+W,G[3]+W];u.set(j,B={path:V,atlasIndex:F,sdfViewBox:U}),y.push(B)}const{sdfViewBox:Q}=B,ne=m[C++],K=m[C++];b[T++]=ne+Q[0]*S,b[T++]=K+Q[1]*S,b[T++]=ne+Q[2]*S,b[T++]=K+Q[3]*S,f[$]=B.atlasIndex}),x.quads=(x.quads||0)+(Tv()-M);const I=Tv();x.sdf={};const O=c.height,R=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(R*s)));D>O&&(console.info(`Increasing SDF texture size ${O}->${D}`),zOe(c,r,D),l.dispose()),Promise.all(y.map(j=>Sq(j,a,t.gpuAccelerateSDF).then(({timing:$})=>{x.sdf[j.atlasIndex]=$}))).then(()=>{y.length&&!a.contextLost&&(Eq(a),l.needsUpdate=!0),x.sdfTotal=Tv()-I,x.total=Tv()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:b,glyphAtlasIndices:f,glyphColors:d.glyphColors,caretPositions:d.caretPositions,caretHeight:d.caretHeight,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{a.contextLost||UOe(c)})}function Sq({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Hv,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),d=u%(a/r)*r,f=Math.floor(u/(a/r))*r,m=e%4;return kOe(r,r,t,n,c,l,i,d,f,m,o)}function jOe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(Sq(s,t,!0))})}),Promise.all(r).then(()=>{Eq(t),t.sdfTexture.needsUpdate=!0})})}function $Oe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;bq({font:t,sdfGlyphSize:n,text:i},r)}function YOe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let TS;function XOe(t){return TS||(TS=typeof document>"u"?{}:document.createElement("a")),TS.href=t,TS.href}function Eq(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const qOe=sb({name:"Typesetter",dependencies:[Hv,HOe,IOe,SOe],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),KOe=sb({name:"Typesetter",dependencies:[qOe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),I5={};function ZOe(t){let e=I5[t];if(!e){const n=new Uh(1,1,t,t),r=n.clone(),i=n.attributes,s=r.attributes,o=new Pn,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new qt([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...n.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=I5[t]=o}return e}const QOe="aTroikaGlyphBounds",k5="aTroikaGlyphIndex",JOe="aTroikaGlyphColor";class eLe extends VL{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ja,this.boundingBox=new Qa}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===yo?n/2:0,e===ri?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=ZOe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){xR(this,QOe,e,4),xR(this,k5,n,1),xR(this,JOe,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,d=i*2,f=Math.abs(n),m=e[0]/f,v=e[2]/f,w=s((m+u)/d)!==s((v+u)/d)?-f:o(l(m)*f,l(v)*f),x=s((m-u)/d)!==s((v-u)/d)?f:a(l(m)*f,l(v)*f),y=s((m+i)/d)!==s((v+i)/d)?f*2:a(f-c(m)*f,f-c(v)*f);r.min.set(w,e[1],n<0?-y:0),r.max.set(x,e[3],n<0?0:y)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(k5).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function xR(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new Tm(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const tLe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,nLe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,rLe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,iLe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function sLe(t){const e=Y2(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Je},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new rr(0,0,0,0)},uTroikaClipRect:{value:new rr(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Je},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Mt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new kn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:tLe,vertexTransform:nLe,fragmentDefs:rLe,fragmentColorTransform:iLe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(xq,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const ID=new tf({color:16777215,side:ri,transparent:!0}),O5=8421504,L5=new wn,CS=new oe,wR=new oe,R_=[],oLe=new oe,bR="+x+y";function D5(t){return Array.isArray(t)?t[0]:t}let Tq=()=>{const t=new oi(new Uh(1,1),ID);return Tq=()=>t,t},Cq=()=>{const t=new oi(new Uh(1,1,32,1),ID);return Cq=()=>t,t};const aLe={type:"syncstart"},lLe={type:"synccomplete"},Mq=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],cLe=Mq.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Aq=class extends oi{constructor(){const e=new eLe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=O5,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=bR,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(aLe),bq({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(lLe),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Ru}onAfterRender(e,n,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ID.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=sLe(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return D5(this.material).getDepthMaterial()}get customDistanceMaterial(){return D5(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,d=0,f,m,v,w=0,x=0;if(n){let{outlineWidth:b,outlineOffsetX:S,outlineOffsetY:T,outlineBlur:C,outlineOpacity:M}=this;c=this._parsePercent(b)||0,u=Math.max(0,this._parsePercent(C)||0),f=M,w=this._parsePercent(S)||0,x=this._parsePercent(T)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??O5),m=this.strokeOpacity,m==null&&(m=1)),f=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(w,x),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=f??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let y=this.clipRect;if(y&&Array.isArray(y)&&y.length===4)r.uTroikaClipRect.value.fromArray(y);else{const b=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-b,l[1]-b,l[2]+b,l[3]+b)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Mt;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||bR;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==bR&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,d,f]=l;CS.set(0,0,0)[u]=c==="-"?1:-1,wR.set(0,0,0)[f]=d==="-"?-1:1,L5.lookAt(oLe,CS.cross(wR),wR),a.setFromMatrix4(L5)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Je){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Je){return CS.copy(e),this.localPositionToTextCoords(this.worldToLocal(CS),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?Cq():Tq(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let d=s[0]+c.getX(u)*(s[2]-s[0]);const f=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(u,d,f,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,R_.length=0,o.raycast(e,R_);for(let u=0;u<R_.length;u++)R_[u].object=this,n.push(R_[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,cLe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};Mq.forEach(t=>{const e="_private_"+t;Object.defineProperty(Aq.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const uLe=N.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Ji(({invalidate:v})=>v),[d]=N.useState(()=>new Aq),[f,m]=N.useMemo(()=>{const v=[];let w="";return N.Children.forEach(s,x=>{typeof x=="string"||typeof x=="number"?w+=x:v.push(x)}),[v,w]},[s]);return KTe(()=>new Promise(v=>$Oe({font:r,characters:o},v)),["troika-text",r,o]),N.useLayoutEffect(()=>void d.sync(()=>{u(),a&&a(d)})),N.useEffect(()=>()=>d.dispose(),[d]),N.createElement("primitive",mm({object:d,ref:c,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),f)});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ti={LEFT:1,RIGHT:2,MIDDLE:4},Ve=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),Cv={NONE:0,IN:1,OUT:-1};function Ip(t){return t.isPerspectiveCamera}function nh(t){return t.isOrthographicCamera}const Mv=Math.PI*2,N5=Math.PI/2,Pq=1e-5,I_=Math.PI/180;function hc(t,e,n){return Math.max(e,Math.min(n,t))}function Or(t,e=Pq){return Math.abs(t)<e}function dr(t,e,n=Pq){return Or(t-e,n)}function F5(t,e){return Math.round(t/e)*e}function k_(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function O_(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function MS(t,e,n,r,i=1/0,s){r=Math.max(1e-4,r);const o=2/r,a=o*s,l=1/(1+a+.48*a*a+.235*a*a*a);let c=t-e;const u=e,d=i*r;c=hc(c,-d,d),e=t-c;const f=(n.value+o*c)*s;n.value=(n.value-o*f)*l;let m=e+(c+f)*l;return u-t>0==m>u&&(m=u,n.value=(m-u)/s),m}function U5(t,e,n,r,i=1/0,s,o){r=Math.max(1e-4,r);const a=2/r,l=a*s,c=1/(1+l+.48*l*l+.235*l*l*l);let u=e.x,d=e.y,f=e.z,m=t.x-u,v=t.y-d,w=t.z-f;const x=u,y=d,b=f,S=i*r,T=S*S,C=m*m+v*v+w*w;if(C>T){const ne=Math.sqrt(C);m=m/ne*S,v=v/ne*S,w=w/ne*S}u=t.x-m,d=t.y-v,f=t.z-w;const M=(n.x+a*m)*s,I=(n.y+a*v)*s,O=(n.z+a*w)*s;n.x=(n.x-a*M)*c,n.y=(n.y-a*I)*c,n.z=(n.z-a*O)*c,o.x=u+(m+M)*c,o.y=d+(v+I)*c,o.z=f+(w+O)*c;const R=x-t.x,D=y-t.y,j=b-t.z,$=o.x-x,B=o.y-y,Q=o.z-b;return R*$+D*B+j*Q>0&&(o.x=x,o.y=y,o.z=b,n.x=(o.x-x)/s,n.y=(o.y-y)/s,n.z=(o.z-b)/s),o}function SR(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}function ER(t,e){return nh(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}let dLe=class{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}};var TR;const fLe="2.10.0",AS=1/8,hLe=/Mac/.test((TR=globalThis==null?void 0:globalThis.navigator)===null||TR===void 0?void 0:TR.platform);let yn,z5,PS,CR,la,In,nr,Av,L_,cu,uu,kp,B5,V5,xl,D_,Pv,G5,MR,H5,AR,PR,RS,Ss=class q2 extends dLe{static install(e){yn=e.THREE,z5=Object.freeze(new yn.Vector3(0,0,0)),PS=Object.freeze(new yn.Vector3(0,1,0)),CR=Object.freeze(new yn.Vector3(0,0,1)),la=new yn.Vector2,In=new yn.Vector3,nr=new yn.Vector3,Av=new yn.Vector3,L_=new yn.Vector3,cu=new yn.Vector3,uu=new yn.Vector3,kp=new yn.Vector3,B5=new yn.Vector3,V5=new yn.Vector3,xl=new yn.Spherical,D_=new yn.Spherical,Pv=new yn.Box3,G5=new yn.Box3,MR=new yn.Sphere,H5=new yn.Quaternion,AR=new yn.Quaternion,PR=new yn.Matrix4,RS=new yn.Raycaster}static get ACTION(){return Ve}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Ve.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Cv.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new yn.Vector3,this._focalOffsetVelocity=new yn.Vector3,this._zoomVelocity={value:0},this._truckInternal=(y,b,S,T)=>{let C,M;if(Ip(this._camera)){const I=In.copy(this._camera.position).sub(this._target),O=this._camera.getEffectiveFOV()*I_,R=I.length()*Math.tan(O*.5);C=this.truckSpeed*y*R/this._elementRect.height,M=this.truckSpeed*b*R/this._elementRect.height}else if(nh(this._camera)){const I=this._camera;C=this.truckSpeed*y*(I.right-I.left)/I.zoom/this._elementRect.width,M=this.truckSpeed*b*(I.top-I.bottom)/I.zoom/this._elementRect.height}else return;T?(S?this.setFocalOffset(this._focalOffsetEnd.x+C,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(C,0,!0),this.forward(-M,!0)):S?this.setFocalOffset(this._focalOffsetEnd.x+C,this._focalOffsetEnd.y+M,this._focalOffsetEnd.z,!0):this.truck(C,M,!0)},this._rotateInternal=(y,b)=>{const S=Mv*this.azimuthRotateSpeed*y/this._elementRect.height,T=Mv*this.polarRotateSpeed*b/this._elementRect.height;this.rotate(S,T,!0)},this._dollyInternal=(y,b,S)=>{const T=Math.pow(.95,-y*this.dollySpeed),C=this._sphericalEnd.radius,M=this._sphericalEnd.radius*T,I=hc(M,this.minDistance,this.maxDistance),O=I-M;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(M,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(O,!0),this._dollyToNoClamp(I,!0)):this._dollyToNoClamp(I,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?M:I)-C,this._dollyControlCoord.set(b,S)),this._lastDollyDirection=Math.sign(-y)},this._zoomInternal=(y,b,S)=>{const T=Math.pow(.95,y*this.dollySpeed),C=this._zoom,M=this._zoom*T;this.zoomTo(M,!0),this.dollyToCursor&&(this._changedZoom+=M-C,this._dollyControlCoord.set(b,S))},typeof yn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new yn.Quaternion().setFromUnitVectors(this._camera.up,PS),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Ve.NONE,this._target=new yn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new yn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new yn.Spherical().setFromVector3(In.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new yn.Vector3,new yn.Vector3,new yn.Vector3,new yn.Vector3],this._updateNearPlaneCorners(),this._boundary=new yn.Box3(new yn.Vector3(-1/0,-1/0,-1/0),new yn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new yn.Vector2,this.mouseButtons={left:Ve.ROTATE,middle:Ve.DOLLY,right:Ve.TRUCK,wheel:Ip(this._camera)?Ve.DOLLY:nh(this._camera)?Ve.ZOOM:Ve.NONE},this.touches={one:Ve.TOUCH_ROTATE,two:Ip(this._camera)?Ve.TOUCH_DOLLY_TRUCK:nh(this._camera)?Ve.TOUCH_ZOOM_TRUCK:Ve.NONE,three:Ve.TOUCH_TRUCK};const r=new yn.Vector2,i=new yn.Vector2,s=new yn.Vector2,o=y=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const T=this._domElement.getBoundingClientRect(),C=y.clientX/T.width,M=y.clientY/T.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||M<this._interactiveArea.top||M>this._interactiveArea.bottom)return}const b=y.pointerType!=="mouse"?null:(y.buttons&ti.LEFT)===ti.LEFT?ti.LEFT:(y.buttons&ti.MIDDLE)===ti.MIDDLE?ti.MIDDLE:(y.buttons&ti.RIGHT)===ti.RIGHT?ti.RIGHT:null;if(b!==null){const T=this._findPointerByMouseButton(b);T&&this._disposePointer(T)}if((y.buttons&ti.LEFT)===ti.LEFT&&this._lockedPointer)return;const S={pointerId:y.pointerId,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0,mouseButton:b};this._activePointers.push(S),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),this._isDragging=!0,f(y)},a=y=>{y.cancelable&&y.preventDefault();const b=y.pointerId,S=this._lockedPointer||this._findPointerById(b);if(S){if(S.clientX=y.clientX,S.clientY=y.clientY,S.deltaX=y.movementX,S.deltaY=y.movementY,this._state=0,y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(y.buttons&ti.LEFT)===ti.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(y.buttons&ti.MIDDLE)===ti.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(y.buttons&ti.RIGHT)===ti.RIGHT&&(this._state=this._state|this.mouseButtons.right);m()}},l=y=>{const b=this._findPointerById(y.pointerId);if(!(b&&b===this._lockedPointer)){if(b&&this._disposePointer(b),y.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Ve.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Ve.NONE;v()}};let c=-1;const u=y=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===Ve.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),I=y.clientX/M.width,O=y.clientY/M.height;if(I<this._interactiveArea.left||I>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}if(y.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Ve.ROTATE||this.mouseButtons.wheel===Ve.TRUCK){const M=performance.now();c-M<1e3&&this._getClientRect(this._elementRect),c=M}const b=hLe?-1:-3,S=y.deltaMode===1?y.deltaY/b:y.deltaY/(b*10),T=this.dollyToCursor?(y.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,C=this.dollyToCursor?(y.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Ve.ROTATE:{this._rotateInternal(y.deltaX,y.deltaY),this._isUserControllingRotate=!0;break}case Ve.TRUCK:{this._truckInternal(y.deltaX,y.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case Ve.SCREEN_PAN:{this._truckInternal(y.deltaX,y.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case Ve.OFFSET:{this._truckInternal(y.deltaX,y.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case Ve.DOLLY:{this._dollyInternal(-S,T,C),this._isUserControllingDolly=!0;break}case Ve.ZOOM:{this._zoomInternal(-S,T,C),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},d=y=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===q2.ACTION.NONE){const b=y instanceof PointerEvent?y.pointerId:0,S=this._findPointerById(b);S&&this._disposePointer(S),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l);return}y.preventDefault()}},f=y=>{if(!this._enabled)return;if(SR(this._activePointers,la),this._getClientRect(this._elementRect),r.copy(la),i.copy(la),this._activePointers.length>=2){const S=la.x-this._activePointers[1].clientX,T=la.y-this._activePointers[1].clientY,C=Math.sqrt(S*S+T*T);s.set(0,C);const M=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,I=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(M,I)}if(this._state=0,!y)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in y&&y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(y.buttons&ti.LEFT)===ti.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&ti.MIDDLE)===ti.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&ti.RIGHT)===ti.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Ve.ROTATE)===Ve.ROTATE||(this._state&Ve.TOUCH_ROTATE)===Ve.TOUCH_ROTATE||(this._state&Ve.TOUCH_DOLLY_ROTATE)===Ve.TOUCH_DOLLY_ROTATE||(this._state&Ve.TOUCH_ZOOM_ROTATE)===Ve.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Ve.TRUCK)===Ve.TRUCK||(this._state&Ve.SCREEN_PAN)===Ve.SCREEN_PAN||(this._state&Ve.TOUCH_TRUCK)===Ve.TOUCH_TRUCK||(this._state&Ve.TOUCH_SCREEN_PAN)===Ve.TOUCH_SCREEN_PAN||(this._state&Ve.TOUCH_DOLLY_TRUCK)===Ve.TOUCH_DOLLY_TRUCK||(this._state&Ve.TOUCH_DOLLY_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN||(this._state&Ve.TOUCH_ZOOM_TRUCK)===Ve.TOUCH_ZOOM_TRUCK||(this._state&Ve.TOUCH_ZOOM_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Ve.DOLLY)===Ve.DOLLY||(this._state&Ve.TOUCH_DOLLY)===Ve.TOUCH_DOLLY||(this._state&Ve.TOUCH_DOLLY_TRUCK)===Ve.TOUCH_DOLLY_TRUCK||(this._state&Ve.TOUCH_DOLLY_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN||(this._state&Ve.TOUCH_DOLLY_OFFSET)===Ve.TOUCH_DOLLY_OFFSET||(this._state&Ve.TOUCH_DOLLY_ROTATE)===Ve.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Ve.ZOOM)===Ve.ZOOM||(this._state&Ve.TOUCH_ZOOM)===Ve.TOUCH_ZOOM||(this._state&Ve.TOUCH_ZOOM_TRUCK)===Ve.TOUCH_ZOOM_TRUCK||(this._state&Ve.TOUCH_ZOOM_SCREEN_PAN)===Ve.TOUCH_ZOOM_SCREEN_PAN||(this._state&Ve.TOUCH_ZOOM_OFFSET)===Ve.TOUCH_ZOOM_OFFSET||(this._state&Ve.TOUCH_ZOOM_ROTATE)===Ve.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Ve.OFFSET)===Ve.OFFSET||(this._state&Ve.TOUCH_OFFSET)===Ve.TOUCH_OFFSET||(this._state&Ve.TOUCH_DOLLY_OFFSET)===Ve.TOUCH_DOLLY_OFFSET||(this._state&Ve.TOUCH_ZOOM_OFFSET)===Ve.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,SR(this._activePointers,la);const b=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,S=b?-b.deltaX:i.x-la.x,T=b?-b.deltaY:i.y-la.y;if(i.copy(la),((this._state&Ve.ROTATE)===Ve.ROTATE||(this._state&Ve.TOUCH_ROTATE)===Ve.TOUCH_ROTATE||(this._state&Ve.TOUCH_DOLLY_ROTATE)===Ve.TOUCH_DOLLY_ROTATE||(this._state&Ve.TOUCH_ZOOM_ROTATE)===Ve.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(S,T),this._isUserControllingRotate=!0),(this._state&Ve.DOLLY)===Ve.DOLLY||(this._state&Ve.ZOOM)===Ve.ZOOM){const C=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,M=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,I=this.dollyDragInverted?-1:1;(this._state&Ve.DOLLY)===Ve.DOLLY?(this._dollyInternal(I*T*AS,C,M),this._isUserControllingDolly=!0):(this._zoomInternal(I*T*AS,C,M),this._isUserControllingZoom=!0)}if((this._state&Ve.TOUCH_DOLLY)===Ve.TOUCH_DOLLY||(this._state&Ve.TOUCH_ZOOM)===Ve.TOUCH_ZOOM||(this._state&Ve.TOUCH_DOLLY_TRUCK)===Ve.TOUCH_DOLLY_TRUCK||(this._state&Ve.TOUCH_ZOOM_TRUCK)===Ve.TOUCH_ZOOM_TRUCK||(this._state&Ve.TOUCH_DOLLY_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN||(this._state&Ve.TOUCH_ZOOM_SCREEN_PAN)===Ve.TOUCH_ZOOM_SCREEN_PAN||(this._state&Ve.TOUCH_DOLLY_OFFSET)===Ve.TOUCH_DOLLY_OFFSET||(this._state&Ve.TOUCH_ZOOM_OFFSET)===Ve.TOUCH_ZOOM_OFFSET||(this._state&Ve.TOUCH_DOLLY_ROTATE)===Ve.TOUCH_DOLLY_ROTATE||(this._state&Ve.TOUCH_ZOOM_ROTATE)===Ve.TOUCH_ZOOM_ROTATE){const C=la.x-this._activePointers[1].clientX,M=la.y-this._activePointers[1].clientY,I=Math.sqrt(C*C+M*M),O=s.y-I;s.set(0,I);const R=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Ve.TOUCH_DOLLY)===Ve.TOUCH_DOLLY||(this._state&Ve.TOUCH_DOLLY_ROTATE)===Ve.TOUCH_DOLLY_ROTATE||(this._state&Ve.TOUCH_DOLLY_TRUCK)===Ve.TOUCH_DOLLY_TRUCK||(this._state&Ve.TOUCH_DOLLY_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN||(this._state&Ve.TOUCH_DOLLY_OFFSET)===Ve.TOUCH_DOLLY_OFFSET?(this._dollyInternal(O*AS,R,D),this._isUserControllingDolly=!0):(this._zoomInternal(O*AS,R,D),this._isUserControllingZoom=!0)}((this._state&Ve.TRUCK)===Ve.TRUCK||(this._state&Ve.TOUCH_TRUCK)===Ve.TOUCH_TRUCK||(this._state&Ve.TOUCH_DOLLY_TRUCK)===Ve.TOUCH_DOLLY_TRUCK||(this._state&Ve.TOUCH_ZOOM_TRUCK)===Ve.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(S,T,!1,!1),this._isUserControllingTruck=!0),((this._state&Ve.SCREEN_PAN)===Ve.SCREEN_PAN||(this._state&Ve.TOUCH_SCREEN_PAN)===Ve.TOUCH_SCREEN_PAN||(this._state&Ve.TOUCH_DOLLY_SCREEN_PAN)===Ve.TOUCH_DOLLY_SCREEN_PAN||(this._state&Ve.TOUCH_ZOOM_SCREEN_PAN)===Ve.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(S,T,!1,!0),this._isUserControllingTruck=!0),((this._state&Ve.OFFSET)===Ve.OFFSET||(this._state&Ve.TOUCH_OFFSET)===Ve.TOUCH_OFFSET||(this._state&Ve.TOUCH_DOLLY_OFFSET)===Ve.TOUCH_DOLLY_OFFSET||(this._state&Ve.TOUCH_ZOOM_OFFSET)===Ve.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(S,T,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},v=()=>{SR(this._activePointers,la),i.copy(la),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",w),this._domElement.ownerDocument.addEventListener("pointerlockerror",x),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),f())},this.unlockPointer=()=>{var y,b,S;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(y=this._domElement)===null||y===void 0||y.ownerDocument.exitPointerLock(),(b=this._domElement)===null||b===void 0||b.ownerDocument.removeEventListener("pointerlockchange",w),(S=this._domElement)===null||S===void 0||S.ownerDocument.removeEventListener("pointerlockerror",x),this.cancel()};const w=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},x=()=>{this.unlockPointer()};this._addAllEventListeners=y=>{this._domElement=y,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",l),this._domElement.addEventListener("wheel",u,{passive:!1}),this._domElement.addEventListener("contextmenu",d)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",l),this._domElement.removeEventListener("wheel",u,{passive:!1}),this._domElement.removeEventListener("contextmenu",d),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",x))},this.cancel=()=>{this._state!==Ve.NONE&&(this._state=Ve.NONE,this._activePointers.length=0,v())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=hc(e.width,0,1),this._interactiveArea.height=hc(e.height,0,1),this._interactiveArea.x=hc(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=hc(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const i=hc(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=hc(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||dr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&dr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Cv.NONE,this._changedDolly=0,this._dollyToNoClamp(hc(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=dr(o,this._spherical.radius);if(!(r>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const s=!n||dr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(L_).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const r=!n||dr(this._target.x,this._targetEnd.x,this.restThreshold)&&dr(this._target.y,this._targetEnd.y,this.restThreshold)&&dr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=hc(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||dr(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),cu.setFromMatrixColumn(this._camera.matrix,0),uu.setFromMatrixColumn(this._camera.matrix,1),cu.multiplyScalar(e),uu.multiplyScalar(-n);const i=In.copy(cu).add(uu),s=nr.copy(this._targetEnd).add(i);return this.moveTo(s.x,s.y,s.z,r)}forward(e,n=!1){In.setFromMatrixColumn(this._camera.matrix,0),In.crossVectors(this._camera.up,In),In.multiplyScalar(e);const r=nr.copy(this._targetEnd).add(In);return this.moveTo(r.x,r.y,r.z,n)}elevate(e,n=!1){return In.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+In.x,this._targetEnd.y+In.y,this._targetEnd.z+In.z,n)}moveTo(e,n,r,i=!1){this._isUserControllingTruck=!1;const s=In.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||dr(this._target.x,this._targetEnd.x,this.restThreshold)&&dr(this._target.y,this._targetEnd.y,this.restThreshold)&&dr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,i=!1){const a=In.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,n,{cover:r=!1,paddingLeft:i=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],c=e.isBox3?Pv.copy(e):Pv.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=F5(this._sphericalEnd.theta,N5),d=F5(this._sphericalEnd.phi,N5);l.push(this.rotateTo(u,d,n));const f=In.setFromSpherical(this._sphericalEnd).normalize(),m=H5.setFromUnitVectors(f,CR),v=dr(Math.abs(f.y),1);v&&m.multiply(AR.setFromAxisAngle(PS,u)),m.multiply(this._yAxisUpSpaceInverse);const w=G5.makeEmpty();nr.copy(c.min).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.min).setX(c.max.x).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.min).setY(c.max.y).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.max).setZ(c.min.z).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.min).setZ(c.max.z).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.max).setY(c.min.y).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.max).setX(c.min.x).applyQuaternion(m),w.expandByPoint(nr),nr.copy(c.max).applyQuaternion(m),w.expandByPoint(nr),w.min.x-=i,w.min.y-=o,w.max.x+=s,w.max.y+=a,m.setFromUnitVectors(CR,f),v&&m.premultiply(AR.invert()),m.premultiply(this._yAxisUpSpace);const x=w.getSize(In),y=w.getCenter(nr).applyQuaternion(m);if(Ip(this._camera)){const b=this.getDistanceToFitBox(x.x,x.y,x.z,r);l.push(this.moveTo(y.x,y.y,y.z,n)),l.push(this.dollyTo(b,n)),l.push(this.setFocalOffset(0,0,0,n))}else if(nh(this._camera)){const b=this._camera,S=b.right-b.left,T=b.top-b.bottom,C=r?Math.max(S/x.x,T/x.y):Math.min(S/x.x,T/x.y);l.push(this.moveTo(y.x,y.y,y.z,n)),l.push(this.zoomTo(C,n)),l.push(this.setFocalOffset(0,0,0,n))}return Promise.all(l)}fitToSphere(e,n){const r=[],s="isObject3D"in e?q2.createBoundingSphere(e,MR):MR.copy(e);if(r.push(this.moveTo(s.center.x,s.center.y,s.center.z,n)),Ip(this._camera)){const o=this.getDistanceToFitSphere(s.radius);r.push(this.dollyTo(o,n))}else if(nh(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*s.radius,c=Math.min(o/l,a/l);r.push(this.zoomTo(c,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,i,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Cv.NONE,this._changedDolly=0;const l=nr.set(i,s,o),c=In.set(e,n,r);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(c.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!a||dr(this._target.x,this._targetEnd.x,this.restThreshold)&&dr(this._target.y,this._targetEnd.y,this.restThreshold)&&dr(this._target.z,this._targetEnd.z,this.restThreshold)&&dr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&dr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&dr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,n,r,i,s,o,a,l,c,u,d,f,m,v=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Cv.NONE,this._changedDolly=0;const w=In.set(i,s,o),x=nr.set(e,n,r);xl.setFromVector3(x.sub(w).applyQuaternion(this._yAxisUpSpace));const y=Av.set(u,d,f),b=nr.set(a,l,c);D_.setFromVector3(b.sub(y).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(w.lerp(y,m));const S=D_.theta-xl.theta,T=D_.phi-xl.phi,C=D_.radius-xl.radius;this._sphericalEnd.set(xl.radius+C*m,xl.phi+T*m,xl.theta+S*m),this.normalizeRotations(),this._needsUpdate=!0,v||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const M=!v||dr(this._target.x,this._targetEnd.x,this.restThreshold)&&dr(this._target.y,this._targetEnd.y,this.restThreshold)&&dr(this._target.z,this._targetEnd.z,this.restThreshold)&&dr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&dr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&dr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(M)}setPosition(e,n,r,i=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,n,r,i=!1){const s=this.getPosition(In),o=this.setLookAt(s.x,s.y,s.z,e,n,r,i);return this._sphericalEnd.phi=hc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const s=!i||dr(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&dr(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&dr(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),cu.setFromMatrixColumn(this._camera.matrixWorldInverse,0),uu.setFromMatrixColumn(this._camera.matrixWorldInverse,1),kp.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=In.set(e,n,r),s=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);cu.multiplyScalar(o.x),uu.multiplyScalar(o.y),kp.multiplyScalar(o.z),In.copy(cu).add(uu).add(kp),In.z=In.z+s,this.dollyTo(s,!1),this.setFocalOffset(-In.x,In.y,-In.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new yn.Vector4,typeof e=="number"?this._viewport.set(e,n,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,i=!1){if(ER(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/n,o=this._camera.getEffectiveFOV()*I_,a=this._camera.aspect;return((i?s>a:s<a)?n:e/a)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(ER(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*I_,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?n:r;return e/Math.sin(i*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new yn.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new yn.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e||new yn.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new yn.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Mv,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Mv),this._spherical.theta+=Mv*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Mv)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!dr(this._camera.up.x,this._cameraUp0.x)||!dr(this._camera.up.y,this._cameraUp0.y)||!dr(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(In);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,PS),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=In.subVectors(this._target,this._camera.position).normalize(),n=nr.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(In);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,s=B5.subVectors(this._targetEnd,this._target),o=V5.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(Or(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=MS(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,d,1/0,e),this._needsUpdate=!0}if(Or(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=MS(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,d,1/0,e),this._needsUpdate=!0}if(Or(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const d=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=MS(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,d,this.maxSpeed,e),this._needsUpdate=!0}if(Or(s.x)&&Or(s.y)&&Or(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const d=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;U5(this._target,this._targetEnd,this._targetVelocity,d,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Or(o.x)&&Or(o.y)&&Or(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const d=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;U5(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,d,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Or(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const d=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=MS(this._zoom,this._zoomEnd,this._zoomVelocity,d,1/0,e)}if(this.dollyToCursor){if(Ip(this._camera)&&this._changedDolly!==0){const d=this._spherical.radius-this._lastDistance,f=this._camera,m=this._getCameraDirection(L_),v=In.copy(m).cross(f.up).normalize();v.lengthSq()===0&&(v.x=1);const w=nr.crossVectors(v,m),x=this._sphericalEnd.radius*Math.tan(f.getEffectiveFOV()*I_*.5),b=(this._sphericalEnd.radius-d-this._sphericalEnd.radius)/this._sphericalEnd.radius,S=Av.copy(this._targetEnd).add(v.multiplyScalar(this._dollyControlCoord.x*x*f.aspect)).add(w.multiplyScalar(this._dollyControlCoord.y*x)),T=In.copy(this._targetEnd).lerp(S,b),C=this._lastDollyDirection===Cv.IN&&this._spherical.radius<=this.minDistance,M=this._lastDollyDirection===Cv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(C||M)){this._sphericalEnd.radius-=d,this._spherical.radius-=d;const O=nr.copy(m).multiplyScalar(-d);T.add(O)}this._boundary.clampPoint(T,T);const I=nr.subVectors(T,this._targetEnd);this._targetEnd.copy(T),this._target.add(I),this._changedDolly-=d,Or(this._changedDolly)&&(this._changedDolly=0)}else if(nh(this._camera)&&this._changedZoom!==0){const d=this._zoom-this._lastZoom,f=this._camera,m=In.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(f.near+f.far)/(f.near-f.far)).unproject(f),v=nr.set(0,0,-1).applyQuaternion(f.quaternion),w=Av.copy(m).add(v.multiplyScalar(-m.dot(f.up))),y=-(this._zoom-d-this._zoom)/this._zoom,b=this._getCameraDirection(L_),S=this._targetEnd.dot(b),T=In.copy(this._targetEnd).lerp(w,y),C=T.dot(b),M=b.multiplyScalar(C-S);T.sub(M),this._boundary.clampPoint(T,T);const I=nr.subVectors(T,this._targetEnd);this._targetEnd.copy(T),this._target.add(I),this._changedZoom-=d,Or(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Or(this._focalOffset.x)||!Or(this._focalOffset.y)||!Or(this._focalOffset.z))&&(cu.setFromMatrixColumn(this._camera.matrix,0),uu.setFromMatrixColumn(this._camera.matrix,1),kp.setFromMatrixColumn(this._camera.matrix,2),cu.multiplyScalar(this._focalOffset.x),uu.multiplyScalar(-this._focalOffset.y),kp.multiplyScalar(this._focalOffset.z),In.copy(cu).add(uu).add(kp),this._camera.position.add(In),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),In.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Or(n,this.restThreshold)&&Or(r,this.restThreshold)&&Or(i,this.restThreshold)&&Or(s.x,this.restThreshold)&&Or(s.y,this.restThreshold)&&Or(s.z,this.restThreshold)&&Or(o.x,this.restThreshold)&&Or(o.y,this.restThreshold)&&Or(o.z,this.restThreshold)&&Or(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:k_(this.maxDistance),minZoom:this.minZoom,maxZoom:k_(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:k_(this.maxPolarAngle),minAzimuthAngle:k_(this.minAzimuthAngle),maxAzimuthAngle:k_(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:In.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=O_(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=O_(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=O_(r.maxPolarAngle),this.minAzimuthAngle=O_(r.minAzimuthAngle),this.maxAzimuthAngle=O_(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),xl.setFromVector3(In.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(xl.theta,xl.phi,n),this.dollyTo(xl.radius,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",fLe),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,r){const i=n.lengthSq();if(i===0)return e;const s=nr.copy(n).add(e),a=this._boundary.clampPoint(s,Av).sub(s),l=a.lengthSq();if(l===0)return e.add(n);if(l===i)return e;if(r===0)return e.add(n).add(a);{const c=1+r*l/n.dot(a);return e.add(nr.copy(n).multiplyScalar(c)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(Ip(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*I_,i=Math.tan(r*.5)*n,s=i*e.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(nh(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,i=e.right*n,s=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,s,0),this._nearPlaneCorners[1].set(i,s,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||ER(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(L_);PR.lookAt(z5,r,this._camera.up);for(let i=0;i<4;i++){const s=nr.copy(this._nearPlaneCorners[i]);s.applyMatrix4(PR);const o=Av.addVectors(this._target,s);RS.set(o,r),RS.far=this._spherical.radius+1;const a=RS.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new yn.Sphere){const r=n,i=r.center;Pv.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Pv.expandByObject(o)}),Pv.getCenter(i);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o;if(!a.geometry)return;const l=a.geometry.clone();l.applyMatrix4(a.matrixWorld);const u=l.attributes.position;for(let d=0,f=u.count;d<f;d++)In.fromBufferAttribute(u,d),s=Math.max(s,i.distanceToSquared(In))}),r.radius=Math.sqrt(s),r}};var N_={exports:{}},W5;function pLe(){if(W5)return N_.exports;W5=1;var t={ellipse:"",chars:[" ","-"],max:140,truncate:!0};function e(r,i,s,o){if(r<=i)return r;if(i<2)return r.slice(0,i-s.length)+s;for(var a=i-s.length,l=Math.floor(a/2),c=l,u=r.length-l,d=0;d<l;d++){var f=r.charAt(d),m=r.length-d,v=r.charAt(m);o.indexOf(f)!==-1&&(c=d),o.indexOf(v)!==-1&&(u=m)}return r.slice(0,c)+s+r.slice(u)}function n(r,i,s,o,a){if(r.length<=i)return r;for(var l=i-s.length,c=l,u=0;u<=l;u++){var d=r.charAt(u);o.indexOf(d)!==-1&&(c=u)}return!a&&c==l?"":r.slice(0,c)+s}return N_.exports=function(r,i,s){if(typeof r!="string"||r.length===0||i===0)return"";s=s||{};for(var o in t)(s[o]===null||typeof s[o]>"u")&&(s[o]=t[o]);return s.max=i||s.max,s.truncate=="middle"?e(r,s.max,s.ellipse,s.chars):n(r,s.max,s.ellipse,s.chars,s.truncate)},N_.exports.ellipsizeMiddle=e,N_.exports.ellipsize=n,N_.exports}var mLe=pLe();const gLe=qa(mLe);var Rq=["ctrl","alt","meta","shift"],Iq="__0_1_2_3_4_5_6_7_8_9_a_b_c_d_e_f_g_h_i_j_k_l_m_n_o_p_q_r_s_t_u_v_w_x_y_z_ _`_'_\"_~_!_@_#_$_%_^_&_*_(_)_._-_+_=_[_]_{_}_<_>_,_/_?_;_:_\\_|_capslock_numlock_enter_tab_arrowdown_arrowleft_arrowright_arrowup_end_home_pagedown_pageup_backspace_delete_insert_escape_f1_f2_f3_f4_f5_f6_f7_f8_f9_f10_f11_f12_f13_f14_f15_f16_f17_f18_f19_f20_f21_f22_f23".split("_");Iq[1]="_";var kD={};for(let[t,e]of Iq.entries())kD[e]=t;var vLe={space:" ",plus:"+",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright",esc:"escape"},OD=4,yLe=9,LD=yLe+OD,_Le=2**OD,kq=2**LD,xLe=2**(2*LD),wLe=2**(3*LD);function bLe(t){let e;return t==="+"?["+"]:(t.slice(-1)=="+"?(e=t.slice(0,-2).split("+"),e.push("+")):e=t.split("+"),e.map(n=>vLe[n]||n))}function SLe(t){let e=new Set(t),n=kD[t[t.length-1].toLowerCase()]||0;for(let r of Rq)n=2*n+(e.has(r)?1:0);return n}function j5(t){return t>>OD}function RR(t){return t%_Le}function ELe(t,e){if(t===void 0||j5(t)>0)return!1;let n=RR(t),r=RR(e);return n===r&&j5(e)===0?!1:(n&RR(e))===n}function TLe(t){let e=kD[t.key.toLowerCase()]||0;for(let n of Rq)e=2*e+(t[`${n}Key`]?1:0);return e}function nM(t){return t.map(bLe)}function rM(t){if(t.length>4)throw"Can't encode sequence of more than 4 keys!";let e=0;for(let n of t)e=e*kq+SLe(n);return e}function CLe(t){return t<kq?1:t<xLe?2:t<wLe?3:4}function MLe(t){let e=[],n=0,r=0;for(let i=t.length-1;i>=0;i--)n=2**r*t[i]+n,r=r+13,e.push(n);return e}function ALe(t={}){return{history:[],historySize:0,bindings:new Map,disabledSequenceCodes:new Set,...t}}function PLe(t,e,n){let r=rM(nM(e));return t.bindings.has(r)||t.bindings.set(r,new Set),t.bindings.get(r).add(n),Oq(t)}function RLe(t,e,n){let r=rM(nM(e)),i=t.bindings.get(r);return i&&(i.delete(n),i.size==0&&t.bindings.delete(r)),Oq(t)}function ILe(t,e){let n=rM(nM(e));return t.disabledSequenceCodes.delete(n),t}function kLe(t,e){let n=rM(nM(e));return t.disabledSequenceCodes.add(n),t}function OLe(t,e){let n=TLe(e),r=t.history.at(-1);return ELe(r,n)&&t.history.pop(),t.history.push(n),t.history.length>t.historySize&&t.history.shift(),t}function LLe(t){let e=[];for(let n of MLe(t.history))t.disabledSequenceCodes.has(n)||e.push(...t.bindings.get(n)||[]);return e}function DLe(t,e){t=OLe(t,e);let n=LLe(t);for(let r of n)r(e);return[t,n]}function Oq(t){t.historySize=0;for(let e of t.bindings.keys())t.historySize=Math.max(t.historySize,CLe(e));return t}var NLe=class{constructor(e){this.state=e,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.handle=this.handle.bind(this)}add(...e){let n=e.slice(0,-1),r=e.at(-1);return this.state=PLe(this.state,n,r),this}remove(...e){let n=e.slice(0,-1),r=e.at(-1);return this.state=RLe(this.state,n,r),this}enable(...e){return this.state=ILe(this.state,e),this}disable(...e){return this.state=kLe(this.state,e),this}handle(e){let[n,r]=DLe(this.state,e);return this.state=n,r.length>0}};function iM(){return new NLe(ALe())}let $5=!1;const DD=iM(),ND=iM(),FD=iM(),Lq=new Map;let Op=[];const yh=t=>Array.isArray(t)?t.map(e=>e.toLowerCase()):[t.toLowerCase()],FLe=t=>e=>{const n=e.target,r=n.tagName==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(n.type);if(!(n.isContentEditable||(r||n.tagName==="TEXTAREA"||n.tagName==="SELECT")&&!n.readOnly))return t(e)},ULe=t=>{(!t.action||t.action==="keypress")&&DD.add(...yh(t.keys),t.callback),t.action==="keyup"&&ND.add(...yh(t.keys),t.callback),t.action==="keydown"&&FD.add(...yh(t.keys),t.callback)},zLe=t=>{(!t.action||t.action==="keypress")&&DD.remove(...yh(t.keys),t.callback),t.action==="keyup"&&ND.remove(...yh(t.keys),t.callback),t.action==="keydown"&&FD.remove(...yh(t.keys),t.callback)},BLe=t=>{var e,n,r;const i=iM();i.add(...yh(t.keys),t.callback),(n=(e=t.ref)==null?void 0:e.current)==null||n.addEventListener(t.action??"keypress",i.handle),Lq.set((r=t.ref)==null?void 0:r.current,i)},VLe=t=>{var e,n,r,i;if((e=t.ref)!=null&&e.current&&!t.disabled){const s=Lq.get((n=t.ref)==null?void 0:n.current);s==null||s.remove(...yh(t.keys),t.callback),(i=(r=t.ref)==null?void 0:r.current)==null||i.removeEventListener(t.action??"keypress",s.handle)}},Dq=(t=[])=>{const[e,n]=N.useState([]);return N.useLayoutEffect(()=>{!$5&&window!==void 0&&(window.addEventListener("keypress",DD.handle),window.addEventListener("keyup",ND.handle),window.addEventListener("keydown",FD.handle),$5=!0)},[]),N.useLayoutEffect(()=>(t.map(r=>{var i;r.disabled||(r.callback=FLe(r.callback),(i=r.ref)!=null&&i.current?(BLe(r),Op=[...Op,r]):r.ref||(ULe(r),Op=[...Op,r]))}),()=>{t.map(r=>{VLe(r),zLe(r),Op=Op.filter(i=>r!==i)})}),[t]),N.useEffect(()=>{n(Op)},[]),e};function GLe(){try{return navigator.platform.toUpperCase().indexOf("MAC")>=0}catch{return!1}}function HLe(){return GLe()?"":"CTRL"}HLe();/*!
 * hold-event
 * https://github.com/yomotsu/hold-event
 * (c) 2020 @yomotsu
 * Released under the MIT License.
 */var vx;(function(t){t.HOLD_START="holdStart",t.HOLD_END="holdEnd",t.HOLDING="holding"})(vx||(vx={}));class WLe{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}removeEventListener(e,n){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}}class jLe extends WLe{constructor(e){super(),this._enabled=!0,this._holding=!1,this._intervalId=-1,this._deltaTime=0,this._elapsedTime=0,this._lastTime=0,this._holdStart=n=>{if(!this._enabled||this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:vx.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!0;const r=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(r,this.holdIntervalDelay):window.requestAnimationFrame(r);const i=performance.now();this._deltaTime=i-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:vx.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n})};this._intervalId=this.holdIntervalDelay?window.setTimeout(r,this.holdIntervalDelay):window.requestAnimationFrame(r)},this._holdEnd=n=>{if(!this._enabled||!this._holding)return;const r=performance.now();this._deltaTime=r-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:vx.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId),this._holding=!1},this.holdIntervalDelay=e}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this._enabled||this._holdEnd())}}class sM extends jLe{constructor(e,n){super(n),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this);const r=s=>{$Le(s)||s.keyCode===e&&this._holdStart(s)},i=s=>{s.keyCode===e&&this._holdEnd(s)};document.addEventListener("keydown",r),document.addEventListener("keyup",i),window.addEventListener("blur",this._holdEnd)}}function $Le(t){const e=t.target;return e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.isContentEditable}var IR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y5;function YLe(){return Y5||(Y5=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(IR)),IR.exports}YLe();(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`._canvas_670zp_1 {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
._container_155l7_1 {
  transform-origin: bottom right;
  overflow: hidden;
  position: absolute;
  border: solid 1px var(--radial-menu-border);
}

  ._container_155l7_1._disabled_155l7_7 {
    opacity: 0.6;
  }

  ._container_155l7_1._disabled_155l7_7 ._contentContainer_155l7_10 {
      cursor: not-allowed;
    }

  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10 {
      cursor: pointer;
    }

  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10:hover {
        color: var(--radial-menu-active-color);
        background: var(--radial-menu-active-background);
      }

  ._container_155l7_1 ._contentContainer_155l7_10 {
    width: 200%;
    height: 200%;
    transform-origin: 50% 50%;
    border-radius: 50%;
    outline: none;
    transition: background 150ms ease-in-out;
    color: var(--radial-menu-color);
  }

  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 {
      position: absolute;
      width: 100%;
      text-align: center;
    }

  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 ._content_155l7_10 {
        display: inline-block;
      }

  ._container_155l7_1 svg {
    margin: 0 auto;
    fill: var(--radial-menu-active-color);
    height: 25px;
    width: 25px;
    display: block;
  }
._container_x9hyx_1 {
  border-radius: 50%;
  z-index: 9;
  position: relative;
  height: 175px;
  width: 175px;
  border: solid 5px var(--radial-menu-border);
  overflow: hidden;
  background: var(--radial-menu-background);
}

  ._container_x9hyx_1:before {
    content: ' ';
    background: var(--radial-menu-border);
    border-radius: 50%;
    height: 25px;
    width: 25px;
    position: absolute;
    z-index: 9;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }`)),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var X5,q5;function Nq(t,e=[]){const n=e.length;for(const r of t){const i=e.indexOf(r);if(i>-1){const s=[...e.slice(i),r].map(o=>o.data.id);throw new Error(`Invalid Graph: Circular node path detected: ${s.join(" -> ")}.`)}n>r.depth&&(r.depth=n,Nq(r.out,[...e,r]))}}function Fq(t,e){let n=!1;const r=t.reduce((o,a)=>({...o,[a.id]:{data:a,out:[],depth:-1,ins:[]}}),{});try{for(const o of e){const a=o.source,l=o.target;if(!r.hasOwnProperty(a))throw new Error(`Missing source Node ${a}`);if(!r.hasOwnProperty(l))throw new Error(`Missing target Node ${l}`);const c=r[a],u=r[l];u.ins.push(c),c.out.push(u)}Nq(Object.values(r))}catch{n=!0}const i=Object.keys(r).map(o=>r[o].depth),s=Math.max(...i);return{invalid:n,depths:r,maxDepth:s||1}}const K5=["radialin","radialout"];function XLe({nodes:t,edges:e,mode:n="lr",nodeLevelRatio:r=2}){const{depths:i,maxDepth:s,invalid:o}=Fq(t,e);if(o)return null;const a=K5.includes(n)?1:5,l=t.length/s*r*a;if(n){const c=(m,v)=>w=>m?(i[w.id].depth-s/2)*l*(v?-1:1):void 0,u=c(["lr","rl"].includes(n),n==="rl"),d=c(["td","bu"].includes(n),n==="td"),f=c(["zin","zout"].includes(n),n==="zout");t.forEach(m=>{m.fx=u(m),m.fy=d(m),m.fz=f(m)})}return K5.includes(n)?$Me(c=>{const u=i[c.id];return(n==="radialin"?s-u.depth:u.depth)*l}).strength(1):null}function qLe(t){return new Promise((e,n)=>{let r;function i(){r?e(r):(r=t.step(),i())}i()})}function ob(t){const e=[],n=[];return t.forEachNode((r,i)=>{e.push({...i,id:r,radius:i.size||1})}),t.forEachEdge((r,i)=>{n.push({...i,id:r})}),{nodes:e,edges:n}}function KLe(){const t=V=>()=>V;let n=V=>V.index,r=[],i=[],s,o,a=[100,100],l=t(1),c=t(-1),u=t(100),d=t(.1),f={},m=.1,v=.001,w=[],x=[0,0],y,b=V=>V.cluster,S="treemap",T=!0,C=.1;function M(V){if(!T)return M;S==="force"&&(y.tick(),B());for(let G=0,W=r.length,F,U=V*C;G<W;++G)F=r[G],F.vx+=(f[b(F)].x-F.x)*U,F.vy+=(f[b(F)].y-F.y)*U}function I(){r&&(S==="treemap"?Q():K())}M.initialize=function(V){r=V,I()};function O(V){let G=b(V.source),W=b(V.target);return G<=W?G+"~"+W:W+"~"+G}function R(V){let G=new Map,W={};return V.forEach(function(F){G.has(b(F))||G.set(b(F),{count:0,sumforceNodeSize:0})}),V.forEach(function(F){W=G.get(b(F)),W.count=W.count+1,W.sumforceNodeSize=W.sumforceNodeSize+Math.PI*(l(F)*l(F))*1.3,G.set(b(F),W)}),G}function D(V){let G=new Map,W=[];return V.forEach(function(F){let U=O(F),q;G.has(U)?q=G.get(U):q=0,q+=1,G.set(U,q)}),G.forEach(function(F,U){let q,te;q=U.split("~")[0],te=U.split("~")[1],q!==void 0&&te!==void 0&&W.push({source:q,target:te,count:F})}),W}function j(){let V=[],G=[],W=new Map,F,U,q,te,re;te=R(r),re=D(i);for(F of te.keys())q=te.get(F),V.push({id:F,size:q.count,r:Math.sqrt(q.sumforceNodeSize/Math.PI)}),W.set(F,U);return re.forEach(function(le){let fe=W.get(le.source),ye=W.get(le.target);fe!==void 0&&ye!==void 0&&G.push({source:fe,target:ye,count:le.count})}),{nodes:V,links:G}}function $(){let V=[],G,W,F;F=R(M.nodes());for(G of F.keys())W=F.get(G),V.push({id:G,size:W.count});return{id:"clustersTree",children:V}}function B(){return f.none={x:0,y:0},w.forEach(function(V){S==="treemap"?f[V.data.id]={x:V.x0+(V.x1-V.x0)/2-x[0],y:V.y0+(V.y1-V.y0)/2-x[1]}:f[V.id]={x:V.x-x[0],y:V.y-x[1]}}),f}function Q(){let V=RAe().size(M.size());o=HC($()).sum(G=>G.radius).sort(function(G,W){return W.height-G.height||W.value-G.value}),w=V(o).leaves(),B()}function ne(){let V=0;r.length!==0&&i.forEach(function(G){let W,F;if(r){if(W=G.source,F=G.target,typeof G.source!="object"&&(W=r.find(U=>U.id===G.source)),typeof G.target!="object"&&(F=r.find(U=>U.id===G.target)),W===void 0||F===void 0)throw Error("Error setting links, couldnt find nodes for a link (see it on the console)");G.source=W,G.target=F,G.index=V++}})}function K(){let V;!r||!r.length||(ne(),V=j(),s.size>0&&V.nodes.forEach(G=>{var W,F,U,q;G.fx=(F=(W=s.get(G.id))==null?void 0:W.position)==null?void 0:F.x,G.fy=(q=(U=s.get(G.id))==null?void 0:U.position)==null?void 0:q.y}),y=QY(V.nodes).force("x",C2(a[0]/2).strength(.1)).force("y",M2(a[1]/2).strength(.1)).force("collide",jY(G=>G.r).iterations(4)).force("charge",JY().strength(c)).force("links",$Y(V.nodes.length?V.links:[]).distance(u).strength(d)),w=y.nodes(),B())}return M.template=function(V){return arguments.length?(S=V,I(),M):S},M.groupBy=function(V){return arguments.length?typeof V=="string"?(b=function(G){return G[V]},M):(b=V,M):b},M.enableGrouping=function(V){return arguments.length?(T=V,M):T},M.strength=function(V){return arguments.length?(C=V,M):C},M.getLinkStrength=function(V){return T?b(V.source)===b(V.target)?typeof m=="function"?m(V):m:typeof v=="function"?v(V):v:typeof m=="function"?m(V):m},M.id=function(V){return arguments.length?(n=V,M):n},M.size=function(V){return arguments.length?(a=V,M):a},M.linkStrengthInterCluster=function(V){return arguments.length?(v=V,M):v},M.linkStrengthIntraCluster=function(V){return arguments.length?(m=V,M):m},M.nodes=function(V){return arguments.length?(r=V,M):r},M.links=function(V){return arguments.length?(V===null?i=[]:i=V,I(),M):i},M.template=function(V){return arguments.length?(S=V,I(),M):S},M.forceNodeSize=function(V){return arguments.length?(l=typeof V=="function"?V:t(+V),I(),M):l},M.nodeSize=M.forceNodeSize,M.forceCharge=function(V){return arguments.length?(c=typeof V=="function"?V:t(+V),I(),M):c},M.forceLinkDistance=function(V){return arguments.length?(u=typeof V=="function"?V:t(+V),I(),M):u},M.forceLinkStrength=function(V){return arguments.length?(d=typeof V=="function"?V:t(+V),I(),M):d},M.offset=function(V){return arguments.length?(x=typeof V=="function"?V:t(+V),M):x},M.getFocis=B,M.setClusters=function(V){return s=V,M},M}function Jf({graph:t,nodeLevelRatio:e=2,mode:n=null,dimensions:r=2,nodeStrength:i=-250,linkDistance:s=50,clusterStrength:o=.5,linkStrengthInterCluster:a=.01,linkStrengthIntraCluster:l=.5,forceLinkDistance:c=100,forceLinkStrength:u=.1,clusterType:d="force",forceCharge:f=-700,getNodePosition:m,drags:v,clusters:w,clusterAttribute:x,forceLayout:y}){const{nodes:b,edges:S}=ob(t),C=r===2&&S.length>25?i*2:i;let M,I;y==="forceDirected2d"?(M=C2(),I=M2()):(M=C2(600).strength(.05),I=M2(600).strength(.05));const O=QY().force("center",OCe(0,0)).force("link",$Y()).force("charge",JY().strength(C)).force("x",M).force("y",I).force("z",YMe()).force("collide",jY($=>$.radius+10)).force("dagRadial",XLe({nodes:b,edges:S,mode:n,nodeLevelRatio:e})).stop();let R;if(x){let $=f;if(b!=null&&b.length){const B=Math.ceil(b.length/200);$=f*B}R=KLe().setClusters(w).strength(o).template(d).groupBy(B=>B.data[x]).links(S).size([100,100]).linkStrengthInterCluster(a).linkStrengthIntraCluster(l).forceLinkDistance(c).forceLinkStrength(u).forceCharge($).forceNodeSize(B=>B.radius)}let D=O.numDimensions(r).nodes(b);if(R&&(D=D.force("group",R)),s){let $=D.force("link");$&&($.id(B=>B.id).links(S).distance(s),R&&($=$.strength((R==null?void 0:R.getLinkStrength)??.1)))}const j=new Map(b.map($=>[$.id,$]));return{step(){for(;O.alpha()>.01;)O.tick();return!0},getNodePosition($){var B,Q;if(m){const ne=m($,{graph:t,drags:v,nodes:b,edges:S});if(ne)return ne}return(B=v==null?void 0:v[$])!=null&&B.position?(Q=v==null?void 0:v[$])==null?void 0:Q.position:j.get($)}}}function ZLe({graph:t,radius:e,drags:n,getNodePosition:r}){const i=OAe(t,{scale:e}),{nodes:s,edges:o}=ob(t);return{step(){return!0},getNodePosition(a){var l,c;if(r){const u=r(a,{graph:t,drags:n,nodes:s,edges:o});if(u)return u}return(l=n==null?void 0:n[a])!=null&&l.position?(c=n==null?void 0:n[a])==null?void 0:c.position:i==null?void 0:i[a]}}}const QLe={td:{x:"x",y:"y",factor:-1},lr:{x:"y",y:"x",factor:1}};function Z5({graph:t,drags:e,mode:n="td",nodeSeparation:r=1,nodeSize:i=[50,50],getNodePosition:s}){const{nodes:o,edges:a}=ob(t),{depths:l}=Fq(o,a),c=Object.keys(l).map(w=>l[w]),u=yAe().id(w=>w.data.id).parentId(w=>{var x,y,b;return(b=(y=(x=w.ins)==null?void 0:x[0])==null?void 0:y.data)==null?void 0:b.id})(c),f=TAe().separation(()=>r).nodeSize(i)(HC(u)).descendants(),m=QLe[n],v=new Map(o.map(w=>{const{x,y}=f.find(b=>b.data.id===w.id);return[w.id,{...w,[m.x]:x*m.factor,[m.y]:y*m.factor,z:0}]}));return{step(){return!0},getNodePosition(w){var x,y;if(s){const b=s(w,{graph:t,drags:e,nodes:o,edges:a});if(b)return b}return(x=e==null?void 0:e[w])!=null&&x.position?(y=e==null?void 0:e[w])==null?void 0:y.position:v.get(w)}}}function JLe({graph:t,margin:e,drags:n,getNodePosition:r,ratio:i,gridSize:s,maxIterations:o}){const{nodes:a,edges:l}=ob(t),c=zAe(t,{maxIterations:o,inputReducer:(u,d)=>({...d,x:d.x||0,y:d.y||0}),settings:{ratio:i,margin:e,gridSize:s}});return{step(){return!0},getNodePosition(u){var d,f;if(r){const m=r(u,{graph:t,drags:n,nodes:a,edges:l});if(m)return m}return(d=n==null?void 0:n[u])!=null&&d.position?(f=n==null?void 0:n[u])==null?void 0:f.position:c==null?void 0:c[u]}}}function eDe({graph:t,drags:e,iterations:n,...r}){XAe.assign(t);const i=jAe(t,{iterations:n,settings:r});return{step(){return!0},getNodePosition(s){var o;return((o=e==null?void 0:e[s])==null?void 0:o.position)||(i==null?void 0:i[s])}}}function tDe({graph:t,drags:e,getNodePosition:n}){const{nodes:r,edges:i}=ob(t);return{step(){return!0},getNodePosition(s){return n(s,{graph:t,drags:e,nodes:r,edges:i})}}}const nDe=["forceDirected2d","treeTd2d","treeLr2d","radialOut2d","treeTd3d","treeLr3d","radialOut3d","forceDirected3d"];function rDe({type:t,...e}){if(nDe.includes(t)){const{nodeStrength:n,linkDistance:r,nodeLevelRatio:i}=e;if(t==="forceDirected2d")return Jf({...e,dimensions:2,nodeLevelRatio:i||2,nodeStrength:n||-250,linkDistance:r,forceLayout:t});if(t==="treeTd2d")return Jf({...e,mode:"td",dimensions:2,nodeLevelRatio:i||5,nodeStrength:n||-250,linkDistance:r||50,forceLayout:t});if(t==="treeLr2d")return Jf({...e,mode:"lr",dimensions:2,nodeLevelRatio:i||5,nodeStrength:n||-250,linkDistance:r||50,forceLayout:t});if(t==="radialOut2d")return Jf({...e,mode:"radialout",dimensions:2,nodeLevelRatio:i||5,nodeStrength:n||-500,linkDistance:r||100,forceLayout:t});if(t==="treeTd3d")return Jf({...e,mode:"td",dimensions:3,nodeLevelRatio:i||2,nodeStrength:n||-500,linkDistance:r||50});if(t==="treeLr3d")return Jf({...e,mode:"lr",dimensions:3,nodeLevelRatio:i||2,nodeStrength:n||-500,linkDistance:r||50,forceLayout:t});if(t==="radialOut3d")return Jf({...e,mode:"radialout",dimensions:3,nodeLevelRatio:i||2,nodeStrength:n||-500,linkDistance:r||100,forceLayout:t});if(t==="forceDirected3d")return Jf({...e,dimensions:3,nodeLevelRatio:i||2,nodeStrength:n||-250,linkDistance:r,forceLayout:t})}else if(t==="circular2d"){const{radius:n}=e;return ZLe({...e,radius:n||300})}else{if(t==="hierarchicalTd")return Z5({...e,mode:"td"});if(t==="hierarchicalLr")return Z5({...e,mode:"lr"});if(t==="nooverlap"){const{graph:n,maxIterations:r,ratio:i,margin:s,gridSize:o,...a}=e;return JLe({graph:n,margin:s||10,maxIterations:r||50,ratio:i||10,gridSize:o||20,...a})}else if(t==="forceatlas2"){const{graph:n,iterations:r,gravity:i,scalingRatio:s,...o}=e;return eDe({type:"forceatlas2",graph:n,...o,scalingRatio:s||100,gravity:i||10,iterations:r||50})}else if(t==="custom")return tDe({...e})}throw new Error(`Layout ${t} not found.`)}function Uq({nodeCount:t,nodePosition:e,labelType:n,camera:r}){return(i,s)=>{var o;if(r&&e&&((o=r==null?void 0:r.position)==null?void 0:o.z)/(r==null?void 0:r.zoom)-(e==null?void 0:e.z)>6e3)return!1;if(n==="all")return!0;if(n==="nodes"&&i==="node")return!0;if(n==="edges"&&i==="edge")return!0;if(n==="auto"&&i==="node"){if(s>7)return!0;if(r&&e&&r.position.z/r.zoom-e.z<3e3)return!0}return!1}}function zq(t,e){switch(e){case"above":return t;case"below":return-t;case"inline":case"natural":default:return 0}}function iDe({graph:t}){const e=QAe(t);return{ranks:e,getSizeForNode:n=>e[n]*80}}function sDe({graph:t}){const e=ePe.degreeCentrality(t);return{ranks:e,getSizeForNode:n=>e[n]*20}}function oDe({graph:t,attribute:e,defaultSize:n}){const r=new Map;return e?t.forEachNode((i,s)=>{var o;const a=(o=s.data)==null?void 0:o[e];isNaN(a)&&console.warn(`Attribute ${a} is not a number for node ${s.id}`),r.set(i,a||0)}):console.warn("Attribute sizing configured but no attribute provided"),{getSizeForNode:i=>!e||!r?n:r.get(i)}}const Q5={pagerank:iDe,centrality:sDe,attribute:oDe,none:({defaultSize:t})=>({getSizeForNode:e=>t})};function aDe({type:t,...e}){var n;const r=(n=Q5[t])==null?void 0:n.call(Q5,e);if(!r&&t!=="default")throw new Error(`Unknown sizing strategy: ${t}`);const{graph:i,minSize:s,maxSize:o}=e,a=new Map;let l,c;if(i.forEachNode((u,d)=>{let f;t==="default"?f=d.size||e.defaultSize:f=r.getSizeForNode(u),(l===void 0||f<l)&&(l=f),(c===void 0||f>c)&&(c=f),a.set(u,f)}),t!=="none"){const u=uX().domain([l,c]).rangeRound([s,o]);for(const[d,f]of a)a.set(d,u(f))}return a}function lDe(t,e,n){t.clear();const r=new Set;for(const i of e)try{r.has(i.id)||(t.addNode(i.id,i),r.add(i.id))}catch(s){console.error(`[Graph] Error adding node '${i.id}`,s)}for(const i of n)if(!(!r.has(i.source)||!r.has(i.target)))try{t.addEdge(i.source,i.target,i)}catch(s){console.error(`[Graph] Error adding edge '${i.source} -> ${i.target}`,s)}return t}function cDe({graph:t,layout:e,sizingType:n,labelType:r,sizingAttribute:i,defaultNodeSize:s,minNodeSize:o,maxNodeSize:a,clusterAttribute:l}){const c=[],u=[],d=new Map,f=aDe({graph:t,type:n,attribute:i,minSize:o,maxSize:a,defaultSize:s}),m=t.nodes().length,v=Uq({nodeCount:m,labelType:r});return t.forEachNode((w,x)=>{const y=e.getNodePosition(w),{data:b,fill:S,icon:T,label:C,size:M,...I}=x,O=f.get(x.id),R=v("node",O),j=(t.inboundNeighbors(x.id)||[]).map(B=>t.getNodeAttributes(B)),$={...x,size:O,labelVisible:R,label:C,icon:T,fill:S,cluster:l?b[l]:void 0,parents:j,data:{...I,...b??{}},position:{...y,x:y.x||0,y:y.y||0,z:y.z||1}};d.set(x.id,$),c.push($)}),t.forEachEdge((w,x)=>{const y=d.get(x.source),b=d.get(x.target);if(y&&b){const{data:S,id:T,label:C,size:M,...I}=x,O=v("edge",M);u.push({...x,id:T,label:C,labelVisible:O,size:M,data:{...I,id:T,...S||{}}})}}),{nodes:c,edges:u}}const Xa={mass:10,tension:1e3,friction:300,precision:.1};function Bq(t,e,n){const r=e.getLength(),i=t==="end"?r:r/2,s=t==="end"?n/2:0,o=(i-s)/r,a=e.getPointAt(o),l=e.getTangentAt(o);return[a,l]}function Vq(t){return[t+6,2+t/1.5]}const J5=.7;function Gq(t,e,n=0){const r=new oe(t.x,t.y||0,t.z||0),i=new oe(e.x,e.y||0,e.z||0),s=new oe().addVectors(r,i).divideScalar(2);return s.setLength(s.length()+n)}function uDe(t,e,n=-1){const r=t.clone(),i=e.clone(),s=new oe().subVectors(i,r),o=s.length(),a=s.clone().normalize(),l=new oe().subVectors(i,r).divideScalar(2),c=Math.abs(a.x)%1,u=new oe(-a.y,a.x-c*a.z,c*a.y).normalize(),d=new oe().add(r).add(l).add(u.multiplyScalar(o/4).multiplyScalar(n));return[t,d,e]}function gw(t,e,n,r,i,s){const o=eV(t,n,e),a=eV(n,t,r);return i?new CC(...uDe(o,a,s)):new RL(o,a)}function vw(t){return new oe(t.position.x,t.position.y,t.position.z||0)}function eV(t,e,n){const r=t.distanceTo(e);return t.clone().add(e.clone().sub(t).multiplyScalar(n/r))}function tV(t,e){return{...t,position:{...t.position,x:t.position.x+e.x,y:t.position.y+e.y,z:t.position.z+e.z}}}function dDe({edge:t,edges:e,curved:n}){let r=n,i;const s=e.filter(o=>o.target===t.target&&o.source===t.source).map(o=>o.id);if(s.length>1){r=!0;const o=s.indexOf(t.id);s.length===2?i=o===0?J5:-.7:i=(o-Math.floor(s.length/2))*J5}return{curved:r,curveOffset:i}}function yw(t){let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let a of t)e=Math.min(e,a.position.x),n=Math.max(n,a.position.x),r=Math.min(r,a.position.y),i=Math.max(i,a.position.y),s=Math.min(s,a.position.z),o=Math.max(o,a.position.z);return{height:i-r,width:n-e,minX:e,maxX:n,minY:r,maxY:i,minZ:s,maxZ:o,x:(n+e)/2,y:(i+r)/2,z:(o+s)/2}}function fDe(t,e){return e?t.reduce((n,r)=>{const i=r.data[e];return i&&n.set(i,[...n.get(i)||[],r]),n},new Map):new Map}function hDe({nodes:t,clusterAttribute:e}){const n=new Map;if(e){const r=fDe(t,e);for(const[i,s]of r){const o=yw(s);n.set(i,{label:i,nodes:s,position:o})}}return n}const UD=({sensitivity:t=7,interval:e=50,timeout:n=0,disabled:r,onPointerOver:i,onPointerOut:s})=>{const o=N.useRef(!1),a=N.useRef(null),l=N.useRef(0),c=N.useRef({x:null,y:null,px:null,py:null}),u=N.useCallback(x=>{c.current.x=x.clientX,c.current.y=x.clientY},[]),d=N.useCallback(x=>{a.current=clearTimeout(a.current);const{px:y,x:b,py:S,y:T}=c.current;Math.abs(y-b)+Math.abs(S-T)<t?(l.current=1,i(x)):(c.current.px=b,c.current.py=T,a.current=setTimeout(()=>d(x),e))},[e,i,t]),f=N.useCallback(()=>{clearTimeout(a.current),typeof window<"u"&&document.removeEventListener("mousemove",u,!1)},[u]),m=N.useCallback(x=>{r||(o.current=!0,f(),l.current!==1&&(c.current.px=x.pointer.x,c.current.py=x.pointer.y,typeof window<"u"&&document.addEventListener("mousemove",u,!1),a.current=setTimeout(()=>d(x),n)))},[f,d,r,u,n]),v=N.useCallback(x=>{a.current=clearTimeout(a.current),l.current=0,s(x)},[s]),w=N.useCallback(x=>{o.current=!1,f(),l.current===1&&(a.current=setTimeout(()=>v(x),n))},[f,v,n]);return{pointerOver:m,pointerOut:w}},Hq=({draggable:t,set:e,position:n,bounds:r,onDragStart:i,onDragEnd:s})=>{const o=Ji(x=>x.camera),a=Ji(x=>x.raycaster),l=Ji(x=>x.size),c=Ji(x=>x.gl),{mouse2D:u,mouse3D:d,offset:f,normal:m,plane:v}=N.useMemo(()=>({mouse2D:new Je,mouse3D:new oe,offset:new oe,normal:new oe,plane:new Id}),[]),w=N.useMemo(()=>c.domElement.getBoundingClientRect(),[c.domElement]);return AIe({onDragStart:({event:x})=>{const{eventObject:y,point:b}=x;y.getWorldPosition(f).sub(b),d.copy(b),i()},onDrag:({xy:x,buttons:y,cancel:b})=>{if(y!==1){b();return}const S=(x[0]-((w==null?void 0:w.left)??0))/l.width*2-1,T=-((x[1]-((w==null?void 0:w.top)??0))/l.height)*2+1;u.set(S,T),a.setFromCamera(u,o),o.getWorldDirection(m).negate(),v.setFromNormalAndCoplanarPoint(m,d),a.ray.intersectPlane(v,d);const C=new oe(n.x,n.y,n.z).copy(d).add(f);if(r){const M=new oe((r.minX+r.maxX)/2,(r.minY+r.maxY)/2,(r.minZ+r.maxZ)/2),I=(r.maxX-r.minX)/2,O=C.clone().sub(M);O.length()>I&&(O.normalize().multiplyScalar(I),C.copy(M).add(O))}return e(C)},onDragEnd:s},{drag:{enabled:t,threshold:10}})},{Provider:pDe,useStore:Et}=mRe(),mDe=({actives:t=[],selections:e=[],collapsedNodeIds:n=[],theme:r})=>hRe(i=>({theme:{...r,edge:{...r.edge,label:{...r.edge.label,fontSize:r.edge.label.fontSize??6}}},edges:[],nodes:[],collapsedNodeIds:n,clusters:new Map,panning:!1,draggingIds:[],actives:t,edgeContextMenus:new Set,edgeMeshes:[],selections:e,hoveredNodeId:null,drags:{},graph:new wr({multi:!0}),setTheme:s=>i(o=>({...o,theme:s})),setClusters:s=>i(o=>({...o,clusters:s})),setEdgeContextMenus:s=>i(o=>({...o,edgeContextMenus:s})),setEdgeMeshes:s=>i(o=>({...o,edgeMeshes:s})),setPanning:s=>i(o=>({...o,panning:s})),setDrags:s=>i(o=>({...o,drags:s})),addDraggingId:s=>i(o=>({...o,draggingIds:[...o.draggingIds,s]})),removeDraggingId:s=>i(o=>({...o,draggingIds:o.draggingIds.filter(a=>a!==s)})),setActives:s=>i(o=>({...o,actives:s})),setSelections:s=>i(o=>({...o,selections:s})),setHoveredNodeId:s=>i(o=>({...o,hoveredNodeId:s})),setNodes:s=>i(o=>({...o,nodes:s,centerPosition:yw(s)})),setEdges:s=>i(o=>({...o,edges:s})),setNodePosition:(s,o)=>i(a=>{var l,c;const u=a.nodes.find(w=>w.id===s),d=vw(u),m=new oe(o.x,o.y,o.z).sub(d),v=[...a.nodes];if((l=a.selections)!=null&&l.includes(s))(c=a.selections)==null||c.forEach(w=>{const x=a.nodes.find(y=>y.id===w);if(x){const y=a.nodes.indexOf(x);v[y]=tV(x,m)}});else{const w=a.nodes.indexOf(u);v[w]=tV(u,m)}return{...a,drags:{...a.drags,[s]:u},nodes:v}}),setCollapsedNodeIds:(s=[])=>i(o=>({...o,collapsedNodeIds:s})),setClusterPosition:(s,o)=>i(a=>{const l=new Map(a.clusters),c=l.get(s);if(c){const u=c.position,d=new oe(o.x-u.x,o.y-u.y,o.z-(u.z??0)),f=[...a.nodes],m={...a.drags};f.forEach((x,y)=>{x.cluster===s&&(f[y]={...x,position:{...x.position,x:x.position.x+d.x,y:x.position.y+d.y,z:x.position.z+(d.z??0)}},m[x.id]=x)});const v=f.filter(x=>x.cluster===s),w=yw(v);return l.set(s,{...c,position:w}),{...a,drags:{...m,[s]:c},clusters:l,nodes:f}}return a})}));function Wq({nodeId:t,nodes:e,edges:n,currentHiddenNodes:r,currentHiddenEdges:i}){const s=[],o=[],a=r.map(m=>m.id),l=i.map(m=>m.id),c=n.filter(m=>m.source===t),u=c.map(m=>m.target);o.push(...c);for(const m of u){const v=n.filter(x=>x.target===m&&x.source!==t);let w=!1;if((v.length===0||v.length>0&&!a.includes(m)&&v.map(y=>y.id).every(y=>l.includes(y)))&&(w=!0),w){const x=e.find(b=>b.id===m);x&&s.push(x);const y=Wq({nodeId:m,nodes:e,edges:n,currentHiddenEdges:o,currentHiddenNodes:s});o.push(...y.hiddenEdges),s.push(...y.hiddenNodes)}}const d=Object.values(o.reduce((m,v)=>({...m,[v.id]:v}),{})),f=Object.values(s.reduce((m,v)=>({...m,[v.id]:v}),{}));return{hiddenEdges:d,hiddenNodes:f}}const gDe=({collapsedIds:t,nodes:e,edges:n})=>{const r=[],i=[];for(const c of t){const{hiddenEdges:u,hiddenNodes:d}=Wq({nodeId:c,nodes:e,edges:n,currentHiddenEdges:i,currentHiddenNodes:r});r.push(...d),i.push(...u)}const s=r.map(c=>c.id),o=i.map(c=>c.id),a=e.filter(c=>!s.includes(c.id)),l=n.filter(c=>!o.includes(c.id));return{visibleNodes:a,visibleEdges:l}},vDe=({layoutType:t,sizingType:e,labelType:n,sizingAttribute:r,clusterAttribute:i,selections:s,nodes:o,edges:a,actives:l,collapsedNodeIds:c,defaultNodeSize:u,maxNodeSize:d,minNodeSize:f,layoutOverrides:m,constrainDragging:v})=>{const w=Et(U=>U.graph),x=Et(U=>U.clusters),y=Et(U=>U.nodes),b=Et(U=>U.setClusters),S=Et(U=>U.collapsedNodeIds),T=Et(U=>U.setEdges),C=Et(U=>U.nodes),M=Et(U=>U.setNodes),I=Et(U=>U.setSelections),O=Et(U=>U.setActives),R=Et(U=>U.drags),D=Et(U=>U.setDrags),j=Et(U=>U.setCollapsedNodeIds),$=N.useRef(!1),B=N.useRef(null),Q=Ji(U=>U.camera),ne=N.useRef(R),K=N.useRef([]);N.useEffect(()=>{var U;if(!i)return;const q=y.map(re=>re.id),te=o.find(re=>!q.includes(re.id));if(te){const re=te.data[i],le=x.get(re),fe={...ne.current};(U=le==null?void 0:le.nodes)==null||U.forEach(ye=>fe[ye.id]=void 0),ne.current=fe,D(fe)}},[y,o,i,x,D]);const{visibleEdges:V,visibleNodes:G}=N.useMemo(()=>gDe({collapsedIds:S,nodes:o,edges:a}),[S,o,a]),W=N.useCallback(U=>{const q={...ne.current};U.forEach(te=>q[te.id]=te),ne.current=q,D(q)},[D]),F=N.useCallback(async U=>{B.current=U||rDe({...m,type:t,graph:w,drags:ne.current,clusters:K==null?void 0:K.current,clusterAttribute:i}),await qLe(B.current);const q=cDe({graph:w,layout:B.current,sizingType:e,labelType:n,sizingAttribute:r,maxNodeSize:d,minNodeSize:f,defaultNodeSize:u,clusterAttribute:i}),te=hDe({nodes:q.nodes,clusterAttribute:i});v&&te.forEach(re=>{var le,fe;const ye=K.current.get(re.label);(ye==null?void 0:ye.nodes.length)===re.nodes.length&&(re.position=((fe=(le=K.current)==null?void 0:le.get(re.label))==null?void 0:fe.position)??re.position)}),T(q.edges),M(q.nodes),b(te),i&&W(q.nodes)},[m,t,i,e,n,r,d,f,u,T,M,b]);return N.useEffect(()=>{ne.current=R},[R,i,F]),N.useEffect(()=>{K.current=x},[x]),N.useEffect(()=>{const U=C.map(te=>({...te,labelVisible:Uq({nodeCount:C==null?void 0:C.length,labelType:n,camera:Q,nodePosition:te==null?void 0:te.position})("node",te==null?void 0:te.size)}));U.some((te,re)=>te.labelVisible!==C[re].labelVisible)&&M(U)},[Q,Q.zoom,Q.position.z,M,C,n]),N.useEffect(()=>{$.current&&I(s)},[s,I]),N.useEffect(()=>{$.current&&O(l)},[l,O]),N.useEffect(()=>{async function U(){$.current=!1,lDe(w,G,V),await F(),requestAnimationFrame(()=>$.current=!0)}U()},[G,V]),N.useEffect(()=>{$.current&&j(c)},[c,j]),N.useEffect(()=>{$.current&&(ne.current={},D({}),F())},[t,F,D]),N.useEffect(()=>{$.current&&F(B.current)},[e,r,n,F]),{updateLayout:F}},_w=({text:t,fontSize:e=7,fontUrl:n,color:r="#2A6475",opacity:i=1,stroke:s,active:o,ellipsis:a=75,rotation:l})=>{const c=a&&!o?gLe(t,a):t,u=N.useMemo(()=>new Mt(r),[r]),d=N.useMemo(()=>s?new Mt(s):void 0,[s]);return Y.jsx(vq,{position:[0,0,1],children:Y.jsx(uLe,{font:n,fontSize:e,color:u,fillOpacity:i,textAlign:"center",outlineWidth:s?1:0,outlineColor:d,depthOffset:0,maxWidth:100,overflowWrap:"break-word",rotation:l,children:c})})},yDe=({color:t="#D8E6EA",size:e=1,opacity:n=.5,animated:r,strokeWidth:i=5,innerRadius:s=4,segments:o=25})=>{const a=N.useMemo(()=>new Mt(t),[t]),{ringSize:l,ringOpacity:c}=Ya({from:{ringOpacity:0,ringSize:[1e-5,1e-5,1e-5]},to:{ringOpacity:n,ringSize:[e/2,e/2,1]},config:{...Xa,duration:r?void 0:0}}),u=i/10,d=s+u;return Y.jsx(vq,{position:[0,0,1],children:Y.jsxs(_i.mesh,{scale:l,children:[Y.jsx("ringGeometry",{attach:"geometry",args:[s,d,o]}),Y.jsx(_i.meshBasicMaterial,{attach:"material",color:a,transparent:!0,depthTest:!1,opacity:c,side:ri,fog:!0})]})})},_De=({color:t,id:e,size:n,selected:r,opacity:i=1,animated:s})=>{const{scale:o,nodeOpacity:a}=Ya({from:{scale:[1e-5,1e-5,1e-5],nodeOpacity:0},to:{scale:[n,n,n],nodeOpacity:i},config:{...Xa,duration:s?void 0:0}}),l=N.useMemo(()=>new Mt(t),[t]),c=Et(u=>u.theme);return Y.jsxs(Y.Fragment,{children:[Y.jsxs(_i.mesh,{userData:{id:e,type:"node"},scale:o,children:[Y.jsx("sphereGeometry",{attach:"geometry",args:[1,25,25]}),Y.jsx(_i.meshPhongMaterial,{attach:"material",side:ri,transparent:!0,fog:!0,opacity:a,color:l})]}),Y.jsx(yDe,{opacity:r?.5:0,size:n,animated:s,color:r?c.ring.activeFill:c.ring.fill})]})},jq=N.createContext({controls:null,resetControls:()=>{},zoomIn:()=>{},zoomOut:()=>{},dollyIn:()=>{},dollyOut:()=>{},panLeft:()=>{},panRight:()=>{},panUp:()=>{},panDown:()=>{},freeze:()=>{},unFreeze:()=>{}}),oM=()=>{const t=N.useContext(jq);if(t===void 0)throw new Error("`useCameraControls` hook must be used within a `ControlsProvider` component");return t};Ss.install({THREE:{MOUSE:x9,Vector2:Je,Vector3:oe,Vector4:rr,Quaternion:Zs,Matrix4:wn,Spherical:wY,Box3:Qa,Sphere:Ja,Raycaster:YL,MathUtils:{DEG2RAD:(X5=cT)==null?void 0:X5.DEG2RAD,clamp:(q5=cT)==null?void 0:q5.clamp}}});EY({ThreeCameraControls:Ss});const aM={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},nV=new sM(aM.ARROW_LEFT,100),rV=new sM(aM.ARROW_RIGHT,100),iV=new sM(aM.ARROW_UP,100),sV=new sM(aM.ARROW_DOWN,100),xDe=N.forwardRef(({mode:t="rotate",children:e,animated:n,disabled:r,minDistance:i=1e3,maxDistance:s=5e4},o)=>{const a=N.useRef(null),l=Ji(R=>R.camera),c=Ji(R=>R.gl),u=t==="orbit",d=Et(R=>R.setPanning),f=Et(R=>R.draggingIds.length>0),m=N.useRef(0);VC((R,D)=>{var j,$;(j=a.current)!=null&&j.enabled&&(($=a.current)==null||$.update(D)),u&&(a.current.azimuthAngle+=20*D*cT.DEG2RAD)},-1),N.useEffect(()=>()=>{var R;return(R=a.current)==null?void 0:R.dispose()},[]);const v=N.useCallback(()=>{var R;(R=a.current)==null||R.zoom(l.zoom/2,n)},[n,l.zoom]),w=N.useCallback(()=>{var R;(R=a.current)==null||R.zoom(-l.zoom/2,n)},[n,l.zoom]),x=N.useCallback(R=>{var D;(D=a.current)==null||D.dolly(R,n)},[n]),y=N.useCallback(R=>{var D;(D=a.current)==null||D.dolly(R,n)},[n]),b=N.useCallback(R=>{var D;u||(D=a.current)==null||D.truck(-.03*R.deltaTime,0,n)},[n,u]),S=N.useCallback(R=>{var D;u||(D=a.current)==null||D.truck(.03*R.deltaTime,0,n)},[n,u]),T=N.useCallback(R=>{var D;u||(D=a.current)==null||D.truck(0,.03*R.deltaTime,n)},[n,u]),C=N.useCallback(R=>{var D;u||(D=a.current)==null||D.truck(0,-.03*R.deltaTime,n)},[n,u]),M=N.useCallback(R=>{R.code==="Space"&&(t==="rotate"?a.current.mouseButtons.left=Ss.ACTION.TRUCK:a.current.mouseButtons.left=Ss.ACTION.ROTATE)},[t]),I=N.useCallback(R=>{R.code==="Space"&&(t==="rotate"?a.current.mouseButtons.left=Ss.ACTION.ROTATE:a.current.mouseButtons.left=Ss.ACTION.TRUCK)},[t]);N.useEffect(()=>(r||(nV.addEventListener("holding",S),rV.addEventListener("holding",b),iV.addEventListener("holding",T),sV.addEventListener("holding",C),typeof window<"u"&&(window.addEventListener("keydown",M),window.addEventListener("keyup",I))),()=>{nV.removeEventListener("holding",S),rV.removeEventListener("holding",b),iV.removeEventListener("holding",T),sV.removeEventListener("holding",C),typeof window<"u"&&(window.removeEventListener("keydown",M),window.removeEventListener("keyup",I))}),[r,M,I,C,S,b,T]),N.useEffect(()=>{r?(a.current.mouseButtons.left=Ss.ACTION.NONE,a.current.mouseButtons.middle=Ss.ACTION.NONE,a.current.mouseButtons.wheel=Ss.ACTION.NONE):(a.current.mouseButtons.left=Ss.ACTION.TRUCK,a.current.mouseButtons.middle=Ss.ACTION.TRUCK,a.current.mouseButtons.wheel=Ss.ACTION.DOLLY)},[r]),N.useEffect(()=>{const R=()=>d(!0),D=()=>d(!1),j=a.current;return j&&(j.addEventListener("control",R),j.addEventListener("controlend",D)),()=>{j&&(j.removeEventListener("control",R),j.removeEventListener("controlend",D))}},[a,d]),N.useEffect(()=>{f?(a.current.mouseButtons.left=Ss.ACTION.NONE,a.current.touches.one=Ss.ACTION.NONE):t==="rotate"?(a.current.mouseButtons.left=Ss.ACTION.ROTATE,a.current.touches.one=Ss.ACTION.TOUCH_ROTATE):(a.current.touches.one=Ss.ACTION.TOUCH_TRUCK,a.current.mouseButtons.left=Ss.ACTION.TRUCK)},[f,t]),Dq([{name:"Zoom In",disabled:r,category:"Graph",keys:"command+shift+i",callback:R=>{R.preventDefault(),v()}},{name:"Zoom Out",category:"Graph",disabled:r,keys:"command+shift+o",callback:R=>{R.preventDefault(),w()}}]);const O=N.useMemo(()=>({controls:a.current,zoomIn:()=>v(),zoomOut:()=>w(),dollyIn:(R=1e3)=>x(R),dollyOut:(R=-1e3)=>y(R),panLeft:(R=100)=>S({deltaTime:R}),panRight:(R=100)=>b({deltaTime:R}),panDown:(R=100)=>C({deltaTime:R}),panUp:(R=100)=>T({deltaTime:R}),resetControls:R=>{var D;return(D=a.current)==null?void 0:D.reset(R)},freeze:()=>{a.current.truckSpeed&&(m.current=a.current.truckSpeed),a.current.truckSpeed=0},unFreeze:()=>a.current.truckSpeed=m.current}),[v,w,S,b,C,T,a.current]);return N.useImperativeHandle(o,()=>O),Y.jsxs(jq.Provider,{value:O,children:[Y.jsx("threeCameraControls",{ref:a,args:[l,c.domElement],smoothTime:.1,minDistance:i,dollyToCursor:!0,maxDistance:s}),e]})});function $q(t,e){const n=e.position.z;t<n?t-=n:t+=n;const r=e.fov/e.zoom*Math.PI/180;return 2*Math.tan(r/2)*Math.abs(t)}function wDe(t,e){return $q(t,e)*e.aspect}function oV(t,e){var n,r,i,s;const o=wDe(1,t),a=$q(1,t),l={x0:((n=t==null?void 0:t.position)==null?void 0:n.x)-o/2,x1:((r=t==null?void 0:t.position)==null?void 0:r.x)+o/2,y0:((i=t==null?void 0:t.position)==null?void 0:i.y)-a/2,y1:((s=t==null?void 0:t.position)==null?void 0:s.y)+a/2};return(e==null?void 0:e.x)>l.x0&&(e==null?void 0:e.x)<l.x1&&(e==null?void 0:e.y)>l.y0&&(e==null?void 0:e.y)<l.y1}function aV(t,e){return e.reduce((n,r)=>Math.abs(r-t%Math.PI)<Math.abs(n-t%Math.PI)?r:n)}function bDe(t,e){const n=aV(t,[0,Math.PI]),r=aV(e,[Math.PI/2,3*Math.PI/2]);return{horizontalRotation:n-t%Math.PI,verticalRotation:r-e%Math.PI}}const IS=50,SDe=({animated:t,disabled:e,layoutType:n})=>{const r=Et(w=>w.nodes),[i,s]=N.useState(!1),o=Ji(w=>w.invalidate),{controls:a}=oM(),l=Ji(w=>w.camera),c=N.useRef(!1),u=N.useCallback(async(w,x)=>{const y=(x==null?void 0:x.animated)!==void 0?x==null?void 0:x.animated:!0,b=(x==null?void 0:x.centerOnlyIfNodesNotInView)!==void 0?x==null?void 0:x.centerOnlyIfNodesNotInView:!1;if(!c.current||!b||b&&(w!=null&&w.some(S=>!oV(l,S.position)))){const{x:S,y:T,z:C}=yw(w);await a.setTarget(S,T,C,y),i||s(!0),o()}},[o,a,r]),d=N.useCallback(async(w,x={animated:!0,fitOnlyIfNodesNotInView:!1})=>{const{fitOnlyIfNodesNotInView:y}=x;if(!y||y&&(w!=null&&w.some(b=>!oV(l,b.position)))){const{minX:b,maxX:S,minY:T,maxY:C,minZ:M,maxZ:I}=yw(w);if(!n.includes("3d")){const{horizontalRotation:O,verticalRotation:R}=bDe(a==null?void 0:a.azimuthAngle,a==null?void 0:a.polarAngle);a==null||a.rotate(O,R,!0)}await(a==null?void 0:a.zoomTo(1,x==null?void 0:x.animated)),await(a==null?void 0:a.fitToBox(new Qa(new oe(b,T,M),new oe(S,C,I)),x==null?void 0:x.animated,{cover:!1,paddingLeft:IS,paddingRight:IS,paddingBottom:IS,paddingTop:IS}))}},[l,a,n]),f=N.useCallback(w=>{let x=null;return w!=null&&w.length&&(x=w.reduce((y,b)=>{const S=r.find(T=>T.id===b);if(S)y.push(S);else throw new Error(`Attempted to center ${b} but it was not found in the nodes`);return y},[])),x},[r]),m=N.useCallback((w,x)=>{const y=f(w);u(y||r,{animated:t,centerOnlyIfNodesNotInView:x==null?void 0:x.centerOnlyIfNodesNotInView})},[t,u,f,r]),v=N.useCallback(async(w,x)=>{const y=f(w);await d(y||r,{animated:t,...x})},[t,d,f,r]);return N.useLayoutEffect(()=>{async function w(){a&&(r!=null&&r.length)&&(c.current||(await u(r,{animated:!1}),await d(r,{animated:!1}),c.current=!0))}w()},[a,u,r,t,l,d]),Dq([{name:"Center",disabled:e,category:"Graph",keys:["command+shift+c"],callback:()=>u(r)}]),{centerNodes:u,centerNodesById:m,fitNodesInViewById:v,isCentered:i}},EDe=({image:t,id:e,size:n,opacity:r=1,animated:i})=>{const s=N.useMemo(()=>new cY().load(t),[t]),{scale:o,spriteOpacity:a}=Ya({from:{scale:[1e-5,1e-5,1e-5],spriteOpacity:0},to:{scale:[n,n,n],spriteOpacity:r},config:{...Xa,duration:i?void 0:0}});return Y.jsx(_i.sprite,{userData:{id:e,type:"node"},scale:o,children:Y.jsx(_i.spriteMaterial,{attach:"material",opacity:a,fog:!0,depthTest:!1,transparent:!0,side:ri,children:Y.jsx("primitive",{attach:"map",object:s,minFilter:Xr})})})},TDe=({animated:t,disabled:e,id:n,draggable:r=!1,labelFontUrl:i,contextMenu:s,onClick:o,onDoubleClick:a,onPointerOver:l,onDragged:c,onPointerOut:u,onContextMenu:d,renderNode:f,constrainDragging:m})=>{var v,w,x;const y=oM(),b=Et(he=>he.theme),S=Et(he=>he.nodes.find(Ne=>Ne.id===n)),T=Et(he=>he.edges),C=Et(he=>he.draggingIds),M=Et(he=>he.collapsedNodeIds),I=Et(he=>he.addDraggingId),O=Et(he=>he.removeDraggingId),R=Et(he=>he.setHoveredNodeId),D=Et(he=>he.setNodePosition),j=Et(he=>he.setCollapsedNodeIds),$=Et(he=>he.collapsedNodeIds.includes(n)),B=Et(he=>{var Ne;return(Ne=he.actives)==null?void 0:Ne.includes(n)}),Q=Et(he=>{var Ne;return(Ne=he.selections)==null?void 0:Ne.includes(n)}),ne=Et(he=>{var Ne;return((Ne=he.selections)==null?void 0:Ne.length)>0}),K=Et(he=>he.centerPosition),V=Et(he=>he.clusters.get(S.cluster)),G=C.includes(n),W=C.length>0,{position:F,label:U,subLabel:q,size:te=7,labelVisible:re=!0}=S,le=N.useRef(null),[fe,ye]=N.useState(!1),[se,ve]=N.useState(!1),Se=fe||Q||B,pe=ne?Se?b.node.selectedOpacity:b.node.inactiveOpacity:b.node.opacity,Z=N.useMemo(()=>T.filter(Ne=>Ne.source===n).length>0||$,[T,n,$]),me=N.useCallback(()=>{Z&&j($?M.filter(he=>he!==n):[...M,n])},[Z,M,n,$,j]),[{nodePosition:ue,labelPosition:_e,subLabelPosition:ce}]=Ya(()=>({from:{nodePosition:K?[K.x,K.y,0]:[0,0,0],labelPosition:[0,-(te+7),2],subLabelPosition:[0,-(te+14),2]},to:{nodePosition:F?[F.x,F.y,Se?F.z+1:F.z]:[0,0,0],labelPosition:[0,-(te+7),2],subLabelPosition:[0,-(te+14),2]},config:{...Xa,duration:t&&!W?void 0:0}}),[G,F,t,te,Se]),Xe=Hq({draggable:r,position:F,bounds:m?V==null?void 0:V.position:void 0,set:he=>D(n,he),onDragStart:()=>{I(n),ye(!0)},onDragEnd:()=>{O(n),c==null||c(S)}});fm(fe&&!W&&o!==void 0,"pointer"),fm(fe&&r&&!G&&o===void 0,"grab"),fm(G,"grabbing");const Ae=Se||G,Ge=Ae?b.node.activeFill:S.fill||b.node.fill,{pointerOver:je,pointerOut:ke}=UD({disabled:e||G,onPointerOver:he=>{y.freeze(),ye(!0),l==null||l(S,he),R(n)},onPointerOut:he=>{y.unFreeze(),ye(!1),u==null||u(S,he),R(null)}}),nt=N.useMemo(()=>f?f({id:n,color:Ge,size:te,active:Ae,opacity:pe,animated:t,selected:Q,node:S}):Y.jsx(Y.Fragment,{children:S.icon?Y.jsx(EDe,{id:n,image:S.icon||"",size:te+8,opacity:pe,animated:t,color:Ge,node:S,active:Ae,selected:Q}):Y.jsx(_De,{id:n,size:te,opacity:pe,animated:t,color:Ge,node:S,active:Ae,selected:Q})}),[f,n,Ge,te,Ae,pe,t,Q,S]),ie=N.useMemo(()=>{var he,Ne,ze;return re&&(re||Q||fe)&&U&&Y.jsxs(Y.Fragment,{children:[Y.jsx(_i.group,{position:_e,children:Y.jsx(_w,{text:U,fontUrl:i,opacity:pe,stroke:b.node.label.stroke,active:Q||fe||G||B,color:Q||fe||G||B?b.node.label.activeColor:b.node.label.color})}),q&&Y.jsx(_i.group,{position:ce,children:Y.jsx(_w,{text:q,fontUrl:i,fontSize:5,opacity:pe,stroke:(he=b.node.subLabel)==null?void 0:he.stroke,active:Q||fe||G||B,color:Q||fe||G||B?(Ne=b.node.subLabel)==null?void 0:Ne.activeColor:(ze=b.node.subLabel)==null?void 0:ze.color})})]})},[fe,B,G,Q,U,i,_e,re,pe,q,ce,b.node.label.activeColor,b.node.label.color,b.node.label.stroke,(v=b.node.subLabel)==null?void 0:v.activeColor,(w=b.node.subLabel)==null?void 0:w.color,(x=b.node.subLabel)==null?void 0:x.stroke]),J=N.useMemo(()=>se&&s&&Y.jsx(pD,{prepend:!0,center:!0,children:s({data:S,canCollapse:Z,isCollapsed:$,onCollapse:me,onClose:()=>ve(!1)})}),[se,s,S,Z,$,me]);return Y.jsxs(_i.group,{renderOrder:1,userData:{id:n,type:"node"},ref:le,position:ue,onPointerOver:je,onPointerOut:ke,onClick:he=>{!e&&!G&&(o==null||o(S,{canCollapse:Z,isCollapsed:$},he))},onDoubleClick:he=>{!e&&!G&&(a==null||a(S,he))},onContextMenu:()=>{e||(ve(!0),d==null||d(S,{canCollapse:Z,isCollapsed:$,onCollapse:me}))},...Xe(),children:[nt,J,ie]})},CDe=({animated:t,color:e="#D8E6EA",length:n,opacity:r=.5,position:i,rotation:s,size:o=1,onActive:a,onContextMenu:l})=>{const c=N.useMemo(()=>new Mt(e),[e]),u=N.useRef(null),d=Et(x=>x.draggingIds.length>0),f=Et(x=>x.centerPosition),[{pos:m,arrowOpacity:v}]=Ya(()=>({from:{pos:f?[f.x,f.y,f.z]:[0,0,0],arrowOpacity:0},to:{pos:[i.x,i.y,i.z],arrowOpacity:r},config:{...Xa,duration:t&&!d?void 0:0}}),[t,d,r,i]),w=N.useCallback(()=>{var x;const y=new oe(0,1,0);(x=u.current)==null||x.quaternion.setFromUnitVectors(y,s)},[s,u]);return N.useEffect(()=>w(),[w]),Y.jsxs(_i.mesh,{position:m,ref:u,scale:[1,1,1],onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),onPointerDown:x=>{x.nativeEvent.buttons===2&&(x.stopPropagation(),l())},children:[Y.jsx("cylinderGeometry",{args:[0,o,n,20,1,!0],attach:"geometry"}),Y.jsx(_i.meshBasicMaterial,{attach:"material",color:c,depthTest:!1,opacity:v,transparent:!0,side:ri,fog:!0})]})},MDe=({curveOffset:t,animated:e,color:n="#000",curve:r,curved:i=!1,id:s,opacity:o=1,size:a=1,onContextMenu:l,onClick:c,onPointerOver:u,onPointerOut:d})=>{const f=N.useRef(null),m=Et(b=>b.draggingIds.length>0),v=N.useMemo(()=>new Mt(n),[n]),w=Et(b=>b.centerPosition),x=N.useRef(!1),{lineOpacity:y}=Ya({from:{lineOpacity:0},to:{lineOpacity:o},config:{...Xa,duration:e?void 0:0}});return Ya(()=>{const b=r.getPoint(0),S=r.getPoint(1);return{from:{fromVertices:x.current?[S==null?void 0:S.x,S==null?void 0:S.y,(S==null?void 0:S.z)||0]:[w==null?void 0:w.x,w==null?void 0:w.y,(w==null?void 0:w.z)||0],toVertices:[b==null?void 0:b.x,b==null?void 0:b.y,(b==null?void 0:b.z)||0]},to:{fromVertices:[b==null?void 0:b.x,b==null?void 0:b.y,(b==null?void 0:b.z)||0],toVertices:[S==null?void 0:S.x,S==null?void 0:S.y,(S==null?void 0:S.z)||0]},onChange:T=>{const{fromVertices:C,toVertices:M}=T.value,I=new oe(...C),O=new oe(...M),R=gw(I,0,O,0,i,t);f.current.copy(new Mm(R,20,a/2,5,!1))},config:{...Xa,duration:e&&!m?void 0:0}}},[e,m,r,a]),N.useEffect(()=>{x.current=!0},[]),Y.jsxs("mesh",{userData:{id:s,type:"edge"},onPointerOver:u,onPointerOut:d,onClick:c,onPointerDown:b=>{b.nativeEvent.buttons===2&&(b.stopPropagation(),l())},children:[Y.jsx("tubeGeometry",{attach:"geometry",ref:f}),Y.jsx(_i.meshBasicMaterial,{attach:"material",opacity:y,fog:!0,transparent:!0,depthTest:!1,color:v})]})},lV=3,ADe=({animated:t,arrowPlacement:e="end",contextMenu:n,disabled:r,labelPlacement:i="inline",id:s,interpolation:o,labelFontUrl:a,onContextMenu:l,onClick:c,onPointerOver:u,onPointerOut:d})=>{const f=Et(me=>me.theme),m=Et(me=>me.draggingIds.length>0),[v,w]=N.useState(!1),[x,y]=N.useState(!1),b=Et(me=>me.edges),S=b.find(me=>me.id===s),{target:T,source:C,label:M,labelVisible:I=!1,size:O=1,fill:R}=S,D=Et(me=>me.nodes.find(ue=>ue.id===C)),j=Et(me=>me.nodes.find(ue=>ue.id===T)),$=(O+f.edge.label.fontSize)/2,[B,Q]=N.useMemo(()=>Vq(O),[O]),{curveOffset:ne,curved:K}=N.useMemo(()=>dDe({edge:S,edges:b,curved:o==="curved"}),[S,b,o]),[V,G,W]=N.useMemo(()=>{const me=vw(D),ue=D.size,_e=vw(j),ce=j.size;let Xe=gw(me,ue,_e,ce,K,ne);const[Ae,Ge]=Bq(e,Xe,B);return e==="end"&&(Xe=gw(me,ue,Ae,0,K,ne)),[Xe,Ae,Ge]},[D,j,K,ne,e,B]),F=N.useMemo(()=>{let me=Gq(D.position,j.position,zq($,i));if(K){const ue=new oe().subVectors(me,V.getPoint(.5));switch(i){case"above":ue.y=ue.y-lV;break;case"below":ue.y=ue.y+lV;break}me=me.sub(ue)}return me},[D.position,j.position,$,i,K,V]),U=Et(me=>{var ue;return(ue=me.selections)==null?void 0:ue.includes(s)}),q=Et(me=>{var ue;return(ue=me.selections)==null?void 0:ue.length}),te=Et(me=>{var ue;return(ue=me.actives)==null?void 0:ue.includes(s)}),re=Et(me=>me.centerPosition),le=q?U||te?f.edge.selectedOpacity:f.edge.inactiveOpacity:f.edge.opacity,[{labelPosition:fe}]=Ya(()=>({from:{labelPosition:re?[re.x,re.y,re.z]:[0,0,0]},to:{labelPosition:[F.x,F.y,F.z]},config:{...Xa,duration:t&&!m?void 0:0}}),[F,t,m]),ye=N.useMemo(()=>new Rh(0,0,i==="natural"?0:Math.atan((j.position.y-D.position.y)/(j.position.x-D.position.x))),[j.position.x,j.position.y,D.position.x,D.position.y,i]);fm(v&&!m&&c!==void 0,"pointer");const{pointerOver:se,pointerOut:ve}=UD({disabled:r,onPointerOver:me=>{w(!0),u==null||u(S,me)},onPointerOut:me=>{w(!1),d==null||d(S,me)}}),Se=N.useMemo(()=>e!=="none"&&Y.jsx(CDe,{animated:t,color:U||v||te?f.arrow.activeFill:R||f.arrow.fill,length:B,opacity:le,position:G,rotation:W,size:Q,onActive:w,onContextMenu:()=>{r||(y(!0),l==null||l(S))}}),[R,v,t,B,e,G,W,Q,r,S,te,U,l,le,f.arrow.activeFill,f.arrow.fill]),pe=N.useMemo(()=>I&&M&&Y.jsx(_i.group,{position:fe,onContextMenu:()=>{r||(y(!0),l==null||l(S))},onPointerOver:se,onPointerOut:ve,children:Y.jsx(_w,{text:M,ellipsis:15,fontUrl:a,stroke:f.edge.label.stroke,color:U||v||te?f.edge.label.activeColor:f.edge.label.color,opacity:le,fontSize:f.edge.label.fontSize,rotation:ye})}),[v,r,S,te,U,M,a,fe,ye,I,l,ve,se,le,f.edge.label.activeColor,f.edge.label.color,f.edge.label.fontSize,f.edge.label.stroke]),Z=N.useMemo(()=>x&&n&&Y.jsx(pD,{prepend:!0,center:!0,position:F,children:n({data:S,onClose:()=>y(!1)})}),[x,n,F,S]);return Y.jsxs("group",{children:[Y.jsx(MDe,{curveOffset:ne,animated:t,color:U||v||te?f.edge.activeFill:R||f.edge.fill,curve:V,curved:K,id:s,opacity:le,size:O,onClick:me=>{r||c==null||c(S,me)},onPointerOver:se,onPointerOut:ve,onContextMenu:()=>{r||(y(!0),l==null||l(S))}}),Se,pe,Z]})},cV=new nf(0,0,0);function PDe(t,e){const n=N.useRef(),r=Et(c=>c.theme);Et(c=>{n.current=c});const i=N.useRef(new Map);N.useRef(new nf(0,0,0));const s=N.useRef(),o=e==="curved",a=N.useCallback(c=>{const u=[],d=i.current,{nodes:f}=n.current,m=new Map(f.map(w=>[w.id,w])),v=r.edge.label.fontSize;return t!=="none"&&!s.current&&(s.current=new Bm(0,1,1,20,1,!0)),c.forEach(w=>{const{target:x,source:y,size:b=1}=w,S=m.get(y),T=m.get(x);if(!S||!T)return;const C=`${S.position.x},${S.position.y},${T.position.x},${T.position.y},${b}`;if(d.has(C)){u.push(d.get(C));return}const M=vw(S),I=S.size+v,O=vw(T),R=T.size+v;let D=gw(M,I,O,R,o),j=new Mm(D,20,b/2,5,!1);if(t==="none"){u.push(j),d.set(C,j);return}const[$,B]=Vq(b),Q=s.current.clone();Q.scale(B,$,B);const[ne,K]=Bq(t,D,$),V=new Zs;if(V.setFromUnitVectors(new oe(0,1,0),K),Q.applyQuaternion(V),Q.translate(ne.x,ne.y,ne.z),t&&t==="end"){const W=gw(M,I,ne,0,o);j=new Mm(W,20,b/2,5,!1)}const G=SS([j,Q]);u.push(G),d.set(C,G)}),u},[t,o,r.edge.label.fontSize]),l=N.useCallback((c,u)=>{const d=a(c),f=a(u);return SS([f.length?SS(f):cV,d.length?SS(d):cV],!0)},[a]);return{getGeometries:a,getGeometry:l}}function RDe(t,e,n){const r=N.useRef(t);N.useEffect(()=>{r.current=t},[t]);const i=Et(d=>d.edgeContextMenus),s=Et(N.useCallback(d=>d.setEdgeContextMenus,[])),o=N.useRef(!1),a=N.useCallback(()=>{o.current=!0},[]),l=N.useRef(!1),c=N.useCallback(()=>{l.current=!0},[]),u=N.useCallback((d,f)=>{const{onClick:m,onContextMenu:v,onPointerOver:w,onPointerOut:x}=r.current;if(m&&o.current&&!n){o.current=!1;for(const y of f)m(y)}if((e||v)&&l.current&&!n){l.current=!1;const y=new Set(i);let b=!1;for(const S of f)i.has(S.id)||(y.add(S.id),b=!0,v==null||v(S));b&&s(y)}w&&f.filter(b=>!d.includes(b)).forEach(b=>{w(b)}),x&&d.filter(b=>!f.includes(b)).forEach(b=>{x(b)})},[e,n,i,s]);return{handleClick:a,handleContextMenu:c,handleIntersections:u}}function IDe(t,e){const n=N.useRef(t),r=N.useRef();N.useEffect(()=>{n.current=t;const o=t.getAttribute("position");r.current=new Float32Array(o.array.length)},[t]);const i=N.useCallback(()=>{const o=n.current.getAttribute("position");return{from:new Float32Array(o.array.length),to:o.array}},[]),s=N.useCallback(o=>{const a=r.current;a.set(o);const l=new gr(a,3,!1);n.current.setAttribute("position",l),l.needsUpdate=!0},[]);Ya(()=>{if(!e)return null;const o=i();return{from:{positions:o.from},to:{positions:o.to},onChange:a=>{s(a.value.positions)},config:{...Xa,duration:e?void 0:0}}},[e,i,s])}function kDe(t,e,n){const[{activeOpacity:r,inactiveOpacity:i}]=Ya(()=>({from:{activeOpacity:0,inactiveOpacity:0},to:{activeOpacity:e?n.edge.selectedOpacity:n.edge.opacity,inactiveOpacity:e?n.edge.inactiveOpacity:n.edge.opacity},config:{...Xa,duration:t?void 0:0}}),[t,e,n]);return{activeOpacity:r,inactiveOpacity:i}}const ODe=({animated:t,color:e,contextMenu:n,edge:r,labelFontUrl:i,labelPlacement:s="inline",opacity:o})=>{const a=Et(D=>D.theme),{target:l,source:c,label:u,labelVisible:d=!1,size:f=1}=r,m=Et(D=>D.nodes),[v,w]=N.useMemo(()=>[m.find(D=>D.id===c),m.find(D=>D.id===l)],[m,c,l]),x=Et(D=>D.draggingIds.length>0),y=N.useMemo(()=>(f+a.edge.label.fontSize)/2,[f,a.edge.label.fontSize]),b=N.useMemo(()=>Gq(v.position,w.position,zq(y,s)),[v.position,w.position,y,s]),S=Et(D=>D.edgeContextMenus),T=Et(D=>D.setEdgeContextMenus),[{labelPosition:C}]=Ya(()=>({from:{labelPosition:[0,0,0]},to:{labelPosition:[b.x,b.y,b.z]},config:{...Xa,duration:t&&!x?void 0:0}}),[b,t,x]),M=N.useCallback(D=>{S.delete(D),T(new Set(S))},[S,T]),I=N.useMemo(()=>s==="natural"?new Rh(0,0,0):new Rh(0,0,Math.atan2(w.position.y-v.position.y,w.position.x-v.position.x)),[s,w.position.y,w.position.x,v.position.y,v.position.x]),O=N.useMemo(()=>({prepend:!0,center:!0,position:b}),[b]),R=N.useMemo(()=>({text:u,ellipsis:15,fontUrl:i,stroke:a.edge.label.stroke,color:e,opacity:o,fontSize:a.edge.label.fontSize,rotation:I}),[u,i,a.edge.label.stroke,e,o,a.edge.label.fontSize,I]);return Y.jsxs("group",{children:[d&&u&&Y.jsx(_i.group,{position:C,children:Y.jsx(_w,{...R})}),n&&S.has(r.id)&&Y.jsx(pD,{...O,children:n({data:r,onClose:()=>M(r.id)})})]})},LDe=({interpolation:t="linear",arrowPlacement:e="end",labelPlacement:n="inline",animated:r,contextMenu:i,disabled:s,edges:o,labelFontUrl:a,onClick:l,onContextMenu:c,onPointerOut:u,onPointerOver:d})=>{const f=Et(F=>F.theme),{getGeometries:m,getGeometry:v}=PDe(e,t),w=Et(F=>F.draggingIds),x=Et(F=>F.edgeMeshes),y=Et(F=>F.setEdgeMeshes),b=Et(F=>F.actives||[]),S=Et(F=>F.selections||[]),[T,C,M,I]=N.useMemo(()=>{const F=[],U=[],q=[],te=[];return o.forEach(re=>{if(w.includes(re.source)||w.includes(re.target)){S.includes(re.id)||b.includes(re.id)?q.push(re):te.push(re);return}S.includes(re.id)||b.includes(re.id)?F.push(re):U.push(re)}),[F,U,q,te]},[o,b,S,w]),O=!!S.length,R=N.useMemo(()=>v(T,C),[v,T,C]),{activeOpacity:D,inactiveOpacity:j}=kDe(r,O,f);IDe(R,r),N.useEffect(()=>{if(w.length===0){const U=m(o).map(q=>new oi(q));y(U)}},[m,y,o,w.length]);const $=N.useRef(new oi),B=N.useRef(new oi),Q=N.useCallback(F=>{if(!F.camera)return[];const U=F.intersectObjects(x);return U.length?U.map(q=>o[x.indexOf(q.object)]):[]},[x,o]),{handleClick:ne,handleContextMenu:K,handleIntersections:V}=RDe({onClick:l,onContextMenu:c,onPointerOut:u,onPointerOver:d},i,s),G=N.useRef([]),W=N.useRef([]);return VC(F=>{if($.current.geometry=R,s)return;const U=G.current;if((w.length||w.length===0&&U!==null)&&(B.current.geometry=v(M,I)),G.current=w,w.length)return;const q=W.current,te=Q(F.raycaster);V(q,te),te.join()!==q.join()&&(B.current.geometry=v(te,[])),W.current=te}),Y.jsxs("group",{onClick:ne,onContextMenu:K,children:[Y.jsxs("mesh",{ref:$,children:[Y.jsx(_i.meshBasicMaterial,{attach:"material-0",color:f.edge.fill,depthTest:!1,fog:!0,opacity:j,side:ri,transparent:!0}),Y.jsx(_i.meshBasicMaterial,{attach:"material-1",color:f.edge.activeFill,depthTest:!1,fog:!0,opacity:D,side:ri,transparent:!0})]}),Y.jsxs("mesh",{ref:B,children:[Y.jsx(_i.meshBasicMaterial,{attach:"material-0",color:f.edge.fill,depthTest:!1,fog:!0,opacity:j,side:ri,transparent:!0}),Y.jsx(_i.meshBasicMaterial,{attach:"material-1",color:f.edge.activeFill,depthTest:!1,fog:!0,opacity:D,side:ri,transparent:!0})]}),o.map(F=>Y.jsx(ODe,{animated:r,contextMenu:i,color:f.edge.label.color,disabled:s,edge:F,labelFontUrl:a,labelPlacement:n},F.id))]})},DDe=({outerRadius:t,innerRadius:e,padding:n,normalizedFill:r,normalizedStroke:i,opacity:s,animated:o,theme:a})=>{var l;const{opacity:c}=Ya({from:{opacity:0},to:{opacity:s},config:{...Xa,duration:o?void 0:0}});return Y.jsxs(Y.Fragment,{children:[Y.jsxs("mesh",{children:[Y.jsx("ringGeometry",{attach:"geometry",args:[t,0,128]}),Y.jsx(_i.meshBasicMaterial,{attach:"material",color:r,transparent:!0,depthTest:!1,opacity:(l=a.cluster)!=null&&l.fill?c:0,side:ri,fog:!0})]}),Y.jsxs("mesh",{children:[Y.jsx("ringGeometry",{attach:"geometry",args:[t,e+n,128]}),Y.jsx(_i.meshBasicMaterial,{attach:"material",color:i,transparent:!0,depthTest:!1,opacity:c,side:ri,fog:!0})]})]})},NDe=({animated:t,position:e,padding:n=40,labelFontUrl:r,disabled:i,radius:s=2,nodes:o,label:a,onClick:l,onPointerOver:c,onPointerOut:u,draggable:d=!1,onDragged:f,onRender:m})=>{var v,w,x,y,b,S,T;const C=Et(Z=>Z.theme),M=Math.max(e.width,e.height)/2,I=M-s+n,[O,R]=N.useState(!1),D=Et(Z=>Z.centerPosition),j=Et(Z=>Z.nodes),$=oM(),B=Et(Z=>Z.draggingIds),Q=B.includes(a),ne=B.length>0,K=Et(Z=>{var me;return(me=Z.actives)==null?void 0:me.some(ue=>o.some(_e=>_e.id===ue))}),V=Et(Z=>Z.hoveredNodeId),G=Et(Z=>{var me;return(me=Z.selections)==null?void 0:me.some(ue=>o.some(_e=>_e.id===ue))}),F=Et(Z=>{var me;return((me=Z.selections)==null?void 0:me.length)>0})?G||O||K?(v=C.cluster)==null?void 0:v.selectedOpacity:(w=C.cluster)==null?void 0:w.inactiveOpacity:(x=C.cluster)==null?void 0:x.opacity,U=N.useMemo(()=>{var Z,me;const ue=[0,-I,2],_e=(me=(Z=C.cluster)==null?void 0:Z.label)==null?void 0:me.offset;return _e?[ue[0]-_e[0],ue[1]-_e[1],ue[2]-_e[2]]:ue},[I,(b=(y=C.cluster)==null?void 0:y.label)==null?void 0:b.offset]),{circlePosition:q}=Ya({from:{circlePosition:[D.x,D.y,-1]},to:{circlePosition:e?[e.x,e.y,-1]:[0,0,-1]},config:{...Xa,duration:t&&!ne?void 0:0}}),te=N.useMemo(()=>{var Z;return new Mt((Z=C.cluster)==null?void 0:Z.stroke)},[(S=C.cluster)==null?void 0:S.stroke]),re=N.useMemo(()=>{var Z;return new Mt((Z=C.cluster)==null?void 0:Z.fill)},[(T=C.cluster)==null?void 0:T.fill]),le=Et(Z=>Z.addDraggingId),fe=Et(Z=>Z.removeDraggingId),ye=Et(Z=>Z.setClusterPosition),se=Hq({draggable:d&&!V,position:{x:e.x,y:e.y,z:-1},set:Z=>ye(a,Z),onDragStart:()=>{le(a),R(!0)},onDragEnd:()=>{fe(a),R(!1);const Z=j.filter(me=>me.cluster===a);f==null||f({nodes:Z,label:a})}});fm(O&&!ne&&l!==void 0,"pointer"),fm(O&&d&&!Q&&l===void 0,"grab"),fm(Q,"grabbing");const{pointerOver:ve,pointerOut:Se}=UD({disabled:i,onPointerOver:Z=>{R(!0),$.freeze(),c==null||c({nodes:o,label:a},Z)},onPointerOut:Z=>{R(!1),$.unFreeze(),u==null||u({nodes:o,label:a},Z)}});return N.useMemo(()=>{var Z,me,ue;return C.cluster&&Y.jsx(_i.group,{userData:{id:a,type:"cluster"},position:q,onPointerOver:ve,onPointerOut:Se,onClick:_e=>{!i&&!Q&&(l==null||l({nodes:o,label:a},_e))},...se(),children:m?m({label:{position:U,text:a,opacity:F,fontUrl:r},opacity:F,outerRadius:I,innerRadius:M,padding:n,theme:C}):Y.jsxs(Y.Fragment,{children:[Y.jsx(DDe,{outerRadius:I,innerRadius:M,padding:n,normalizedFill:re,normalizedStroke:te,opacity:F,animated:t,theme:C}),((Z=C.cluster)==null?void 0:Z.label)&&Y.jsx(_i.group,{position:U,children:Y.jsx(_w,{text:a,opacity:F,fontUrl:r,stroke:C.cluster.label.stroke,active:!1,color:(me=C.cluster)==null?void 0:me.label.color,fontSize:((ue=C.cluster)==null?void 0:ue.label.fontSize)??12})})]})})},[C,q,ve,Se,I,re,M,n,te,U,a,F,r,i,l,o,se,Q,m,t])},FDe=N.forwardRef(({onNodeClick:t,onNodeDoubleClick:e,onNodeContextMenu:n,onEdgeContextMenu:r,onEdgeClick:i,onEdgePointerOver:s,onEdgePointerOut:o,onNodePointerOver:a,onNodePointerOut:l,onClusterClick:c,onNodeDragged:u,onClusterDragged:d,onClusterPointerOver:f,onClusterPointerOut:m,contextMenu:v,animated:w,disabled:x,draggable:y,constrainDragging:b=!1,edgeLabelPosition:S,edgeArrowPosition:T,edgeInterpolation:C="linear",labelFontUrl:M,renderNode:I,onRenderCluster:O,...R},D)=>{const{layoutType:j,clusterAttribute:$}=R,B=Ji(se=>se.gl),Q=Ji(se=>se.scene),ne=Ji(se=>se.camera),{updateLayout:K}=vDe({...R,constrainDragging:b});if($&&!(j==="forceDirected2d"||j==="forceDirected3d"))throw new Error("Clustering is only supported for the force directed layouts.");const V=Et(se=>se.graph),G=Et(se=>se.nodes),W=Et(se=>se.edges),F=Et(se=>[...se.clusters.values()]),{centerNodesById:U,fitNodesInViewById:q,isCentered:te}=SDe({animated:w,disabled:x,layoutType:j});N.useImperativeHandle(D,()=>({centerGraph:U,fitNodesInView:q,graph:V,renderScene:()=>B.render(Q,ne)}),[U,q,V,B,Q,ne]);const re=N.useCallback(se=>{u==null||u(se),$&&K()},[$,u,K]),le=N.useMemo(()=>G.map(se=>Y.jsx(TDe,{id:se==null?void 0:se.id,labelFontUrl:M,draggable:y,constrainDragging:b,disabled:x,animated:w,contextMenu:v,renderNode:I,onClick:t,onDoubleClick:e,onContextMenu:n,onPointerOver:a,onPointerOut:l,onDragged:re},se==null?void 0:se.id)),[b,w,v,x,y,M,G,t,n,e,re,l,a,I]),fe=N.useMemo(()=>w?W.map(se=>Y.jsx(ADe,{id:se.id,disabled:x,animated:w,labelFontUrl:M,labelPlacement:S,arrowPlacement:T,interpolation:C,contextMenu:v,onClick:i,onContextMenu:r,onPointerOver:s,onPointerOut:o},se.id)):Y.jsx(LDe,{edges:W,disabled:x,animated:w,labelFontUrl:M,labelPlacement:S,arrowPlacement:T,interpolation:C,contextMenu:v,onClick:i,onContextMenu:r,onPointerOver:s,onPointerOut:o}),[w,v,x,T,C,S,W,M,i,r,o,s]),ye=N.useMemo(()=>F.map(se=>Y.jsx(NDe,{animated:w,disabled:x,draggable:y,labelFontUrl:M,onClick:c,onPointerOver:f,onPointerOut:m,onDragged:d,onRender:O,...se},se.label)),[w,F,x,y,M,c,m,f,d,O]);return te&&Y.jsxs(N.Fragment,{children:[fe,le,ye]})}),UDe={canvas:{background:"#1E2026"},node:{fill:"#7A8C9E",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.2,label:{stroke:"#1E2026",color:"#ACBAC7",activeColor:"#1DE9AC"},subLabel:{stroke:"#1E2026",color:"#ACBAC7",activeColor:"#1DE9AC"}},lasso:{border:"1px solid #55aaff",background:"rgba(75, 160, 255, 0.1)"},ring:{fill:"#54616D",activeFill:"#1DE9AC"},edge:{fill:"#474B56",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#1E2026",color:"#ACBAC7",activeColor:"#1DE9AC",fontSize:6}},arrow:{fill:"#474B56",activeFill:"#1DE9AC"},cluster:{stroke:"#474B56",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#1E2026",color:"#ACBAC7"}}},zDe={canvas:{background:"#fff"},node:{fill:"#7CA0AB",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.2,label:{color:"#2A6475",stroke:"#fff",activeColor:"#1DE9AC"},subLabel:{color:"#ddd",stroke:"transparent",activeColor:"#1DE9AC"}},lasso:{border:"1px solid #55aaff",background:"rgba(75, 160, 255, 0.1)"},ring:{fill:"#D8E6EA",activeFill:"#1DE9AC"},edge:{fill:"#D8E6EA",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#fff",color:"#2A6475",activeColor:"#1DE9AC",fontSize:6}},arrow:{fill:"#D8E6EA",activeFill:"#1DE9AC"},cluster:{stroke:"#D8E6EA",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#fff",color:"#2A6475"}}};function kS(t,e,n){const{offsetX:r,offsetY:i}=t,{width:s,height:o}=n;e.set(r/s*2-1,-(i/o)*2+1)}function BDe(t){const e=document.createElement("div");return e.style.pointerEvents="none",e.style.border=t.lasso.border,e.style.backgroundColor=t.lasso.background,e.style.position="fixed",e}const VDe=({children:t,type:e="none",onLasso:n,onLassoEnd:r,disabled:i})=>{var s;const o=Et(B=>B.theme),a=Ji(B=>B.camera),l=Ji(B=>B.gl),c=Ji(B=>B.setEvents),u=Ji(B=>B.size),d=Ji(B=>B.get),f=Ji(B=>B.scene),m=oM(),v=Et(B=>B.actives),w=Et(B=>B.setActives),x=Et(B=>B.edges),y=Et(B=>B.edgeMeshes),b=N.useRef(!1),S=N.useRef(null),T=N.useRef(null),C=N.useRef(BDe(o)),M=N.useRef(null),I=N.useRef(!1),O=N.useRef(d().events.enabled),R=N.useRef((s=m.controls)==null?void 0:s.enabled);N.useEffect(()=>{b.current&&(n==null||n(v)),b.current=!0},[v,n]);const D=N.useCallback(B=>{if(I.current){const[Q,ne,K]=M.current;K.x=Math.max(Q.x,B.clientX),K.y=Math.max(Q.y,B.clientY),ne.x=Math.min(Q.x,B.clientX),ne.y=Math.min(Q.y,B.clientY),C.current.style.left=`${ne.x}px`,C.current.style.top=`${ne.y}px`,C.current.style.width=`${K.x-ne.x}px`,C.current.style.height=`${K.y-ne.y}px`,kS(B,S.current.endPoint,u),kS(B,T.current.endPoint,u);const V=[],G=T.current.select().sort(F=>F.uuid).map(F=>x[y.indexOf(F)].id);V.push(...G);const W=S.current.select().sort(F=>F.uuid).filter(F=>{var U,q;return F.isMesh&&((U=F.userData)==null?void 0:U.id)&&(((q=F.userData)==null?void 0:q.type)===e||e==="all")}).map(F=>F.userData.id);V.push(...W),requestAnimationFrame(()=>{w(V)}),document.addEventListener("pointermove",D,{passive:!0,capture:!0,once:!0})}},[x,y,w,u,e]),j=N.useCallback(()=>{var B;I.current&&(c({enabled:O.current}),I.current=!1,(B=C.current.parentElement)==null||B.removeChild(C.current),m.controls.enabled=R.current,r==null||r(v),document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",j))},[c,m.controls,r,v,D]),$=N.useCallback(B=>{var Q,ne;if(B.shiftKey){O.current=d().events.enabled,R.current=(Q=m.controls)==null?void 0:Q.enabled,S.current=new w5(a,f);const K=new Qx;y.length&&K.add(...y),T.current=new w5(a,K),M.current=[new Je,new Je,new Je];const[V]=M.current;m.controls.enabled=!1,c({enabled:!1}),I.current=!0,(ne=l.domElement.parentElement)==null||ne.appendChild(C.current),C.current.style.left=`${B.clientX}px`,C.current.style.top=`${B.clientY}px`,C.current.style.width="0px",C.current.style.height="0px",V.x=B.clientX,V.y=B.clientY,kS(B,S.current.startPoint,u),kS(B,T.current.startPoint,u),document.addEventListener("pointermove",D,{passive:!0,capture:!0,once:!0}),document.addEventListener("pointerup",j,{passive:!0})}},[a,m.controls,y,d,l.domElement.parentElement,D,j,f,c,u]);return N.useEffect(()=>{if(!(i||e==="none"))return typeof window<"u"&&(document.addEventListener("pointerdown",$,{passive:!0}),document.addEventListener("pointermove",D,{passive:!0}),document.addEventListener("pointerup",j,{passive:!0})),()=>{typeof window<"u"&&(document.removeEventListener("pointerdown",$),document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",j))}},[e,i,$,D,j]),Y.jsx("group",{children:t})},GDe="_canvas_670zp_1",HDe={canvas:GDe},WDe={alpha:!0,antialias:!0},jDe={position:[0,0,1e3],near:5,far:5e4,fov:10},$De=N.forwardRef(({cameraMode:t="pan",layoutType:e="forceDirected2d",sizingType:n="default",labelType:r="auto",theme:i=zDe,animated:s=!0,defaultNodeSize:o=7,minNodeSize:a=5,maxNodeSize:l=15,lassoType:c="none",glOptions:u={},edges:d,children:f,nodes:m,minDistance:v,maxDistance:w,onCanvasClick:x,disabled:y,onLasso:b,onLassoEnd:S,...T},C)=>{var M,I;const O=N.useRef(null),R=N.useRef(null),D=N.useRef(null);N.useImperativeHandle(C,()=>({centerGraph:(K,V)=>{var G;return(G=O.current)==null?void 0:G.centerGraph(K,V)},fitNodesInView:(K,V)=>{var G;return(G=O.current)==null?void 0:G.fitNodesInView(K,V)},zoomIn:()=>{var K;return(K=R.current)==null?void 0:K.zoomIn()},zoomOut:()=>{var K;return(K=R.current)==null?void 0:K.zoomOut()},dollyIn:K=>{var V;return(V=R.current)==null?void 0:V.dollyIn(K)},dollyOut:K=>{var V;return(V=R.current)==null?void 0:V.dollyOut(K)},panLeft:()=>{var K;return(K=R.current)==null?void 0:K.panLeft()},panRight:()=>{var K;return(K=R.current)==null?void 0:K.panRight()},panDown:()=>{var K;return(K=R.current)==null?void 0:K.panDown()},panUp:()=>{var K;return(K=R.current)==null?void 0:K.panUp()},resetControls:K=>{var V;return(V=R.current)==null?void 0:V.resetControls(K)},getControls:()=>{var K;return(K=R.current)==null?void 0:K.controls},getGraph:()=>{var K;return(K=O.current)==null?void 0:K.graph},exportCanvas:()=>(O.current.renderScene(),D.current.toDataURL()),freeze:()=>{var K;return(K=R.current)==null?void 0:K.freeze()},unFreeze:()=>{var K;return(K=R.current)==null?void 0:K.unFreeze()}}));const{selections:j,actives:$,collapsedNodeIds:B}=T,Q=d.length+m.length>400?!1:s,ne=N.useMemo(()=>({...u,...WDe}),[u]);return Y.jsx("div",{className:HDe.canvas,children:Y.jsx(kCe,{legacy:!0,linear:!0,ref:D,flat:!0,gl:ne,camera:jDe,onPointerMissed:x,children:Y.jsxs(pDe,{createStore:()=>mDe({selections:j,actives:$,theme:i,collapsedNodeIds:B}),children:[((M=i.canvas)==null?void 0:M.background)&&Y.jsx("color",{attach:"background",args:[i.canvas.background]}),Y.jsx("ambientLight",{intensity:1}),f,((I=i.canvas)==null?void 0:I.fog)&&Y.jsx("fog",{attach:"fog",args:[i.canvas.fog,4e3,9e3]}),Y.jsx(xDe,{mode:t,ref:R,disabled:y,minDistance:v,maxDistance:w,animated:s,children:Y.jsx(VDe,{disabled:y,type:c,onLasso:b,onLassoEnd:S,children:Y.jsx(N.Suspense,{children:Y.jsx(FDe,{ref:O,disabled:y,animated:Q,edges:d,nodes:m,layoutType:e,sizingType:n,labelType:r,defaultNodeSize:o,minNodeSize:a,maxNodeSize:l,...T})})})})]})})})}),YDe=()=>{const t=As.peers.map(n=>({id:n.targetPeerId,label:vy(n.targetPeerId)})).concat([{id:"me",label:"me"}]),e=As.peers.map(n=>({id:`me->${n.targetPeerId}`,source:"me",target:`${n.targetPeerId}`,label:n.connectionType,fill:n.connected&&n.managerMiddleware.initialized&&!n.managerMiddleware.isBlocked()?"green":"red"}));return Y.jsx($De,{theme:UDe,labelType:"all",edgeArrowPosition:"none",nodes:t,edges:e})},X_=Poe({placement:"top",pauseOnPageIdle:!0}),XDe=()=>Y.jsx(Rw,{children:Y.jsx(_fe,{toaster:X_,insetInline:{mdDown:"4"},children:t=>{var e;return Y.jsxs(xfe,{width:{md:"sm"},children:[t.type==="loading"?Y.jsx(uj,{size:"sm",color:"blue.solid"}):Y.jsx(Cfe,{}),Y.jsxs(KT,{gap:"1",flex:"1",maxWidth:"100%",children:[t.title&&Y.jsx(bfe,{children:t.title}),t.description&&Y.jsx(Sfe,{children:t.description})]}),t.action&&Y.jsx(Efe,{children:t.action.label}),((e=t.meta)==null?void 0:e.closable)&&Y.jsx(wfe,{})]})}})});function zD(t=6e3){function e(s,o){X_.create({title:s,description:o,type:"error",duration:t,action:{label:"",onClick:()=>{}}})}function n(s,o){X_.create({title:s,description:o,type:"success",duration:t,action:{label:"",onClick:()=>{}}})}function r(s,o){X_.create({title:s,description:o,type:"info",duration:t,action:{label:"",onClick:()=>{}}})}function i(s,o){X_.create({title:s,description:o,type:"warning",duration:t,action:{label:"",onClick:()=>{}}})}return{errorToast:e,successToast:n,infoToast:r,warningToast:i}}function Yq(){const t=localStorage.getItem("userData");if(t){const e=JSON.parse(t);return As.actions.sendNickname(e.nickname),As.actions.associatedNicknames=e.associatedNicknames,e}else return{nickname:"",associatedNicknames:{}}}const Xq=N.createContext({userData:Yq(),setUserData:()=>{}}),qq=()=>{const{userData:t,setUserData:e}=N.useContext(Xq);function n(r){t.nickname!==r.nickname&&As.actions.sendNickname(r.nickname),As.actions.associatedNicknames=r.associatedNicknames,e(r),localStorage.setItem("userData",JSON.stringify(r))}return{userData:t,setUserData:n}},qDe=()=>{const{successToast:t}=zD(),{userData:e,setUserData:n}=qq(),[r,i]=N.useState(e.nickname),[s,o]=N.useState(!1);function a(c){i(c.target.value),o(!1)}function l(){if(r.length===0||r.length>YO.maxNameLength)return o(!0);n({...e,nickname:r}),t("Nickname saved!")}return Y.jsxs(dde,{orientation:"horizontal",invalid:s,children:[Y.jsx(fde,{children:"Nickname"}),Y.jsx(lO,{placeholder:"Empty nickname",value:r,onChange:a}),Y.jsx(ym,{ml:"5px",onClick:l,variant:"outline",size:"sm",children:"Save"}),Y.jsx(hde,{children:"Nickname is too big!"})]})},KDe=N.forwardRef(function(e,n){const{showArrow:r,children:i,disabled:s,portalled:o=!0,content:a,contentProps:l,portalRef:c,...u}=e;return s?i:Y.jsxs(Mfe,{...u,children:[Y.jsx(Afe,{asChild:!0,children:i}),Y.jsx(Rw,{disabled:!o,container:c,children:Y.jsx(Pfe,{children:Y.jsxs(Rfe,{ref:n,...l,children:[r&&Y.jsx(Ife,{children:Y.jsx(wj,{})}),a]})})})]})}),BD=({peerId:t,children:e})=>Y.jsx(KDe,{content:t,showArrow:!0,positioning:{placement:"bottom"},openDelay:300,closeDelay:100,interactive:!0,children:e}),ZDe=({contentRef:t})=>{const{successToast:e,errorToast:n}=zD(),{userData:r,setUserData:i}=qq(),[s,o]=N.useState([]),[a,l]=N.useState(""),c=Cie({items:As.connectedPeers.map(f=>({label:`${f.targetPeerId.slice(0,16)}${f.targetPeerId.slice(-16)}`,value:f.targetPeerId}))});function u(f){l(f.target.value)}function d(){if(!a||s.length===0||!s[0])return;if(a.length>YO.maxNameLength)return n("Nickname is too long!");const f={...r.associatedNicknames};f[s[0]]=a,i({...r,associatedNicknames:f}),o([]),l(""),e("Nickname successfully saved!")}return Y.jsxs(XT,{children:[Y.jsx(OE,{mt:"5px",children:Y.jsx(_m,{textStyle:"2xl",children:"Associated nicknames"})}),Y.jsxs(pfe,{mt:"10px",size:"md",children:[Y.jsx(mfe,{children:Y.jsxs(hA,{children:[Y.jsx(_F,{children:"Peer Id"}),Y.jsx(_F,{children:"Nickname"})]})}),Y.jsxs(gfe,{children:[Object.entries(r.associatedNicknames).map(([f,m],v)=>Y.jsxs(hA,{children:[Y.jsx(BD,{peerId:f,children:Y.jsx(y1,{children:`${f.slice(0,16)}${f.slice(-16)}`})}),Y.jsx(y1,{children:m})]},v)),Y.jsxs(hA,{children:[Y.jsx(y1,{children:Y.jsxs(Xde,{collection:c,size:"sm",width:"320px",value:s,onValueChange:f=>o(f.value),children:[Y.jsx(ife,{}),Y.jsxs(rfe,{children:[Y.jsx(qde,{children:Y.jsx(Qde,{placeholder:"Select peer Id"})}),Y.jsx(tfe,{children:Y.jsx(nfe,{})})]}),Y.jsx(Rw,{container:t,children:Y.jsx(Kde,{children:Y.jsx(Zde,{children:c.items.map(({label:f,value:m})=>Y.jsxs(Jde,{item:m,children:[f,Y.jsx(efe,{})]},m))})})})]})}),Y.jsx(y1,{children:Y.jsx(lO,{placeholder:"Empty nickname",value:a,onChange:u})})]})]})]}),Y.jsx(ym,{onClick:d,children:"Submit"})]})},QDe=({contentRef:t})=>Y.jsxs(XT,{children:[Y.jsx(qDe,{}),Y.jsx(ZDe,{contentRef:t})]}),JDe=({logs:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState("Logs"),s=N.useRef(null);return Y.jsxs(Kue,{size:"xl",open:e,onOpenChange:o=>{n(o.open),i("Logs")},children:[Y.jsx(Zue,{asChild:!0,children:Y.jsx(ym,{variant:"outline",size:"sm",paddingY:"3",children:e?"Hide ":"Show "})}),Y.jsxs(Rw,{children:[Y.jsx(nde,{}),Y.jsx(Que,{children:Y.jsxs(Jue,{ref:s,children:[Y.jsx(ide,{children:Y.jsx(ede,{children:Y.jsxs(Vde,{value:r,onValueChange:({value:o})=>i(o),children:[Y.jsx(Wde,{}),Y.jsx($de,{items:["Logs","Info","Nickname","Graph"]})]})})}),Y.jsx(rde,{children:r==="Logs"?Y.jsx(lfe,{align:"start",padding:2,children:t.map((o,a)=>Y.jsxs(Do,{children:[Y.jsx(she,{type:o.type})," ",Y.jsx(_m,{children:o.text})]},a))}):r==="Info"?Y.jsx(Y0e,{}):r==="Graph"?Y.jsx(YDe,{}):Y.jsx(QDe,{contentRef:s})}),Y.jsx(tde,{asChild:!0,children:Y.jsx(Wue,{size:"sm"})})]})})]})]})},eNe=()=>{const[t,e]=N.useState([]),{successToast:n,warningToast:r,errorToast:i}=zD(),s=N.useCallback(o=>{o.type==="success"&&n(o.text),o.type==="warn"&&r(o.text),o.type==="error"&&i(o.text),e(a=>[...a,o])},[]);return N.useEffect(()=>{_9.setOnLog(s)},[]),Y.jsxs(Cde,{justifyContent:"space-between",padding:"20px",paddingRight:"50px",children:[Y.jsx(ihe,{alignSelf:"start"}),Y.jsx(Ofe,{size:"3xl",children:"MeshMurmur"}),Y.jsx(JDe,{logs:t}),Y.jsx(Do,{children:Y.jsxs(V_,{colorPalette:"green",children:[Y.jsx(G_,{}),As.connectedPeers.length]})}),Y.jsx(XDe,{})]})},tNe=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(eNe,{}),Y.jsx(bQ,{})]}),nNe=({username:t,peerId:e,message:n,me:r})=>Y.jsx(Do,{display:"flex",justifyContent:r?"flex-end":"flex-start",my:2,children:Y.jsxs(Do,{bg:r?"blue.500":"gray.200",color:r?"white":"black",px:4,py:2,borderRadius:"lg",maxW:"75%",children:[r?Y.jsx(Y.Fragment,{}):Y.jsx(BD,{peerId:e,children:Y.jsx(_m,{fontSize:"sm",fontWeight:"bold",mb:1,children:t})}),Y.jsx(_m,{children:n})]})}),rNe=({username:t,peerId:e,data:n,me:r})=>{const{url:i,fileName:s,fileSize:o,fileType:a}=n,l=b=>{if(b<1024)return b+" B";const S=b/1024;return S<1024?S.toFixed(1)+" KB":(S/1024).toFixed(1)+" MB"},c=a.startsWith("image/"),u=a.startsWith("video/"),m=nhe(r?"blue.100":"gray.100",r?"blue.700":"gray.700"),v=r?"flex-end":"flex-start",w=r?"20px 0px 20px 20px":"0px 20px 20px 20px",x=u?"280px":void 0,y=u?"500px":"80%";return Y.jsx(Do,{display:"flex",justifyContent:v,mb:2,px:2,children:Y.jsxs(Do,{minW:x,maxW:y,bg:m,p:3,borderRadius:w,boxShadow:"sm",position:"relative",children:[!r&&Y.jsx(BD,{peerId:e,children:Y.jsx(_m,{fontSize:"sm",fontWeight:"bold",mb:1,children:t})}),c?Y.jsx(Mde,{src:i,alt:s,borderRadius:"md",w:"full",maxH:"300px",objectFit:"cover"}):u?Y.jsx(Do,{borderRadius:"md",overflow:"hidden",children:Y.jsx("video",{src:i,controls:!0,style:{display:"block",width:"100%",height:"auto"}})}):Y.jsxs(Do,{children:[Y.jsx(Rde,{href:i,color:"blue.500",fontWeight:"bold",children:s}),Y.jsx(_m,{fontSize:"xs",color:"gray.500",children:l(o)})]})]})})};function iNe(t){setTimeout(()=>{t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},100)}const sNe=({messages:t})=>{const e=N.useRef(null);N.useEffect(()=>{window.SCROLL_TO_BOTTOM&&iNe(e.current)},[t]);const n=()=>{if(!e.current)return;const{scrollHeight:r,scrollTop:i,clientHeight:s}=e.current,o=Math.abs(r-s-i);o>200&&(window.SCROLL_TO_BOTTOM=!1),o<1&&(window.SCROLL_TO_BOTTOM=!0)};return Y.jsx(XT,{ref:e,onScroll:n,margin:"15px",padding:5,height:"75vh",maxHeight:"80vh",overflowY:"auto",children:t.map((r,i)=>{const s=Vx===r.peerId;if(pye(r))return Y.jsx(nNe,{message:r.data,peerId:r.peerId,username:r.nickname,me:s},i);if(mye(r))return Y.jsx(rNe,{data:r.data,peerId:r.peerId,username:r.nickname,me:s},i)})})};function oNe(t){return Lw({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M22,12 C22,12 19.0000009,15.0000004 13.0000004,21.0000004 C6.99999996,27.0000004 -2.00000007,18.0000004 3.99999994,12.0000004 C9.99999996,6.00000037 9,7.00000011 13,3.00000008 C17,-0.999999955 23,4.99999994 19,9.00000005 C15,13.0000002 12.0000004,16.0000007 9.99999995,18.0000004 C7.99999952,20 5,17 6.99999995,15.0000004 C8.99999991,13.0000007 16,6 16,6"},child:[]}]})(t)}function aNe(t){return Lw({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const lNe=({onClick:t,files:e,setFiles:n})=>Y.jsxs(Ide,{children:[Y.jsx(kde,{asChild:!0,children:Y.jsx(ym,{color:"white",bg:"black",marginRight:"5",onClick:t,"aria-label":"Send message",children:Y.jsx(oNe,{})})}),Y.jsx(Rw,{children:Y.jsx(Ode,{children:Y.jsx(Lde,{children:Y.jsxs(mde,{onFileAccept:r=>n(r.files),children:[Y.jsx(Tde,{}),Y.jsx(bde,{asChild:!0,children:Y.jsxs(ym,{variant:"outline",size:"sm",children:[Y.jsx(aNe,{})," Send file"]})}),Y.jsx(Ede,{files:e,showSize:!0,clearable:!0})]})})})})]}),cNe=({data:t})=>t?Y.jsxs(Nde,{value:t.progress,maxW:"sm",children:[Y.jsxs(Fde,{children:[t.title,": ",t.bitrate,"kb/s"]}),Y.jsxs(_j,{gap:"5",children:[Y.jsx(Ude,{flex:"1",children:Y.jsx(zde,{})}),Y.jsxs(Bde,{children:[t.progress,"%"]})]})]}):Y.jsx(Y.Fragment,{}),uNe=({typingPeers:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState("");return N.useEffect(()=>{const s=Array.from(t).map(a=>As.actions.targetPeerNickname(a)),o=s.length;if(o>0){let a="";o===1?a=`${s[0]} is typing`:o===2?a=`${s[0]} and ${s[1]} are typing`:a=`${s[0]} and ${o-1} others are typing`,i(a),n(!0)}else{const a=setTimeout(()=>n(!1),300);return()=>clearTimeout(a)}},[t]),e?Y.jsxs(Do,{mt:1,ml:5,opacity:t.size>0?1:0,transition:"opacity 0.3s ease-in-out",children:[Y.jsxs(_j,{children:[Y.jsx(_m,{fontSize:"sm",color:"gray.500",children:r}),Y.jsxs(Do,{display:"flex",alignItems:"center",children:[Y.jsx(Do,{as:"span",width:"4px",height:"4px",bg:"gray.500",borderRadius:"full",mx:"1px",animation:"typingDot 1s infinite",animationDelay:"0s"}),Y.jsx(Do,{as:"span",width:"4px",height:"4px",bg:"gray.500",borderRadius:"full",mx:"1px",animation:"typingDot 1s infinite",animationDelay:"0.2s"}),Y.jsx(Do,{as:"span",width:"4px",height:"4px",bg:"gray.500",borderRadius:"full",mx:"1px",animation:"typingDot 1s infinite",animationDelay:"0.4s"})]})]}),Y.jsx("style",{children:`
          @keyframes typingDot {
            0% { transform: translateY(0); opacity: 0.3; }
            20% { transform: translateY(-3px); opacity: 1; }
            40% { transform: translateY(0); opacity: 0.3; }
            100% { transform: translateY(0); opacity: 0.3; }
          }
        `})]}):null},dNe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState(""),[o,a]=N.useState(new Set),[l,c]=N.useState(null),u=N.useCallback(x=>{window.DOCUMENT_VISIBLE||(window.SCROLL_TO_BOTTOM=!1,V0e(`New message from: ${vy(x.peerId)}`)),e(y=>[...y,x])},[]),d=N.useCallback(x=>{c(x),x.progress===100&&setTimeout(()=>{c(y=>(y==null?void 0:y.progress)===100?null:y)},1e3)},[]),f=N.useCallback(x=>{a(y=>{const b=new Set([...y]);return x.typing?b.add(x.peerId):b.delete(x.peerId),b})},[]);N.useEffect(()=>{u&&d&&f&&(As.actions.onCompleteData=u,As.actions.onFileProgress=d,As.actions.onTyping=f)},[u,f,d]);function m(x){s(x.target.value),As.actions.emitTypingEvent()}function v(x){x.key==="Enter"&&(x.preventDefault(),w())}function w(){if(i.length>0&&(As.actions.sendText(i),u({data:i,peerId:Vx,nickname:""}),s("")),n.length>0){for(const x of n)As.actions.sendFile(x).then(()=>{const y=URL.createObjectURL(x);u({data:{url:y,fileName:x.name,fileSize:x.size,fileType:x.type},peerId:Vx,nickname:""})});r([])}}return Y.jsxs(XT,{width:"100%",children:[Y.jsx(sNe,{messages:t}),Y.jsxs(OE,{marginTop:"1vh",children:[Y.jsx(lNe,{onClick:w,files:n,setFiles:r}),Y.jsx(lO,{onKeyDown:v,value:i,onChange:m,onPaste:x=>r([...x.clipboardData.files])}),Y.jsx(ym,{marginLeft:"5",onClick:w,"aria-label":"Send message",children:Y.jsx(Jfe,{})})]}),Y.jsx(OE,{children:Y.jsx(cNe,{data:l})}),Y.jsx(uNe,{typingPeers:o})]})},fNe=()=>Y.jsx("div",{children:Y.jsxs("h1",{children:[Y.jsx("b",{children:"Error 404"})," Not Found"]})}),hNe=XQ(EQ(Y.jsxs(NS,{element:Y.jsx(tNe,{}),children:[Y.jsx(NS,{index:!0,element:Y.jsx(dNe,{})}),Y.jsx(NS,{path:"*",element:Y.jsx(fNe,{})})]})));function pNe(){const[t,e]=N.useState(Yq);return Y.jsx(Xq.Provider,{value:{userData:t,setUserData:e},children:Y.jsx(oJ,{router:hNe})})}var vo=function(){return vo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vo.apply(this,arguments)};function xw(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Br="-ms-",yx="-moz-",fr="-webkit-",Kq="comm",lM="rule",VD="decl",mNe="@import",Zq="@keyframes",gNe="@layer",Qq=Math.abs,GD=String.fromCharCode,K2=Object.assign;function vNe(t,e){return Cs(t,0)^45?(((e<<2^Cs(t,0))<<2^Cs(t,1))<<2^Cs(t,2))<<2^Cs(t,3):0}function Jq(t){return t.trim()}function Rd(t,e){return(t=e.exec(t))?t[0]:t}function Nn(t,e,n){return t.replace(e,n)}function fE(t,e,n){return t.indexOf(e,n)}function Cs(t,e){return t.charCodeAt(e)|0}function Ay(t,e,n){return t.slice(e,n)}function gu(t){return t.length}function eK(t){return t.length}function q_(t,e){return e.push(t),t}function yNe(t,e){return t.map(e).join("")}function uV(t,e){return t.filter(function(n){return!Rd(n,e)})}var cM=1,Py=1,tK=0,Ol=0,es=0,Zy="";function uM(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:cM,column:Py,length:o,return:"",siblings:a}}function rh(t,e){return K2(uM("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Rv(t){for(;t.root;)t=rh(t.root,{children:[t]});q_(t,t.siblings)}function _Ne(){return es}function xNe(){return es=Ol>0?Cs(Zy,--Ol):0,Py--,es===10&&(Py=1,cM--),es}function Tc(){return es=Ol<tK?Cs(Zy,Ol++):0,Py++,es===10&&(Py=1,cM++),es}function pm(){return Cs(Zy,Ol)}function hE(){return Ol}function dM(t,e){return Ay(Zy,t,e)}function Z2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wNe(t){return cM=Py=1,tK=gu(Zy=t),Ol=0,[]}function bNe(t){return Zy="",t}function kR(t){return Jq(dM(Ol-1,Q2(t===91?t+2:t===40?t+1:t)))}function SNe(t){for(;(es=pm())&&es<33;)Tc();return Z2(t)>2||Z2(es)>3?"":" "}function ENe(t,e){for(;--e&&Tc()&&!(es<48||es>102||es>57&&es<65||es>70&&es<97););return dM(t,hE()+(e<6&&pm()==32&&Tc()==32))}function Q2(t){for(;Tc();)switch(es){case t:return Ol;case 34:case 39:t!==34&&t!==39&&Q2(es);break;case 40:t===41&&Q2(t);break;case 92:Tc();break}return Ol}function TNe(t,e){for(;Tc()&&t+es!==57;)if(t+es===84&&pm()===47)break;return"/*"+dM(e,Ol-1)+"*"+GD(t===47?t:Tc())}function CNe(t){for(;!Z2(pm());)Tc();return dM(t,Ol)}function MNe(t){return bNe(pE("",null,null,null,[""],t=wNe(t),0,[0],t))}function pE(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,m=0,v=0,w=1,x=1,y=1,b=0,S="",T=i,C=s,M=r,I=S;x;)switch(v=b,b=Tc()){case 40:if(v!=108&&Cs(I,d-1)==58){fE(I+=Nn(kR(b),"&","&\f"),"&\f",Qq(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:I+=kR(b);break;case 9:case 10:case 13:case 32:I+=SNe(v);break;case 92:I+=ENe(hE()-1,7);continue;case 47:switch(pm()){case 42:case 47:q_(ANe(TNe(Tc(),hE()),e,n,l),l);break;default:I+="/"}break;case 123*w:a[c++]=gu(I)*y;case 125*w:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:y==-1&&(I=Nn(I,/\f/g,"")),m>0&&gu(I)-d&&q_(m>32?fV(I+";",r,n,d-1,l):fV(Nn(I," ","")+";",r,n,d-2,l),l);break;case 59:I+=";";default:if(q_(M=dV(I,e,n,c,u,i,a,S,T=[],C=[],d,s),s),b===123)if(u===0)pE(I,e,M,M,T,s,d,a,C);else switch(f===99&&Cs(I,3)===110?100:f){case 100:case 108:case 109:case 115:pE(t,M,M,r&&q_(dV(t,M,M,0,0,i,a,S,i,T=[],d,C),C),i,C,d,a,r?T:C);break;default:pE(I,M,M,M,[""],C,0,a,C)}}c=u=m=0,w=y=1,S=I="",d=o;break;case 58:d=1+gu(I),m=v;default:if(w<1){if(b==123)--w;else if(b==125&&w++==0&&xNe()==125)continue}switch(I+=GD(b),b*w){case 38:y=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(gu(I)-1)*y,y=1;break;case 64:pm()===45&&(I+=kR(Tc())),f=pm(),u=d=gu(S=I+=CNe(hE())),b++;break;case 45:v===45&&gu(I)==2&&(w=0)}}return s}function dV(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,m=i===0?s:[""],v=eK(m),w=0,x=0,y=0;w<r;++w)for(var b=0,S=Ay(t,f+1,f=Qq(x=o[w])),T=t;b<v;++b)(T=Jq(x>0?m[b]+" "+S:Nn(S,/&\f/g,m[b])))&&(l[y++]=T);return uM(t,e,n,i===0?lM:a,l,c,u,d)}function ANe(t,e,n,r){return uM(t,e,n,Kq,GD(_Ne()),Ay(t,2,-2),0,r)}function fV(t,e,n,r,i){return uM(t,e,n,VD,Ay(t,0,r),Ay(t,r+1,-1),r,i)}function nK(t,e,n){switch(vNe(t,e)){case 5103:return fr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fr+t+t;case 4789:return yx+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fr+t+yx+t+Br+t+t;case 5936:switch(Cs(t,e+11)){case 114:return fr+t+Br+Nn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fr+t+Br+Nn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fr+t+Br+Nn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return fr+t+Br+t+t;case 6165:return fr+t+Br+"flex-"+t+t;case 5187:return fr+t+Nn(t,/(\w+).+(:[^]+)/,fr+"box-$1$2"+Br+"flex-$1$2")+t;case 5443:return fr+t+Br+"flex-item-"+Nn(t,/flex-|-self/g,"")+(Rd(t,/flex-|baseline/)?"":Br+"grid-row-"+Nn(t,/flex-|-self/g,""))+t;case 4675:return fr+t+Br+"flex-line-pack"+Nn(t,/align-content|flex-|-self/g,"")+t;case 5548:return fr+t+Br+Nn(t,"shrink","negative")+t;case 5292:return fr+t+Br+Nn(t,"basis","preferred-size")+t;case 6060:return fr+"box-"+Nn(t,"-grow","")+fr+t+Br+Nn(t,"grow","positive")+t;case 4554:return fr+Nn(t,/([^-])(transform)/g,"$1"+fr+"$2")+t;case 6187:return Nn(Nn(Nn(t,/(zoom-|grab)/,fr+"$1"),/(image-set)/,fr+"$1"),t,"")+t;case 5495:case 3959:return Nn(t,/(image-set\([^]*)/,fr+"$1$`$1");case 4968:return Nn(Nn(t,/(.+:)(flex-)?(.*)/,fr+"box-pack:$3"+Br+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fr+t+t;case 4200:if(!Rd(t,/flex-|baseline/))return Br+"grid-column-align"+Ay(t,e)+t;break;case 2592:case 3360:return Br+Nn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Rd(r.props,/grid-\w+-end/)})?~fE(t+(n=n[e].value),"span",0)?t:Br+Nn(t,"-start","")+t+Br+"grid-row-span:"+(~fE(n,"span",0)?Rd(n,/\d+/):+Rd(n,/\d+/)-+Rd(t,/\d+/))+";":Br+Nn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Rd(r.props,/grid-\w+-start/)})?t:Br+Nn(Nn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Nn(t,/(.+)-inline(.+)/,fr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gu(t)-1-e>6)switch(Cs(t,e+1)){case 109:if(Cs(t,e+4)!==45)break;case 102:return Nn(t,/(.+:)(.+)-([^]+)/,"$1"+fr+"$2-$3$1"+yx+(Cs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fE(t,"stretch",0)?nK(Nn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Nn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Br+i+":"+s+c+(o?Br+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Cs(t,e+6)===121)return Nn(t,":",":"+fr)+t;break;case 6444:switch(Cs(t,Cs(t,14)===45?18:11)){case 120:return Nn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fr+(Cs(t,14)===45?"inline-":"")+"box$3$1"+fr+"$2$3$1"+Br+"$2box$3")+t;case 100:return Nn(t,":",":"+Br)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Nn(t,"scroll-","scroll-snap-")+t}return t}function MT(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function PNe(t,e,n,r){switch(t.type){case gNe:if(t.children.length)break;case mNe:case VD:return t.return=t.return||t.value;case Kq:return"";case Zq:return t.return=t.value+"{"+MT(t.children,r)+"}";case lM:if(!gu(t.value=t.props.join(",")))return""}return gu(n=MT(t.children,r))?t.return=t.value+"{"+n+"}":""}function RNe(t){var e=eK(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function INe(t){return function(e){e.root||(e=e.return)&&t(e)}}function kNe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case VD:t.return=nK(t.value,t.length,n);return;case Zq:return MT([rh(t,{value:Nn(t.value,"@","@"+fr)})],r);case lM:if(t.length)return yNe(n=t.props,function(i){switch(Rd(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Rv(rh(t,{props:[Nn(i,/:(read-\w+)/,":"+yx+"$1")]})),Rv(rh(t,{props:[i]})),K2(t,{props:uV(n,r)});break;case"::placeholder":Rv(rh(t,{props:[Nn(i,/:(plac\w+)/,":"+fr+"input-$1")]})),Rv(rh(t,{props:[Nn(i,/:(plac\w+)/,":"+yx+"$1")]})),Rv(rh(t,{props:[Nn(i,/:(plac\w+)/,Br+"input-$1")]})),Rv(rh(t,{props:[i]})),K2(t,{props:uV(n,r)});break}return""})}}var ONe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ua={},Ry=typeof process<"u"&&Ua!==void 0&&(Ua.REACT_APP_SC_ATTR||Ua.SC_ATTR)||"data-styled",rK="active",iK="data-styled-version",fM="6.1.15",HD=`/*!sc*/
`,AT=typeof window<"u"&&"HTMLElement"in window,LNe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ua!==void 0&&Ua.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ua.REACT_APP_SC_DISABLE_SPEEDY!==""?Ua.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ua.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ua!==void 0&&Ua.SC_DISABLE_SPEEDY!==void 0&&Ua.SC_DISABLE_SPEEDY!==""&&Ua.SC_DISABLE_SPEEDY!=="false"&&Ua.SC_DISABLE_SPEEDY),DNe={},hM=Object.freeze([]),Iy=Object.freeze({});function sK(t,e,n){return n===void 0&&(n=Iy),t.theme!==n.theme&&t.theme||e||n.theme}var oK=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),NNe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,FNe=/(^-|-$)/g;function hV(t){return t.replace(NNe,"-").replace(FNe,"")}var UNe=/(a)(d)/gi,OS=52,pV=function(t){return String.fromCharCode(t+(t>25?39:97))};function J2(t){var e,n="";for(e=Math.abs(t);e>OS;e=e/OS|0)n=pV(e%OS)+n;return(pV(e%OS)+n).replace(UNe,"$1-$2")}var OR,aK=5381,Wv=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},lK=function(t){return Wv(aK,t)};function cK(t){return J2(lK(t)>>>0)}function zNe(t){return t.displayName||t.name||"Component"}function LR(t){return typeof t=="string"&&!0}var uK=typeof Symbol=="function"&&Symbol.for,dK=uK?Symbol.for("react.memo"):60115,BNe=uK?Symbol.for("react.forward_ref"):60112,VNe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GNe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},HNe=((OR={})[BNe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OR[dK]=fK,OR);function mV(t){return("type"in(e=t)&&e.type.$$typeof)===dK?fK:"$$typeof"in t?HNe[t.$$typeof]:VNe;var e}var WNe=Object.defineProperty,jNe=Object.getOwnPropertyNames,gV=Object.getOwnPropertySymbols,$Ne=Object.getOwnPropertyDescriptor,YNe=Object.getPrototypeOf,vV=Object.prototype;function hK(t,e,n){if(typeof e!="string"){if(vV){var r=YNe(e);r&&r!==vV&&hK(t,r,n)}var i=jNe(e);gV&&(i=i.concat(gV(e)));for(var s=mV(t),o=mV(e),a=0;a<i.length;++a){var l=i[a];if(!(l in GNe||n&&n[l]||o&&l in o||s&&l in s)){var c=$Ne(e,l);try{WNe(t,l,c)}catch{}}}}return t}function ky(t){return typeof t=="function"}function WD(t){return typeof t=="object"&&"styledComponentId"in t}function rm(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ek(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ww(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function tk(t,e,n){if(n===void 0&&(n=!1),!n&&!ww(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=tk(t[r],e[r]);else if(ww(e))for(var r in e)t[r]=tk(t[r],e[r]);return t}function jD(t,e){Object.defineProperty(t,"toString",{value:e})}function ab(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var XNe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ab(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(HD);return n},t}(),mE=new Map,PT=new Map,gE=1,LS=function(t){if(mE.has(t))return mE.get(t);for(;PT.has(gE);)gE++;var e=gE++;return mE.set(t,e),PT.set(e,t),e},qNe=function(t,e){gE=e+1,mE.set(t,e),PT.set(e,t)},KNe="style[".concat(Ry,"][").concat(iK,'="').concat(fM,'"]'),ZNe=new RegExp("^".concat(Ry,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),QNe=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},JNe=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(HD),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(ZNe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(qNe(u,c),QNe(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},yV=function(t){for(var e=document.querySelectorAll(KNe),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Ry)!==rK&&(JNe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function e3e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pK=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ry,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ry,rK),r.setAttribute(iK,fM);var o=e3e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},t3e=function(){function t(e){this.element=pK(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ab(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),n3e=function(){function t(e){this.element=pK(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),r3e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),_V=AT,i3e={isServer:!AT,useCSSOMInjection:!LNe},RT=function(){function t(e,n,r){e===void 0&&(e=Iy),n===void 0&&(n={});var i=this;this.options=vo(vo({},i3e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&AT&&_V&&(_V=!1,yV(this)),jD(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(y){return PT.get(y)}(d);if(f===void 0)return"continue";var m=s.names.get(f),v=o.getGroup(d);if(m===void 0||!m.size||v.length===0)return"continue";var w="".concat(Ry,".g").concat(d,'[id="').concat(f,'"]'),x="";m!==void 0&&m.forEach(function(y){y.length>0&&(x+="".concat(y,","))}),l+="".concat(v).concat(w,'{content:"').concat(x,'"}').concat(HD)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return LS(e)},t.prototype.rehydrate=function(){!this.server&&AT&&yV(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(vo(vo({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new r3e(i):r?new t3e(i):new n3e(i)}(this.options),new XNe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(LS(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(LS(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(LS(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),s3e=/&/g,o3e=/^\s*\/\/.*$/gm;function mK(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=mK(n.children,e)),n})}function a3e(t){var e,n,r,i=Iy,s=i.options,o=s===void 0?Iy:s,a=i.plugins,l=a===void 0?hM:a,c=function(f,m,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===lM&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(s3e,n).replace(r,c))}),o.prefix&&u.push(kNe),u.push(PNe);var d=function(f,m,v,w){m===void 0&&(m=""),v===void 0&&(v=""),w===void 0&&(w="&"),e=w,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var x=f.replace(o3e,""),y=MNe(v||m?"".concat(v," ").concat(m," { ").concat(x," }"):x);o.namespace&&(y=mK(y,o.namespace));var b=[];return MT(y,RNe(u.concat(INe(function(S){return b.push(S)})))),b};return d.hash=l.length?l.reduce(function(f,m){return m.name||ab(15),Wv(f,m.name)},aK).toString():"",d}var l3e=new RT,nk=a3e(),gK=ts.createContext({shouldForwardProp:void 0,styleSheet:l3e,stylis:nk});gK.Consumer;ts.createContext(void 0);function rk(){return N.useContext(gK)}var c3e=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=nk);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,jD(this,function(){throw ab(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=nk),this.name+e.hash},t}(),u3e=function(t){return t>="A"&&t<="Z"};function xV(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;u3e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var vK=function(t){return t==null||t===!1||t===""},yK=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!vK(s)&&(Array.isArray(s)&&s.isCss||ky(s)?r.push("".concat(xV(i),":"),s,";"):ww(s)?r.push.apply(r,xw(xw(["".concat(i," {")],yK(s),!1),["}"],!1)):r.push("".concat(xV(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in ONe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function _h(t,e,n,r){if(vK(t))return[];if(WD(t))return[".".concat(t.styledComponentId)];if(ky(t)){if(!ky(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return _h(i,e,n,r)}var s;return t instanceof c3e?n?(t.inject(n,r),[t.getName(r)]):[t]:ww(t)?yK(t):Array.isArray(t)?Array.prototype.concat.apply(hM,t.map(function(o){return _h(o,e,n,r)})):[t.toString()]}function _K(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ky(n)&&!WD(n))return!1}return!0}var d3e=lK(fM),f3e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&_K(e),this.componentId=n,this.baseHash=Wv(d3e,n),this.baseStyle=r,RT.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=rm(i,this.staticRulesId);else{var s=ek(_h(this.rules,e,n,r)),o=J2(Wv(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=rm(i,o),this.staticRulesId=o}else{for(var l=Wv(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=ek(_h(d,e,n,r));l=Wv(l,f+u),c+=f}}if(c){var m=J2(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=rm(i,m)}}return i},t}(),$D=ts.createContext(void 0);$D.Consumer;var DR={};function h3e(t,e,n){var r=WD(t),i=t,s=!LR(t),o=e.attrs,a=o===void 0?hM:o,l=e.componentId,c=l===void 0?function(T,C){var M=typeof T!="string"?"sc":hV(T);DR[M]=(DR[M]||0)+1;var I="".concat(M,"-").concat(cK(fM+M+DR[M]));return C?"".concat(C,"-").concat(I):I}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(T){return LR(T)?"styled.".concat(T):"Styled(".concat(zNe(T),")")}(t):u,f=e.displayName&&e.componentId?"".concat(hV(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var w=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;v=function(T,C){return w(T,C)&&x(T,C)}}else v=w}var y=new f3e(n,f,r?i.componentStyle:void 0);function b(T,C){return function(M,I,O){var R=M.attrs,D=M.componentStyle,j=M.defaultProps,$=M.foldedComponentIds,B=M.styledComponentId,Q=M.target,ne=ts.useContext($D),K=rk(),V=M.shouldForwardProp||K.shouldForwardProp,G=sK(I,ne,j)||Iy,W=function(le,fe,ye){for(var se,ve=vo(vo({},fe),{className:void 0,theme:ye}),Se=0;Se<le.length;Se+=1){var pe=ky(se=le[Se])?se(ve):se;for(var Z in pe)ve[Z]=Z==="className"?rm(ve[Z],pe[Z]):Z==="style"?vo(vo({},ve[Z]),pe[Z]):pe[Z]}return fe.className&&(ve.className=rm(ve.className,fe.className)),ve}(R,I,G),F=W.as||Q,U={};for(var q in W)W[q]===void 0||q[0]==="$"||q==="as"||q==="theme"&&W.theme===G||(q==="forwardedAs"?U.as=W.forwardedAs:V&&!V(q,F)||(U[q]=W[q]));var te=function(le,fe){var ye=rk(),se=le.generateAndInjectStyles(fe,ye.styleSheet,ye.stylis);return se}(D,W),re=rm($,B);return te&&(re+=" "+te),W.className&&(re+=" "+W.className),U[LR(F)&&!oK.has(F)?"class":"className"]=re,O&&(U.ref=O),N.createElement(F,U)}(S,T,C)}b.displayName=d;var S=ts.forwardRef(b);return S.attrs=m,S.componentStyle=y,S.displayName=d,S.shouldForwardProp=v,S.foldedComponentIds=r?rm(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=f,S.target=r?i.target:t,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?function(C){for(var M=[],I=1;I<arguments.length;I++)M[I-1]=arguments[I];for(var O=0,R=M;O<R.length;O++)tk(C,R[O],!0);return C}({},i.defaultProps,T):T}}),jD(S,function(){return".".concat(S.styledComponentId)}),s&&hK(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function wV(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var bV=function(t){return Object.assign(t,{isCss:!0})};function xK(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ky(t)||ww(t))return bV(_h(wV(hM,xw([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?_h(r):bV(_h(wV(r,e)))}function ik(t,e,n){if(n===void 0&&(n=Iy),!e)throw ab(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,xK.apply(void 0,xw([i],s,!1)))};return r.attrs=function(i){return ik(t,e,vo(vo({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return ik(t,e,vo(vo({},n),i))},r}var wK=function(t){return ik(h3e,t)},p3e=wK;oK.forEach(function(t){p3e[t]=wK(t)});var m3e=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=_K(e),RT.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(ek(_h(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&RT.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function g3e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=xK.apply(void 0,xw([t],e,!1)),i="sc-global-".concat(cK(JSON.stringify(r))),s=new m3e(r,i),o=function(l){var c=rk(),u=ts.useContext($D),d=ts.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(d,l,c.styleSheet,u,c.stylis),ts.useLayoutEffect(function(){if(!c.styleSheet.server)return a(d,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(d,c.styleSheet)}},[d,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,d,f){if(s.isStatic)s.renderStyles(l,DNe,u,f);else{var m=vo(vo({},c),{theme:sK(c,d,o.defaultProps)});s.renderStyles(l,m,u,f)}}return ts.memo(o)}const v3e=g3e`
    #root {
        width: 100vw;
        height: 100vh;
    }
    
    //@media all and (display-mode: standalone) {
    //    body {
    //        margin-top: 50px;
    //    }
    //}
`;function y3e(t){return Y.jsx(cee,{value:Iue,children:Y.jsx(the,{...t})})}var kt={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:typeof window<"u"&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){kt.supportsPassive=!0}})}catch{}function _3e(t){if(!t.ptrElement){var e=document.createElement("div");t.mainElement!==document.body?t.mainElement.parentNode.insertBefore(e,t.mainElement):document.body.insertBefore(e,document.body.firstChild),e.classList.add(t.classPrefix+"ptr"),e.innerHTML=t.getMarkup().replace(/__PREFIX__/g,t.classPrefix),t.ptrElement=e,typeof t.onInit=="function"&&t.onInit(t),kt.styleEl||(kt.styleEl=document.createElement("style"),kt.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(kt.styleEl)),kt.styleEl.textContent=t.getStyles().replace(/__PREFIX__/g,t.classPrefix).replace(/\s+/g," ")}return t}function x3e(t){t.ptrElement&&(t.ptrElement.classList.remove(t.classPrefix+"refresh"),t.ptrElement.style[t.cssProp]="0px",setTimeout(function(){t.ptrElement&&t.ptrElement.parentNode&&(t.ptrElement.parentNode.removeChild(t.ptrElement),t.ptrElement=null),kt.state="pending"},t.refreshTimeout))}function w3e(t){var e=t.ptrElement.querySelector("."+t.classPrefix+"icon"),n=t.ptrElement.querySelector("."+t.classPrefix+"text");e&&(kt.state==="refreshing"?e.innerHTML=t.iconRefreshing:e.innerHTML=t.iconArrow),n&&(kt.state==="releasing"&&(n.innerHTML=t.instructionsReleaseToRefresh),(kt.state==="pulling"||kt.state==="pending")&&(n.innerHTML=t.instructionsPullToRefresh),kt.state==="refreshing"&&(n.innerHTML=t.instructionsRefreshing))}var za={setupDOM:_3e,onReset:x3e,update:w3e},SV,NR=function(e){return kt.pointerEventsEnabled&&kt.supportsPointerEvents?e.screenY:e.touches[0].screenY},bK=function(){var t;function e(o){var a=kt.handlers.filter(function(l){return l.contains(o.target)})[0];kt.enable=!!a,a&&kt.state==="pending"&&(t=za.setupDOM(a),a.shouldPullToRefresh()&&(kt.pullStartY=NR(o)),clearTimeout(kt.timeout),za.update(a))}function n(o){if(t&&t.ptrElement&&kt.enable){if(kt.pullStartY?kt.pullMoveY=NR(o):t.shouldPullToRefresh()&&(kt.pullStartY=NR(o)),kt.state==="refreshing"){o.cancelable&&t.shouldPullToRefresh()&&kt.pullStartY<kt.pullMoveY&&o.preventDefault();return}kt.state==="pending"&&(t.ptrElement.classList.add(t.classPrefix+"pull"),kt.state="pulling",za.update(t)),kt.pullStartY&&kt.pullMoveY&&(kt.dist=kt.pullMoveY-kt.pullStartY),kt.distExtra=kt.dist-t.distIgnore,kt.distExtra>0&&(o.cancelable&&o.preventDefault(),t.ptrElement.style[t.cssProp]=kt.distResisted+"px",kt.distResisted=t.resistanceFunction(kt.distExtra/t.distThreshold)*Math.min(t.distMax,kt.distExtra),kt.state==="pulling"&&kt.distResisted>t.distThreshold&&(t.ptrElement.classList.add(t.classPrefix+"release"),kt.state="releasing",za.update(t)),kt.state==="releasing"&&kt.distResisted<t.distThreshold&&(t.ptrElement.classList.remove(t.classPrefix+"release"),kt.state="pulling",za.update(t)))}}function r(){if(t&&t.ptrElement&&kt.enable){if(clearTimeout(SV),SV=setTimeout(function(){t&&t.ptrElement&&kt.state==="pending"&&za.onReset(t)},500),kt.state==="releasing"&&kt.distResisted>t.distThreshold)kt.state="refreshing",t.ptrElement.style[t.cssProp]=t.distReload+"px",t.ptrElement.classList.add(t.classPrefix+"refresh"),kt.timeout=setTimeout(function(){var o=t.onRefresh(function(){return za.onReset(t)});o&&typeof o.then=="function"&&o.then(function(){return za.onReset(t)}),!o&&!t.onRefresh.length&&za.onReset(t)},t.refreshTimeout);else{if(kt.state==="refreshing")return;t.ptrElement.style[t.cssProp]="0px",kt.state="pending"}za.update(t),t.ptrElement.classList.remove(t.classPrefix+"release"),t.ptrElement.classList.remove(t.classPrefix+"pull"),kt.pullStartY=kt.pullMoveY=null,kt.dist=kt.distResisted=0}}function i(){t&&t.mainElement.classList.toggle(t.classPrefix+"top",t.shouldPullToRefresh())}var s=kt.supportsPassive?{passive:kt.passive||!1}:void 0;return kt.pointerEventsEnabled&&kt.supportsPointerEvents?(window.addEventListener("pointerup",r),window.addEventListener("pointerdown",e),window.addEventListener("pointermove",n,s)):(window.addEventListener("touchend",r),window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,s)),window.addEventListener("scroll",i),{onTouchEnd:r,onTouchStart:e,onTouchMove:n,onScroll:i,destroy:function(){kt.pointerEventsEnabled&&kt.supportsPointerEvents?(window.removeEventListener("pointerdown",e),window.removeEventListener("pointerup",r),window.removeEventListener("pointermove",n,s)):(window.removeEventListener("touchstart",e),window.removeEventListener("touchend",r),window.removeEventListener("touchmove",n,s)),window.removeEventListener("scroll",i)}}},b3e=`
<div class="__PREFIX__box">
  <div class="__PREFIX__content">
    <div class="__PREFIX__icon"></div>
    <div class="__PREFIX__text"></div>
  </div>
</div>
`,S3e=`
.__PREFIX__ptr {
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);
  pointer-events: none;
  font-size: 0.85em;
  font-weight: bold;
  top: 0;
  height: 0;
  transition: height 0.3s, min-height 0.3s;
  text-align: center;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  align-content: stretch;
}

.__PREFIX__box {
  padding: 10px;
  flex-basis: 100%;
}

.__PREFIX__pull {
  transition: none;
}

.__PREFIX__text {
  margin-top: .33em;
  color: rgba(0, 0, 0, 0.3);
}

.__PREFIX__icon {
  color: rgba(0, 0, 0, 0.3);
  transition: transform .3s;
}

/*
When at the top of the page, disable vertical overscroll so passive touch
listeners can take over.
*/
.__PREFIX__top {
  touch-action: pan-x pan-down pinch-zoom;
}

.__PREFIX__release .__PREFIX__icon {
  transform: rotate(180deg);
}
`,FR={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return b3e},getStyles:function(){return S3e},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(t){return Math.min(1,t/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},E3e=["mainElement","ptrElement","triggerElement"],EV=function(t){var e={};return Object.keys(FR).forEach(function(n){e[n]=t[n]||FR[n]}),e.refreshTimeout=typeof t.refreshTimeout=="number"?t.refreshTimeout:FR.refreshTimeout,E3e.forEach(function(n){typeof e[n]=="string"&&(e[n]=document.querySelector(e[n]))}),kt.events||(kt.events=bK()),e.contains=function(n){return e.triggerElement.contains(n)},e.destroy=function(){clearTimeout(kt.timeout);var n=kt.handlers.indexOf(e);kt.handlers.splice(n,1)},e},T3e={setPassiveMode:function(e){kt.passive=e},setPointerEventsMode:function(e){kt.pointerEventsEnabled=e},destroyAll:function(){kt.events&&(kt.events.destroy(),kt.events=null),kt.handlers.forEach(function(e){e.destroy()})},init:function(e){e===void 0&&(e={});var n=EV(e);return kt.handlers.push(n),n},_:{setupHandler:EV,setupEvents:bK,setupDOM:za.setupDOM,onReset:za.onReset,update:za.update}};const C3e=window.matchMedia("(display-mode: standalone)").matches;C3e&&T3e.init({onRefresh(){window.location.reload()}});DG.createRoot(document.getElementById("root")).render(Y.jsxs(y3e,{children:[Y.jsx(v3e,{}),Y.jsx(pNe,{})]}));
